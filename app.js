/*!
 * Copyright (c) 2015-2018, NVIDIA CORPORATION.  All rights reserved.
 *
 * NVIDIA CORPORATION and its licensors retain all intellectual property
 * and proprietary rights in and to this software, related documentation
 * and any modifications thereto.  Any use, reproduction, disclosure or
 * distribution of this software and related documentation without an express
 * license agreement from NVIDIA CORPORATION is strictly prohibited.
 */
webpackJsonp([4],[function(e,t,n){"use strict";n(328);var r=n(187);n(327),n(282),n(343),r.ngMainModule.run(["appService",function(e){e.main()}])},,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ngUserProfileModule=void 0;var r=n(1),i=n(53),o=(n(4),angular.module("main.userProfile",[r.ngMainCommonModule.name,i.ngRewardsModule.name,"main.share.common","ngResource","ui.router","pascalprecht.translate","ngSanitize","ngEventAggregator","nvCroppieModule","main.preferences"]));o.constant("SWEEPSTAKE_EVENTS",{TOKENS_ENTERED_CHANGED:"TOKENS_ENTERED_CHANGED"}),o.constant("SWEEPSTAKE_DIALOG_STATES",{GIVEAWAY_DETAILS:"GIVEAWAY_DETAILS",OFFICIAL_RULES:"OFFICIAL_RULES",INFO_NOT_AVAILABLE:"INFO_NOT_AVAILABLE",EDIT_STAKES:"EDIT_STAKES",REVIEW_STAKES:"REVIEW_STAKES",OVERLAY_LOADING:"OVERLAY_LOADING",OVERLAY_SUCCESS:"OVERLAY_SUCCESS",OVERLAY_ERROR:"OVERLAY_ERROR"}).constant("ANALYTICS_STATE",{ANALYTICS_PROGRESS:0,ANALYTICS_SUCCESS:1,ANALYTICS_EMPTY_STATE:2,ANALYTICS_ERROR_STATE:3}).constant("PROFILE_EVENTS",{BADGES_UPDATED:"main.profile.badgesUpdated",MISSIONS_REFRESHED:"main.profile.missions.refreshed",ACTIVITY_LOG_REFRESHED:"main.profile.activity.log.refreshed",CURRENT_GIVEAWAY_REFRESHED:"main.profile.current.giveaway.refreshed",XP_LEVEL_REFRESHED:"main.profile.xp.level.refreshed",ALL_USER_ACHIEVEMENTS_REFRESHED:"main.profile.achievements.refreshed",GIVEAWAY_ENTRY_DETAILS_REFRESHED:"main.profile.giveaway.entry.details.refreshed"}).constant("IMAGE_UPDATE_STATE",{NOT_CHNAGED:"profile.image.not.changed",AVATAR_UPDATE_STARTED:"profile.avatar.update.started",AVATAR_UPDATE_SUCCESSFULL:"profile.avatar.update.successfull",AVATAR_UPDATE_FAILED:"profile.avatar.update.failed",AVATAR_UPDATE_STALE:"profile.avatar.stale",COVER_UPDATE_STARTED:"profile.cover.update.started",COVER_UPDATE_SUCCESSFULL:"profile.cover.update.successfull",COVER_UPDATE_FAILED:"profile.cover.update.failed",COVER_UPDATE_STALE:"profile.cover.stale"}).constant("MISSION_TYPE",{FEATURED_MISSION:"FEATURED_MISSION",REGULAR_MISSION:"REGULAR_MISSION",TOKEN_MISSION:"TOKEN_MISSION"}).constant("MISSION_CONSTANTS",{TRUE:1,FALSE:0}).constant("LEVELS",{SILVER:1,GOLD:2,TITANIUM:3,MAX_LEVEL:3}),t.ngUserProfileModule=o},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvOverlay=void 0;var r=n(1).ngMainCommonModule.directive("nvOverlay",[function(){return{restrict:"E",transclude:!0,scope:{nvPosition:"@"},template:"<ng-transclude flex layout layout-fill></ng-transclude>",link:function(e,t){if(e.nvPosition){var n={},r=e.nvPosition.split(" ");angular.forEach(r,(function(e){switch(e){case"bottom":n.top="auto",n.bottom=0;break;case"right":n.left="auto"}})),t.css(n)}e.$on("$destroy",(function(){t.empty(),t.remove(),t=null})),t.on("$destroy",(function(){e.$destroy()}))}}}]);t.nvOverlay=r},,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ngGalleryModule=void 0;var r=n(10),i=angular.module("main.gallery",["main.common",r.ngUpdatesModule.name]);i.constant("GAME_FILE_TYPE",{IMAGE:"screenshot",VIDEO:"video"}).constant("SHOWCASE_ORIGIN",{YOUTUBE:"youtube"}),t.ngGalleryModule=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ngGfnModule=void 0;var r=n(24),i=angular.module("main.gfn",["main.common",r.ngMainConstantsModule.name,"ngResource","ngSanitize","ngMaterial","pascalprecht.translate","angular-carousel","ngEventAggregator","ui.router"]);angular.module("main").requires.push("main.gfn"),t.ngGfnModule=i},,,,,,,function(e,t,n){e.exports=n.p+"Game-Controller.png"},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvImageFallback=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),i=n(1);n(15);var o=function(e){return e&&e.__esModule?e:{default:e}}(n(755)),a=i.ngMainCommonModule.directive("nvImageFallback",["$log","$compile","$window","$timeout",function(e,t,n,i){return{restrict:"A",link:function(a,l,s){function c(e,t){return n.getComputedStyle(e[0]).getPropertyValue(t)}function u(){y=t(o.default)(a),0!==h&&0!==b&&(y.css("height",h),y.css("width",b)),g?l.addClass("common-image-fallback-hide"):y.addClass("common-image-fallback-hide"),l.after(y)}function d(){y||u(),y.removeClass("common-image-fallback-hide"),y.find("nv-overlay").addClass("common-image-fallback-hide")}function f(){g=!1,i.cancel(E),l.removeClass("common-image-fallback-hide"),y&&(y.remove(),y=null)}function m(){g=!1,i.cancel(E),p.error("The fallback image "+l.attr("src")+" could not be loaded."),d(),v&&(l.off("error",m),l.off("load",f),l.empty(),l.remove(),l=null)}var p=e.getInstance("main.common/nvImageFallback"),g=!0,v=!("nvImageWillChange"in s),h=c(l,"height");h="auto"===h||"0px"===h?0:h;var b=c(l,"width");b="auto"===b||"0px"===b?0:b;var y,E;"nv-no-loading-indicator"===s.nvImageFallback?g=!1:"nv-we-chat-qr-code"===s.nvImageFallback?(g=!1,s.$set("src","QRCodeOfGFE.png")):"nv-default-game-art"===s.nvImageFallback&&(g=!1,s.$set("src","DefaultGameArt.png")),g&&(E=i((function(){y||u()}),500)),r.isUndefined(s.ngSrc)&&(l.addClass("common-image-fallback-hide"),d()),l.on("error",m),l.on("load",f),a.$on("$destroy",(function(){i.cancel(E),y&&(y.remove(),y=null),l&&(l.off("error",m),l.off("load",f),l.empty(),l.remove(),l=null)}))}}}]);t.nvImageFallback=a},,,,,,function(e,t,n){e.exports=n.p+"nv-custom-icons.eot"},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ngRewardsModule=void 0;var r=n(1),i=n(24),o=n(26),a=angular.module("main.rewards",[r.ngMainCommonModule.name,i.ngMainConstantsModule.name,o.ngTelemetryModule.name,"ngResource","pascalprecht.translate","ngSanitize"]);angular.module("main.rewards").constant("REWARDS_CONSTANTS",{ERROR_ICON:"error",REWARD_ICON:"card_giftcard",OFFLINE_ICON:"cloud_off",UNIFIED_REDEMPTION_ID:"217888212124697514",REWARDS_COUPONS:{CODE_LENGTH:29,CODE_LENGTH_NO_DASHES:24,CODE_DASH_LOCATIONS:{FIRST:4,SECOND:9,THIRD:14,FOURTH:19,FIFTH:24}},VALIDATION_ERRORS:{COUPONS:{NOT_FOUND:"coupons.not_found",REGIONAL_RESTRICTION:"coupons.region_restricted",HARDWARE_RESTRICTION:"coupons.hardware_restricted",NOT_ACTIVATED:"coupons.not_activated",NOT_ACTIVE:"coupons.not_active",EXPIRED:"coupons.expired",DISABLED:"coupons.disabled",REDEEMED:"coupons.already_redeemed",OUT_OF_STOCK:"coupons.out_of_stock",ALREADY_OWNED:"coupons.package_already_owned",PACKAGE_FETCH_FAILURE:"cms.package_fetch_failure",RESTRICTION:"coupons.restriction",AGE_RESTRICTION:"coupons.age_restricted",USER_RESTRICTION:"coupons.user_restricted"},PACKAGES:{MAXIMUM_OWNERSHIP_GENERIC:"packages.maximum_ownership_reached",MAXIMUM_OWNERSHIP_HARDWARE:"packages.maximum_ownership_on_hardware_reached",MAXIMUM_OWNERSHIP_USER:"packages.maximum_ownership_on_user_reached",OUT_OF_STOCK:"packages.out_of_stock",RESTRICTION:"packages.restriction",REGIONAL_RESTRICTION:"packages.region_restricted",HARDWARE_RESTRICTION:"packages.hardware_restricted",CLIENT_MESSAGE_OVERRIDE_GENERIC:"packages.client_message_override",CLIENT_MESSAGE_OVERRIDE_ONE:"packages.client_message_override_one",CLIENT_MESSAGE_OVERRIDE_TWO:"packages.client_message_override_two",CLIENT_MESSAGE_OVERRIDE_THREE:"packages.client_message_override_three",AGE_RESTRICTION:"packages.age_restricted",USER_RESTRICTION:"packages.user_restricted"}},REDEMPTION_STATES:{AVAILABLE:"AVAILABLE",LOCKED:"LOCKED",UNREDEEMED:"UNREDEEMED",UNCLAIMABLE:"UNCLAIMABLE",CLAIMABLE:"CLAIMABLE",REDEEMED:"REDEEMED",REDEEMING:"REDEEMING",EXPIRED:"EXPIRED"},PORTAL_WINDOW_WIDTH:"1000",PORTAL_WINDOW_HEIGHT:"700",MIN_SUPPORTED_DRIVER:417.01,LIMIT_TO_FILTER:{ITEMS_AT_ONCE:5,INTERVAL_LENGTH:100},REWARD_PACKAGE_TYPES:{BUNDLE:"BUNDLE",SWEEPSTAKE:"SWEEPSTAKE",MULTI_SELECT_BUNDLE:"MULTISELECTBUNDLE"}}),angular.module("main.rewards").constant("REWARDS_CAMPAIGN_STATUS",{SUCCESS:"SUCCESS",FAILURE:"FAILURE"}),angular.module("main.rewards").constant("REWARDS_ASSET_DIMENSIONS",{CARD:"360x154",DIALOG_IMAGE:"320x497",LARGE_NOTIFICATION:"456x253",SMALL_NOTIFICATION:"178x100"}),angular.module("main.rewards").constant("REWARDS_ENTITLEMENT_TYPES",{COUPON:"COUPON",AVAILABLE_REWARD:"AVAILABLE_REWARD",REDEEMED_REWARD:"REDEEMED_REWARD"}),angular.module("main.rewards").constant("PORTAL_EVENT_CATEGORIES",{ACCOUNT:"ACCOUNT",TERMS_AND_CONDITIONS:"TnC",PRODUCTS:"PRODUCTS",REDEEM:"REDEEM"}),angular.module("main.rewards").constant("PORTAL_EVENT_TYPES",{INITIALIZE:"INITIALIZE",PROGRESS:"PROGRESS",SUCCESS:"SUCCESS",FAILURE:"FAILURE"}),angular.module("main.rewards").constant("REWARDS_GFWSL_CAMPAIGNS",{ACHIEVEMENTS:"GFE_AFFINITY_GPU_ACHIEVEMENT",SWEEPSTAKES:"GFE_AFFINITY_GPU_SIGN"}),angular.module("main.rewards").constant("REWARDS_EVENTS",{PREPARE_EXTERNAL_PAGE_STATE:"main.rewards.dialogLoading",GET_REDEMPTION_URL_FAILED:"main.rewards.getRedemptionUrlFailed",REDEMPTION_HISTORY:{PORTAL_URL_READY:"main.rewards.redemptionHistory.portalUrlReady",HANDLE_OFFLINE_STATE:"main.rewards.redemptionHistory.handleOfflineState",HANDLE_PROVIDER_SERVICE_FAILED:"main.rewards.redemptionHistory.handleProviderServiceFailed"},FEATURE_STATUS_UPDATED:"main.rewards.featureStatusUpdated",FEATURE_NOT_SUPPORTED:"main.rewards.featureNotSupported",NEW_REWARD_FOUND:"main.rewards.newRewardFound",REWARD_REDEEM_CLICKED:"main.rewards.rewardRedeemClicked",COUPON_INPUT:{CLEAR_CODE:"main.rewards.couponInput.clearCouponCode",INVALIDATE_CODE:"main.rewards.couponInput.invalidateCode",FOCUS:"main.rewards.couponInput.focus",BLUR:"main.rewards.couponInput.blur",SAVE_CARET:"main.rewards.couponInput.saveCaret",RESTORE_CARET:"main.rewards.couponInput.restoreCaret"},BACKEND_REWARDS_FETCHED:"main.rewards.update",REWARDS_UPDATED:"main.rewards.onUpdated",RESET_SCROLL_POSITION:"main.rewards.resetScrollPosition",REWARD_NOTIFICATION_CLICKED:"main.rewards.rewardNotificationClicked"}).constant("REWARDS_SOCKET_EVENTS",{REWARDS_UPDATE_FROM_NODE:"/Rewards/v.1.0/refresh"}),t.ngRewardsModule=a},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){(e.exports=n(6)()).push([e.id,"@font-face{font-weight:400;font-style:normal;font-family:nvCustomIcons;src:url("+n(48)+'#iefix) format("embedded-opentype"),url('+n(48)+"),url("+n(87)+') format("woff"),url('+n(86)+") format(\"truetype\")}.nv-custom-icons{font-family:nvCustomIcons}.icon-NVcheck:before{content:'\\e930'}.icon-battery-charging:before{content:'\\e936'}.icon-account-circle:before{content:'\\e938'}.icon-alert-circle_reg:before{content:'\\e939'}.icon-alert-circle_sm:before{content:'\\e93a'}.icon-notoptimized_reg:before{content:'\\e93b'}.icon-notoptimized_sm:before{content:'\\e93c'}.icon-optimized_reg:before{content:'\\e93e'}.icon-optimized_sm:before{content:'\\e93f'}.icon-play-circle-outline:before{content:'\\e940'}.icon-play-circle:before{content:'\\e941'}.icon-profile_generic:before{content:'\\e942'}.icon-share:before{content:'\\e943'}.icon-onbattery:before{content:'\\e902'}.icon-pluggedin:before{content:'\\e934'}.icon-monitor:before{content:'\\e901'}.icon-GFE-logo_outline_update:before{content:'\\e920'}.icon-quality-high:before{content:'\\e931'}.icon-detailed_view:before{content:'\\e932'}.icon-detailed_view2:before{content:'\\e933'}.icon-guage:before{content:'\\e92f'}.icon-home:before{content:'\\e92d'}.icon-package-down:before{content:'\\e92e'}.icon-notoptimized:before{content:'\\e92c'}.icon-maximize_mode:before{content:'\\e929'}.icon-minimize_mode:before{content:'\\e92a'}.icon-window_mode:before{content:'\\e92b'}.icon-GFE-logo:before{content:'\\e91f'}.icon-folder-browsing:before{content:'\\e91e'}.icon-imgur-logo:before{content:'\\e914'}.icon-youtube-logo:before{content:'\\e90d'}.icon-alert:before{content:'\\e900'}.icon-bell:before{content:'\\e903'}.icon-chevron-down:before{content:'\\e904'}.icon-chevron-up:before{content:'\\e905'}.icon-content-paste:before{content:'\\e906'}.icon-delete:before{content:'\\e907'}.icon-download:before{content:'\\e908'}.icon-eye-off:before{content:'\\e909'}.icon-eye:before{content:'\\e90a'}.icon-file-document:before{content:'\\e90b'}.icon-folder:before{content:'\\e90c'}.icon-google-circles-communities:before{content:'\\e90e'}.icon-heart:before{content:'\\e90f'}.icon-help-circle:before{content:'\\e910'}.icon-menu-down:before{content:'\\e911'}.icon-menu-up:before{content:'\\e912'}.icon-message-text:before{content:'\\e913'}.icon-pause:before{content:'\\e915'}.icon-play:before{content:'\\e916'}.icon-settings:before{content:'\\e917'}.icon-shopping:before{content:'\\e918'}.icon-speedometer:before{content:'\\e919'}.icon-GFE_logo_outline:before{content:'\\e920'}.icon-launch:before{content:'\\e921'}.icon-close:before{content:'\\e922'}.icon-star-circle:before{content:'\\e91a'}.icon-tag:before{content:'\\e91b'}.icon-wrench:before{content:'\\e91c'}.icon-check:before{content:'\\e91d'}.icon-dots-vertical:before{content:'\\e923'}.icon-filter-variant:before{content:'\\e924'}.icon-send-feedback:before{content:'\\e925'}.icon-sort-variant:before{content:'\\e926'}.icon-star:before{content:'\\e927'}.icon-view-module:before{content:'\\e928'}.icon-batteryboost:before{content:'\\e935'}.icon-desktop:before{content:'\\e937'}.icon-gamestream:before{content:'\\e945'}.icon-arrow-left:before{content:'\\e947'}.icon-edit:before{content:'\\e949'}.icon-emptycheckbox:before{content:'\\e94a'}.icon-gpu:before{content:'\\e94d'}.icon-share_camera:before{content:'\\e94e'}.icon-freestyle:before{content:'\\e976'}.icon-memory:before{content:'\\e94f'}.icon-nvlogo:before{content:'\\e951'}.icon-ram:before{content:'\\e952'}.icon-selectcheckbox:before{content:'\\e953'}.icon-shield:before{content:'\\e95b'}.icon-shieldTV:before{content:'\\e95c'}.icon-tablet:before{content:'\\e95d'}.icon-twitch-logo:before{content:'\\e95e'}.icon-VR:before{content:'\\e963'}.icon-rewards:before{content:'\\e93d'}.icon-quiet-mode:before{content:'\\e944'}.icon-controller-generic-single:before{content:'\\e948'}.icon-highlight:before{content:'\\e95f'}.icon-alert-bang:before{content:'\\e950'}.icon-desktop-mac:before{content:'\\e954'}.icon-ethernet:before{content:'\\e955'}.icon-game-controller:before{content:'\\e956'}.icon-game-library:before{content:'\\e957'}.icon-isp:before{content:'\\e958'}.icon-server:before{content:'\\e959'}.icon-wifi:before{content:'\\e95a'}.icon-ranking-gold:before{content:'\\e961'}.icon-ranking-silver:before{content:'\\e962'}.icon-ranking-titanium:before{content:'\\e964'}.icon-ranking-token:before{content:'\\e965'}.icon-ranking-XP:before{content:'\\e966'}.icon-info:before{content:'\\e968'}.icon-level-bg:before{content:'\\e969'}",""])},,,,,function(e,t,n){e.exports=n.p+"nv-custom-icons.ttf"},function(e,t,n){e.exports=n.p+"nv-custom-icons.woff"},,,,,,,,,,function(e,t,n){e.exports=n.p+"toolbar-divider-vertical.png"},,,,,,,,,,,,,,function(e,t,n){var r=n(81);"string"==typeof r&&(r=[[e.id,r,""]]),n(7)(r,{}),r.locals&&(e.exports=r.locals)},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.framerateLimiterService=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),i=n(1);n(11),n(176),n(177);var o=i.ngMainCommonModule.service("framerateLimiterService",["$log","framerateLimiterEndpoints","$q","jarvisService","dbCacheService","DB_NAMES","framerateLimiter2Endpoints","COMMON_EVENTS","eventAggregator","BB2_SUPPORT_EVENTS","BB2_STATE_EVENTS","BB2_SOCKET_EVENTS","BB2_SERVICE_EVENTS","socketService",function(e,t,n,i,o,a,l,s,c,u,d,f,m,p){function g(e){return M=e.data,e.data}function v(e){return O=e.data,e.data}function h(e,t){var n,r;O&&(!e&&O.enabled&&((n=i.getLoggedInUser())&&((r=o.getCachedUserItem(n.userId,a.VIEW_STORE,a.VIEW_STATE)).userTabSelectionList=[],r.persist_())),O.enabled=e,O.value=t)}function b(e){L.info("processBB2SupportInfo response:",e?e.data:"  failed to get response");var t=!1;return(R&&e&&e.data&&R.criteria.overallState!==e.data.criteria.overallState||!R&&e&&e.data)&&(t=!0),R=e.data,t&&c.trigger(u.CHANGED,e.data),e.data}function y(e){L.info("processBB2StateInfo response:",e);var t=!1;return e&&e.data&&N&&e.data.enabled!==N.enabled&&(t=!0),N=e.data,t&&c.trigger(d.CHANGED,e.data),e.data}function E(){if(r.isNull(C)){var e=l.support();return C=e.then(b).catch((function(e){return L.error("failed to framerate Limiter support info for bb2",e),n.reject(e)}))}return C}function S(){if(r.isNull(x)){var e=l.state();return x=e.then(y).catch((function(e){return L.error("failed to framerate Limiter state info for bb2",e),n.reject(e)}))}return x}function _(){L.info("onLanguageUpdated called"),C=null,x=null,N=null,R=null,E(),S()}function w(){L.info("refresh BB2 state"),C=null,x=null,S(),E()}function A(e){y({data:e})}var T=null,I=null,C=null,x=null,D=this,M=null,O=null,R=null,N=null,L=e.getInstance("main.common/framerateLimiterService");D.getStateInfo=function(){return O?n.when(O):function(){if(r.isNull(I)){O=null;var e=t.state();return I=e.then(v).catch((function(e){return L.error("failed to framerate Limiter state info",e),n.reject(e)}))}return I}()},D.getSupportInfo=function(){return M?n.when(M):function(){if(r.isNull(T)){M=null;var e=t.support();return T=e.then(g).catch((function(e){return L.error("failed to framerate Limiter support info",e),n.reject(e)}))}return T}()},D.setStateInfo=function(e,r){return t.setState({},{enabled:e,value:r}).then((function(t){return h(e,r),t})).catch((function(e){return L.error("failed framerate Limiter SetState info",e),n.reject(e)}))},D.getBB2StateInfo=function(){return N?n.when(N):S()},D.getBB2SupportInfo=function(){return R?n.when(R):E()},D.setBB2StateInfo=function(e){return l.setState({},{enabled:e}).then((function(t){return function(e){var t,n;N&&(!e&&N.enabled&&(t=i.getLoggedInUser())&&((n=o.getCachedUserItem(t.userId,a.VIEW_STORE,a.VIEW_STATE)).userTabSelectionList=[],n.persist_()),N.enabled=e)}(e),t})).catch((function(e){return L.error("failed framerate Limiter SetState info for bb2",e),n.reject(e)}))},D.initialize=function(){c.on(s.LOCALE_CHANGED,_),c.on(s.WINDOW_FOCUS,w),c.on(m.STATE_UPDATE,A),p.register(f.STATE_UPDATE,m.STATE_UPDATE)}}]);t.framerateLimiterService=o},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvSelectMenu=void 0;var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(n(767)),o=r.ngMainCommonModule.directive("nvSelectMenu",["$mdMenu",function(e){return{restrict:"E",scope:{nvMdIcon:"@",nvLabel:"@",nvPositionMode:"@",nvFiltered:"=",nvCustomIcon:"@"},transclude:!0,template:i.default,link:function(t,n,r){function i(){e.hide()}var o=angular.element(n.find("md-menu-content"));o.on("mouseleave",i),t.$on("$destroy",(function(){o.off("mouseleave",i),o=null,n.empty(),n.remove(),n=null})),n.on("$destroy",(function(){t.$destroy()}))}}}]);t.nvSelectMenu=o},,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.rewardsService=void 0;var i=r(n(27)),o=r(n(12)),a=n(53),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3));n(52),n(162),n(13),n(29),n(390),n(23),n(17),n(63),n(297),n(123);var s=r(n(980)),c=r(n(979)),u=a.ngRewardsModule.service("rewardsService",["$log","gfwslEndpoints","$q","REWARDS_CONSTANTS","jarvisService","gfeService","eventAggregator","COMMON_EVENTS","signPayloadService","hardwareService","REWARDS_EVENTS","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","NOTIFICATION_EVENTS","GFECLIENT_CONFIG","socketService","REWARDS_SOCKET_EVENTS","$state","GPU_HARDWARE_SIGNATURE_DEFAULTS","localeService","COMMON_DYNAMIC_REDIRECT","windowSpawnService","NOTIFICATION_CATEGORY","$timeout","gfeSearchService","USER_PROFILE_TAB_NAMES","USER_PROFILE_EVENTS","$window","cevoService","TELEMETRY_AFFINITY_ACTION","TELEMETRY_SCREENS","TELEMETRY_STATUS","TELEMETRY_AFFINITY_ELEMENT","REWARDS_CAMPAIGN_STATUS","REWARDS_ASSET_DIMENSIONS","REWARDS_ENTITLEMENT_TYPES","REWARDS_GFWSL_CAMPAIGNS","$filter",function(e,t,n,r,a,u,d,f,m,p,g,v,h,b,y,E,S,_,w,A,T,I,C,x,D,M,O,R,N,L,P,k,G,F,U,V,z,B){function $(e){Xe=e}function W(e){d.trigger(g.REWARD_NOTIFICATION_CLICKED,e)}function H(){Te=a.getLoggedInUser(),De.userId=Te&&Te.userId}function j(e){e?(H(),pe()):(Te=void 0,qe=null,xe.overallState=!1,De={userId:"",delegateToken:""})}function q(e){Le.debug("got gfwsl sys params",e),Oe.cID=e.cID,Oe.sM=e.sM,Oe.IsB=e.IsB,Oe.dIDa=e.dIDa,Oe.dFma=e.dFma,Oe.osC=e.osC,Oe.osB=e.osB,Oe.is6=e.is6,Oe.GFPV=e.GFPV,Oe.IsQ=e.IsQ,Oe.iLp=e.iLp,Oe.isSLI=e.isSLI,Oe.cSR=e.cSR,Le.info("Telemetry for RDS: ",ke),ke.gx_telemetry.deviceId=v.deviceId,ke.gx_telemetry.gpuDeviceId=e.dIDa,Ce.getRewardsSupported()?pe():Le.info("Rewards not supported due to min driver requirement")}function Y(e){Le.debug("got gfwsl locale params",e),Oe.lg=e.lg,Oe.gLg=e.gLg,Ce.rewardsFaqUrl=T.BASE_URL+A.getCurrentLocaleWithUnderscore()+"&page="+T.FAQ_REDEEM,qe=null,pe()}function K(e){Le.debug("got gfwsl consent params",e.uCst),De.uCst=e.uCst,pe()}function Q(e){Le.debug("got gfwsl geolocal params",e),Oe.go=e.go,pe()}function Z(){if(Re.clientVersion&&Re.driverVersion){var e=m.formatPayloadRequest(Re);return e?p.getSignedGpuId(e).then((function(e){Le.info("NvAPI returns device info",e.data.deviceInfo);var t=m.formatSignedPayload(e.data);return Ne={chId:t.deviceChipsetId,grId:t.deviceRevision,diCe:t.hashedEcid,eSgn:t.signedPayload,uVsn:t.ucodeVersion},n.when(Ne)})).catch((function(e){return Le.error("ECID call failed, using fallback values"),Ne={chId:w.DEVICE_CHIPSET_ID,grId:w.DEVICE_REVISION,diCe:w.HASHED_ECID,eSgn:w.SIGNED_PAYLOAD,uVsn:w.UCODE_VERSION},n.when(Ne)})):(Le.error("Ecid Request Object got invalid signed payload, using default ECID values"),Ne={chId:w.DEVICE_CHIPSET_ID,grId:w.DEVICE_REVISION,diCe:w.HASHED_ECID,eSgn:w.SIGNED_PAYLOAD,uVsn:w.UCODE_VERSION},n.when(Ne))}return Le.error("ECID validation failed due to improper hardware information"),Ne={chId:w.DEVICE_CHIPSET_ID,grId:w.DEVICE_REVISION,diCe:w.HASHED_ECID,eSgn:w.SIGNED_PAYLOAD,uVsn:w.UCODE_VERSION},n.when(Ne)}function X(e,t){var i=r.UNIFIED_REDEMPTION_ID;e&&(i=y.jarvis.cevoClientId);var o=n.defer();return ze=o.promise,function(e){return H(),Ce.getDelegateToken(e)}(i).then((function(e){var n=t&&t.vrfyRspPyldDecoded&&t.vrfyRspPyldDecoded.value.SgnGpuIdAlgo?t.vrfyRspPyldDecoded.value.SgnGpuIdAlgo.value:"1";n=parseInt(n),Le.info("Algo is ",n),(Re={signAlgo:n,key:t.ecnon_egpk&&t.ecnon_egpk.value,clientVersion:Oe.gcV,driverVersion:Oe.GFPV}).nonce=t.ecnon_egcv.value.substring(0,16)+e.delegateToken.substring(0,16),Z().then((function(){o.resolve()}))})).catch((function(e){Le.error("Catch block for jarvis delegate token fetch"),t.overallState=!1,o.reject(e)})),ze}function J(e){xe=angular.merge({},xe,e)}function ee(){return Be||(Le.debug("Resetting Rewards Session"),xe.overallState=!1,qe=null,ze=null,Ve=Ce.initGfwslSession()),Ve}function te(){var e=ye((0,o.default)({_ecnon_GfV:xe.ecnon_egcv.value+"~!~"+Oe.gcV,aiD:Ze,_theSysJson:Oe}),xe),r="_ecnon_GfV="+encodeURIComponent(R.btoa(e));return t.rewards.verifyRewardsSession({},r).then((function(e){if(oe(e)){var t=e.data.html.body.sessionState,r=t.vrfyRspPyld.value;if(Ee(t,r))return J(e.data.html.body.sessionState),J(_e(r)),n.when(xe);var i="JWS verification failed for vrfyGfeWebSsnJt";return Le.error(i),n.reject(i)}var o="Invalid GFWSL response for verifyRewardsSessionJt";return Le.error(o),n.reject(o)})).catch((function(e){return Le.error("Catch block for vrfyGfeWebSsnJt entered"),xe.overallState=!1,n.reject(e)}))}function ne(){if(xe&&xe.overallState&&xe.gfeEtaExpire&&xe.gfeEtaExpire.value){var e=new Date,t=new Date(xe.gfeEtaExpire.value);return e.setSeconds(e.getSeconds()+30),e<t}return!1}function re(){Fe||Be||ne()||ee()}function ie(e){var t=(0,i.default)({},e);t&&t.type&&t.message&&(l.isEmpty(t.deltas)||l.forEach(t.deltas,(function(e,n,r){t.message+=", "+e.error})),v.push(t.type,{couponCode:t.couponCode||"",campaignName:t.campaignName||"",gpuDeviceId:Oe.dIDa&&Oe.dIDa.toString()||"",lcid:parseInt(Oe.lg,10)||0,errorMessage:t.message||""}))}function oe(e){return e&&e.data&&e.data.html&&e.data.html.body}function ae(e){var t=oe(e)&&e.data.html.body.sessionState&&e.data.html.body.sessionState.errorDetails&&e.data.html.body.sessionState.errorDetails.message||e&&e.data||"";return(0,o.default)(t)}function le(){var e=ye((0,o.default)({_vrsCmpgnStsPyldJson:{_ecnon_GfV:xe.ecnon_egcv.value,aiD:Ze,_theSysJson:Oe,_thePiJson:{uID:De.userId,jTK:De.delegateToken,uCst:De.uCst},_VrsHashDiceGpuAchJson:Ne,_rdsPt:ke}}),xe),r="_ecnon_GfV="+encodeURIComponent(R.btoa(e));return t.rewards.getRedemptionHistory({},r).then((function(e){if(oe(e)){var t=e.data.html.body.sessionState,r=e.data.html.body.CampaignStatus;if(Ee(t,r)){J(e.data.html.body.sessionState);var i=_e(r);return X(!1,xe).catch((function(e){Le.error("Single use values promise failed after Redemption History"),ie({type:Pe.REWARDS_REDEMPTION_HISTORY_FETCH_FAILED_LOCAL,message:e&&e.status&&e.status.toString()})})),n.when(i.vrsCampaignStatus.rewards)}var o="JWS verification failed for Redemption History";return Le.error(o),n.reject(o)}var a={data:"Invalid GFWSL response for Redemption History"};return Le.error(a.data),n.reject(a)})).catch((function(e){return Le.error("GFWSL Redemption History call failed"),ie({type:Pe.REWARDS_REDEMPTION_HISTORY_FETCH_FAILED_GFWSL,message:ae(e)}),ee(),n.reject(e)}))}function se(e){return e&&e.toUpperCase()||void 0}function ce(e){Le.info("rewards socket update from node:",e),"FINISHED"===e.status&&(qe=null,pe())}function ue(e){D.checkSearchAvailability().then((function(t){if(t){var n={},r="l10n.rewards",i=D.getDirectivel10nTags("nvRewardsCenter");i.push("l10n.checkCouponRetailer"),i.push("l10n.gfeGiveaway"),n["l10n.redeem"]={description:i};var o=[r,"l10n.redeem","l10n.availableTill"];l.forEach(e.available,(function(e){n[e.campaign.title]={description:o}})),l.forEach(e.locked,(function(e){n[e.campaign.title]={description:o}}));var a=[r,"l10n.redeemed","l10n.redeemedOn","l10n.details"];l.forEach(e.redeemed,(function(e){n[e.campaign.title]={description:a}})),D.buildStateIndex("main.auth.rewards",n,{ignoredDirectives:["nvRewardCard","nvRewardsCenter"]})}}))}function de(e,r,i){var a={};switch(r){case V.COUPON:a={CPN:e};break;case V.AVAILABLE_REWARD:a={cmID:e};break;case V.REDEEMED_REWARD:a={rID:e}}var l=ye((0,o.default)({_vrsCmpgnRdmPyldJson:{_ecnon_GfV:xe.ecnon_egcv.value,aiD:Ze,_theSysJson:Oe,_thePiJson:{uID:De.userId,jTK:De.delegateToken,uCst:De.uCst},_theVrsRwdJson:a,_RdmHashDiceGpuJson:Ne}}),xe),s="_ecnon_GfV="+encodeURIComponent(R.btoa(l));return t.rewards.redeemReward({},s).then((function(e){if(oe(e)){var t=e.data.html.body.sessionState,r=e.data.html.body.CampaignRedeem;if(Ee(t,r)){J(e.data.html.body.sessionState),X(!1,xe);var o=_e(r).vrsCampaignRedeem[0];return se(o.status)===F.FAILURE?(ie({type:i.redeemFailureEvent,message:o.error.code,campaignName:o.campaign.uuid}),n.reject(o.error)):n.when(o)}var a="JWS verification failed for Redeem";return Le.error(a),n.reject(a)}var l={data:"Invalid GFWSL response for Redeem"};return Le.error(l.data),n.reject(l)}))}function fe(){return Ye||(Le.info("reward is enabled"),Ye=!0,d.trigger(g.FEATURE_STATUS_UPDATED,Ye)),n.resolve(Ye)}function me(){Le.debug("Waiting on Rewards dependencies onlineState, jarvisUser, minDriverVersion, IP, Locale, Geo",u.onlineState&&u.onlineState.online,!angular.isUndefined(Te),Ce.getRewardsSupported(),Oe.lg,Oe.go)}function pe(){return Le.info("Received event to validate rewards status and session"),Be?void Le.info("Session refresh already in progress, no action needed"):(H(),Te&&Fe&&!Ue&&(Ue=x((function(){H(),Te&&Fe&&(Ge.reject("Rewards service init timed out, dependencies unmet"),me(),Ue=null)}),3e4)),void(u.onlineState&&u.onlineState.online&&Te&&Ce.getRewardsSupported()&&Oe.lg&&Oe.go?fe().then((function(e){ne()?(Le.info("Valid GFWSL session exists"),qe?Le.info("Rewards refresh not required"):(De.delegateToken||(Le.debug("Jarvis delegate needs update, refreshing single use values"),X(!1,xe)),Le.info("No cached rewards available, starting fetch"),Ce.getRedemptionHistory())):(ee(),Ce.getRedemptionHistory()),Ge.resolve()})).catch((function(e){Le.info("Rewards not supported, will not initialize session"),Ge.reject(e)})).finally((function(){Fe=null,Ue&&(x.cancel(Ue),Ue=null)})):me()))}function ge(e){var r=n.defer();return t.profile.targetGfeAchievements({gfwslParams:{cmID:e}}).then((function(e){if(oe(e)){var t=JSON.parse(e.data.html.body.sessionState.overallState);r.resolve(t)}else{var n="Invalid response for GFWSL targetGfeAchievements";Le.error(n),r.reject(n)}})).catch((function(e){r.reject(e)})),r.promise}function ve(){return he().then((function(e){return be(e).then((function(e){return X(!0,e).then((function(){return function(e){var r=ye((0,o.default)({_tgrGpuAchPyldJson:{_ecnon_GfV:e.ecnon_egcv.value,aiD:Ze,_theSysJson:Oe,_thePiJson:{uID:De.userId,jTK:De.delegateToken,uCst:De.uCst},_TgrHashDiceGpuAchJson:Ne}}),e),i="_ecnon_GfV="+encodeURIComponent(R.btoa(r));return t.profile.triggerGpuAchievement({},i).catch((function(e){return Le.error("Catch block for triggerGpuAchievementJt entered"),n.reject(e)}))}(e)}))}))}))}function he(){var e="_egcV="+(0,o.default)({_egcV:Oe.gcV,aiD:Ze});return t.profile.getProfileSession({},e).then((function(e){if(oe(e)){var t=e.data.html.body.sessionState;return t.ecnon_egcv=t.nonce,n.when(t)}var r="Invalid GFWSL response for getRewardsSessionJt";return Le.error(r),n.reject(r)}))}function be(e){var r=ye((0,o.default)({_ecnon_GfV:e.ecnon_egcv.value+"~!~"+Oe.gcV,aiD:Ze,_theSysJson:Oe}),e),i="_ecnon_GfV="+encodeURIComponent(R.btoa(r));return t.profile.verifyProfileSession({},i).then((function(t){if(oe(t)){var r=t.data.html.body.sessionState,i=r.vrfyRspPyld.value;if(Ee(r,i)){e=angular.merge({},e,r);var o=_e(i);return n.when(angular.merge({},e,o))}var a="JWS verification failed for vrfyGfeWebSsnJt";return Le.error(a),n.reject(a)}var l="Invalid GFWSL response for vrfyGfeWebSsnJt";return Le.error(l),n.reject(l)})).catch((function(e){return Le.error("Catch block for vrfyGfeWebSsnJt entered"),n.reject(e)}))}function ye(e,t){var n=(0,o.default)({typ:"JWT",alg:tt}),r={_pyld:e},i=t.ecnon_egcv.value+"."+Ze;return Ce.jwsLib.sign(tt,n,r,i)}function Ee(e,t){var n=Se(t),r=e.ecnon_egcv.value+"."+Ze;return Ce.jwsLib.verify(n,r,[tt])}function Se(e){return R.atob(decodeURIComponent(e))}function _e(e){var t=Ce.jwsLib.parse(Se(e)),n=JSON.parse(t.payloadPP);return JSON.parse(n)}function we(e){return ge(z.SWEEPSTAKES).then((function(t){return t?he().then((function(t){return be(t).then((function(t){return X(!0,t).then((function(){return Ae(t,e)}))}))})):n.reject({success:!1,errorMessage:B("translate")("l10n.tokensMinGpu")})}))}function Ae(e,r){var i=ye((0,o.default)({_swpPyldJson:{_ecnon_GfV:e.ecnon_egcv.value,aiD:Ze,_theSysJson:Oe,_thePiJson:{uID:De.userId,jTK:De.delegateToken,uCst:De.uCst},_theClmSwpJson:{gID:r.id.toString(),gTi:r.title,gTn:r.deltaTokens},_ClmHsahDiceRwdJson:Ne}}),e),a="_ecnon_GfV="+encodeURIComponent(R.btoa(i));return t.profile.attemptSweepstakeEntry({},a).then((function(e){if(oe(e)){var t=e.data.html.body.sessionState,r=e.data.html.body.GfeProfileSweepsEntry;if(Ee(t,r)){var i=_e(r).cevoGfeProfileSweepsEntry;return i.success?n.when({success:!0,updatedStampMicro:i.updatedStampMicro,tokens:i.tokens,tokenBalance:i.tokenBalance,giveawayTokens:i.giveawayTokens}):n.when({success:!1,errorMessage:i.error,errorDetails:i.errorDetails})}var o={data:"validation failed on GFWSL sweepstake entry endpoint"};return Le.error(o.data),n.reject({success:!1,errorDetails:o.data})}var a="Invalid GFWSL response for sweepstake entry endpoint";return Le.error(a),n.reject({success:!1,errorDetails:a})})).catch((function(e){return Le.error("Catch block for trySweepstakeEntryJt entered"),n.reject({success:!1,errorDetails:"Invalid GFWSL response for sweepstake entry endpoint"})}))}var Te,Ie,Ce=this,xe={ecnon_egcv:{}},De={userId:"",delegateToken:"",uCst:["-1","-1","-1"]},Me=[],Oe={gcV:u.version},Re={},Ne={},Le=e.getInstance("main.rewards/rewardsService"),Pe=h,ke={gx_telemetry:{deviceId:"",sessionId:"",gpuDeviceId:"",clientVer:Oe.gcV},rdsRlm:y.rds.portalRealm},Ge=null,Fe=null,Ue=null,Ve=null,ze=null,Be=!1,$e=!1,We=null,He=null,je=null,qe=null,Ye=!1,Ke=[],Qe=y.userAgent+"/"+u.version,Ze=null,Xe=!1,Je=!1,et=null,tt="HS512";Ce.jwsLib=s.default.jws.JWS;try{Ze=c.default.sha256().update(Qe).digest("hex")}catch(e){Le.error("Failed to generate md5 hash for gfe user agent",e),Ze=Qe}Ce.getFormattedImageUrl=function(e,t){return e+"-"+t+".png"},Ce.getRewardsTabSelected=function(){return Je||_.is("main.auth.rewards")},Ce.setRewardsTabSelected=function(e){Je=e};var nt=function(e){Xe?d.trigger(O.VIEW_PROFILE_PAGE,{tabName:M.REWARDS_TAB,rewardsPackageId:e,callback:W.bind(null,e)}):"main.auth.rewards"===_.current.name?W(e):_.go("main.auth.rewards",{rewardPackageId:e})};Ce.getRedeemRequestData=function(){return{sysInfo:Oe,gfwslInfo:Me}},Ce.getDelegateToken=function(e){return a.getDelegateToken(e).then((function(e){return De.delegateToken=e.data.delegateToken,n.when(De)}))},Ce.initGfwslSession=function(){if(!Be){var e=n.defer();Ve=e.promise,Be=!0,xe&&xe.overallState?(Le.info("Rewards session exists, verifying"),te().then((function(){X(!1,xe).then((function(){e.resolve(),Be=!1})).catch((function(t){Le.error("Single use values promise failed while validating session"),e.reject(t),Be=!1}))})).catch((function(e){Le.error("current rewards session invalid, retrying with new session"),Be=!1,ee()}))):(Le.info("Creating a new Session for Rewards"),function(){var e="_egcV="+(0,o.default)({_egcV:Oe.gcV,aiD:Ze});return t.rewards.getRewardsSession({},e).then((function(e){if(oe(e))return xe.ecnon_egcv.value=e.data.html.body.sessionState.nonce.value,J(e.data.html.body.sessionState),n.when(xe);var t="Invalid GFWSL response for getRewardsSessionJt";return Le.error(t),n.reject(t)}))}().then((function(t){te().then((function(t){X(!1,xe).then((function(){e.resolve(),Be=!1})).catch((function(t){Le.error("Single use values promise failed while creating new session"),e.reject(t),Be=!1}))})).catch((function(t){Le.error("GFWSL verfySession failed for new getSession"),e.reject(t),Be=!1}))})).catch((function(t){Le.error("GFWSL getSession failed"),e.reject(t),Be=!1})))}return Ve},Ce.getRedemptionHistory=function(){if(Fe)return Fe.then((function(){return Ce.getRedemptionHistory()}));if($e)return We;if(qe)return n.when(qe);$e=!0;var e=n.defer(),t=n.defer();return We=e.promise,He=t.promise,Ie=v.startLoad(h.REWARDS_REDEMPTION_HISTORY_FETCH_RESPONSE_TIME),re(),n.all([Ve,ze,je,et]).then((function(){le().then((function(n){v.endLoad(h.REWARDS_REDEMPTION_HISTORY_FETCH_RESPONSE_TIME,Ie,{couponCode:"",campaignName:"",gpuDeviceId:Oe.dIDa&&Oe.dIDa.toString()||"",lcid:parseInt(Oe.lg,10)||0}),qe=function(e){var t={redeemed:[],available:[],locked:[],expired:[],unknown:[]};return e.forEach((function(e){switch(e.state=se(e.state),e.status=se(e.status),e.campaign.type=se(e.campaign.type),e.status){case r.REDEMPTION_STATES.REDEEMED:t.redeemed.push(e);break;case r.REDEMPTION_STATES.AVAILABLE:t.available.push(e);break;case r.REDEMPTION_STATES.LOCKED:t.locked.push(e);break;case r.REDEMPTION_STATES.EXPIRED:t.expired.push(e);break;default:t.unknown.push(e)}})),t}(n),e.resolve(qe),t.resolve(),d.trigger(g.REWARDS_UPDATED,qe),function(e){if(e&&0!==e.length){var t=[],n=new Date;l.forEach(e,(function(e){if((e.campaign.rules.end_date?new Date(e.campaign.rules.end_date):new Date(864e13))>n){var r={artWork:Ce.getFormattedImageUrl(e.campaign.imageLink,U.SMALL_NOTIFICATION),artWorkHighRes:Ce.getFormattedImageUrl(e.campaign.imageLink,U.LARGE_NOTIFICATION),callbackData:e.campaign.uuid,callbackFunction:nt,heading:{text:e.campaign.title},description:{text:e.campaign.tagline},firstNotificationHighResolution:!0,type:C.REWARDS};t.push(r)}})),d.trigger(b.REMOVE_NOTIFICATION,Ke),Ke=t,d.trigger(b.NEW_NOTIFICATION,{notifications:t})}}(qe.available.filter((function(e){return!e.state||e.state!==r.REDEMPTION_STATES.CLAIMABLE})))})).catch((function(n){Le.error("Failed to get Rewards History from GFWSL"),e.reject(n),t.resolve()})).finally((function(){$e=!1,We=null,He=null}))})).catch((function(n){Le.error("One or more promises rejected for Redemption History"),e.reject(n),t.resolve(),$e=!1,We=null,He=null})),We},Ce.clearCachedRewards=function(){qe=null},Ce.initialize=function(){return y.forceDisableFeatures&&y.forceDisableFeatures.rewards?void Le.info("Rewards feature has been force disabled"):(d.on(f.LOGIN_STATUS_CHANGE,j),d.on(f.GFWSL_SYS_PARAMS_UPDATED,q),d.on(f.GFWSL_LOCALE_PARAMS_UPDATED,Y),d.on(f.GFWSL_GEOLOCAL_PARAMS_UPDATED,Q),d.on(f.GFWSL_CONSENT_PARAMS_UPDATED,K),d.on(f.ONLINE,pe),d.on(f.USER_PROFILE_STATUS_UPDATED,$),E.register(S.REWARDS_UPDATE_FROM_NODE,g.BACKEND_REWARDS_FETCHED),d.on(g.BACKEND_REWARDS_FETCHED,ce),H(),ke.gx_telemetry.sessionId=v.sessionId,Ge=n.defer(),Fe=Ge.promise,void d.on(g.REWARDS_UPDATED,ue))},Ce.redeemEntitlement=function(e,t){if($e)return We.then((function(){return Le.debug("Finished rewards check before calling redeem"),Ce.redeemEntitlement(e,t)}));var r={responseTimeEvent:"",responseTimePayload:{couponCode:"",campaignName:"",gpuDeviceId:Oe.dIDa&&Oe.dIDa.toString()||"",lcid:parseInt(Oe.lg,10)||0},redeemFailureEvent:"",gfwslFailureEvent:""};return t===V.COUPON?(r.responseTimeEvent=h.REWARDS_REDEEM_CODE_VERIFICATION_RESPONSE_TIME,r.redeemFailureEvent=h.REWARDS_REDEEM_CODE_VERIFICATION_FAILED_RDS,r.gfwslFailureEvent=h.REWARDS_REDEEM_CODE_VERIFICATION_FAILED_GFWSL,r.responseTimePayload.couponCode=e):(r.responseTimeEvent=h.REWARDS_CLAIM_ENTITLEMENT_RESPONSE_TIME,r.redeemFailureEvent=h.REWARDS_CLAIM_ENTITLEMENT_FAILED_RDS,r.gfwslFailureEvent=h.REWARDS_CLAIM_ENTITLEMENT_FAILED_GFWSL),re(),n.all([Fe,Ve,ze,je,et]).then((function(){var i=v.startLoad(r.responseTimeEvent);return de(e,t,r).then((function(e){return r.responseTimePayload.campaignName=e.campaign.uuid||"",v.endLoad(r.responseTimeEvent,i,r.responseTimePayload),qe=null,n.when(e)}))})).catch((function(e){return Le.error("Catch block for Redeem entered"),(!e||e&&!e.type)&&ie({type:r.gfwslFailureEvent,message:ae(e),couponCode:r.responseTimePayload.couponCode}),ee(),n.reject(e)}))},Ce.getRewardsSupported=function(){return Oe.GFPV&&parseFloat(Oe.GFPV,10)>r.MIN_SUPPORTED_DRIVER},Ce.getRewardsEnabled=function(){return Fe?Fe.then((function(){return Ce.getRewardsEnabled()})):fe()},Ce.openLearnMoreWindow=function(e){v.push(h.REWARDS_LEARN_MORE),e?I.openDefaultBrowser(e):I.openDefaultBrowser(Ce.rewardsFaqUrl)},Ce.openRedeemUrl=function(){var e=T.BASE_URL+A.getCurrentLocaleWithUnderscore()+"&page="+T.NVIDIA_REDEEM;I.openDefaultBrowser(e)},Ce.triggerGpuAchievement=function(){if(je)return je;var e=n.defer();je=e.promise,re(),n.all([Fe,Ve,ze,He,et]).then((function(){return ge(z.ACHIEVEMENTS).then((function(t){t?ve().then((function(){var t="GPU achievement trigger success";Le.info(t,"now trigger cevo refresh"),N.refresh(),v.push(h.USER_TRIGGER_GPU_ACHIEVEMENT_SUCCESS,{action:L.UNLOCKED,useCase:G.ACHIEVEMENT,status:k.SUCCESS,currentScreen:P.SCREEN_ACHIEVEMENTS,additionalMessage:t}),ee().finally((function(){e.resolve(),je=null}))})).catch((function(t){var n=t&&(0,o.default)(t).substr(0,1024)||"Failed to trigger GPU Achievement";v.push(h.USER_TRIGGER_GPU_ACHIEVEMENT_FAILURE,{action:L.UNLOCKED,useCase:G.ACHIEVEMENT,status:k.FAILURE,currentScreen:P.SCREEN_ACHIEVEMENTS,additionalMessage:n}),ee().finally((function(){e.resolve(),je=null}))})):e.resolve()})).catch((function(){e.resolve(),je=null})),je}))},Ce.trySweepstakeEntry=function(e){if(et)return et;var t=n.defer();return et=t.promise,n.all([Fe,Ve,ze,He,je]).finally((function(){var n=void 0;we(e).then((function(e){n=e})).catch((function(e){n=e})).finally((function(){t.resolve(n),et=null,xe.overallState=!1}))})),et}}]);t.rewardsService=u},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updatesService=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),i=n(10);n(646),n(117),n(51),n(116),n(138),n(23),n(17),n(625),n(506),n(123);var o=function(e){return e&&e.__esModule?e:{default:e}}(n(194)),a=(n(507),i.ngUpdatesModule.service("updatesService",["$log","$filter","TASK_STATUS","updatesInstallerDialogService","INSTALLER_PAGE","eventAggregator","INSTALLER_EVENTS","$q","driversEndpoints","UPDATE_EVENTS","UPDATE_SOCKET_EVENTS","socketService","UPDATE_REFRESH_STATUS","INSTALLER_FORM_EVENT","rollbackService","downloadsEndpoints","DOWNLOAD_PROGRESS_STATUS","DOWNLOAD_SOCKET_EVENTS","installersEndpoints","INSTALLER_SOCKET_EVENTS","hardwareService","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","gfwslDriverInformationService","INSTALLER_ERROR_CODE","COMMON_EVENTS","nodeService","SOCKETIO_EVENTS","PREFETCH_EVENTS","$rootScope","$compile","cefService","$mdDialog","gfeSearchService","gfwslEndpoints","CRD_GFWSL_CAMPAIGNS","gfeService","DRIVERTYPE","CRD_STATE_EVENT",function(e,t,n,i,a,l,s,c,u,d,f,m,p,g,v,h,b,y,E,S,_,w,A,T,I,C,x,D,M,O,R,N,L,P,k,G,F,U,V){function z(e){B(e),e.status===n.TASK_RUNNING?xe.info("DOWNLOAD_PROGRESS_STATUS - ",e.status,"%Complete",e.percentComplete," tmRem",e.timeRemaining," dwndSpd",e.downloadSpeed," taskId ",e.taskId,"byteDn",e.bytesDone):xe.info("DOWNLOAD_PROGRESS_STATUS - ",e),e.status===n.TASK_PAUSED_UNABLE_TO_REACH_SERVER||e.status===n.TASK_FAILED_UNABLE_TO_REACH_SERVER||e.status===n.TASK_CHECK_SUM_ERROR||e.status===n.TASK_DISK_WRITE_FAIL||e.status===n.TASK_SIGNATURE_VERIFICATION_FAILS?(l.trigger(b.FAILED,e),e.status===n.TASK_PAUSED_UNABLE_TO_REACH_SERVER||e.status===n.TASK_FAILED_UNABLE_TO_REACH_SERVER?w.push(A.UPDATES_DOWNLOAD_DRIVER_UNABLE_TO_REACH_SERVER):w.push(A.UPDATES_DOWNLOAD_DRIVER_FAILED,e.version)):e.status===n.TASK_COMPLETED&&w.push(A.UPDATES_DOWNLOAD_DRIVER_SUCCESS)}function B(e){if(e)switch(e.status){case n.TASK_PAUSED:case n.TASK_PAUSED_UNABLE_TO_REACH_SERVER:N.taskbarProgress("percentage",Math.round(e.percentComplete)),N.taskbarProgress("pause");break;case n.TASK_RUNNING:case n.TASK_RETRY:e.percentComplete&&N.taskbarProgress("percentage",Math.round(e.percentComplete));break;case n.TASK_FAILED_UNABLE_TO_REACH_SERVER:case n.TASK_CHECK_SUM_ERROR:case n.TASK_DISK_WRITE_FAIL:case n.TASK_SIGNATURE_VERIFICATION_FAILS:case n.TASK_DOWNLOAD_ERROR:case n.TASK_COMPLETED:N.taskbarProgress("complete")}}function $(){xe.info("onSocketConnect has been called"),pe&&pe[0]&&pe[0].downloadStatus&&pe[0].downloadStatus.status===n.TASK_RUNNING?(xe.info("get download status after re-connect for Updates List"),X(pe[0])):ve&&ve.downloadStatus&&ve.downloadStatus.status===n.TASK_RUNNING&&(xe.info("get download status after re-connect for installed Driver"),X(ve))}function W(){fe.scanCompleted=!0,ie(),function(){var e;for(e in be)be[e]()}()}function H(){xe.info("query installer about last state "),E.start({},{driverLocation:"",isCustom:!1,resumeInstall:!1,fromLastState:!0}).then((function(){xe.info("got response about about last state ")})).catch((function(e){xe.error("failed to query last installation state error code:",e.data," status:",e.status," params:",e.config.data,e)}))}function j(){xe.info("installer and UI are now disconnected")}function q(){xe.info("Connection error during installation.")}function Y(){xe.info("unsubScribeDriverInstallationNotification() called"),l.off(s.INSTALL_FORM,se),l.off(s.INSTALL_CANCEL,Y),l.off(s.INSTALL_DONE,K),l.off(D.CONNECT,H),l.off(D.DISCONNECT,j),l.off(D.ERROR,q),x.setReconnectionToDefault()}function K(){ne(),Y()}function Q(e,t,n){xe.info("subScribeDriverInstallationNotification() called"),l.on(s.INSTALL_FORM,se),l.on(s.INSTALL_CANCEL,Y),l.on(s.INSTALL_DONE,K),l.on(D.CONNECT,H),l.on(D.DISCONNECT,j),l.on(D.ERROR,q),x.setReconnectionToInfinity(),i.showInstallationForm(e,t,n),fe.invokeInstallation(e,t,n)}function Z(e){return e.releaseDateTime="",e.downloadURL="",e.name=e.isCRD===U.CRD?t("translate")("l10n.fallbackGeforeceCrdDriverName"):t("translate")("l10n.fallbackGeforceDriverName"),T.getDriverInformation(e.version,e.isCRD).then((function(t){return t&&t.DriverAttributes&&(e.name=t.DriverAttributes.Name,e.releaseDateTime=t.DriverAttributes.ReleaseDateTime,e.downloadURL=t.DriverAttributes.DownloadURL,e.isCRD=t.DriverAttributes.IsCRD||0),e.installDate=v.getInstallDate(e),e})).catch((function(t){return xe.error("getDriverInformation failed with error: ",t+" for driver version:"+e.version),e}))}function X(e){return h.getStatus({version:e.version,url:e.downloadURL}).then((function(t){return e.downloadStatus=t.data,xe.info("download getStatus for version: ",e.version," ",t),B(t.data),e})).catch((function(t){return xe.error("download getStatus failed: ",t.data," status: ",t.status),e}))}function J(e){try{return JSON.parse(e)}catch(t){return xe.error("Json parsing exception for ",e),null}}function ee(){if(Se&&Se.content.gfeLoadUrl){var e=Se.content.gfeLoadUrl,t=(e=e.replace(/\\/g,"")).split("{");if(2!==t.length)return xe.error("Cannot request for article as gfeloadUrl is incorrect ",Se.content.gfeLoadUrl),c.reject();t[1]="{"+t[1];var n=J(t[1]);return n?fe.getDriverArticle(t[0],n,Se.content.driverVersion).then((function(e){if(w.push(A.UPDATES_GRD_ARTICLE_SUCCESS),e&&e.data&&e.data.gfcontent){xe.debug("get driver article returns content");var t={},n=e.data.gfcontent;return t.title=n.title,t.subTitle=n.author_date?n.author_date.by_on_date:null,t.body=n.body,t.style="article-content",t}return xe.debug("get driver article returns null content"),null})).catch((function(e){return w.push(A.UPDATES_GRD_ARTICLE_FAILURE,e&&e.status&&e.status.toString()||""),c.reject(e)})):(xe.error("Cannot request for article as gfeloadUrl has incorrect json ",Se.content.gfeLoadUrl),c.reject())}return xe.error("article url empty for ",Se.content.gfeLoadUrl),c.reject("no article url")}function te(e,t){fe.getDriverInformation(e,t).then((function(t){var n,r,i=[];t&&t.DriverAttributes&&(n=t.DriverAttributes.highlightGfeNg,r=t.DriverAttributes.bannerGfeNg),r&&r.forEach((function(e){i.push(e.image)})),n&&n.tiles&&n.tiles.forEach((function(t){i.push(t.coverImage),function(e,t){if(e&&e.gfeLoadUrl){var n=e.gfeLoadUrl,r=(n=n.replace(/\\/g,"")).split("{");if(2!==r.length)return xe.error("Cannot request for article as gfeloadUrl is incorrect ",e.gfeLoadUrl),c.reject();r[1]="{"+r[1];var i=J(r[1]);i&&fe.getDriverArticle(r[0],i,t).then((function(e){if(e.data&&e.data.gfcontent){var t,n=e.data.gfcontent.body,r=O.$new(),i=R(n)(r),o=i.find("img"),a=i.find("link"),s=[],c=[];for(t=0;t<o.length;t++)s.push(o[t].src);for(t=0;t<a.length;t++)"stylesheet"===a[t].rel&&c.push(a[t].href);c.length>0&&l.trigger(M.PRELOAD_STYLES,c),s.length>0&&l.trigger(M.PREFETCH_RESOURCES,s),i.empty(),i.remove(),i=null,r.$destroy()}}))}}(t,e)})),i.length&&l.trigger(M.PREFETCH_RESOURCES,i)}))}function ne(){pe=void 0,he=null,ge=null,fe.driverInstalled=!0,ve=null,me=null,ie()}function re(e){xe.info("sysinfo updated",e);var t=r.isUndefined(e.DriverType)?void 0:JSON.parse(e.DriverType);if(ve&&(e.DriverVersion!==ve.version||t!==ve.isCRD)||!ve&&e.DriverVersion){var n=!ve||t!==ve.isCRD;ge=null,ve=null,me=null,pe=void 0,he=null,ce().finally((function(){fe.getInstalledDriver().then((function(e){v.newDriverInstallComplete(e)})),n?fe.checkForUpdates():fe.getUpdateDetails(),l.trigger(d.INSTALLED_DRIVER_UPDATE)}))}}function ie(){P.checkSearchAvailability().then((function(e){if(e){var t={},n=[],i=[],o=[],a=P.getDirectivel10nTags("nvUpdatesDriver"),l={},s={};r.forEach(P.getDirectivel10nTags("nvDriverItem"),(function(e){o.push(e)})),i.push(fe.getUpdateDetails().then((function(e){s[0]=!0,l[0]=e})).catch((function(){s[0]=!1}))),i.push(fe.getInstalledDriver().then((function(e){s[1]=!0,l[1]=e})).catch((function(){s[1]=!1}))),c.all(i).then((function(e){if(s[0]&&r.forEach(l[0],(function(e){if(e&&e.version&&e.name){xe.info("Adding docs for driver version "+e.version);var i=e.name,a=r.clone(o);a.push(e.version),t[i]={description:a},n.push(e)}else xe.error("getUpdateDetails returned empty data or version")})),s[1]){a.push("l10n.currentlyInstalled");var i=l[1];if(i&&i.version&&i.name){xe.info("Adding docs for driver version "+i.version);var c=i.name,u=r.clone(o);u.push(i.version),t[c]={description:u},n.push(i)}else xe.error("getInstalledDriver returned empty data or version")}t["l10n.updates"]={description:a},oe(t,n)}))}}))}function oe(e,t){var n=["l10n.highlights"];r.forEach(P.getDirectivel10nTags("nvHighlightTile"),(function(e){n.push(e)}));var i=[],o=[];r.each(t,(function(e){i.push(fe.getDriverInformation(e.version,e.isCRD).then((function(t){o.push({name:e.name,data:t})})).catch((function(){xe.error("getDriverInformation failed on ",e.version)})))})),c.all(i).then((function(t){r.each(o,(function(t){var i=t.data;i&&i.DriverAttributes&&i.DriverAttributes.highlightGfeNg&&(e[t.name].description.push(i.DriverAttributes.ReleaseNotesAbstract||""),r.forEach(i.DriverAttributes.highlightGfeNg.tiles,(function(t){if(t&&t.name){var r=[t.description||""];r.push.apply(r,n),e[t.name]={description:r}}})))})),P.buildStateIndex("main.auth.updates",e,{ignoredDirectives:["nvDriverItem","nvHighlightTile","nvUpdatesDriver"]})}))}function ae(){Ce=!0}function le(){Ce=!1}function se(e){e.method!==g.SHOW_PROGRESS&&xe.info("UpdatesService - received event from installer",e),fe.showNextInstallerForm(e)}function ce(){return r.isNull(_e)&&(_e=u.getDriverTypePreference().then((function(e){if(e&&e.data){xe.info("getDriverType status:",e),_e=null;var t=e.data.driverType;return t!==Ae&&(Ae=t,l.trigger(C.DRIVER_PREFERENCE_UPDATED,Ae)),e.data.driverType}return c.reject("getDriverType response is null")})).catch((function(e){return xe.error("failed to getDriverType",e),_e=null,c.reject(e)}))),_e}function ue(){if(!Te){Te=!0;var e={};e.GFPV=k.getParams().GFPV||"0.00",e.isSLI=k.getParams().isSLI||"0",e.cmID=G.CRD,k.profile.targetGfeAchievements({gfwslParams:e}).then((function(e){var t="",n=!1;if(function(e){return e&&e.data&&e.data.html&&e.data.html.body}(e)&&Array.isArray(e.data.html.body.Achievements)){var i=r.findWhere(e.data.html.body.Achievements,{ID:G.CRD});if(i){var o=JSON.parse(i.overallState);n=!0,Ie=o,l.trigger(V.CRD_STATE_UPDATED,Ie),xe.info("CRD feature state ",o)}else t="CRD id not found in Achievements"}else t="Invalid response for GFWSL targetGfeAchievements";n||(xe.error(t),Ie=void 0,l.trigger(V.CRD_STATE_UPDATED,!1))})).catch((function(e){Ie=void 0,l.trigger(V.CRD_STATE_UPDATED,!1)})).finally((function(){Te=!1}))}}function de(){xe.info("onRefreshCRDFeatureState begin",Ce),!0===Ce&&(k.hasHardwareInfo()?c.when(!0):_.getSystemInfo().then((function(e){return xe.info("update hardware info"),k.updateHardwareInfo(e),!0}))).then((function(e){k.getParams().dIDa&&k.getParams().go?(xe.info("refresh CRD feature capability"),Te=!1,Ie=void 0,ue()):xe.info("no dIDa or GO params found in hardware info")}))}var fe=this;fe.timer=void 0,fe.scanCompleted=!0,fe.manualCheckForUpdate=!1;var me,pe,ge,ve,he,be=[],ye=null,Ee=null,Se={},_e=null,we=null,Ae=void 0,Te=!1,Ie=void 0,Ce=!0,xe=e.getInstance("main.updates/updatesService");fe.startDownload=function(e,t,n){return xe.info("start download for version",e," url ",t,"downloadType",n),h.start({version:e,url:t,downloadType:n})},fe.pauseDownload=function(e){return xe.info("pause download for taskid",e),h.pause({taskId:e})},fe.resumeDownload=function(e){return xe.info("resume download for taskid",e),h.resume({taskId:e}).then((function(e){return B(e.data),e}))},fe.stopDownload=function(e){return xe.info("stop download for taskid",e),h.stop({taskId:e}).then((function(e){return N.taskbarProgress("complete"),e}))},fe.setUpdatesListener=function(e){be.push(e)},fe.removeUpdatesListener=function(e){var t=be.indexOf(e);t>-1&&be.splice(t,1)},fe.canCheckForUpdate=function(){var e=!0;return fe.scanCompleted&&pe&&pe.forEach((function(t){t.downloadStatus.status!==n.TASK_PAUSED&&t.downloadStatus.status!==n.TASK_RUNNING&&t.downloadStatus.status!==n.TASK_RETRY||(e=!1)})),e},fe.checkForUpdates=function(e){!e||fe.canCheckForUpdate()?(fe.manualCheckForUpdate=e,xe.info("driver update scan starting.."),u.refresh().then((function(){})).catch((function(e){xe.error("UpdateService - start scan failed",e),l.trigger(d.SCAN_FAILED,{})}))):xe.info("driver download is initiated or scan is already in progress..")},fe.showNextInstallerForm=function(e){if(e.method===g.SHOW_FORM)switch(e.form){case a.NVIFORM_INSTALL_INITIAL:case a.NVIFORM_INSTALL_CHECKING:case a.NVIFORM_EULA:case a.NVIFORM_PRE_INSTALL_CHECK:case a.NVIFORM_INSTALL_CHECK_WARNINGS:i.showInstallerForm(e);break;case a.NVIFORM_INSTALL_REMOVE_PROGRESS:i.showInstallerForm(e);break;case a.NVIFORM_INSTALL_PROGRESS:i.showInstallerForm(e);break;case a.NVIFORM_INSTALL_FINISHED:case a.NVIFORM_INSTALL_FINISHED_NO_SUMMARY:w.push(A.UPDATES_INSTALL_DRIVER_SUCCEEDED),i.showInstallerForm(e);break;case a.NVIFORM_INSTALL_FAILED:i.showInstallerForm(e);break;case a.NVIFORM_INSTALL_REBOOT:i.showInstallerForm(e);break;case a.NVIFORM_INSTALL_START_FAILED:!function(e){if(e===I.NV_INSTALLER_UAC_CANCELED||e===I.NV_PACKAGE_EXTRACTION_UAC_CANCELED)i.cancel();else{var n={form:a.NVIFORM_INSTALL_START_FAILED,method:g.SHOW_FORM,constraintFailText:[],bullets:[],errorCode:e};switch(e){case I.NV_INSTALLER_ALREADY_RUNNING:n.constraintFailText[0]=t("translate")("l10n.otherInstallationRunning");break;case I.NV_EXTRACTION_MEMORY:n.constraintFailText[0]=t("translate")("l10n.insufficientMemory");break;case I.NV_EXTRACTION_NOT_ENOUGH_SPACE_OR_CORRUPT:n.constraintFailText[0]=t("translate")("l10n.extractionErrorHeader"),n.bullets[0]=t("translate")("l10n.extractionErrorNotEnoughSpace"),n.bullets[1]=t("translate")("l10n.extractionErrorCorrupt");break;default:n.constraintFailText[0]=t("translate")("l10n.anErrorOccured")}i.showInstallerForm(n)}}(e.errorCode);break;case a.NVIFORM_INSTALL_CHECK_WAIT:i.showInstallerForm(e);break;case a.NVIPROP_CUSTOM_INSTALL:i.showInstallerForm(e);break;case a.NVIFORM_INSTALL_REMOVE_REBOOT:i.showInstallerForm(e);break;case a.NVIFORM_INSTALL_CHECK_FAILED:i.showInstallerForm(e);break;default:i.showInstallerForm(e)}else i.showInstallerForm(e);return!0},fe.invokeInstallation=function(e,t,n){xe.info("start installation",e.version,e.name,t,n);var r=n?"":e.downloadStatus.extractedPath?e.downloadStatus.extractedPath:e.downloadStatus.downloadedLocation;E.start({},{driverLocation:r,isCustom:t,resumeInstall:n,isPfw:!e.downloadStatus.extractedPath,pfwLocation:e.downloadStatus.downloadedLocation}).then((function(){xe.info("successfully start installation ",e.name)})).catch((function(e){xe.error("failed to start installation error code:",e.data," status:",e.status," params:",e.config.data,e)}))},fe.beginInstallation=function(e,t,n){X(e).finally((function(){Q(e,t,n)}))},fe.showArticle=function(e,t){Se={content:e,driverVersion:t},L.show({controller:"ArticleInformationController",controllerAs:"vm",template:o.default,disableParentScroll:!1,locals:{getArticleCallback:ee},bindToController:!0})},fe.getUpdates=function(){return xe.info("getUpdates called"),me=u.get().then((function(e){return he=e.data,xe.info("UpdatesService - got update response",he),he.updates?function(e){var t,n=[];return angular.forEach(e,(function(e){var r={};r.name=e.name,r.version=e.version,r.releaseDateTime=e.releaseDateTime,r.isBeta=e.isBeta,r.downloadStatus={taskId:0,bytesDone:0,totalBytes:0,status:-1,timeRemaining:0,downloadSpeed:0,downloadedLocation:"",failureCount:0},r.downloadURL=e.downloadURL,r.isCRD=e.driverType,n.push(r),pe=n,t=h.getStatus({version:e.version,url:r.downloadURL}).then((function(e){return r.downloadStatus=e.data,B(r.downloadStatus),pe})).catch((function(e){return xe.error("download getStatus failed: ",e.data," status: ",e.status),pe}))})),t}(he.updates):c.reject("no updates available")})).catch((function(e){return xe.error("error getting driver updates:data ",e.data," status:",e.status),c.reject(e.data)})).finally((function(){me=void 0})),me.then((function(e){e&&e.forEach((function(e){te(e.version,e.isCRD)}))})),me},fe.getUpdateDetails=function(){return me||(pe?c.when(pe):he?c.reject("no updates available"):(xe.info("getUpdates called in updatedetails"),fe.getUpdates()))},fe.getInstalledDriver=function(){return ge||(ve?c.when(ve):(xe.info("getInstalledDriver called"),ge=_.getSystemInfo().then((function(e){return xe.info("getSystemInfo() returns installedDriver version ",e.DriverVersion),r.isNull(e)||r.isEmpty(e.DriverVersion)?c.reject("getSystemInfo() return empty installed driver version"):((ve={version:e.DriverVersion,downloadStatus:{taskId:0,bytesDone:0,totalBytes:0,status:-1,timeRemaining:0,downloadSpeed:0,downloadedLocation:""},isCRD:e.DriverType?JSON.parse(e.DriverType):U.GRD}).installDate=v.getInstallDate(ve),ve)})).catch((function(e){return xe.error("error getting installed driver version:data",e.data," status:",e.status),c.reject(e.data)})).then(Z).then(X).finally((function(){ge=void 0})),ge.then((function(e){te(e.version,e.isCRD)})),ge))},fe.initialize=function(){xe.info("updatesService.intiialize called"),F.onlineState&&(Ce=F.onlineState.online),l.on(C.ONLINE,ae),l.on(C.OFFLINE,le),l.on(C.GFWSL_LOCALE_PARAMS_UPDATED,de),l.on(C.GFWSL_GEOLOCAL_PARAMS_UPDATED,de),l.on(C.GFWSL_SYS_PARAMS_UPDATED,de),l.on(D.CONNECT,$),ce().finally((function(){_.getLaunchTimeSystemInfo().then((function(e){return xe.info("getLaunchTimeSystemInfo() returns installedDriver version ",e.DriverVersion),r.isNull(e)||r.isEmpty(e.DriverVersion)?c.reject("getLaunchTimeSystemInfo() return empty installed driver version"):ve={version:e.DriverVersion,downloadStatus:{taskId:0,bytesDone:0,totalBytes:0,status:-1,timeRemaining:0,downloadSpeed:0,downloadedLocation:""},isCRD:e.DriverType?JSON.parse(e.DriverType):U.GRD}})).catch((function(e){return xe.error("error init installed driver version:data",e.data," status:",e.status),c.reject(e.data)})).then(Z).then(X).then((function(e){te(e.version,e.isCRD)})),fe.getUpdateDetails(),T.initialize(),l.on(C.SYSTEMINFO_UPDATED,re),m.register(f.UPDATESCAN_UPDATE,d.SCAN_UPDATE),m.register(y.DOWNLOAD_PROGRESS_STATUS,b.PROGRESS),m.register(S.INSTALLER_SHOW_FORM,s.INSTALL_FORM),m.register(S.INSTALLER_PROGRESS_UPDATE,s.INSTALL_FORM),l.on(C.LOCALE_CHANGED,ne),i.unsubScribeDriverInstallationNotificationRegister(Y)}))},l.on(s.INSTALL_DONE,ne),l.on(d.SCAN_UPDATE,(function(e){xe.info("UpdatesService - got socket event  SCAN_UPDATE - ",e),e===p.STARTED?l.trigger(d.SCAN_STARTED):e===p.FINISHED?(l.trigger(d.SCAN_FINISHED),fe.manualCheckForUpdate=!1):e===p.FAILED&&(l.trigger(d.SCAN_FAILED),fe.manualCheckForUpdate=!1)})),l.on(d.SCAN_STARTED,(function(e){xe.info("UpdatesService - SCAN_STARTED"),ye=Date.now(),fe.scanCompleted=!1})),l.on(d.SCAN_FINISHED,(function(e){Ee=Date.now(),xe.info("Time taken to scan updates(ms):",Ee-ye),xe.info("UpdatesService - SCAN_FINISHED"),pe=void 0,he=null,fe.getUpdates(),W()})),l.on(d.SCAN_FAILED,(function(e){xe.error("UpdatesService - SCAN_FAILED"),fe.manualCheckForUpdate=!1,pe=void 0,he=null,w.push(A.UPDATES_CHECK_FOR_DRIVER_UPDATES_FAILED),fe.getUpdates(),W()})),fe.downloadTaskStatusUpdated=function(e){var t=!1,n=null;r.isUndefined(pe)||pe.forEach((function(n){n.downloadStatus.taskId===e.taskId&&(n.downloadStatus=e,t=!0)})),!t&&ve&&ve.downloadStatus&&ve.downloadStatus.taskId===e.taskId&&(ve.downloadStatus=e,t=!0),t&&z(e),v.getRollbackList().then((function(i){n=r.find(i,(function(t){return t&&t.downloadStatus&&t.downloadStatus.taskId===e.taskId})),n&&(n.downloadStatus=e,t||z(e))}))},l.on(b.PROGRESS,fe.downloadTaskStatusUpdated),fe.sendResponseToInstaller=function(e){xe.debug("UpdateService:sendResponseToInstaller - send response to installer ",e),E.changeState({},e).then((function(){xe.info("UpdateService - successfully sent response to installer")})).catch((function(e){xe.error("UpdateService - installersEndpoints.changeStatus failed",e)}))},fe.setDriverTypePreference=function(e){return r.isNull(we)||u.setDriverTypePreference.cancel(we),we=u.setDriverTypePreference({},{driverType:e}).then((function(t){return we=null,xe.info("setDriverType status:",t),Ae=e,he=null,pe=void 0,l.trigger(C.DRIVER_PREFERENCE_UPDATED,Ae),t.status})).catch((function(e){return we=null,xe.error("failed to setDriverType",e),c.reject(e)}))},fe.getDriverTypePreference=function(){return r.isUndefined(Ae)?_e||ce():c.when(Ae)},fe.isCRDFeatureSupported=function(){angular.isDefined(Ie)?(xe.info("isCRDFeatureSupported returned cached info",Ie),l.trigger(V.CRD_STATE_UPDATED,Ie)):(xe.info("isCRDFeatureSupported begin"),ue())},fe.serverWarning=!1,fe.getServerWarn=function(){return fe.serverWarning},fe.setServerWarn=function(e){fe.serverWarning=!0===e},fe.getDriverInformation=function(e,t){return T.getDriverInformation(e,t)},fe.getInstallationDriverData=function(e,t){return fe.getDriverTypePreference().then((function(n){return xe.info("getDriverTypePreference is",n),T.getInstallationDriverData(n,e,t)})).catch((function(n){return xe.error("getDriverTypePreference failed with error: ",n),T.getInstallationDriverData(U.GRD,e,t)}))},i.setSendResponseToInstallerRegister(fe.sendResponseToInstaller),i.setInvokeInstallationCallbackRegister(fe.invokeInstallation),fe.getDriverArticle=T.getArticleInformation}]));t.updatesService=a},,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvNoContentFallback=void 0;var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(n(762)),o=r.ngMainCommonModule.component("nvNoContentFallback",{bindings:{nvTip:"@",nvImageSrc:"@"},transclude:!0,template:i.default});t.nvNoContentFallback=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userGamesService=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),i=n(14);n(13),n(47),n(64),n(37),n(123);var o=i.ngGamesModule.service("userGamesService",["eventAggregator","GAME_EVENTS","gamesService","$log","dbCacheService","DB_NAMES","gfeSearchService","COMMON_EVENTS",function(e,t,n,i,o,a,l,s){function c(){return v.debug("updateUserGames"),n.getCachedGames().then((function(e){var t=r.map(e,(function(e){return e.id.toString()}));v.info("Games count in userGamesSet and newUserGamesSet is: ",p.length," and ",t.length);var n=r.difference(t,p);r.each(n,(function(e){m[e]=r.defaults(m[e]||{},{id:e,gameId:parseInt(e),favorite:!1,hidden:!1})})),m.persist_(),p=t})).catch((function(e){v.error("updateUserGames error")})).finally((function(){v.info("trigger usergamesupdated"),u(),g||(m.observe_(e.trigger.bind(null,t.USERGAMES_UPDATED)),g=!0)}))}function u(){l.checkSearchAvailability().then((function(e){if(e){var t={},i=f.getUserGames();if(i&&i.length){var o=["l10n.games"];r.forEach(i,(function(e){var r=n.getSystemGame(e.gameId);r&&r.displayName&&(t[r.displayName]={description:o,param:e.id})}))}l.buildStateIndex("main.auth.home.gamesAndFriends.gameDetails",t,{customStopWords:[]})}}))}var d,f=this,m={},p=[],g=!1,v=i.getInstance("main.games/userGamesService");f.getUserGames=function(){return r.map(p,(function(e){return r.clone(m[e])}))},f.getUserGame=function(e){var t=r.findWhere(f.getUserGames(),{id:e});return t?r.clone(t):(v.error("getUserGame failed",e),{})},f.updateFavoriteHiddenState=function(n,r,i){n&&(m[n]=m[n]||{},m[n].favorite=r,m[n].hidden=i,m.persist_(),e.trigger(t.USERGAME_UPDATED,m[n]))},f.initialize=function(n){v.info("initialize user games"),p=[],(m=o.getCachedUserItem(n.userId,a.JARVIS_GFE_STORE,a.JARVIS_GAME_LIST)).sync_().then((function(){d||(d=!0,e.on(t.GAMELIST_UPDATED,c)),c()})),e.on(s.LOCALE_CHANGED,u)},f.getInitializedOnce=function(){return g}}]);t.userGamesService=o},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvTelemetry=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),i=n(26);n(17);var o=i.ngTelemetryModule.directive("nvTelemetry",["telemetryService",function(e){return{restrict:"A",priority:1,link:function(t,n,i,o,a){function l(t){if(!t.defaultPrevented){var r=!0;if("nv-inline-dropdown"===s&&-1===n[0].attributes.class.nodeValue.indexOf("open")&&(r=!1,t.preventDefault()),"nv-accordion-pane"===s){if("a"===t.target.tagName.toLowerCase())return;-1!==n[0].attributes.class.nodeValue.indexOf("collapsed")&&(r=!1,t.preventDefault())}r&&(e.push(u.tarconID,u.url,u.eventMetaData),"a"!==s&&t.preventDefault())}}var s=n[0].tagName.toLowerCase(),c=r.propertyOf(i)("nvTelemetry"),u=c&&"string"==typeof c&&JSON.parse(c),d=i.$observe("nvTelemetry",(function(e){u=JSON.parse(e)}));n.on("click",l),t.$on("$destroy",(function(){d(),n.off("click",l),n.remove(),n=null}))}}}]);angular.forEach(["a","button","img"],(function(e){i.ngTelemetryModule.directive(e,["telemetryService",function(e){return{restrict:"E",link:function(e,t,n,r,i){if(!n.hasOwnProperty("nvTelemetry")){var o={};angular.forEach(n,(function(e,t){"string"==typeof e&&(o[t]=e)}))}}}}])})),t.nvTelemetry=o},,function(e,t,n){(e.exports=n(6)()).push([e.id,".crimson md-backdrop{background-color:#0e0e0e;opacity:.8}::selection{background:#478b06}.crimson-dialog-container-tall{height:538px}.crimson-dialog{min-width:408px;max-width:528px;max-height:538px;overflow-x:hidden;border-radius:0}.crimson-dialog.honeycomb-tall{min-height:406px;max-height:538px;width:408px;background-image:url("+n(148)+");background-size:100%}.crimson-dialog.honeycomb-tall-max{min-height:406px;max-height:594px;width:408px;background-image:url("+n(146)+");background-size:100%}.crimson-dialog.honeycomb-square{height:467px;width:528px;background-image:url("+n(147)+");background-size:100%}.crimson-dialog.feature-error-dialog{width:480px!important;height:152px!important}.crimson-dialog.feature-error-dialog h1{font-family:Roboto;font-size:12px!important;opacity:.75}.crimson-dialog.feature-error-dialog p{font-family:Roboto-Light;font-size:11px!important;opacity:.45}.common-window .feature-error-dialog .md-primary.md-hue-2.foreground{color:#fff!important}.crimson-dialog.honeycomb-tall-max md-dialog-content{padding-top:0}.crimson-dialog.honeycomb-square md-dialog-content,.crimson-dialog.honeycomb-tall md-dialog-content{padding-top:24px}.crimson-dialog .dialog-service-dialog-contents-title{margin:24px 24px 0;font-size:20px;font-weight:300;color:rgba(255,255,255,.9)}.crimson-dialog .dialog-service-dialog-contents-subtitle h2{margin:8px 0 0 24px;font-size:10px;font-weight:400}.crimson-dialog md-dialog-content .last-dialog-child,.crimson-dialog md-dialog-content ng-form:last-child,.crimson-dialog md-dialog-content:last-child{margin-bottom:0}.crimson-dialog .dialog-service-dialog-contents-subtitle a:link{color:#76b900;text-decoration:none}.crimson-dialog .dialog-service-dialog-contents-subtitle a:hover{color:#76b900;border:1px #76b900;border-bottom-style:dotted}.crimson-dialog .dialog-service-dialog-contents-subtitle a:active{color:rgba(118,185,0,.65);border:1px rgba(118,185,0,.65);border-bottom-style:dotted}.crimson-dialog error-div{height:48px;line-height:48px;margin-top:12px;padding-left:24px;padding-right:24px;font-size:10px;font-weight:400;color:#fff;color:rgba(255,255,255,.6);background-color:#303030}.crimson-dialog error-div span{display:inline-block;vertical-align:middle;line-height:normal}.crimson-dialog md-dialog-content{font-size:12px;font-weight:400;color:#fff;color:rgba(255,255,255,.6);padding:24px;width:initial}.crimson-dialog md-dialog-content p:first-child{margin-top:0}.crimson-dialog .md-actions{padding:0}.crimson-dialog .md-actions button:first-child{margin-right:8px}.crimson-dialog waiting-overlay{position:absolute;background-color:rgba(14,14,14,.7);z-index:5}.crimson-dialog-progress-bar{height:5px;position:absolute;width:100%}.crimson-dialog .dialog-service-dialog-contents-image{width:245px;height:317px}.crimson-dialog .dialog-email-verification{position:absolute;left:0;top:0;padding:24px;height:100%;width:100%;box-sizing:border-box}.crimson-dialog .dialog-email-verification-email{margin-top:136px;margin-bottom:112px}.crimson-dialog .dialog-logo img{margin-top:104px;margin-bottom:12px}.crimson-dialog .dialog-progress md-progress-circular{margin-top:128px;margin-bottom:36px}.common-window .dialog-service-container-size a,.crimson-dialog md-dialog-content[nv-dialog-html] a{color:#76b900;opacity:1;text-decoration:none}.common-window .dialog-service-container-size a:focus::after,.common-window .dialog-service-container-size a:hover,.common-window .dialog-service-container-size a[selected],.crimson-dialog md-dialog-content[nv-dialog-html] a:focus::after,.crimson-dialog md-dialog-content[nv-dialog-html] a:hover,.crimson-dialog md-dialog-content[nv-dialog-html] a[selected]{cursor:pointer;color:#76b900;border-bottom:1px dotted;text-decoration:none}.common-window .dialog-service-container-size a:focus::after,.common-window .dialog-service-container-size a:hover::after,.common-window .dialog-service-container-size a[selected]::after,.crimson-dialog md-dialog-content[nv-dialog-html] a:focus::after,.crimson-dialog md-dialog-content[nv-dialog-html] a:hover::after,.crimson-dialog md-dialog-content[nv-dialog-html] a[selected]::after{color:#fff;opacity:.75;content:'\\e921';padding-right:3px;font-size:11px;padding-left:2px;vertical-align:middle;line-height:11px;display:inline-block;font-family:nvCustomIcons}.crimson .md-datepicker-container .md-datepicker-button,.crimson-dialog md-dialog-content[nv-dialog-html] .expandedInfo .crimson-dialog.article-content .expandedInfo,.crimson-dialog md-dialog-content[nv-dialog-html] .return-to-top,.crimson-dialog md-dialog-content[nv-dialog-html] .toc,.crimson-dialog.article-content .return-to-top,.crimson-dialog.article-content .toc{display:none}.crimson-dialog md-dialog-content[nv-dialog-html],.crimson-dialog md-dialog-content[nv-license-agreement],.crimson-dialog md-dialog-content[nv-open-source-licenses]{margin:24px 0;padding:0 24px}.crimson-dialog.feedback-dialog .dialog-service-dialog-contents-title{font-size:12px;text-transform:uppercase}.crimson-dialog .dialog-service-dialog-contents-title .feature-error-dialog{font-size:12px!important}.common-window .feature-error-dialog md-dialog-content{overflow-y:hidden!important;margin-top:-12px!important}.crimson-dialog.article-content md-dialog-content{overflow-x:hidden;margin:0 0 5px;padding:0}.crimson-dialog.article-content{background-image:none;max-height:80vh;min-height:250px;min-width:678px;max-width:678px;transition:all;transform:translate(0,0) scale(1);animation-delay:0s;transition-delay:0s}.crimson-dialog.article-content .dialog-service-dialog-contents-sub-title{font-size:12px;margin-left:24px;margin-bottom:24px;color:rgba(255,255,255,.45);font-weight:lighter;margin-top:0}.crimson-dialog.article-content .dialog-service-dialog-contents-title{font-size:20px;margin-left:24px;color:rgba(255,255,255,.9);font-weight:300;height:100%;line-height:normal}.crimson-dialog .scroll-overlay-top-gradient{height:30px;margin-left:24px;margin-right:24px;background:linear-gradient(#1c1c1c,rgba(28,28,28,0));top:0}.crimson-dialog .scroll-overlay-bottom-gradient{height:30px;margin-left:24px;margin-right:24px;background:linear-gradient(rgba(28,28,28,0),#1c1c1c);bottom:24px;top:auto}.crimson-dialog .dialog-service-dialog-contents-close-button{float:right}.crimson-dialog .dialog-service-dialog-contents-back-button{float:left}.crimson-dialog .dialog-service-dialog-contents-back-button.md-icon-button,.crimson-dialog .dialog-service-dialog-contents-close-button.md-icon-button{margin-top:10px;margin-right:8px}.crimson-dialog .dialog-service-dialog-contents-back-button md-icon:hover,.crimson-dialog .dialog-service-dialog-contents-close-button md-icon:hover{color:rgba(255,255,255,.9)}.crimson-dialog .dialog-service-dialog-contents-footer{min-height:0}.crimson .md-label{color:#fff;color:rgba(255,255,255,.45)}.crimson md-input-container{position:relative;padding:0;transition:height .25s;min-height:initial}.crimson md-input-container .md-input,.crimson md-input-container md-select{font-size:12px;font-weight:400;text-shadow:none;margin-top:16px;margin-bottom:8px}.crimson md-input-container label{font-size:12px;font-weight:400;text-shadow:none;bottom:inherit}.crimson md-input-container.md-input-focused label:not(.md-no-float),.crimson md-input-container.md-input-has-value label:not(.md-no-float){transform:perspective(1px) translate3d(0,8px,0) scale(.9)}.crimson .md-datepicker-container [ng-message],.crimson md-input-container [data-ng-message],.crimson md-input-container [ng-message],.crimson md-input-container [x-ng-message],.crimson md-input-container data-ng-message,.crimson md-input-container ng-message,.crimsong md-input-container x-ng-message{font-size:11px;padding-top:0}.crimson md-input-container .md-errors-spacer{min-height:0}.crimson md-input-container [ng-message-exp] div,.crimson md-input-container [ng-message] div,.crimson md-input-container [ng-messages] div{color:gray;color:rbga(255,255,255,.45)}.crimson md-input-container.md-default-theme:not(.md-input-invalid).md-input-focused label:not(.md-no-float),.crimson md-input-container:not(.md-input-invalid).md-input-focused label:not(.md-no-float){color:#76b900}.crimson md-input-container.md-default-theme:not(.md-input-invalid).md-input-focused .md-input,.crimson md-input-container:not(.md-input-invalid).md-input-focused .md-input{border-color:#76b900}.crimson .md-datepicker-input-container.md-datepicker-invalid,.crimson .md-default-theme .md-datepicker-input-container.md-datepicker-invalid,.crimson md-input-container.md-input-invalid .md-input{border-color:#b5291c}.crimson md-input-container.md-input-invalid [ng-message-exp] div:not(.md-char-counter),.crimson md-input-container.md-input-invalid [ng-message] div:not(.md-char-counter),.crimson md-input-container.md-input-invalid [ng-messages] div:not(.md-char-counter){color:#b5291c}.crimson md-input-container.md-default-theme.md-input-invalid label,.crimson md-input-container.md-input-invalid label{color:gray;color:rgba(255,255,255,.45)}.crimson md-checkbox{margin-bottom:0}.crimson md-checkbox div{line-height:20px}.crimson .md-datepicker-container{min-height:initial}.crimson md-datepicker{padding-right:0;min-height:32px;margin:16px 0 0}.crimson .md-datepicker-input{font-size:12px;font-weight:400;text-shadow:none;color:#fff;color:rgba(255,255,255,.45)}.crimson .md-datepicker-container .md-datepicker-triangle-button{right:4px}.crimson .md-datepicker-input-container{margin-left:0}.crimson .md-datepicker-container [ng-message],.crimson .md-datepicker-container [ng-messages]{color:#b5291c}.crimson .md-datepicker-container .md-errors-spacer{min-height:0}.crimson-dialog md-input-container+md-input-container{margin-top:12px}.crimson .md-datepicker-container+md-checkbox,.crimson md-input-container+md-checkbox{margin-top:32px}.crimson md-checkbox+.md-datepicker-container{margin-top:20px}.crimson md-checkbox+md-checkbox{margin-top:24px}.crimson .md-button:not(.md-icon-button):not(.md-fab),.crimson md-menu-item>.md-button{font-size:12px;font-weight:500;height:36px;min-width:64px;padding-left:16px;padding-right:16px;border-radius:0}.crimson-dialog .dialog-service-dialog-contents-subtitle{margin:8px 0 0 24px}",""])},,function(e,t,n){e.exports=n.p+"dialogbox-honeycomb-max.png"},function(e,t,n){e.exports=n.p+"dialogbox-honeycomb-square.png"},function(e,t,n){e.exports=n.p+"dialogbox-honeycomb-tall.png"},,,,,,,,,function(e,t,n){var r=n(144);"string"==typeof r&&(r=[[e.id,r,""]]),n(7)(r,{}),r.locals&&(e.exports=r.locals)},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvBindHtmlCompile=void 0;var r=n(1).ngMainCommonModule.directive("nvBindHtmlCompile",["$compile",function(e){return{restrict:"A",link:function(t,n,r){var i,o=angular.element("<placeholder></placeholder>");n.append(o),r.$observe("nvBindHtmlCompile",(function(n){n&&(i=e(n)(t),o.replaceWith(i),o=i)}))}}}]);t.nvBindHtmlCompile=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvFallbackSrc=void 0;var r=n(1).ngMainCommonModule.directive("nvFallbackSrc",(function(){var e={link:function(e,t,n){function r(){n.nvFallbackSrc!=angular.element(this).attr("src")&&angular.element(this).attr("src",n.nvFallbackSrc)}t.on("error",r),e.$on("$destroy",(function(){t.off("error",r)}))}};return e}));t.nvFallbackSrc=r},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvInputDirective=void 0;var r=n(1).ngMainCommonModule.directive("nvInput",[function(){return{restrict:"A",require:["^^form","ngModel"],compile:function(e){var t=e.attr("name");return e.attr("spellcheck",!1),function(e,n,r,i){var o=i[0];i[1].$options={updateOn:"blur"},n.bind("focus",(function(){o[t].$setUntouched(),e.$digest()}))}}}}]);t.nvInputDirective=r},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ngMainModule=void 0;var r=n(24),i=n(1),o=n(9),a=n(14),l=n(10),s=n(4),c=n(53),u=n(26),d=n(190),f=n(8),m=n(136),p=angular.module("main",[r.ngMainConstantsModule.name,i.ngMainCommonModule.name,"main.common.config",o.ngOobeModule.name,a.ngGamesModule.name,l.ngUpdatesModule.name,s.ngPreferencesModule.name,c.ngRewardsModule.name,u.ngTelemetryModule.name,d.ngSearchModule.name,f.ngUserProfileModule.name,m.ngGfnCloudGamesModule.name,"ngMaterial","ngResource","pascalprecht.translate","ui.router","ui.layout","ngAnimate","bm.uiTour"]);t.ngMainModule=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notificationsService=void 0;var r=n(229),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3));n(52),n(23);var o=r.ngNotificationsModule.service("notificationsService",["$log","NOTIFICATION_EVENTS","eventAggregator",function(e,t,n){function r(){n.trigger(t.NEW_NOTIFICATION,{notifications:l}),l=[]}function o(e){l.push.apply(l,e),s&&r()}function a(){s=!0,i.isEmpty(l)||r()}var l=(e.getInstance("main.notifications/notificationsService"),[]),s=!1;this.initialize=function(){n.on(t.REQUEST_NOTIFICATION,o),n.on(t.VIEWSTATE_INITIALIZED,a)}}]);t.notificationsService=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeGamesService=void 0;var r=n(9);n(135),n(47);var i=r.ngOobeModule.service("oobeGamesService",["$log","gamesService","userGamesService","jarvisService","eventAggregator","GAME_EVENTS","OOBE_SCAN_STATE","OOBE_EVENTS","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","oobeTelemetryService",function(e,t,n,r,i,o,a,l,s,c,u){function d(){var e=t.getGamesCount();S.info("scan games done",e,y),E=a.FINISHED,i.trigger(l.SCAN_FINISHED,e),S.debug("unregister game scan events"),i.off(o.SCAN_FINISHED,f),i.off(o.SCAN_FAILED,m),i.off(o.GAMELIST_UPDATED,p),i.off(o.GAMELIST_CREATED,p),i.off(o.SCAN_PROGRESS,g),s.endLoad(c.OOBE_SCANGAME_DURATION,b),w&&t.handleOobeAutoOptimizeSelection(y)}function f(){S.info("scan games finished"),d()}function m(){S.error("scan games failed"),t.getCachedGames().finally(d)}function p(){var e=t.getGamesCount();S.info("game list updated ",e),i.trigger(l.GAMELIST_UPDATED,e)}function g(e){S.info("scan progress updated ",e),i.trigger(l.SCAN_PROGRESS,e)}function v(){var e;S.info("scanGames - notify ootb started"),t.ootbStarted(),S.debug("register game scan events"),i.on(o.SCAN_FINISHED,f),i.on(o.SCAN_FAILED,m),i.on(o.GAMELIST_UPDATED,p),i.on(o.GAMELIST_CREATED,p),i.on(o.SCAN_PROGRESS,g),i.on(l.OOBE_DONE,h),_=!0,t.initialize(!0).then((function(){S.info("scanGames -start local scan"),t.scanLocalGames(!0)})).catch((function(){S.info("scanGames -initialize failed"),m()})),e=r.getLoggedInUser(),n.initialize(e)}function h(){w=!0,E===a.FINISHED&&t.handleOobeAutoOptimizeSelection(y),i.off(l.OOBE_DONE,h)}var b,y,E,S=e.getInstance("main.oobe/oobeGamesService"),_=!1,w=!1,A=this;A.startScan=function(e){b=s.startLoad(c.OOBE_SCANGAME_DURATION),S.info("start OOBE scan",e),E=a.SCANNING,A.setAutoOptimizeGames(e),v()},A.getScanState=function(){return E},A.getGamesCount=function(){return t.getGamesCount()},A.initializeGames=function(e){_?S.info("games already initialized"):(S.info("start initializing games"),_=!0,t.initialize(!1)),n.initialize(e)},A.setAutoOptimizeGames=function(e){u.changeSetting("APPLICATION_SETTING_AUTO_OPTIMIZE_NEW_GAMES",e),y=e}}]);t.oobeGamesService=i},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvAccordionPane=t.nvAccordion=void 0;var r=n(1);n(330);var i=r.ngMainCommonModule.directive("nvAccordion",["ACCORDION_MODES",function(e){return{restrict:"E",transclude:!0,scope:{nvAccordionMode:"@"},template:'<div flex layout="column" ng-transclude></div>',controller:"AccordionController",link:function(t,n,r,i,o){n.attr("layout","column"),r.nvAccordionMode===e.ONLY_ONE?n.addClass("common-accordion-only-one"):r.nvAccordionMode===e.ALWAYS_ONE?n.addClass("common-accordion-always-one"):n.addClass("common-accordion-multiple"),n.addClass("common-accordion")}}}]),o=r.ngMainCommonModule.directive("nvAccordionPane",["$compile",function(e){return{restrict:"E",require:"^nvAccordion",transclude:!0,scope:{nvStartExpanded:"@",nvOnExpand:"&",nvOnExpandOne:"&",nvOnCollapse:"&"},template:'<div ng-transclude flex layout="column"></div>',link:function(t,n,r,i){function o(e){var t,n;for(t in e.path){if((n=angular.element(e.path[t])).attr("ng-click"))return;if("nv-accordion-pane-header"===n[0].localName)break}i.onClick(l)}var a,l,s,c=n,u=n.find("nv-accordion-pane-header"),d=n.find("nv-accordion-pane-content");s={onExpand:function(e){e?(c.removeClass("collapsed"),t.nvOnExpand({index:l})):(c.addClass("collapsed"),t.nvOnCollapse({index:l}))},isExpanded:function(){return!c.hasClass("collapsed")}},c.attr("flex",""),c.attr("layout","column"),a=u.wrap("<nv-accordion-pane-header-wrapper></nv-accordion-pane-header-wrapper>"),u.on("click",o);a.append(e('<md-icon md-font-set="material-icons" class="md-18">keyboard_arrow_down</md-icon>')(t));d.wrap("<nv-accordion-pane-content-wrapper flex></nv-accordion-pane-content-wrapper"),l=i.addPane(s),s.onExpand("true"===t.nvStartExpanded);var f=r.$observe("nvStartExpanded",(function(e){s.onExpand("true"===e)}));t.$on("$destroy",(function(){f(),i.removePane(s),null,d=null,null,u.off("click",o),u=null,a=null,c.empty(),c.remove(),c=null,l=null,s=null})),n.on("$destroy",(function(){t.$destroy()}))}}}]);t.nvAccordion=i,t.nvAccordionPane=o},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.cevoService=void 0;var i=r(n(27)),o=r(n(12)),a=n(1);n(203);var l=r(n(239)),s=a.ngMainCommonModule.service("cevoService",["$log","$q","$state","eventAggregator","cevoEndpoint","gfeGeolocationService","gfeService","jarvisService","localeService","telemetryService","gamesService","COMMON_EVENTS","DB_NAMES","GFECLIENT_CONFIG","IMAGE_UPDATE_STATE","NOTIFICATION_CATEGORY","NOTIFICATION_EVENTS","PREFETCH_EVENTS","TELEMETRY_AFFINITY_ACTION","TELEMETRY_AFFINITY_API_NAME","TELEMETRY_AFFINITY_ELEMENT","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_ORIGINAL_SERVICE_NAME","USER_PROFILE_EVENTS","PROFILE_EVENTS","MISSION_CONSTANTS","MISSION_TYPE","USER_PROFILE_TAB_NAMES","USER_PROFILE_DIALOG_NAMES","USER_PROFILE_ERRORS","LEVELS","httpTelemetryService",function(e,t,n,r,a,s,c,u,d,f,m,p,g,v,h,b,y,E,S,w,A,T,I,C,x,D,M,O,R,N,L,P){function k(e,t,n,r){var i="",a=r||I.CEVO,l=t&&t.config&&t.config.url?t.config.url:"",s=t&&t.status?t.status:0;t&&t.data&&(t.status<200||t.status>=300)&&(i=(0,o.default)(t.data)),P.sendSdkHttpTelemetry(s>0,c.onlineState.online,v.cevo.server,n,s,l,i,a,e)}function G(e){if(!_.isEmpty(e)&&_.isObject(e)){var t=[],n=null;for(var i in e)try{n=e[i].file.url,t.push(n)}catch(e){K.error("failed to extract asset url for key - "+i,e.message)}t.length&&r.trigger(E.PREFETCH_RESOURCES,t)}}function F(e){return _.isEmpty(e)?void K.info("no notifications to show"):(K.info("showing ",e.length," notification(s)"),void r.trigger(y.REQUEST_NOTIFICATION,e))}function U(e,n,r,i){if(i&&!Y.getFeatureEnabled(i)){K.info("rejecting request for",i);var o=new B(N.REQUEST_REJECTED);return t.reject(o)}if(n)return n.promise;if(r)e=null,n=null;else if(e)return t.resolve(e);return null}function V(e){ne={extendedProfile:null,activityLog:null,currentGiveaway:null,userMissions:null,userAchievements:null,giveawayEntryDetails:{},xpLevel:null},e?Y.initializeSession():(ee=null,Q.token=null,Q.expires=null,Z=!1,ve={},ge={achievements:!1,activityLog:!1,featuredReward:!1,missions:!1,profileStatus:!1},r.off(p.LOGIN_STATUS_CHANGE,V))}function z(e){return e||(ee||(ee=u.getLoggedInUser()),e=ee.userId),e}function B(e,t,n){this.errorType=n||N.API_ERROR,this.error=e,this.details=t||"",this.toString=function(){return this.errorType.concat(",",this.error,",",function(e){return _.isString(e)?e:(0,o.default)(e)}(this.details))}}function $(e,t,n){if(e instanceof B)return e;var r="";try{r=e.data.errors}catch(t){K.error("got an exception while getting error",t.message,e)}return new B(t,r,n)}function W(e){return parseInt(e)+X+pe}function H(e,t,n,r){K.info("notification clicked",e),Y.gotoUserProfile(t,n,void 0,r)}function j(e){Y.gotoUserProfile(e.tabName,e.dialogParams,e.rewardsPackageId,e.callback)}function q(e){e&&r.trigger(C.OPEN_DIALOG,e)}var Y=this,K=e.getInstance("main.common/cevoService"),Q={token:null,expires:null},Z=!1,X=0,J={},ee=u.getLoggedInUser(),te=l.default,ne={extendedProfile:null,activityLog:null,currentGiveaway:null,userMissions:null,userAchievements:null,giveawayEntryDetails:{},xpLevel:null},re=null,ie=null,oe=null,ae=null,le=null,se=null,ce=null,ue={},de=null,fe=!1,me=!1,pe=5e3,ge={achievements:!1,activityLog:!1,featuredReward:!1,missions:!1,profileStatus:!1},ve={};Y.getUserAvatar=function(e){var n=new Date,r=t.defer();return Y.callSessionApi(a.avatar.get,{id:e,locale:d.getCurrentLocale().code}).then((function(e){n=new Date-n,J.avatar=e.data.data.last_modified_stampMicro,e.data.data.avatars.length>0?r.resolve(e.data.data.avatars):r.reject("NOT AVAILABLE"),k(w.GET_AVATAR,e,n)})).catch((function(e){n=new Date-n,K.error("getUserAvatar failed with error",e),"NOT AVAILABLE"!==e&&k(w.GET_AVATAR,e,n),r.reject(e)})),r.promise},Y.saveUserAvatar=function(e,n){var i=new Date,o=t.defer();return r.trigger(h.AVATAR_UPDATE_STARTED),fe=!0,Y.callSessionApi(a.avatar.upload,{},{user_id:e,locale:d.getCurrentLocale().code,image:n}).then((function(e){i=new Date-i,K.info("saveUserAvatar success!"),J.avatar=e.data.data.last_modified_stampMicro,Y.refresh(),r.trigger(h.AVATAR_UPDATE_SUCCESSFULL),o.resolve(e.data.data.avatar),k(w.UPLOAD_AVATAR,e,i)})).catch((function(e){i=new Date-i,K.error("saveUserAvatar failed with error",e),r.trigger(h.AVATAR_UPDATE_FAILED,{error:e,userId:ee.userId}),k(w.UPLOAD_AVATAR,e,i),o.reject(e)})).finally((function(){fe=!1})),o.promise},Y.getAvatarUploadInProgress=function(){return fe},Y.saveUserAvatarUrl=function(e,n){var r=new Date,i=t.defer();return Y.callSessionApi(a.avatar.saveUrl,{},{user_id:e,locale:d.getCurrentLocale().code,url:n,height:500,width:500}).then((function(e){r=new Date-r,K.info("saveUserAvatarUrl success!",e),Y.refresh(),i.resolve(e.data.data.avatar),k(w.UPLOAD_AVATAR,e,r)})).catch((function(e){r=new Date-r,K.error("saveUserAvatarUrl failed with error",e),k(w.UPLOAD_AVATAR,e,r),i.reject(e)})),i.promise},Y.getUserCover=function(e){e=z(e);var n=new Date,i=t.defer();return Y.callSessionApi(a.cover.get,{id:e,locale:d.getCurrentLocale().code}).then((function(e){n=new Date-n,J.cover=e.data.data.last_modified_stampMicro,de=e.data.data.covers,e.data.data.covers.length>0?(r.trigger(E.PREFETCH_RESOURCES,[e.data.data.covers[0].file.url]),i.resolve(e.data.data.covers)):i.reject("NOT AVAILABLE"),k(w.GET_COVER,e,n)})).catch((function(e){K.error("getUserCover failed with error",e),n=new Date-n,"NOT AVAILABLE"!==e&&k(w.GET_COVER,e,n),i.reject(e)})),i.promise},Y.saveUserCover=function(e,n){var i=new Date,o=t.defer();return r.trigger(h.COVER_UPDATE_STARTED),me=!0,Y.callSessionApi(a.cover.upload,{},{user_id:e,locale:d.getCurrentLocale().code,image:n}).then((function(e){i=new Date-i,K.info("saveUserCover success!"),de=e.data.data.cover,J.cover=e.data.data.last_modified_stampMicro,Y.refresh(),r.trigger(h.COVER_UPDATE_SUCCESSFULL),o.resolve(e.data.data.cover),k(w.UPLOAD_COVER,e,i)})).catch((function(e){i=new Date-i,K.error("saveUserCover failed with error",e),r.trigger(h.COVER_UPDATE_FAILED,{error:e,userId:ee.userId}),k(w.UPLOAD_COVER,e,i),o.reject(e)})).finally((function(){me=!1})),o.promise},Y.getCoverUploadInProgress=function(){return me},Y.deleteUserCover=function(e){r.trigger(h.COVER_UPDATE_STARTED);var n=t.defer();if(de&&de.length){var i=new Date;Y.callSessionApi(a.cover.remove,{locale:d.getCurrentLocale().code,id:de[0].id}).then((function(e){i=new Date-i,K.info("cover delete success",e),Y.refresh(),J.cover=e.data.data.last_modified_stampMicro,de=[],r.trigger(h.COVER_UPDATE_SUCCESSFULL),n.resolve(e),k(w.DELETE_COVER_IMAGE,e,i)})).catch((function(e){i=new Date-i,K.error("cover delete failed",e),r.trigger(h.COVER_UPDATE_FAILED),k(w.DELETE_COVER_IMAGE,e,i),n.reject(e)}))}else r.trigger(h.COVER_UPDATE_SUCCESSFULL),n.resolve();return n.promise},Y.getUserImages=function(e){e=z(e);var n=new Date,r=t.defer();return Y.callSessionApi(a.images.get,{id:e,locale:d.getCurrentLocale().code}).then((function(e){n=new Date-n,e.data.data.images.length>0?r.resolve(e.data.data.images):r.reject("NOT AVAILABLE")})).catch((function(e){K.error("getUserImages failed with error",e),n=new Date-n,r.reject(e)})),r.promise},Y.saveUserImage=function(e,n,r){var i=new Date,o=t.defer();return Y.callSessionApi(a.images.upload,{},{user_id:e,locale:d.getCurrentLocale().code,tag:r,image:n}).then((function(e){K.info("saveUserImage success!"),i=new Date-i,o.resolve(e.data.data.image)})).catch((function(e){K.error("saveUserImage failed with error",e),i=new Date-i,o.reject(e)})),o.promise},Y.hasSession=function(){return!!(Q.token&&Q.expires>Date.now())},Y.getUserData=function(e){var n=void 0;switch(e){case g.AVATAR:n=Y.getUserAvatar(ee.userId);break;case g.COVER:n=Y.getUserCover(ee.userId);break;case g.MY_RIG:n=Y.getUserImages(ee.userId);break;default:return K.error("Undefined block key received."),t.reject("Undefined block key received.")}return n.then((function(e){return{ts:e[0].stampMicro,url:e[0].file.url}})).catch((function(e){return{}}))},Y.saveUserData=function(e,n){var r=void 0,i=void 0,o=S.UPLOADED;if(0!==n.url.indexOf("http")&&0!==n.url.indexOf("data")&&n.url!=te)return t.reject("Un-supported data format received.");switch(e){case g.AVATAR:i=A.AVATAR_IMAGE,r=0===n.url.indexOf("http")?Y.saveUserAvatarUrl(ee.userId,n.url):Y.saveUserAvatar(ee.userId,n.url);break;case g.COVER:n.url===te?(i=A.COVER_IMAGE,o=S.USE_DEFAULT,r=Y.deleteUserCover(ee.userId)):(i=A.COVER_IMAGE,r=Y.saveUserCover(ee.userId,n.url));break;case g.MY_RIG:i=A.RIG_IMAGE,r=Y.saveUserImage(ee.userId,n.url,g.MY_RIG);break;default:return K.error("Undefined block key received."),t.reject("Undefined block key received.")}return r.then((function(e){var t;return t=n.url===te?{ts:e?e.data.data.last_modified_stampMicro:null,url:n.url}:{ts:e[0].stampMicro,url:e[0].file.url},i!==A.RIG_IMAGE&&f.push(T.USER_CUSTOMIZE_PROFILE,{customizedResource:i,action:o,description:t&&t.url||""}),t}))},Y.getUserMissions=function(e){var n=U(ne.userMissions,ie,e,"missions");if(n)return n;ie=t.defer();var i=new Date,o=null;return Y.callSessionApi(a.mission.userMission,{id:ee.userId,locale:d.getCurrentLocale().code}).then((function(e){i=new Date-i;var t=null,n=[],a={featuredMissions:[],repeatableMissions:[],timelessMissions:[]};J.missions=e.data.data.last_modified_stampMicro;try{e.data.data.missions.forEach((function(e){e.endStampMicro&&(e.endStampAdjusted=W(e.endStampMicro)),e.cta&&e.cta.endStampMicro&&(e.cta.endStampAdjusted=W(e.cta.endStampMicro)),e.cta&&e.cta.startStampMicro&&(e.cta.startStampAdjusted=W(e.cta.startStampMicro)),e.featured=+e.featured,e.tokens=+e.tokens,e.missionType=function(e){return e.featured===D.TRUE?M.FEATURED_MISSION:e.tokens!=D.FALSE?M.TOKEN_MISSION:M.REGULAR_MISSION}(e),e.missionType===M.FEATURED_MISSION?(a.featuredMissions.push(e),t=function(e){var t=void 0;try{t=e.assets.notification.file.url}catch(e){t="#",K.error("failed to extract notification image - ",e.message)}return{artWork:t,artWorkHighRes:"#",callbackData:"mission-"+e.id,callbackFunction:function(t){var n={id:e.id,name:R.MISSION_DETAILS_DIALOG};H(t,O.DEFAULT_TAB,n,q.bind(null,n))},clickToRemove:!0,heading:{text:"l10n.missionAvailable"},description:{text:e.name},telemetryDescription:e.name,type:e.missionType===M.FEATURED_MISSION?b.AFFINITY_ANNOUNCEMENT_FEATURED_MISSION:b.AFFINITY_ANNOUNCEMENT_MISSION}}(e),n.push(t)):e.repeatable==D.TRUE?a.repeatableMissions.push(e):a.timelessMissions.push(e),G(e.assets)})),F(n),ne.userMissions=a,ie.resolve(ne.userMissions),r.trigger(x.MISSIONS_REFRESHED,ne.userMissions),k(w.GET_USER_MISSIONS,e,i)}catch(t){K.error("getUserMissions exception",t.message,e),o=new B(N.MISSIONS_FAILED,t.message,N.API_EXCEPTION),ie.reject(o)}})).catch((function(e){i=new Date-i,k(w.GET_USER_MISSIONS,e,i),o=$(e,N.MISSIONS_FAILED),ie.reject(o)})).finally((function(){ie=null})),ie.promise},Y.getExtendedProfile=function(e){var n=U(ne.extendedProfile,oe,e);if(n)return n;oe=t.defer();var i=new Date,o=null;return ee=u.getLoggedInUser(),Y.callSessionApi(a.profile.getExtended,{id:ee.userId,locale:d.getCurrentLocale().code}).then((function(e){i=new Date-i,J.extendedprofile=e.data.data.last_modified_stampMicro;try{if(_.isEmpty(e.data.data.profile))throw{message:"Got empty response"};var t=e.data.data.profile;if(t.xp=+t.xp,t.rewardTokens=+t.rewardTokens,t.xplevel.level=+t.xplevel.level,t.xplevel.lbound=+t.xplevel.lbound,t.xplevel.ubound=+t.xplevel.ubound,t.xplevel.level>1){G(t.xplevel.assets);var n=function(e){var t=void 0;try{t=e.xplevel.assets.notification.file.url}catch(e){t="#",K.error("failed to extract notification image - ",e.message)}return[{artWork:t,artWorkHighRes:"#",callbackData:"level-"+e.xplevel.level,callbackFunction:function(e){H(e,O.REWARDS_TAB)},clickToRemove:!0,heading:{text:"l10n.leveledUpTitle",values:{levelName:e.xplevel.name}},description:{text:"l10n.leveledUpDescription"},telemetryDescription:e.xplevel.name,type:b.PROFILE_LEVEL_UP}]}(t);F(n)}ne.extendedProfile=t,oe.resolve(t),r.trigger(C.EXTENDED_PROFILE_REFRESH,t)}catch(t){K.error("getExtendedProfile exception",t.message,e),o=new B(N.EXTENDED_PROFILE_FAILED,t.message,N.API_EXCEPTION),oe.reject(o)}k(w.GET_EXTENDED_PROFILE,e,i)})).catch((function(e){i=new Date-i,K.error("getExtendedProfile failed with",e),k(w.GET_EXTENDED_PROFILE,e,i),o=$(e,N.EXTENDED_PROFILE_FAILED),oe.reject(o)})).finally((function(){oe=null})),oe.promise},Y.getActivityLog=function(e){var n=U(ne.activityLog,ae,e,"activityLog");if(n)return n;ae=t.defer();var i=new Date;return Y.callSessionApi(a.profile.activityLog,{id:ee.userId,locale:d.getCurrentLocale()}).then((function(e){i=new Date-i,J.activitylog=e.data.data.last_modified_stampMicro,ne.activityLog=e,ae.resolve(e),r.trigger(x.ACTIVITY_LOG_REFRESHED,e),k(w.GET_ACTIVITY_LOG,e,i)})).catch((function(e){i=new Date-i,k(w.GET_ACTIVITY_LOG,e,i);var t=$(e,N.ACTIVITY_LOG_FAILED);ae.reject(t)})).finally((function(){ae=null})),ae.promise},Y.getXpLevel=function(e){var n=U(ne.xpLevel,ce,e);if(n)return n;var i={locale:d.getCurrentLocale()};ce=t.defer();var o=new Date;return Y.callSessionApi(a.profile.xpLevels,i).then((function(e){o=new Date-o,J.xplevel=e.data.data.last_modified_stampMicro,ne.xpLevel=e,ce.resolve(e),r.trigger(x.XP_LEVEL_REFRESHED,e),k(w.GET_XP_LEVELS,e,o)})).catch((function(e){o=new Date-o,K.error("getXpLevelError failed with",e),k(w.GET_XP_LEVELS,e,o);var t=$(e,N.XP_LEVELS_FAILED);ce.reject(t)})).finally((function(){ce=null})),ce.promise},Y.getLevelDetails=function(e){var t=null;switch(+e){case L.SILVER:t={name:"l10n.silver",icon:"icon-ranking-silver"};break;case L.GOLD:t={name:"l10n.gold",icon:"icon-ranking-gold"};break;case L.TITANIUM:t={name:"l10n.titanium",icon:"icon-ranking-titanium"}}return t},Y.getCurrentGiveaway=function(e){var n=U(ne.currentGiveaway,le,e,"featuredReward");if(n)return n;var i=new Date,o=null;return le=t.defer(),Y.callSessionApi(a.giveaways.current,{locale:d.getCurrentLocale().code}).then((function(e){i=new Date-i,J.giveawaydetails=e.data.data.last_modified_stampMicro;try{if(_.isEmpty(e.data.data.giveaways))throw{errorType:N.CURRENT_GIVEAWAY_EXPIRED,message:"Got empty response"};ne.currentGiveaway=e.data.data.giveaways;var t=W(ne.currentGiveaway[0].drawStampMicro),n=W(ne.currentGiveaway[0].endStampMicro);ne.currentGiveaway[0].drawStampAdjusted=t,ne.currentGiveaway[0].endStampAdjusted=n,G(ne.currentGiveaway[0].assets);var a=function(e){var t=void 0;try{t=e[0].assets.notification.file.url}catch(e){t="#"}return[{artWork:t,artWorkHighRes:"#",callbackData:"giveaway-"+e[0].id,callbackFunction:function(t){var n={id:e[0].id,name:R.SWEEPSTAKES_DIALOG};H(t,void 0,n,q.bind(null,n))},clickToRemove:!0,heading:{text:"l10n.newRewardAvailable"},description:{text:"l10n.newRewardAvailableDescription",values:{rewardName:e[0].title}},telemetryDescription:e[0].title,type:b.AFFINITY_ANNOUNCEMENT_SWEEPSTAKE}]}(ne.currentGiveaway);F(a),le.resolve(ne.currentGiveaway),r.trigger(x.CURRENT_GIVEAWAY_REFRESHED,ne.currentGiveaway)}catch(t){K.error("getCurrentGiveaway exception",t.message,e);var l=t.errorType||N.API_EXCEPTION;o=new B(N.CURRENT_GIVEAWAY_FAILED,t.message,l),le.reject(o)}k(w.GET_CURRENT_GIVE_AWAY,e,i)})).catch((function(e){i=new Date-i,K.error("getCurrentGiveaway failed with",e),k(w.GET_CURRENT_GIVE_AWAY,e,i),o=$(e,N.CURRENT_GIVEAWAY_FAILED),le.reject(o)})).finally((function(){le=null})),le.promise},Y.getGiveawayEntryDetails=function(e,n){var i=U(ne.giveawayEntryDetails[e],ue[e],n,"featuredReward");if(i)return i;var o=new Date,l=null;return ue[e]=t.defer(),Y.callSessionApi(a.giveaways.get,{id:ee.userId,giveaway_id:e}).then((function(t){o=new Date-o,J.usergiveaway=t.data.data.last_modified_stampMicro;try{if(_.isEmpty(t.data.data[0]))throw{message:"Got empty response"};t.data.data[0].tokens=+t.data.data[0].tokens,ne.giveawayEntryDetails[e]=t.data.data[0],ue[e].resolve(t.data.data[0]),r.trigger(x.GIVEAWAY_ENTRY_DETAILS_REFRESHED,t.data.data[0])}catch(n){K.error("getGiveawayEntryDetails exception",n.message,t),l=new B(N.GIVEAWAY_ENTRY_DETAILS_FAILED,n.message,N.API_EXCEPTION),ue[e].reject(l)}k(w.GET_GIVEAWAY_ENTRY_DETAILS,t,o)})).catch((function(t){o=new Date-o,K.error("get giveaway entry details failure",t),k(w.GET_GIVEAWAY_ENTRY_DETAILS,t,o),l=$(t,N.GIVEAWAY_ENTRY_DETAILS_FAILED),ue[e].reject(l)})).finally((function(){ue[e]=null}))},Y.addTokensToGiveaway=function(e,t){var n=new Date;return Y.callSessionApi(a.giveaways.addTokens,{},{id:ee.userId,giveaway_id:e,tokens:t}).then((function(e){return n=new Date-n,Y.refresh(),k(w.ADD_TOKENS_TO_GIVEAWAY,e,n),e})).catch((function(e){n=new Date-n,k(w.ADD_TOKENS_TO_GIVEAWAY,e,n)}))},Y.getCurrentGiveawayId=function(){return ne.currentGiveaway[0].id},Y.getAllUserAchievements=function(e){var n=U(ne.userAchievements,se,e,"achievements");if(n)return n;se=t.defer();var i=new Date;return Y.callSessionApi(a.achievements.getAllUserAchievements,{locale:d.getCurrentLocale().code}).then((function(e){J.achievements=e.data.data.last_modified_stampMicro,i=new Date-i;try{var t=function(e){return _.chain(e).filter((function(e){return e.isUnlocked})).map((function(e){var t=void 0;try{t=e.assets.notification.file.url}catch(e){t="#",K.error("failed to extract notification image - ",e.message)}return{artWork:t,artWorkHighRes:"#",callbackData:"badge-"+e.tag,callbackFunction:function(t){var n={id:e.tag,name:R.BADGES_DIALOG};H(t,void 0,n,q.bind(null,n))},clickToRemove:!0,heading:{text:"l10n.achievementUnlocked",values:{achievementName:e.title}},description:{text:"l10n.achievementUnlockedDescription"},telemetryDescription:e.title,type:b.PROFILE_ACHIEVEMENT_UNLOCKED}})).value()}(e.data.data.achievements);F(t),ne.userAchievements=e.data.data.achievements,r.trigger(x.ALL_USER_ACHIEVEMENTS_REFRESHED,e.data.data.achievements),se.resolve(e.data.data.achievements)}catch(t){K.error("getAllUserAchievements exception",t.message,e)}k(w.GET_ALL_USER_ACHIEVEMENTS,e,i)})).catch((function(e){i=new Date-i,k(w.GET_ALL_USER_ACHIEVEMENTS,e,i);var t=$(e,N.ACHIEVEMENTS_FAILED);se.reject(t)})).finally((function(){se=null})),se.promise},Y.setBadges=function(e){var n=new Date;return Y.callSessionApi(a.achievements.setBadges,{locale:d.getCurrentLocale().code},{badges:e}).then((function(e){return n=new Date-n,Y.refresh(),k(w.SET_BADGES,e,n),e.data.data.achievements})).catch((function(e){return n=new Date-n,k(w.SET_BADGES,e,n),t.reject(e)}))},Y.setAchievementsTitle=function(e){var n=new Date;return Y.callSessionApi(a.achievements.setAchievementsTitle,{locale:d.getCurrentLocale().code},{achievement_id:e}).then((function(e){return n=new Date-n,Y.refresh(),k(w.SET_ACHIEVEMENTS_TITLE,e,n),e.data})).catch((function(e){return n=new Date-n,k(w.SET_ACHIEVEMENTS_TITLE,e,n),t.reject(e)}))},Y.getUserNotifications=function(){return Y.callSessionApi(a.notification.get,{locale:d.getCurrentLocale().code}).then((function(e){return K.info("success getting user notification count: ",e.data.data.user_notifications.length),function(e){var t=[];e.forEach((function(e){var n={artWork:e.usernotification.assets.notification.file.url,artWorkHighRes:"#",callbackData:"notification-"+e.id,callbackFunction:function(){H(e,O.DEFAULT_TAB),Y.markNotificationRead(e)},clickToRemove:!0,heading:{text:e.usernotification.title},description:{text:e.usernotification.body},telemetryDescription:"notification-"+e.id,type:b.AFFINITY_XP_FOR_SWEEPSTAKE};t.push(n)})),F(t)}(e.data.data.user_notifications),e.data.data})).catch((function(e){K.error("failed to get user notification Error: ",e)}))},Y.markNotificationRead=function(e){return Y.callSessionApi(a.notification.markRead,{},{id:e.id}).then((function(t){K.info("successfully marked notification as read",e)})).catch((function(e){K.error("failed to mark the notification as read. Error: ",e)}))},Y.refresh=function(){var e=new Date;Y.callSessionApi(a.refresh.get).then((function(t){e=new Date-e;var n=t.data.data.stamps;n.avatar&&J.avatar<n.avatar.stampMicro&&r.trigger(h.AVATAR_UPDATE_STALE,{userId:z()}),n.cover&&J.cover<n.cover.stampMicro&&r.trigger(h.COVER_UPDATE_STALE,{userId:z()}),(n.missions&&J.missions<n.missions.stampMicro||n.global_missions&&J.missions<n.global_missions.stampMicro)&&Y.getUserMissions(!0),n.extendedprofile&&J.extendedprofile<n.extendedprofile.stampMicro&&Y.getExtendedProfile(!0),n.activitylog&&J.activitylog<n.activitylog.stampMicro&&Y.getActivityLog(!0),n.global_xplevel&&J.xplevel<n.global_xplevel.stampMicro&&Y.getXpLevel(!0),n.global_giveawaydetails&&J.giveawaydetails<n.global_giveawaydetails.stampMicro?Y.getCurrentGiveaway(!0).then((function(){Y.getGiveawayEntryDetails(Y.getCurrentGiveawayId(),!0)})):n.usergiveaway&&J.usergiveaway<n.usergiveaway.stampMicro&&Y.getGiveawayEntryDetails(Y.getCurrentGiveawayId(),!0),n.achievements&&J.achievements<n.achievements.stampMicro&&Y.getAllUserAchievements(!0),Y.getUserNotifications(),k(w.GET_REFRESH_INFORMATION,t,e)})).catch((function(t){e=new Date-e,k(w.GET_REFRESH_INFORMATION,t,e)}))},Y.getFeatureEnabled=function(e){return e in ge&&ge[e]},Y.gotoUserProfile=function(e,t,i,o){"main.auth.userProfile"!==n.current.name?n.go("main.auth.userProfile",{startWithTab:e||O.DEFAULT_TAB,showDialog:t,rewardPackageId:i}):r.trigger(C.SWITCH_TAB,{destination:e,callback:o})},Y.callSessionApi=function(e,n,r){n=n||{};return(Y.hasSession()||!c.onlineState.online&&"GET"===e.config.method?t.resolve():Y.initializeSession()).then((function(){return angular.extend(n,{sessionToken:Q.token}),e(n,r)}))},Y.initializeSession=function(){var e=null;if(!1===Z)return e=new B(N.SESSION_INIT_FAILED,"user profile is disabled"),t.reject(e);if(!u.hasSession())return e=new B(N.SESSION_INIT_FAILED,"user not logged in"),t.reject(e);if(ee=u.getLoggedInUser(),Y.hasSession())return t.resolve(Q);if(_.isNull(re)){re=t.defer();var n=v.jarvis.cevoClientId,r=new Date,o="";u.getDelegateToken(n).then((function(n){r=new Date-r,K.info("Jarvis cevo delegate token successfull");var o=n.data;k(w.GET_JARVIS_DELEGATE_TOKEN_AFFINITY,n,r,I.JARVIS);var l=!1,u={};t.all([m.isAutoOptimizeEnabled(),s.getGeolocation()]).then((function(e){l=e[0],u={countryCode:e[1].countryCode,country:e[1].country,state:e[1].state}})).finally((function(){var t=new Date;a.session.create({delegateToken:o.delegateToken},{metadata:{autooptimize:l,clientversion:c.version,region:u}}).then((function(e){K.info("cevo session initialized successfull",e);var n=(new Date).getTime(),r=e.data.data.stampMicro;return X=n-r,X=1e3*Math.round(X/1e3),t=new Date-t,Q.token=e.data.data.token.token,Q.expires=1e3*e.data.data.token.expires,k(w.CREATE_CEVO_SESSION,e,t),e.data.data.supportValue?(ge=(0,i.default)(ge,e.data.data.supportValue),K.info("overriding feature toggle on session init:",e.data.data.supportValue)):(ge=(0,i.default)(ge,ve),K.info("feature toggles set to ",ge)),re.resolve(Q)})).catch((function(n){return t=new Date-t,K.error("failed to initialize cevo session",n),k(w.CREATE_CEVO_SESSION,n,t),e=$(n,N.SESSION_INIT_FAILED),re.reject(e)})).finally((function(){re=null}))}))})).catch((function(t){r=new Date-r,K.error("failed to get cevo delegateToken",t),k(w.GET_JARVIS_DELEGATE_TOKEN_AFFINITY,t,r,I.JARVIS),o=t&&t.data||"",e=new B(N.SESSION_INIT_FAILED,o),re.reject(e),re=null}))}return re.promise},Y.initialize=function(e){Z=!0,ve=e,r.on(p.LOGIN_STATUS_CHANGE,V),r.on(C.VIEW_PROFILE_PAGE,j),Y.initializeSession().then((function(){Y.getUserMissions(),Y.getExtendedProfile(),Y.getActivityLog(),Y.getXpLevel(),Y.getCurrentGiveaway().then((function(){Y.getGiveawayEntryDetails(Y.getCurrentGiveawayId())})),Y.getAllUserAchievements(),Y.getUserNotifications()}))}}]);t.cevoService=s},,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.gfeTargetService=void 0;var i=r(n(12)),o=r(n(27)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),l=n(45);n(13),n(17),n(204);var s=l.ngMainUtilsModule.service("gfeTargetService",["$log","jarvisService","eventAggregator","COMMON_EVENTS","telemetryService","targetService","GFECLIENT_CONFIG","$q","dbCacheService","DB_NAMES","$filter","SERVICE_HOSTNAMES","HTTP_STATUS_CODES","ADOBE_TARGET_ERROR_MSGS","TELEMETRY_ORIGINAL_SERVICE_NAME","TELEMETRY_ADOBE_TARGET_API_URL","EXPERIENCE_TYPE","VARIANT_TYPE","socketService","AB_HUB_SOCKET_EVENTS","AB_HUB_MESSAGE_TYPES","abHubEndpoints","gfeService","gxTargetEndpoints","httpTelemetryService",function(e,t,n,r,l,s,c,u,d,f,m,p,g,v,h,b,y,E,S,_,w,A,T,I,C){function x(){var e=t.getLoggedInUser();e&&e.userId?(j.userId=e.userId,U=d.getCachedUserItem(e.userId,f.JARVIS_GFE_STORE,f.USER_AB_STATE)):U=null,z=[],B=null,G.setMboxThirdPartyId(e&&e.userId)}function D(){W=u.defer(),H=W.promise}function M(e){F.info("AB Context updated",e),e.messageType===w.SYNC&&(q=e.experiments,l.syncExperienceControlInfo(q))}function O(e){F.info("Ab Hub client status",$),($=e)&&(D(),W.resolve())}function R(e){var t=(0,o.default)({},Q);t.activity.id=e,P("remove",w.DELETE,t)}function N(e,t){var n=u.defer();return e?e.sync_().then((function(){var r=L(e.activeExperiments,t);n.resolve(!!r)})).catch((function(){F.error("Failed to sync db while finding experiment"),n.resolve(!1)})):n.resolve(!1),n.promise}function L(e,t){return a.find(e,(function(e){return e.activity.id==t}))}function P(e,t,n){$||(F.info("AB Hub not ready, checking status"),A.status().then((function(e){F.info("AB Hub Ready status",e),$=!0,W.resolve($)})).catch((function(e){F.error("AB Hub status API failed",e),W.reject(e)}))),H.then((function(){a.isEmpty(j.userId)&&x();var r={activity:n.activity,variant:n.result};F.info("Going to call ab hub endpoint",e,t,n),A[e]({},{messageType:t,userId:j.userId,clientName:j.clientName,clientVer:j.clientVer,experiments:[r]})})).catch((function(e){F.error("Failed to call Ab hub endpoint",e)}))}function k(e,t){C.sendSdkHttpTelemetry(t,T.onlineState.online,p.ADOBE_TARGET,e.duration,e.status,b.GET_VARIANT,e.response,h.ADOBE,e.serviceUseCase)}var G=this,F=e.getInstance("main.utils/GfeTargetService"),U=null,V=null,z=[],B=null,$=!1,W=null,H=null,j={userId:"",clientName:c.windowName,clientVer:T.version},q=[],Y={},K={activity:{id:"",name:"",type:y.BETA},result:{data:{},name:"",type:E.CONTROL,status:!1}},Q={activity:{id:"",name:"",type:""},result:{data:{},name:"",type:y.FR,status:!1}};G.initialize=function(){s.setExperimentMbox(c.windowName),x(),n.on(r.LOGIN_STATUS_CHANGE,x),V=d.getCachedGlobalItem(f.GLOBAL_STORE,f.GLOBAL_AB_STATE),Y=c.experienceControlQa||{},s.setQaConfig(Y),D(),S.register(_.AB_CONTEXT_UPDATED,r.AB_CONTEXT_UPDATED),n.on(r.AB_CONTEXT_UPDATED,M),S.register(_.AB_HUB_STATUS_UPDATED,r.AB_HUB_STATUS_UPDATED),n.on(r.AB_HUB_STATUS_UPDATED,O)},G.setMboxThirdPartyId=function(e){var t=e||(l.deviceId?l.deviceId:l.sessionId);s.setMboxThirdPartyId(t)},G.getVariant=function(e,t){var n=u.defer(),r=e.activityId,a=Date.now();return s.getVariant(e).then((function(e){var l=e.activity,s=(0,o.default)({},e.variant);if(e.result=s,delete e.variant,l&&l.id&&l.name&&s&&s.name){if(e.disableContext?F.info("Telemetry context disabled for activity id: ",r):P("add",w.ADD,e),t)F.info("Tracking success telemetry for activity id: ",r),k({serviceUseCase:t,duration:Date.now()-a,response:(0,i.default)(e).slice(0,1024),status:g.SUCCESS},!0);n.resolve(s.data)}else F.info("No telemetry for legacy config experiments"),n.resolve(e)})).catch((function(e){if(e)if(e.apiFailure){if(t){F.info("Tracking failure telemetry for activity id: ",r);var o={serviceUseCase:t};e.status===v.TIMEOUT?(o.networkErrorCode=g.TIMEOUT,k(o,!1)):(o.response=(0,i.default)(e).slice(0,1024),o.duration=Date.now()-a,o.status=g.SERVER_ERROR,k(o,!0))}(function(e){var t=L(q,e),n=u.defer();if(t)n.resolve(t);else{var r=N(U,e),i=N(V,e);u.all([r,i]).then((function(r){var i=r[0],o=r[1];if(i){var a=U.activeExperiments;t=L(a,e)}else if(o){var l=V.activeExperiments;t=L(l,e)}n.resolve(t)}))}return n.promise})(r).then((function(t){t?(F.info("api failure for get variant, resolving saved experiment data",e),n.resolve(t.variant.data)):(F.info("api failure for get variant, no saved data found"),n.reject(e))}))}else R(r),n.reject(e)})),n.promise},G.trackConversion=s.trackConversion,G.getActiveExperiments=function(){var e=[],t=u.defer();return e=e.concat(z,q),U?U.sync_().then((function(){e=e.concat(U.activeExperiments),V.sync_().then((function(){e=e.concat(V.activeExperiments),t.resolve(e)})).catch((function(){F.error("Failed to sync global Db for active experiments"),t.resolve(e)}))})).catch((function(){F.error("Failed to sync user Db for active experiments"),t.resolve(e)})):V.sync_().then((function(){e=e.concat(V.activeExperiments),t.resolve(e)})).catch((function(){F.error("Failed to sync global Db for active experiments"),t.resolve(e)})),t.promise},G.getBetaVariant=function(e){var n=u.defer(),r=null;return r=a.isNull(B)?t.getUserData(c.jarvis.commonClientId,f.BETA_FEATURES).then((function(e){B=e})).catch((function(){B={}})):u.resolve(),r.then((function(){var t=a.findWhere(B.features,{name:e});if(a.isUndefined(t)){var r=(0,o.default)({},K);r.activity.id=e,P("remove",w.DELETE,r)}else!function(e,t){var n=a.find(z,(function(t){return t.activity.id===e}));a.isUndefined(n)&&((n=(0,o.default)({},K)).activity.id=e,n.activity.name=e,n.result.data=t,n.result.name=e,z.push(n),P("add",w.ADD,n))}(e,t);n.resolve(t)})),n.promise},G.getFeature=function(e){var t=e.activityId,n={clientParams:e};if(!a.isEmpty(Y)&&Y[t]){var r=Y[t];if(r.resolve)return F.debug("Resolving fake response for",t,r),u.resolve(r.resolve.result);if(r.reject)return F.debug("Rejecting with fake payload for",t,r),u.reject(r.reject)}return I.getFeature(n).then((function(e){F.info("GX Target Feature",n.clientParams.cvName,e);var t=null;if(e&&e.data.cloudVariables.length>0){t=e.data.cloudVariables[0];var r=e.data.cloudVariables[0].metadata;if(!r||r&&!r.disableContext)P("add",w.ADD,t);else{var i=e.data.cloudVariables[0].activity.id;F.info("Telemetry context disabled for activity id : ",i);var o=e.data.cloudVariables[0].name;F.info("Telemetry context disabled for cvName : ",o)}}else R(n.clientParams.cvName),F.info("No telemetry for legacy config experiments");return t})).catch((function(e){return F.error("failed to get feature from gx target",e),{}}))}}]);t.gfeTargetService=s},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mediaDialogService=void 0;var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(n(757));n(368),n(15),n(164),n(396);var o=r.ngMainCommonModule.service("mediaDialogService",["$mdDialog","$rootElement",function(e,t){var n=this,r={},o=function(){function e(e){t[e]=function(r){return r?(n[e]=r,t):n[e]}}var t=this,n={};e("event"),e("toolbarHtml"),e("image"),e("video")};n.show=function(r){var o=e.show({template:i.default,controller:"MediaDialogController",controllerAs:"mediaDialog",parent:t.find("nv-window"),targetEvent:r.event()});return n.setDialogModel(r),o},n.close=function(t){e.cancel()},n.setDialogModel=function(e){r=e},n.getDialogModel=function(){return r},n.customPreset=function(){return new o}}]);t.mediaDialogService=o},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nodeService=void 0;var r=n(45);n(18),n(22),n(17);var i=r.ngMainUtilsModule.service("nodeService",["$log","cefService","dialogService","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","eventAggregator","SOCKETIO_EVENTS","socketService","GFECLIENT_CONFIG","FATAL_ERRORS",function(e,t,n,r,i,o,a,l,s,c){function u(e,o){t.enableCloseButton(!0),r.push(i.GFE_NODE_FAILURE,e,{anonymize:!0}),p.info("display oops message with error:",e);var a=o===c.socketReconnnectFail?"l10n.errorRestartApplication":"l10n.errorRestartPC";n.show("nv-dialog-message",{title:"l10n.nvidiaGfeTitle",titleStyle:{"font-size":"14px"},text:a,errorCode:o,button1:{text:"l10n.close",action:function(){t.windowClose()}}})}function d(e){p.info("Successful reconnection attempt number: ",e),l.setReconnectionAttempts(g.reconnectionAttempts)}function f(e){p.info("socket event reconnecting attempt number: ",e)}function m(){p.info("socket event reconnect_failed"),u("socket event reconnect_failed",c.socketReconnnectFail)}var p=e.getInstance("main.utils/nodeService"),g=angular.merge({},s.nodeService);return{initialize:function(){p.info("registering event listeners"),o.on(a.RECONNECT,d),o.on(a.RECONNECTING,f),o.on(a.RECONNECT_FAILED,m)},showErrorMessage:u,setReconnectionToInfinity:function(){l.setReconnectionAttempts(1/0)},setReconnectionToDefault:function(){l.setReconnectionAttempts(g.reconnectionAttempts)}}}]);t.nodeService=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvSelectMenuItem=void 0;var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(n(766));n(388);var o=r.ngMainCommonModule.directive("nvSelectMenuItem",[function(){return{restrict:"E",scope:{nvAction:"&",nvSelectedTest:"&",nvDisabled:"=ngDisabled",nvTelemetry:"@"},transclude:!0,template:i.default,controller:"SelectMenuItemController",controllerAs:"selectMenuItem",link:function(e,t){e.$on("$destroy",(function(){t.empty(),t.remove(),t=null})),t.on("$destroy",(function(){e.$destroy()}))}}}]);t.nvSelectMenuItem=o},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvOptimizedIcon=void 0;var r=n(14),i=function(e){return e&&e.__esModule?e:{default:e}}(n(822));n(486);var o=r.ngGamesModule.directive("nvOptimizedIcon",(function(){return{restrict:"E",scope:{nvSystemGame:"="},transclude:!0,template:i.default,controller:"OptimizedIconController",controllerAs:"optimizedIcon",bindToController:!0,link:function(e,t){e.$on("$destroy",(function(){t.empty(),t.remove(),t=null})),t.on("$destroy",(function(){e.$destroy()}))}}}));t.nvOptimizedIcon=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvPlayGame=void 0;var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(n(823));n(487);var o=r.ngMainCommonModule.directive("nvPlayGame",[function(){return{restrict:"E",scope:{nvSystemGame:"&",nvTelemetry:"@",nvLocal:"@"},template:i.default,controller:"PlayGameController",controllerAs:"vm",bindToController:!0,link:function(e,t){e.$on("$destroy",(function(){t.empty(),t.remove(),t=null})),t.on("$destroy",(function(){e.$destroy()}))}}}]);t.nvPlayGame=o},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ngNotificationsModule=void 0;var r=n(24),i=n(26),o=angular.module("main.notifications",["main.common",r.ngMainConstantsModule.name,"ngResource","pascalprecht.translate","ngSanitize",i.ngTelemetryModule.name]);angular.module("main").requires.push("main.notifications"),o.constant("NOTIFICATION_TYPE",{NEW_REWARD:0,NEW_FRIEND_REQUEST:1}),t.ngNotificationsModule=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.redeemRewardController=void 0;var r=n(53);n(122),n(17),n(15);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(733)),o=r.ngRewardsModule.controller("RedeemRewardController",["$log","$mdDialog","REWARDS_CONSTANTS","$sce","$timeout","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","$document","rewardsService","$filter","REWARDS_ASSET_DIMENSIONS",function(e,t,n,r,o,a,l,s,c,u,d){function f(e){p.dialogRequestInProgress=e}function m(){p.isDialogStateCouponValidation()?a.push(l.REDEEM_CODE_FAILED_CLOSE):a.push(l.REWARDS_REDEMPTION_PORTAL_CLOSE,{couponCode:p.code||""})}var p=this,g=e.getInstance("main.rewards/RedeemRewardController"),v={COUPON_VALIDATION:"VALIDATE_COUPON_CODE",EXTERNAL_PAGE:"SHOW_EXTERNAL_PAGE"},h={WARNING:"warning",BLOCK:"block"},b=c.rewardsFaqUrl,y=null,E=[228,86,228,86,31,51,48,60,15,92,92,92,84,18],S=[21,16,16,21,15,12,72,24,12,86,86,21,17,47],_=[10824,124,10824,114,111,24,36,348,135,44,56,48,12,22],w=[12,12,12,12,12,12,12,12,15,12,24,20,20,14],A=[112,24,24,24,21,17,189,42,10,52,131,19,31,14];p.isDialogStateCouponValidation=function(){return p.dialogState===v.COUPON_VALIDATION},p.isDialogStateExternalPage=function(){return p.dialogState===v.EXTERNAL_PAGE},p.onLearnMoreClicked=function(){c.openLearnMoreWindow(b)},p.closeDialog=function(){m(),t.cancel()},p.tryAgain=function(){m(),t.hide()},p.validateAnswer=function(){p.answerInvalid=!1,p.answerInput=p.answerInput.replace(/\D/g,"")},p.submitAnswer=function(){parseInt(p.answerInput)===y?t.hide():p.answerInvalid=!0},p.dialogState=v.COUPON_VALIDATION,p.nvRedemptionError?(p.dialogImage=i.default,p.dialogTitle=u("translate")("l10n.redeem"),p.rewardPackage=p.nvRedemptionError.rewardPackage,p.rewardPackage&&p.rewardPackage.assets&&p.rewardPackage.assets.information&&p.rewardPackage.assets.information.more_information&&(b=p.rewardPackage.assets.information.more_information.url,g.debug("Got Learn More URL from RDS",b)),function(e){p.errorMessage=e.message||u("translate")("l10n.unableToProcessRedemption"),p.codeValidationErrorIcon=h.BLOCK}(p.nvRedemptionError)):p.nvRedemptionPortalIframeUrl?(p.dialogState=v.EXTERNAL_PAGE,f(!0),p.externalUrl=r.trustAsResourceUrl(p.nvRedemptionPortalIframeUrl),o((function(){s.ready((function(){f(!1)}))}),0),g.debug("Portal rendered in-app with url",p.externalUrl)):p.perkDetails?(p.dialogImage=c.getFormattedImageUrl(p.perkDetails.campaign.imageLink,d.DIALOG_IMAGE),p.dialogTitle=p.perkDetails.campaign.title,p.perkLevel=p.perkDetails.campaign.rules.perkLevel,p.perkDetailsHeader=p.perkDetails.campaign.tagline,p.perkDetailsDescription=p.perkDetails.campaign.description):p.sweepDetails?(p.dialogImage=c.getFormattedImageUrl(p.sweepDetail.campaign.imageLink,d.DIALOG_IMAGE),p.answerInput="",p.answerInputPlaceholder=u("translate")("l10n.answer"),p.answerInvalid=!1,function(){var e=Math.floor(Math.random()*E.length);y=(E[e]*S[e]+_[e])/w[e]-A[e],p.mathQuestion=u("translate")("l10n.mathQuestion",{mulA:E[e],mulB:S[e],add:_[e],div:w[e],sub:A[e]})}()):g.error("Rewards Dialog initialised incorrectly")}]);t.redeemRewardController=o},,,,,,function(e,t,n){(e.exports=n(6)()).push([e.id,".search-container .search-input-container{margin:0 8px 0 0;width:420px;padding:0!important;background-color:#363636}.search-container .search-input-container.visible{visibility:visible;opacity:1;width:420px;transition:all .2s ease-in-out}.search-container .search-input-container.hidden{visibility:hidden;opacity:0;width:0;height:0}.search-container .search-input-container .search-input{margin:0!important;padding-left:50px;padding-right:16px;height:40px}.search-container .search-input-container .search-input::placeholder{color:rgba(255,255,255,.15)}.search-container .search-input-container .active-search-icon,.search-container .search-input-container .search-icon{position:absolute;left:16px}.search-container .search-input-container .active-search-icon{color:#76b900}.search-container .search-input-container .clear-icon-button{position:absolute;top:8px;right:6px;min-height:24px}.search-container .search-result-container{position:absolute;background:#363636;box-shadow:0 0 10px #020202;width:420px;padding-bottom:16px}.search-container .search-result-container.hidden{padding-bottom:0!important}.search-container .search-result-container .search-result-scroll-content{min-height:32px;max-height:496px}.search-container .search-result-container md-list-item,.search-container .search-result-container md-list-item .md-button,.search-container .search-result-container md-list-item .md-list-item-inner{min-height:74px!important;max-height:74px}.search-container .search-category-title{margin-top:24px}.search-container .search-category-title h4{margin:0 16px!important;padding:0!important}.search-container .search-result-not-found{margin:0!important}.search-container .search-result-not-found .search-error-icon{width:32px;height:32px;line-height:32px;margin:0}.search-container .search-result-not-found .search-error-header{font-size:16px;margin:24px 0;color:rgba(255,255,255,.3)}.search-container .search-result-not-found .search-error-message{font-size:12px;margin:0;color:rgba(255,255,255,.3)}.search-container .search-result-container .search-item-preview{margin-right:10px;height:24px;width:24px;display:flex;justify-content:flex-end}.search-container .search-result-container .search-item-thumbnail{height:72px;width:100px;margin-right:16px}.search-container .search-result-container .search-item-thumbnail img{width:100px;height:56px;margin-top:8px;opacity:.5}.search-container .search-result-container .search-item-icon{height:56px;width:100px;margin-right:16px;background-color:rgba(17,17,17,.5)}.search-container .search-result-container .search-item-icon md-icon{font-size:48px;color:#fff;width:auto;height:auto;opacity:.3}.search-container .search-result-container md-list-item:hover p,.selected-search-item p{color:rgba(255,255,255,.9)!important}.search-result-height{height:72px}.search-container .search-result-container md-list-item:hover,.selected-search-item{background-color:rgba(40,40,40,.8)}.search-container .search-result-container md-list-item:hover img,.selected-search-item img{opacity:1!important}.search-container .search-result-container md-list-item:hover md-icon,.selected-search-item md-icon{opacity:.45!important}.search-container .search-result-container md-list-item:hover img{opacity:1!important}.search-container .search-result-container md-list-item:hover md-icon{opacity:.45!important}.search-container .search-result-container md-list-item .md-button:hover{background-color:transparent!important}.search-container-bottom-gradient{width:420px;height:24px;margin:0 0 16px;background:linear-gradient(rgba(54,54,54,0),rgba(54,54,54,0))}.search-result-fallback{height:250px}.search-result-item .search-title{margin:0 0 8px;color:rgba(255,255,255,.3);line-height:15px}.search-result-item .search-preview{font-size:10px;color:rgba(255,255,255,.15);margin:0;line-height:15px}.recent-search-item .search-title{color:rgba(255,255,255,.3)}.search-category-divider{margin-top:8px;height:1px;background-color:#404040}.search-result-container ::-webkit-scrollbar-thumb{background:#464646!important}",""])},,,function(e,t,n){e.exports=n.p+"default-cover.jpg"},,,function(e,t){e.exports=' <md-dialog class=rewards-dialog ng-switch=redeemReward.dialogState ng-class="{\'rewards-redeem-reward\': redeemReward.isDialogStateCouponValidation(), \'rewards-external-page-container\': redeemReward.isDialogStateExternalPage()}"> <div layout=row flex layout-fill ng-switch-when=VALIDATE_COUPON_CODE> <div class=rewards-dialog-image-container layout=column layout-align="center center"> <img nv-image-fallback ng-src={{redeemReward.dialogImage}} alt=l10n.couponRedemption /> </div> <div layout=column flex layout-fill class=constants-position-relative> <md-dialog-content flex> <div class=coupon-redemption-header layout=column> <md-button class="md-icon-button close-button" ng-click=redeemReward.closeDialog() type=button aria-label=redeemReward-closeDialog-button> <md-icon md-font-set=material-icons aria-label=closeButton aria-hidden=true>close</md-icon> </md-button> <md-subheader class="color-white-hue-3 line-height-sm1">{{redeemReward.dialogTitle}}</md-subheader> </div> <div class="coupon-redemption-block-error-container constants-position-relative padding-24" layout=column layout-align="center center" ng-if=redeemReward.nvRedemptionError> <md-icon md-font-set=material-icons class="block-error-base-icon margin-zero color-white-hue-8" aria-label=" cardGiftcard" aria-hidden=true>card_giftcard</md-icon> <nv-overlay class="common-overlay no-background"> <md-icon md-font-set=material-icons class="block-error-overlay-icon margin-zero nv-custom-alert-icon-color" aria-label=redeemReward aria-hidden=true>{{redeemReward.codeValidationErrorIcon}}</md-icon> </nv-overlay> <p class="margin-zero block-error-message color-white-hue-4">{{redeemReward.errorMessage}}</p> <a class="md-accent foreground" ng-click=redeemReward.onLearnMoreClicked() translate=l10n.learnMore></a> </div> <div class="redeem-details-container constants-position-relative padding-24 padding-top-zero-important" layout=column ng-if=redeemReward.perkDetails> <p class="color-white-hue-2 margin-top-16 margin-bottom-16">{{redeemReward.perkLevel}}</p> <p class="margin-top-16 margin-bottom-zero color-white-hue-3">{{redeemReward.perkDetailsHeader}}</p> <p class="margin-top-16 margin-bottom-zero color-white-hue-4">{{redeemReward.perkDetailsDescription}}</p> </div> <div class="redeem-details-container padding-24 padding-top-zero-important" layout=column layout-align="center center" ng-if=redeemReward.sweepDetails> <p class="color-white-hue-2 margin-bottom-8" translate=l10n.answerMathQuestion></p> <p class="color-white-hue-2 margin-bottom-8">{{redeemReward.mathQuestion}}</p> <input class="math-answer-input color-white-hue-1 font-uppercase padding-zero padding-left-16 font-size-xxs bg-dark-vh-hue-2 font-family-roboto-light margin-top-8" type=text placeholder={{redeemReward.answerInputPlaceholder}} name=sweepMathQuestion ng-model=redeemReward.answerInput ng-change=redeemReward.validateAnswer() spellcheck=false ng-trim=false /> <p ng-show=redeemReward.answerInvalid translate=l10n.incorrectAnswer class="margin-top-8 margin-zero color-red-hue-1 line-height-sm1"></p> <div class=math-incorrect-answer-placeholder ng-show=!redeemReward.answerInvalid></div> </div> </md-dialog-content> <md-dialog-actions layout=row dir=rtl class=padding-left-zero class=coupon-redemption-error-actions> <md-button class=md-accent translate=l10n.tryAgain type=submit aria-label=l10n.tryAgain ng-click=redeemReward.tryAgain() ng-if=redeemReward.nvRedemptionError aria-label=redeemReward-tryAgain-button> </md-button> <md-button class=md-accent translate=l10n.dismiss type=submit aria-label=l10n.dismiss ng-click=redeemReward.closeDialog() ng-if=redeemReward.perkDetails aria-label=redeemReward-close-dialog-button> </md-button> <md-button class=md-accent translate=l10n.submit type=submit aria-label=l10n.submit ng-click=redeemReward.submitAnswer() ng-if=redeemReward.sweepDetails aria-label=submit-answer-button> </md-button> <span flex></span> </md-dialog-actions> </div> </div> <md-dialog-content flex layout=column layout-fill ng-switch-when=SHOW_EXTERNAL_PAGE> <nv-overlay class="common-overlay no-background iframe-top-toolbar constants-z-layers-two" layout=row> <md-button class="md-icon-button close-button" ng-click=redeemReward.closeDialog() aria-label=reward-close-button> <md-icon md-font-set=material-icons aria-label=closeButton aria-hidden=true>close</md-icon> </md-button> </nv-overlay> <div flex layout=column layout-fill> <div class=iframe-scrollbar-spacer></div> <iframe flex ng-src={{redeemReward.externalUrl}} frameborder=0></iframe> </div> </md-dialog-content> <nv-overlay class=common-overlay layout-fill ng-show=redeemReward.dialogRequestInProgress> <span layout-fill layout-align="center center" layout=column> <md-progress-circular id=progressIndicator class=md-accent md-diameter=25 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> </md-dialog> '},,,,,,function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(320));t.default=function(e,t,n){return t in e?(0,r.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r=n(236);"string"==typeof r&&(r=[[e.id,r,""]]),n(7)(r,{}),r.locals&&(e.exports=r.locals)},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvBadge=void 0;var r=n(1).ngMainCommonModule.directive("nvBadge",(function(){return{restrict:"A",link:function(e,t,n,r,i){n.$observe("nvBadge",(function(e){if(e&&"0"!==e){t.removeClass("nv-hide-after"),t.addClass("nv-badge-border");var n=parseInt(e,10);n>9&&n<100?(t.removeClass("nv-badge-double-digits-plus"),t.addClass("nv-badge-double-digits")):n>99&&(t.removeClass("nv-badge-double-digits"),t.addClass("nv-badge-double-digits-plus"))}else t.addClass("nv-hide-after")}))}}}));t.nvBadge=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvCarousel=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),i=n(1);n(364),n(15),n(340);var o=function(e){return e&&e.__esModule?e:{default:e}}(n(742));n(337);var a=i.ngMainCommonModule.directive("nvCarousel",["eventAggregator","GAME_EVENTS",function(e,t){return{restrict:"E",scope:{nvSelectedIndex:"=",nvSlides:"=",nvEventInfo:"@",nvIsBanner:"@"},template:o.default,controller:"CarouselController",controllerAs:"carousel",link:function(n,i,o,a){function l(i){if(i.name)for(var o=n.nvSlides.length,l=0;l<o;l++)if(r.has(n.nvSlides[l],"annotation")){var s=r.findWhere(n.nvSlides[l].annotation,{nvSettingName:i.name});if(!r.isUndefined(s)){a.selectedIndex=l,e.trigger(t.GAMEVOPSITEM_MATCHED,i),n.nvSlides[l].loaded?(e.trigger(t.SETTING_ITEM_HOVER_CAROUSEL_READY,i),u=null,d=null):(u=i,d=n.nvSlides[l].image);break}e.trigger(t.GAMEVOPSITEM_UNMATCHED,{})}}function s(i){var o=r.findWhere(n.nvSlides,{image:i});r.isUndefined(o)||(o.loaded=!0,r.isNull(d)||d!==i||(e.trigger(t.SETTING_ITEM_HOVER_CAROUSEL_READY,u),u=null,d=null))}function c(e){var t=r.findWhere(n.nvSlides,{image:e});r.isUndefined(t)||(t.loaded=!1)}var u=null,d=null;e.on(t.SETTING_ITEM_HOVER,l),e.on(t.IMAGE_LOADED,s),e.on(t.IMAGE_UNLOADED,c),n.$on("$destroy",(function(){e.off(t.SETTING_ITEM_HOVER,l),e.off(t.IMAGE_LOADED,s),e.off(t.IMAGE_UNLOADED,c),i.empty(),i.remove(),i=null})),i.on("$destroy",(function(){n.$destroy()}))}}}]);t.nvCarousel=a},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.countdownTimerDirective=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(201)),i=n(1);n(392);var o=i.ngMainCommonModule.directive("nvCountdownTimer",["$log","$filter","systemClockService","eventAggregator","COMMON_EVENTS","COUNTDOWN_TIMER_STATES",function(e,t,n,i,o,a){return{restrict:"E",scope:{nvEndTimestamp:"@",nvCallback:"&",nvTranslate:"@",nvFormat:"@"},template:'<span ng-bind-html="timeLeft">',link:function(l,s){function c(e){return l.nvTranslate?t("translate")(l.nvTranslate,{countdown:e}):e}function u(e){var n="",r=1,i=e.days(),o=e.hours(),a=e.minutes(),l=e.seconds();return i>1?(r=i,n=t("translate")("l10n.days")):1==i?n=t("translate")("l10n.day"):o>1?(r=o,n=t("translate")("l10n.hours")):1==o?n=t("translate")("l10n.hour"):a>1?(r=a,n=t("translate")("l10n.minutes")):1==a?n=t("translate")("l10n.minute"):l>1?(r=l,n=t("translate")("l10n.seconds")):(r=l,n=t("translate")("l10n.second")),c(r+" "+n)}function d(e){return c(e.days()+"d : "+e.hours()+"h : "+e.minutes()+"m : "+e.seconds()+"s")}function f(e){v=e.getTime(),h=r.default.duration(l.nvEndTimestamp-v,"milliseconds"),l.timeLeft=b(h),h._milliseconds<1&&(m(),h=null,l.nvCallback({state:a.TIMER_FINISHED}))}function m(){n.unsubscribeClockUpdates(),i.off(o.SYSTEM_TIME_UPDATED,f)}function p(){v<l.nvEndTimestamp?(f(new Date),n.subscribeClockUpdates(),i.on(o.SYSTEM_TIME_UPDATED,f)):(g.error("End timestamp is less than current timestamp"),l.nvCallback({state:a.INIT_FAILED}))}var g=e.getInstance("main.common/nvCountdownTimer"),v=(new Date).getTime(),h=null,b=angular.noop,y=0,E="--";Object.defineProperty(l,"nvEndTimestamp",{get:function(){return y},set:function(e){y=+e,p()}}),l.$on("$destroy",(function(){m(),s.empty(),s.remove(),s=null})),s.on("$destroy",(function(){l.$destroy()})),l.timeLeft=c(E),b=function(e){var t=null;switch(e){case"shortTime":t=u;break;default:t=d}return t}(l.nvFormat)}}}]);t.countdownTimerDirective=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvDialogEditEmail=void 0;var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(n(744));n(344),n(287),n(168);var o=r.ngMainCommonModule.directive("nvDialogEditEmail",[function(){return{restrict:"A",scope:{},bindToController:{nvDialogModel:"="},template:i.default,controller:"DialogEditEmailController",controllerAs:"editEmailCtrl"}}]);t.nvDialogEditEmail=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvDialogEmailVerification=void 0;var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(n(745)),o=r.ngMainCommonModule.directive("nvDialogEmailVerification",[function(){return{restrict:"A",scope:{},bindToController:{nvDialogModel:"="},template:i.default,controller:[function(){}],controllerAs:"emailVerificationCtrl"}}]);t.nvDialogEmailVerification=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvExtendedPattern=void 0;var r=n(1),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(985)),o=r.ngMainCommonModule.directive("nvExtendedPattern",[function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){var o=null,a=[],l=0;n.$observe("nvExtendedPattern",(function(e){try{var t=angular.fromJson(e);t.pattern&&(o=i.default(t.pattern)),t.patternGroups&&(l=t.patternGroups.required,a=[],angular.forEach(t.patternGroups.patterns,(function(e){a.push(i.default(e))})))}catch(e){l=0,o=null}})),r.$validators.extendedPattern=function(e){var t=0;return l>0?(angular.forEach(a,(function(n){n.test(e)&&(t+=1)})),t>=l):!o||o.test(e)}}}}]);t.nvExtendedPattern=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvFieldsMatch=void 0;var r=n(1).ngMainCommonModule.directive("nvFieldsMatch",[function(){return{restrict:"A",require:"ngModel",scope:{nvFieldsMatch:"@"},link:function(e,t,n,r){r.$validators.fieldsMatch=function(t){return t===e.nvFieldsMatch},n.$observe("nvFieldsMatch",(function(e){r.$validate()}))}}}]);t.nvFieldsMatch=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvInputAutofocus=void 0;var r=n(1),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),o=r.ngMainCommonModule.directive("nvInputAutofocus",["$timeout",function(e){return{restrict:"A",link:function(t,n,r){var o=n.find("input").eq(0);i.isEmpty(o)||e((function(){o.focus()}))}}}]);t.nvInputAutofocus=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvKeyAction=void 0;var r=n(1).ngMainCommonModule.directive("nvKeyAction",[function(){return{restrict:"A",link:function(e,t,n){t.bind("keyup",(function(t){(t.which||t.keyCode)==n.nvKeyCode&&e.$apply((function(){e.$eval(n.nvKeyAction,{$event:t})}))}))}}}]);t.nvKeyAction=r},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvNewsItem=t.nvNews=void 0;var i=n(1),o=r(n(761)),a=r(n(760));n(373),n(35);var l=i.ngMainCommonModule.component("nvNews",{transclude:!0,bindings:{nvShortName:"@",nvNewsSource:"@"},template:o.default,controller:"NewsController",controllerAs:"news"}),s=i.ngMainCommonModule.component("nvNewsItem",{bindings:{nvNews:"="},template:a.default});t.nvNews=l,t.nvNewsItem=s},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.productTourService=void 0;var i=r(n(56)),o=r(n(12)),a=n(1).ngMainCommonModule.service("productTourService",["$log","PRODUCT_TOUR_NAMES","uiTourService","dbCacheService","DB_NAMES","PRODUCT_TOUR_STATUS","eventAggregator","COMMON_EVENTS","jarvisService","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_STATUS","telemetryService","TELEMETRY_ACTIONS","TELEMETRY_AVAILABLE_STATUS","$document","$filter","$timeout","PRODUCT_TOUR_EVENTS",function(e,t,n,r,a,l,s,c,u,d,f,m,p,g,v,h,b,y){function E(e){var t=!(!k[e]||k[e].status!==l.PENDING);return P.info("pending tour info: ",t),t}function S(){var e=angular.element(v[0].getElementById("main-user-profile")),n=angular.element(v[0].getElementById("main-user-profile-container")),r={element:e,stepId:"oobe-profile-enabled",order:4,title:h("translate")("l10n.joinTheCommunity"),placement:"bottom-right"},i={element:n,stepId:"oobe-profile-disabled",order:4,title:h("translate")("l10n.redeemCodesAndRewards"),placement:"bottom-right"};P.info("addOobeProfileStep done"),_(t.OOBE,F,r,i)}function _(e,t,r,i){P.info("addTourStep in progress, tourName: ",e,"stepToggleFlag: ",t,"step: ",r,"stepToReplace: ",(0,o.default)(i));var a=n.getTourByName(e);a?(i&&(i=w(a,i)||i,P.info("new stepToReplace is: "+(0,o.default)(i))),t&&!a.hasStep(r.stepId)?(a.createStep(r),a.removeStep(i)):t||(a.removeStep(r),i&&!a.hasStep(i.stepId)&&a.createStep(i))):P.error("error retrieving tour for "+e)}function w(e,t){var n=e._getSteps();return n&&n.length>0?((0,i.default)(n).forEach((function(e){P.info("tourSteps at index",e,"value",n[e])})),n.find((function(e){return e.stepId===t.stepId}))):(P.error("error retrieving tourSteps for "+e),null)}function A(e,t){P.info("strating tour: "+e);var r=n.getTourByName(e);if(r){var i=r._getSteps();i.length>0?(t>=i.length&&(t=i.length-1),r.startAt(t).then((function(n){P.info("tour launched",e,"step",t),T(e,t),function(e){e.on("stepChanged",C),e.on("paused",D),e.on("ended",M),s.on(c.WINDOW_RESIZE,O)}(r),function(e,t){G.isActive=!0,G.name=e,G.startStep=t,G.currentStep=t,G.isResume=0===t?g.NO:g.YES,G.stepStartTime=m.startLoad(d.PRODUCT_TOUR_PROGRESS_EVENT),G.tourStartTime=m.startLoad(d.PRODUCT_TOUR_EXIT_EVENT)}(e,t)})).catch((function(n){P.error("tour failed to launch",e," stepOrder:",t," error:",n," steps count:",i.length)}))):P.error("tour steps not found to launch",e," stepOrder:",t)}else P.error("tour not found to launch",e," stepOrder:",t)}function T(e,t){var r=n.getTourByName(e);if(r){var i=I(r),o=l.PENDING;t===i&&(o=l.COMPLETED);var a={name:e,status:o,previousStepOrder:t};k[a.name]=a,P.info("persistTourStepOrder for tour ",e," stepOrder:",t),k.persist_()}else P.error("tour not found to launch",e," stepOrder:",t)}function I(e){var t=e._getSteps();return t.length>0?((0,i.default)(t).forEach((function(e){P.info("tourSteps at index",e,"value",t[e])})),t[t.length-1].order):(P.error("no last step order found"),null)}function C(e){(x(p.NEXT),e)?(T(e.config("name"),e.order),G.stepStartTime=m.startLoad(d.PRODUCT_TOUR_PROGRESS_EVENT)):P.info("onTourStepChanged: no step found");G.currentStep+=1}function x(e){var t={name:G.name,step:m.getString(G.currentStep),action:e};m.endLoad(d.PRODUCT_TOUR_PROGRESS_EVENT,G.stepStartTime,t)}function D(){P.info("Tour paused",G.name),L.sendProductTourExitTelemetry(f.PAUSED),s.off(c.WINDOW_RESIZE,O),s.trigger(y.PAUSED,G.name)}function M(){P.info("Tour ended",G.name),x(p.GOT_IT),L.sendProductTourExitTelemetry(f.SUCCESS),s.off(c.WINDOW_RESIZE,O),s.trigger(y.END,G.name)}function O(){var e=v[0].querySelector(".tether-target.tether-enabled"),t=v[0].querySelector(".tether-element.tether-enabled");if(e&&t){var n=t.querySelector(".arrow").getBoundingClientRect(),r=e.getBoundingClientRect(),i=r.x+.5*r.width-(n.x+.5*n.width)+"px";t.style.left=i}}function R(e){F=e,S()}function N(e){e&&b((function(){var n=angular.element(v[0].getElementById("main-share-icon")),r={element:n,stepId:"oobe-share",order:2,title:h("translate")("l10n.accessTheIgo"),placement:"bottom-right"};n&&_(t.OOBE,e,r)}))}var L=this,P=e.getInstance("main.common/productTourService"),k=null,G={name:"",currentStep:0,startStep:0,isResume:g.NO,status:"",tourStartTime:0,stepStartTime:0,isActive:!1},F=!1;L.initialize=function(){k=r.getCachedGlobalItem(a.GLOBAL_STORE,a.PRODUCT_TOUR_STATES),s.on(c.LOGIN_STATUS_CHANGE,L.resumeOobeTour),s.on(c.USER_PROFILE_STATUS_UPDATED,R),s.on(c.SHARE_ICON_VIZ_UPDATED,N)},L.resumeOobeTour=function(){P.info("oobeTour resumed");var e=u.getLoggedInUser();k.sync_().then((function(){e&&E(t.OOBE)?L.startOobeTour(!0):n.endAllTours()})).catch((function(){P.error("Fatal: failed to sync product tour db or exception")}))},L.showTour=function(e,t,r){var i=0;t&&(i=function(e){return P.info("getSavedTourStepOrder tour ",E(e)&&k[e].previousStepOrder||0),E(e)&&k[e].previousStepOrder||0}(e)),r&&n.endAllTours(),i>=0?A(e,i):P.error("error starting tour "+e)},L.sendProductTourExitTelemetry=function(e){if(G.isActive){var t={name:G.name,startStep:m.getString(G.startStep),exitStep:m.getString(G.currentStep),isResume:G.isResume,status:e};m.endLoad(d.PRODUCT_TOUR_EXIT_EVENT,G.tourStartTime,t),G.isActive=!1}},L.onStepShown=function(){O()},L.startOobeTour=function(e){P.info("startOobeTour initiated"),S(),L.showTour(t.OOBE,e,!1)},L.startDriverTour=function(){var e=k[t.DRIVER];e&&e.status!==l.PENDING?e?P.error("driver tour already completed"):P.error("saved DriverTour not found"):L.showTour(t.DRIVER,!0,!1)},L.isTourRunning=function(e){var t=G.isActive;return G.isActive&&e&&(t=G.name===e),t}}]);t.productTourService=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stateService=void 0;var r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(3)),n(1)),i=r.ngMainCommonModule.service("stateService",["$log","$state","COMMON_DEFAULT_STATES",function(e,t,n){e.getInstance("main.common/stateService"),this.gotoDriversTab=function(e){t.go(n.DRIVERS,e)},this.getCurrentStateParams=function(){return t.params}}]);t.stateService=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvValidDisplayName=void 0;var r=n(1);n(13);var i=r.ngMainCommonModule.directive("nvValidDisplayName",["$q","jarvisService",function(e,t){return{restrict:"A",require:"ngModel",link:function(n,r,i,o){o.$asyncValidators.notAvailable=function(n){var r=e.defer();return t.displayNameExists(n).then((function(e){r.reject()})).catch((function(e){r.resolve()})),r.promise}}}}]);t.nvValidDisplayName=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.weChatService=void 0;var i=r(n(12)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),a=n(1),l=r(n(724)),s=a.ngMainCommonModule.service("weChatService",["dbService","DB_NAMES","$filter","WECHAT_EVENTS","eventAggregator","NOTIFICATION_EVENTS","WECHAT_CONSTANTS","NOTIFICATION_CATEGORY","COMMON_EVENTS","$q","$log","jarvisService","$state","windowSpawnService","dbCacheService","parllayService","toastService","gfeService","PARLLAY_CONSTANTS","GFECLIENT_CONFIG","telemetryService","TELEMETRY_PARLLAY_JS_SDK_API_NAME","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_WECHAT_SERVICE_API_STATE","TELEMETRY_SCREENS","$timeout","gfeGeolocationService",function(e,t,n,r,a,s,c,u,d,f,m,p,g,v,h,b,y,E,S,_,w,A,T,I,C,x,D){function M(e){ee=o.extend(ee,e)}function O(){return E.onlineState&&E.onlineState.online?"false":"true"}function R(){a.trigger(r.WECHAT_NOTIFICATION_CLICKED,c.NFAN)}function N(){Y=new Date,ee.parllayFetchQRApiState=I.CALLED,b.getQrCode(function(){var e=new Date,t=W.weChat.NFAN,n=t.fetchTime,r=t.expireTime,i=t.qrCodeURL;return e-n<=r-3600?(H=!1,{qrcode_url:i,success:!0,expires_in:r}):(H=!0,null)}()).then((function(e){if(Y=new Date-Y,H&&e.qrcode_url){var t=new Date;W.weChat.NFAN.fetchTime=t,W.weChat.NFAN.expireTime=e.expires_in,W.weChat.NFAN.qrCodeURL=e.qrcode_url,W.persist_()}j&&j.postMessage({qrCodeResult:e},"*"),e.success?(M({parllayFetchQRApiState:I.SUCCEEDED,parllayFetchQRApiDurationMs:Y,exitScreen:C.SCREEN_WECHAT_QRCODE_DISPLAYED}),Z&&(J={qrCodeResult:e},Z.resolve()),K=new Date,ee.parllayScanQRApiState=I.CALLED,b.getScanResult().then((function(e){K=new Date-K;var t=j||X;t&&(t.postMessage({scanResult:e},"*"),e.success?(M({parllayScanQRApiState:I.SUCCEEDED,parllayScanQRApiDurationMs:K,exitScreen:C.SCREEN_WECHAT_QRCODE_SCAN_SUCCEEDED}),W.weChat.NFAN.qrCodeScanned||(a.trigger(s.REMOVE_NOTIFICATION,[{callbackData:Q.id}]),W.weChat.NFAN.qrCodeScanned=!0,W.persist_()),w.push(T.PARLLAY_JS_SDK_API_SUCCESS,{apiName:A.GET_SCAN_RESULT,offlineState:O(),durationMs:K})):(M({parllayScanQRApiState:I.FAILED,parllayScanQRApiDurationMs:K,exitScreen:C.SCREEN_WECHAT_QRCODE_SCAN_FAILED,errorMessage:e.errors[0].message}),w.push(T.PARLLAY_JS_SDK_API_FAILURE,{apiName:A.GET_SCAN_RESULT,errorCode:(e.errors[0].code||"").toString(),errorMessage:e.errors[0].message,offlineState:O(),durationMs:K})))})).catch((function(e){K=new Date-K,M({parllayScanQRApiState:I.FAILED,parllayScanQRApiDurationMs:K,errorMessage:e&&e.type||""})})),w.push(T.PARLLAY_JS_SDK_API_SUCCESS,{apiName:A.GET_QR_CODE,offlineState:O(),durationMs:Y})):(M({parllayFetchQRApiState:I.FAILED,parllayFetchQRApiDurationMs:Y,exitScreen:C.SCREEN_WECHAT_QRCODE_LOAD_FAILED,errorMessage:e.errors[0].message}),w.push(T.PARLLAY_JS_SDK_API_FAILURE,{apiName:A.GET_QR_CODE,errorCode:(e.errors[0].code||"").toString(),errorMessage:e.errors[0].message,offlineState:O(),durationMs:Y}))})).catch((function(e){Y=new Date-Y,M({parllayFetchQRApiState:I.FAILED,parllayFetchQRApiDurationMs:Y}),"CONFIG_ERROR"===e.type&&j?(j.postMessage({qrCodeResult:{success:!1}},"*"),M({errorMessage:e&&e.message&&e.message.errors[0].message||"",exitScreen:C.SCREEN_WECHAT_QRCODE_LOAD_FAILED}),w.push(T.PARLLAY_JS_SDK_API_FAILURE,{apiName:A.GET_CONFIG_ERROR,errorCode:(e&&e.message&&e.message.errors[0].code||"-1").toString(),errorMessage:e&&e.message&&e.message.errors[0].message||"",offlineState:O(),durationMs:Y})):"CANCEL_REQUEST"===e.type&&(ee.errorMessage=e.type)}))}function L(e){e.data&&"qrcode_init"===e.data&&(j?(ee.jarvisApiState=I.CALLED,q=new Date,p.getDelegateToken(S.jarvis.clientId).then((function(e){var t=new Date-q;M({jarvisApiState:I.SUCCEEDED,jarvisApiDurationMs:t}),w.push(T.PARLLAY_JS_SDK_API_SUCCESS,{apiName:A.GET_JARVIS_DELEGATE_TOKEN,offlineState:O(),durationMs:t});var n=_.parllayConfig;n.delegateToken=e.data.delegateToken,b.initialize(n),N()})).catch((function(e){var t=new Date-q;M({jarvisApiState:I.FAILED,jarvisApiDurationMs:t,errorMessage:e&&e.status||""}),w.push(T.PARLLAY_JS_SDK_API_FAILURE,{apiName:A.GET_JARVIS_DELEGATE_TOKEN,errorCode:(e&&e.status||"").toString(),errorMessage:e&&e.statusText||"",offlineState:O(),durationMs:t}),B.error("No jarvis delegate token received"),j&&(j.postMessage({qrCodeResult:{success:!1}},"*"),ee.exitScreen=C.SCREEN_WECHAT_QRCODE_LOAD_FAILED)}))):X.postMessage(J,"*"))}function P(e){ee={jarvisApiState:I.TO_BE_CALLED,parllayFetchQRApiState:I.TO_BE_CALLED,parllayScanQRApiState:I.TO_BE_CALLED,offlineState:"false",jarvisApiDurationMs:0,parllayFetchQRApiDurationMs:0,parllayScanQRApiDurationMs:0,exitScreen:C.SCREEN_WECHAT_QRCODE_LOADING,errorMessage:"NA"};var t="toolbar=0,location=0,menubar=0,width=779,height=452,top="+(window.screenY+window.innerHeight/2-226)+",left="+(window.screenX+window.innerWidth/2-389.5);Q=e;var n={joinWeChat:$("l10n.joinWeChat",{clubName:e.event}),qrCodeScan:$("l10n.qrCodeScan",{clubName:e.event}),successfullySubscribed:$("l10n.successfullySubscribed",{clubName:e.event}),qrCodeCouldNotBeLoaded:$("l10n.qrCodeCouldNotBeLoaded"),qrCodeScanningError:$("l10n.qrCodeScanningError"),fetchingQrCode:$("l10n.fetchingQrCode"),youAreOffline:$("l10n.youAreOffline"),visitSettingsPage:$("l10n.visitSettingsPage"),nFanDescription:$("l10n.nFanDescription"),close:$("l10n.close"),skip:$("l10n.skip")},r="external-page-loader-app.html#/qr-code/"+(0,i.default)(Q),o=v.openBorderlessPopup(r,"app_qrcode",t,n,!0,L);return a.on(d.CHILD_WINDOW_CLOSED,F),o}function k(e){g.go("main.auth.preferences.accounts"),V.showQrCode(e)}function G(){(z=p.getLoggedInUser())&&V.isFeatureSupported().then((function(e){W=h.getCachedUserItem(z.userId,t.JARVIS_GFE_STORE,t.JARVIS_QRCODE_STATE),e&&W&&W.wait_().then((function(){W.weChat.NFAN.qrCodeScanned||function(){var e=new Date,t=[{artWork:l.default,callbackData:c.NFAN.id,callbackFunction:R,heading:{text:"l10n.joinWeChat",values:{clubName:c.NFAN.event}},description:{text:"l10n.scanNvidiaNewsWeChatQrCode"},firstNotificationHighResolution:!1,type:u.WECHAT,availableTime:e}];a.trigger(s.REQUEST_NOTIFICATION,t)}()}))}))}function F(){b.cancelQrCodeRequest(),a.off(d.CHILD_WINDOW_CLOSED,F),ee.parllayFetchQRApiState===I.CALLED&&M({parllayFetchQRApiDurationMs:Y=new Date-Y,errorMessage:"User cancelled QR Code request"}),ee.parllayScanQRApiState===I.CALLED&&M({parllayScanQRApiDurationMs:K=new Date-K,errorMessage:"User cancelled QR Code request"}),ee.offlineState=O(),ee.parllayFetchQRApiState===I.TO_BE_CALLED&&ee.parllayScanQRApiState===I.TO_BE_CALLED&&(q=new Date-q,M({jarvisApiState:I.FAILED,jarvisApiDurationMs:q,errorMessage:"User cancelled QR Code request"})),w.push(T.QR_CODE_CLOSE,ee),j=null,Z=null,X=null}function U(){var e=j||X;e&&(b.cancelQrCodeRequest(),e.postMessage({isOffline:!0},"*"),ee.exitScreen=C.SCREEN_WECHAT_GFE_CLIENT_OFFLINE,B.info("Client is offline, cancelling all pending qrcode requests"))}var V=this,z=null,B=m.getInstance("main.common/WeChatService"),$=n("translate"),W=null,H=!1,j=null,q=0,Y=0,K=0,Q=null,Z=null,X=null,J=null,ee={},te=["CN"];V.isFeatureSupported=function(){return D.getGeolocation().then((function(e){return o.contains(te,e.countryCode)})).catch((function(){return B.error("Returning default CountryCode: ","US"),f.resolve(!1)}))},V.showQrCode=function(e){return W?void(E.onlineState&&!1===E.onlineState.online?y.showOffline():j=P(e)):void B.error("Showing QR code when expire state is returning null")},V.initialize=function(){z=p.getLoggedInUser(),e.getGlobalStore(t.GLOBAL_STORE),G(),a.on(r.WECHAT_NOTIFICATION_CLICKED,k),a.on(d.LOGIN_STATUS_CHANGE,G),a.on(d.OFFLINE,U)}}]);t.weChatService=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.windowSpawnService=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),i=n(1);n(18);var o=i.ngMainCommonModule.service("windowSpawnService",["$log","$window","$document","cefService","$interval","eventAggregator","COMMON_EVENTS","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_AVAILABLE_STATUS","tracingService",function(e,t,n,i,o,a,l,s,c,u,d){function f(e){E&&!E.closed?(e&&e.preventDefault(),E.focus(),i.windowFocus(E.name)):m()}function m(){o.cancel(_),T&&(t.removeEventListener("click",f),t.removeEventListener("keydown",f),a.off(l.WINDOW_FOCUS,f),S.remove(),T=!1),t.removeEventListener("message",g,!1),w=null,E&&(I.info("Closing child window:",E.name),E.onload=null,E.close(),E=null),a.trigger(l.CHILD_WINDOW_CLOSED),p(!1)}function p(e,t){r.isNull(A)||(d.closePopUpHttpSpan(A,e,t),A=null)}function g(e){return e.data.error?(p(!0,e.data.error),I.error("failed to load url with error ",e.data.error),void s.push(c.CEF_POPUP_STATE,{url:s.getString(e.data.error.failedUrl),isError:u.YES,errorCode:s.getString(e.data.error.errorCode),errorText:s.getString(e.data.error.errorText)})):(p(!1),A=null,void(r.isNull(w)||w(e)))}function v(){_=o((function(){E&&!E.closed||m()}),100)}function h(){S=angular.element('<div class="common-content-blocker-overlay"></div>'),n.find("body").eq(0).append(S),t.addEventListener("click",f),t.addEventListener("keydown",f),a.on(l.WINDOW_FOCUS,f),T=!0}function b(e,n,i,o,s,c,u){i&&0!==i.indexOf(e)?i=e+i:i||(i=e+"childWindow");var f={url:n,spanId:null};return d.startHttpSpan(f,!0),A=f.spanId,E=t.open(f.url,i,o),r.isNull(E)?I.error("unable to open child window with url ",n,"params",o,"name",i):(E.onload=function(){a.trigger(l.CHILD_WINDOW_LOADED)},E.sharedData=s,I.debug("Child window opened with url: ",n,"name ",i),c&&h(),t.addEventListener("message",u,!1),v()),E}var y=this,E=null,S=null,_=null,w=null,A=null,T=!1,I=e.getInstance("main.common/windowSpawnService");y.openChildWindow=function(e,t,n,r,i,o){return w=o,b("app_",e,t,n,r,i,g)},y.openDefaultBrowser=function(e,n){var r=t.open(e,"_blank",n);return I.debug("New browser window should have opened with url: ",e),r},y.openBorderlessPopup=function(e,t,n,r,i,o){return w=o,b("borderless_app_",e,t,n,r,i,g)},y.closeChildWindow=m}]);t.windowSpawnService=o},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.galleryService=void 0;var r=n(30);n(64);var i=r.ngGalleryModule.service("galleryService",["tbdService",function(e){var t=this;t.getGalleryItems=e.getGalleryItems,t.getGalleryShowcaseItems=e.getGalleryShowcaseItems,t.listVideos=e.listVideos}]);t.galleryService=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvMediaPreviewToolbar=void 0;var r=n(30),i=function(e){return e&&e.__esModule?e:{default:e}}(n(810)),o=r.ngGalleryModule.directive("nvMediaPreviewToolbar",[function(){return{restrict:"E",template:i.default}}]);t.nvMediaPreviewToolbar=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvGameDetails=void 0;var r=n(14);n(342),n(223),n(224),n(489),n(485),n(475),n(291),n(370),n(134);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(816));n(476);var o=r.ngGamesModule.directive("nvGameDetails",(function(){return{restrict:"E",scope:{nvSelectedGameId:"=",nvClassicViewEnabled:"@"},template:i.default,controller:"GameDetailsController",controllerAs:"gameDetails",link:function(e,t){e.$on("$destroy",(function(){t.empty(),t.remove(),t=null})),t.on("$destroy",(function(){e.$destroy()}))}}}));t.nvGameDetails=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gameListController=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),i=n(14);n(47),n(11),n(135),n(17),n(19),n(189),n(9),n(13),n(294);var o=function(e){return e&&e.__esModule?e:{default:e}}(n(38));n(304);var a=i.ngGamesModule.controller("GameListController",["$scope","eventAggregator","GAME_EVENTS","gamesService","$filter","$log","userGamesService","preferencesService","$window","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","jarvisService","COMMON_GAME_EVENTS","GAME_SCAN_STATE","dbCacheService","DB_NAMES","toastService","$timeout","localeService","oobeGamesService","OOBE_SCAN_STATE","COMMON_DYNAMIC_REDIRECT","INSTALLER_EVENTS","GFECLIENT_USER_CONFIG","PREFERENCES_EVENTS","OOBE_STATE","stateService","oobeDialogService",function(e,t,n,i,a,l,s,c,u,d,f,m,p,g,v,h,b,y,E,S,_,w,A,T,I,C,x,D){function M(){b.showProgress({textContent:a("translate")("l10n.scanning")}),ae()}function O(){ye.scanText=Ee?"l10n.scanning":"l10n.scanForGames"}function R(e){Le.info("setting scan in progress",e),Ee=e,O()}function N(){b.showProgress({textContent:a("translate")("l10n.optimizing")}),ue()}function L(){ye.optimizeText=Se?"l10n.optimizing":"l10n.optimizeAllGames"}function P(e){Le.info("setting optimize in progress",e),Se=e,L()}function k(e){ye.selectedGame=r.findWhere(e,{id:ye.selectedGameId})}function G(){pe&&r.size(ye.filteredGameList)>0&&(k(ye.filteredGameList),ye.selectedGame||(ye.selectedGameId=ye.filteredGameList[0].id,t.trigger(p.SELECTED_GAME_CHANGED,ye.selectedGameId)))}function F(){r.size(ye.gameList)>0&&(ye.filteredGameList=ye.gameList,ye.filteredGameList=a("filter")(ye.filteredGameList,ye.filter),me.gamesFilters&&me.gamesFilters.optimized?ye.filteredGameList=a("filter")(ye.filteredGameList,i.filterOptimized(me)):ye.isAnselFeatureAvailable&&me.gamesFilters.anselReady?ye.filteredGameList=a("filter")(ye.filteredGameList,i.filterAnselReady(me)):ye.isFreestyleFeatureAvailable&&me.gamesFilters.freestyleReady&&(ye.filteredGameList=a("filter")(ye.filteredGameList,i.filterFreestyleReady(me))),ye.filteredGameList=a("orderBy")(ye.filteredGameList,ye.sort)),G(),ye.gameList&&(Ie=ye.gameList.length,Ce=r.size(r.filter(ye.gameList,(function(e){return e.systemGame&&e.systemGame.isACorDCoptimized()}))),xe=r.size(r.filter(ye.gameList,{hidden:!0})),De=r.size(r.filter(ye.gameList,{favorite:!0})),Me=r.size(r.filter(ye.gameList,(function(e){return e.systemGame&&e.systemGame.isAnselReady}))),Oe=r.size(r.filter(ye.gameList,(function(e){return e.systemGame&&e.systemGame.isFreestyleReady})))),ye.listLimitTo<ye.filteredGameList.length&&!Te?Te=y((function(){ye.listLimitTo=ye.filteredGameList.length,Te=null}),100):ye.listLimitTo>ye.filteredGameList.length&&(ye.listLimitTo=ye.filteredGameList.length)}function U(){var e=s.getUserGames();Le.debug("refresh Games",e.length),ye.gameList=r.map(e,(function(e){var t=i.getSystemGame(e.gameId),n={};return r.extend(n,e),r.isUndefined(t)?void Le.error("systemGame undefined"):(n.systemGame=t,n)})),ye.gameList=r.compact(ye.gameList),Le.info("After filtering gameList for defined systemGames, count is:",ye.gameList.length),F()}function V(e){if(ye.gameList){Le.debug("refreshGameState",e.shortName);var t=r.filter(ye.gameList,(function(t){return t.systemGame.id===e.id}));t&&1===t.length?(t[0].systemGame=e,F()):Le.error("refreshGameState - system game not found")}else Le.error("refreshGameState - game list undefined")}function z(){ye.filter={},angular.forEach(me.gamesFilters,(function(e,t){"favorite"===t&&!0===e?ye.filter.favorite=!0:"hidden"===t&&(ye.filter.hidden=e)})),F()}function B(e){if(ye.gameList){Le.debug("refreshUserGame",e.id);var t=r.findIndex(ye.gameList,(function(t){return t.id===e.id}));if(-1!==t){var n=ye.gameList[t].systemGame;ye.gameList[t]=e,ye.gameList[t].systemGame=n,F()}else Le.error("refreshUserGame - user game not found");G()}else Le.error("refreshUserGame - game list undefined")}function $(){return ye.getOptimizedGamesCount()<=0}function W(){return!i.hasNoGame(ye.gameList)&&ye.matchFilter("optimized")&&$()}function H(){return ye.getFavoriteGamesCount()<=0}function j(){return!i.hasNoGame(ye.gameList)&&ye.matchFilter("favorite")&&H()}function q(){return ye.getAnselReadyGamesCount()<=0}function Y(){return ye.getFreestyleReadyGamesCount()<=0}function K(){return!i.hasNoGame(ye.gameList)&&ye.matchFilter("anselReady")&&q()}function Q(){return!i.hasNoGame(ye.gameList)&&ye.matchFilter("freestyleReady")&&Y()}function Z(){return!i.hasNoGame(ye.gameList)&&!j()&&!W()&&(!ye.isAnselFeatureAvailable||!K())&&(!ye.isFreestyleFeatureAvailable||!Q())&&i.hasHiddenGame(ye.gameList,ye.filter,me)}function X(){return ye.getHiddenGamesCount()<=0}function J(){return!i.hasNoGame(ye.gameList)&&ye.matchFilter("hidden")&&X()}function ee(e){ye.selectedGameId=e,k(ye.gameList)}function te(){!ye.isAnselFeatureAvailable&&ye.matchFilter("anselReady")||!ye.isFreestyleFeatureAvailable&&ye.matchFilter("freestyleReady")?ye.setFilter("all"):z(),U()}function ne(e){Le.info("opsfeaturestatus update",e),ye.isGameOpsSupported=e}function re(){if(Le.info("initialized received"),S.getScanState()===_.SCANNING){if(!1===Ae){var e=function e(){Le.info("setting initialized to true, on scan complete"),we=!0,t.off(n.SCAN_FINISHED,e),t.off(n.SCAN_FAILED,e)};Le.info("oobe scan in progress, initialized to remain false"),t.on(n.SCAN_FINISHED,e),t.on(n.SCAN_FAILED,e),Ae=!0}}else we=!0;U()}function ie(){c.isAnselFeatureSupportedOnSystem().then((function(e){ye.isAnselFeatureAvailable=e.isVisible})).finally((function(){me.observe_(te)}))}function oe(){Re&&Re.data&&Re.data.showBatteryBoostToast&&i.getGameOpsSupported()&&D.loadOOBEState().then((function(e){e===C.COMPLETED_ALL?ye.optimizeGames():Le.info("Do not optimze explicitly while in OOBE flow through BB notification")}))}var ae,le,se,ce,ue,de,fe,me,pe,ge,ve,he,be,ye=this,Ee=!1,Se=!1,_e=m.getLoggedInUser(),we=!1,Ae=!1,Te=null,Ie=0,Ce=0,xe=0,De=0,Me=0,Oe=0,Re=x.getCurrentStateParams(),Ne=null;ye.selectedGame=null,ye.gameList=null,ye.filteredGameList=[],ye.filter={},ye.sort="systemGame.displayName",ye.selectedGameId=e.nvSelectedGameId,ye.devFeatures=v.getCachedGlobalItem(h.DEV_STORE,h.DEV_FEATURES),ye.listLimitTo=10,ye.topIndex=0,ye.isAnselFeatureAvailable=!1,ye.isFreestyleFeatureAvailable=!1;var Le=l.getInstance("main.games/GameListController");Le.info("GameListController created"),ye.changeView=function(e){t.trigger(p.GAME_VIEW_CHANGED,e)},ye.setSelectedGameId=function(e){ye.selectedGameId!==e&&(ye.selectedGameId=e,t.trigger(p.SELECTED_GAME_CHANGED,e))},ye.isSelected=function(e){return ye.selectedGameId===e},ye.setFilter=function(e){me.gamesFilters={all:!1,optimized:!1,favorite:!1,anselReady:!1,freestyleReady:!1,hidden:!1},me.gamesFilters[e]=!0,me.persist_(),z()},ye.setFallbackFilter=function(){var e=Z()&&!J()?"hidden":"all";ye.setFilter(e)},ye.matchFilter=function(e){return"optimized"===e?me.gamesFilters&&me.gamesFilters.optimized:me.gamesFilters&&me.gamesFilters[e]},ye.findAWayToPlay=function(){ye.findPlayUrl=w.BASE_URL+E.getCurrentLocaleWithUnderscore()+"&page="+w.SUPPORTED_GAMES,Le.info("SupportedGames redirects to url:: "+ye.findPlayUrl),u.open(ye.findPlayUrl)},ye.getGamesCount=function(){return Ie},ye.getOptimizedGamesCount=function(){return Ce},ye.getFavoriteGamesCount=function(){return De},ye.getAnselReadyGamesCount=function(){return Me},ye.getFreestyleReadyGamesCount=function(){return Oe},ye.getHiddenGamesCount=function(){return xe},ye.scanGames=function(){Le.info("scan local games"),M(),be=d.startLoad(f.HOME_SCANTIME_GAMES),i.scanLocalGames(!1),R(!0)},ye.scanGamesProgressText=function(e){var t="l10n.scanGamesProgress";return 0===e?t="l10n.noGamesFound":1===e&&(t="l10n.scanGameProgress"),t},ae=function(){Le.debug("registering game scan events"),t.on(n.SCAN_FINISHED,se),t.on(n.SCAN_FAILED,ce)},le=function(){Le.debug("unregistering game scan events"),R(!1),t.off(n.SCAN_FINISHED,se),t.off(n.SCAN_FAILED,ce)},se=function(){d.endLoad(f.HOME_SCANTIME_GAMES,be);var e=r.size(ye.gameList),t={textContent:a("translate")(ye.scanGamesProgressText(e),{numGamesScanned:e})};i.hasNoGame(ye.gameList)||i.allGamesFullyOptimized(ye.gameList)||i.hasHiddenGame(ye.gameList,ye.filter,me)?b.show(t):(Le.info("game optimization required"),i.isAutoOptimizeEnabled().then((function(e){e||angular.extend(t,{button:{text:a("translate")("l10n.optimize"),action:ye.optimizeGamesFromScan}})})).finally((function(){b.show(t)}))),le()},ce=function(){le(),b.showError({textContent:a("translate")("l10n.scanningFailed")})},ye.optimizeGamesFromScan=function(){Le.info("optimize local games after scan"),ye.optimizeGames()},ye.optimizeGames=function(){Le.info("optimize local games"),N(),he=d.startLoad(f.HOME_OPTIMIZETIME_GAMES),i.optimizeLocalGames(),P(!0)},ue=function(){Le.debug("registering game optimize events"),t.on(n.OPTIMIZE_GAMES_UPDATE,fe)},de=function(){Le.debug("unregistering game optimize events"),P(!1),t.off(n.OPTIMIZE_GAMES_UPDATE,fe)},fe=function(e){d.endLoad(f.HOME_OPTIMIZETIME_GAMES,he),de(),b.show({textContent:a("translate")("l10n.optimizeFinished")})},ye.fallbackButtonText=function(){return Z()&&!J()?"l10n.viewHiddenGames":"l10n.viewAllGames"},ye.showNoGameFallbackMessage=function(){return we&&i.hasNoGame(ye.gameList)},ye.gameListReady=function(){return!(i.hasNoGame(ye.gameList)||j()||Z()||W()||ye.isAnselFeatureAvailable&&K()||ye.isFreestyleFeatureAvailable&&Q())},ye.showFallbackMessage=function(){return W()||j()||Z()||ye.isAnselFeatureAvailable&&K()||ye.isFreestyleFeatureAvailable&&Q()},ye.fallbackMessage=function(){return W()?"l10n.gamesAreNotOptimized":j()?"l10n.noFavoriteGames":K()?"l10n.noAnselReadyGames":Q()?"l10n.noFreestyleReadyGames":J()?"l10n.noHiddenGames":"l10n.gamesAreHidden"},ye.fallbackImage=function(){return W()||K()||Q()?"remove_circle":j()?"star_border":J()?"visibility_off":void 0},ye.buttonDisabled=function(e){switch(e){case"all":return i.hasNoGame(ye.gameList)||ye.getGamesCount()<=0;case"favorite":return i.hasNoGame(ye.gameList)||j()||H()||ye.getGamesCount()<=0;case"optimized":return i.hasNoGame(ye.gameList)||W()||$()||ye.getGamesCount()<=0;case"hidden":return i.hasNoGame(ye.gameList)||J()||X();case"optimizeAll":return i.hasNoGame(ye.gameList)||Ee||Se||i.allGamesFullyOptimized(ye.gameList)||i.hasHiddenGame(ye.gameList,ye.filter,me);case"anselReady":return i.hasNoGame(ye.gameList)||K()||q()||ye.getGamesCount()<=0;case"freestyleReady":return i.hasNoGame(ye.gameList)||Q()||Y()||ye.getGamesCount()<=0;case"scanGames":return Ee||Se;default:return!1}},ye.isGameSelected=function(e){var t=!1;return e&&e.id?t=ye.selectedGameId===e.id:Le.info("Game is undefined."),t},ye.getGameIconImage=function(e){return e.systemGame&&e.systemGame.iconImage24?e.systemGame.iconImage24:o.default},e.$on("$destroy",(function(){t.off(n.USERGAMES_UPDATED,re),t.off(n.USERGAME_UPDATED,B),t.off(n.GAMESTATE_UPDATED,V),t.off(n.GAMESTATE_INITIALIZED,F),t.off(n.GAMELIST_CREATED,oe),t.off(p.SELECTED_GAME_CHANGED,ee),t.off(n.OPSFEATURE_UPDATED,ne),t.off(A.INSTALL_DONE,ie),t.off(I.FEATURES_UPDATED,ie),le(),de(),Te&&(y.cancel(Te),Te=null),Ne&&(y.cancel(Ne),Ne=null),me.unobserve_(te),ve()})),Le.info("initialize"),me=v.getCachedUserItem(_e.userId,h.JARVIS_GFE_STORE,h.JARVIS_VIEW_STATE),ge=v.getCachedUserItem(_e.userId,h.VIEW_STORE,h.VIEW_STATE),pe=me.classicViewEnabled,t.on(n.USERGAMES_UPDATED,re),t.on(n.USERGAME_UPDATED,B),t.on(n.GAMESTATE_UPDATED,V),t.on(n.GAMESTATE_INITIALIZED,F),t.on(p.SELECTED_GAME_CHANGED,ee),t.on(n.OPSFEATURE_UPDATED,ne),t.on(A.INSTALL_DONE,ie),t.on(I.FEATURES_UPDATED,ie),ye.isGameOpsSupported=i.getGameOpsSupported(),Le.info("opsfeaturestatus on init ",ye.isGameOpsSupported),function(){var e=i.getUiScanState();Le.info("games service scan in progress ",e),e===g.UI_SCAN?(M(),R(!0)):O()}(),Ee?P(!1):function(){var e=i.isOptimizeInProgress();Le.info("games service optimize in progress ",e),e?(N(),P(!0)):L()}(),ye.topIndex=pe?ge.classicViewTopIndex:ge.topIndex,ve=e.$watch("games.topIndex",(function(){pe?ge.classicViewTopIndex=ye.topIndex:ge.topIndex=ye.topIndex,ge.persist_(),t.trigger(p.GAME_LIST_TOP_INDEX_CHANGED,{topIndex:ye.topIndex,gamesCount:ye.filteredGameList.length})})),ie(),function(e){c.isFreestyleSupported(e).then((function(e){ye.isFreestyleFeatureAvailable=e.isSupported})).finally((function(){me.observe_(te)}))}(!0),Ne=y((function(){we=s.getInitializedOnce()})),i.isGameListCreated()?oe():t.on(n.GAMELIST_CREATED,oe),ye.onLoad=function(){T.imageLoadPerfEnabled&&Le.info("Time taken to fetch all images on home page (ms):",function(){var e=0;if(u.performance.getEntriesByName){var t=u.performance.getEntriesByType("resource");Le.info("Time taken to fetch image started. Is classic view:",pe);for(var n=0;n<t.length;n++)"img"===t[n].initiatorType&&(e+=t[n].duration,Le.info("Time taken to fetch image (ms):",t[n].name,t[n].duration.toFixed(2)))}return e.toFixed(2)}())}}]);t.gameListController=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvGameStore=void 0;var r=n(31);n(497);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(828));n(495);var o=r.ngGfnModule.directive("nvGameStore",(function(){return{restrict:"E",scope:{nvGameType:"@"},template:i.default,controller:"GameStoreController",controllerAs:"games"}}));t.nvGameStore=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeDialogService=void 0;var r=n(9);n(532),n(529),n(189),n(306),n(29),n(13),n(11),n(181),n(23);var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),o=r.ngOobeModule.factory("oobeDialogService",["$log","$state","gfeService","jarvisService","eventAggregator","dbService","DB_NAMES","oobeTelemetryService","$mdPanel","hardwareService","oobeGamesService","COMMON_EVENTS","COMMON_DEFAULT_STATES","OOBE_STATE","gfeTargetService","OOBE_LOGIN","$q","gamesService",function(e,t,n,r,o,a,l,s,c,u,d,f,m,p,g,v,h,b){function y(e){return e===p.COMPLETED_ALL&&(I.info("notify ootb completion"),b.ootbFinished()),T.setItem(l.OOBE_STATE,e)}function E(e){I.info("sysinfo updated",e.DriverVersion),i.propertyOf(e)("DriverVersion")&&(o.off(f.SYSTEMINFO_UPDATED,E),A!==p.COMPLETED_ALL&&t.go(m.HOME_STATE,{},{location:"replace"}),w.finishOobe(r.getLoggedInUser()))}function S(e){var t;t=e.user?"LAUNCH_STATE_VALID_SESSION":e.initialState===p.COMPLETED_ALL?null:"LAUNCH_STATE_LOGIN",s.startFlow(t);(_=c.create({template:'<nv-oobe nv-oobe-params="panelCtrl.nvOobeParams" aria-label="oobe-panel-section" aria-hidden="true"></nv-oobe>',controllerAs:"panelCtrl",controller:[function(){}],position:c.newPanelPosition().absolute().center(),trapFocus:!1,zIndex:79,locals:{nvOobeParams:e},bindToController:!0,hasBackdrop:!0,panelClass:"oobe-panel"})).open()}var _,w={},A=p.COMPLETED_NONE,T=a.getGlobalStore(l.GLOBAL_STORE),I=e.getInstance("main.oobe/oobeDialogService");return w.loadOOBEState=function(){return T.getItem(l.OOBE_STATE)},w.launch=function(e){w.loadOOBEState().then((function(t){A=t,I.info("Launch OOBE current state:",t),S({initialState:t,sessionExpired:e})}))},w.gfeBlocked=function(){(_=c.create({template:'<nv-oobe-blocked aria-label="oobe-panel-blocked" aria-hidden="true"></nv-oobe-blocked>',controllerAs:"panelCtrl",controller:[function(){}],position:c.newPanelPosition().absolute().center(),trapFocus:!1,zIndex:79,bindToController:!0,hasBackdrop:!0,panelClass:"oobe-panel"})).open()},w.getState=function(){return A},w.setState=function(e){y(A=e)},w.notifyNodeOOBEFinished=function(){I.info("function notifyNodeOOBEFinished called"),b.ootbFinished()},w.finishOobe=function(e){var t=!1;u.getLaunchTimeSystemInfo().then((function(e){t=!i.propertyOf(e)("DriverVersion")})).catch((function(e){I.error("fail to get driver info")})).finally((function(){t?o.on(f.SYSTEMINFO_UPDATED,E):w.loadOOBEState().then((function(t){A=t||p.COMPLETED_NONE,I.info("Finish OOBE current state:",A),A!==p.COMPLETED_ALL?(I.info("finish oobe scan"),S({user:e,initialState:t})):(I.info("finish oobe initialize games"),d.initializeGames(e),w.notifyNodeOOBEFinished())}))}))},w.close=function(e){s.endFlow(e),_&&_.close()},w.waitForDriverInstall=function(){o.on(f.SYSTEMINFO_UPDATED,E),o.trigger(f.LOGIN_STATUS_CHANGE,!0),t.go("main.auth.updates",{updateState:"checkForUpdate"},{location:"replace"}),w.close()},w.reset=function(){I.info("Reset to Out of Box Experience state"),w.close(),y(p.COMPLETED_NONE),n.logout()},w.skipEmailVerification=function(e,t,n){var r=h.defer();return function(e){if(e.domains.list){I.debug("email not verified - verify if email belongs to locked domain");var t=e.user.core.primaryEmail,n=t.substring(t.indexOf("@")+1);if(e.domains.list.indexOf(n)>-1)return b.handleLoggedIn(e),!0}return!1}(e)?r.resolve(!0):t!==v.SOCIAL||n!==v.QQ&&n!==v.WECHAT?r.resolve(!1):(g.setMboxThirdPartyId(e.user&&e.user.userId),I.debug("Email verification skipped"),r.resolve(!0)),r.promise},w}]);t.oobeDialogService=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeFeatureService=void 0;var r=n(9);n(189);var i=r.ngOobeModule.service("oobeFeatureService",["$log","oobeTelemetryService","oobeGamesService","$q","preferencesService","eventAggregator","OOBE_EVENTS","oobeDialogService","$filter","toastService","COMMON_HTTP_ERROR_CODES","SHARE_CONSTANTS",function(e,t,n,r,i,o,a,l,s,c,u,d){function f(e,t,n,r,i){c.show({textContent:e,icon:t,isCustomIcon:n,customColor:r,alertIcon:i})}var m=e.getInstance("main.oobe/oobeFeatureService"),p=this,g=null;p.activateDefaultFeatureSettings=function(e){p.triggerGameScan(e),p.getAvailableFeatures().then((function(e){e.indexOf("share")>-1&&p.enableShare()}))},p.triggerGameScan=function(e){t.recordAction("OOBE_SCAN"),n.startScan(e)},p.getAvailableFeatures=function(){return g?r.resolve(g):i.getApplicationFeatureSet().then((function(e){return g=e,r.resolve(g)}))},p.enableShare=function(){i.toggleShareState(!0).then((function(e){m.info("toggleShareState status: ",e),t.changeSetting("APPLICATION_SETTING_ENABLE_SHARE",!0)})).catch((function(e){m.error("toggleShareState failed with error:",e),t.changeSettingFail("APPLICATION_SETTING_ENABLE_SHARE_FAILED",!0,e.data&&e.data.code||e.status)}))},p.closeOobeFeaturesDialog=function(){o.trigger(a.OOBE_DONE),l.close("SUCCESS"),t.endActionAsync("OOBE_SCAN_COMPLETE_DONE","SUCCESS"),i.getShareRunningStatus().then((function(e){e&&(f(s("translate")("l10n.sharingEnabled"),"icon-share",!0,"color-green",!1),i.showShareSlideOutNotification(d.SLIDE_OUT_NOTIFICATION).then((function(e){m.info("showShareSlideOutNotification status: ",e)}),(function(e){m.error("showShareSlideOutNotification failed.")})))})).catch((function(e){m.error("getShareRunningStatus failed."),e.status===u.NOT_FOUND&&f(s("translate")("l10n.shareNotReady"),"icon-share",!0,"feature-not-supported-icon-color",!0)}))}}]);t.oobeFeatureService=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeTelemetryService=void 0;var r=n(9),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),o=r.ngOobeModule.factory("oobeTelemetryService",["telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_SCREENS","TELEMETRY_STATUS","TELEMETRY_OOBE_LAUNCH_STATE","TELEMETRY_GFE_SESSION_STATE","$log",function(e,t,n,r,o,a,l){function s(e){return(i.isUndefined(e)||i.isNull(e))&&(e=""),e=e.toString()}function c(e){return e=s(e),i.has(r,e)&&(e=r[e]),e}var u,d,f={},m=null,p={},g=l.getInstance("main.oobe/oobeTelemetryService");return f.updateScreen=function(t){e.setScreen(n[t])},f.recordAction=function(n){var r=t[n];g.info("oobe recordAction executed with event id ",n,"event name "+r.name),e.push(t[n],{currentScreen:e.getScreen(),action:r.enumId})},f.startActionAsync=function(n){var r=t[n];p[n]={currentScreen:e.getScreen(),startTime:e.startLoad(r)}},f.endActionAsync=function(n,r,o){var a,l=i.propertyOf(p)(n),d=t[n];l&&("APP_EXIT"===r&&(a={appExit:!0}),e.endLoad(d,p[n].startTime,{action:d.enumId,gfeSessionState:u,currentScreen:l.currentScreen,status:c(r),errorDetails:s(o)},a),delete p[n])},f.startFlow=function(n){n?(u=a.OOBE,m=o[n],d=e.startLoad(t.OOBE_START_EXIT_SEQUENCE)):(m=null,u=a.NON_OOBE)},f.updateFlow=function(e){m&&(m=o[e])},f.endFlow=function(n){var r;n&&("APP_EXIT"===n&&(r={appExit:!0}),m&&e.endLoad(t.OOBE_START_EXIT_SEQUENCE,d,{oobeLaunchState:m,oobeExitScreen:e.getScreen(),status:c(n)},r),i.each(p,(function(e,t){f.endActionAsync(t,n)})))},f.changeSetting=function(n,r){e.changeSetting(t[n],r)},f.changeSettingFail=function(n,r,i){e.changeSettingFail(t[n],r,i)},f}]);t.oobeTelemetryService=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvEditAvatar=void 0;var r=n(4),i=function(e){return e&&e.__esModule?e:{default:e}}(n(850));n(538),n(365);var o=r.ngPreferencesModule.directive("nvEditAvatar",[function(){return{restrict:"A",scope:{},bindToController:{nvDialogModel:"="},template:i.default,controller:"EditAvatarController",controllerAs:"editAvatarCtrl"}}]);t.nvEditAvatar=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesGamesQuietMode=void 0;var r=n(4);n(15);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(874));n(579);var o=r.ngPreferencesModule.component("nvPreferencesGamesQuietMode",{template:i.default,controller:"PreferencesGamesQuietModeController",controllerAs:"preferencesGamesQuietMode"});t.nvPreferencesGamesQuietMode=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesGeneralNIS=void 0;var r=n(4);n(15);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(880));n(590);var o=r.ngPreferencesModule.component("nvPreferencesGeneralNis",{template:i.default,controller:"PreferencesGeneralNISController",controllerAs:"preferencesGeneralNIS"});t.nvPreferencesGeneralNIS=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesGeneralQuiteMode2=void 0;var r=n(4);n(15);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(882));n(593);var o=r.ngPreferencesModule.component("nvPreferencesGeneralQuiteMode2",{template:i.default,controller:"PreferencesGeneralQuiteMode2Controller",controllerAs:"preferencesGeneralQuiteMode2"});t.nvPreferencesGeneralQuiteMode2=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvRewardsCenter=void 0;var r=n(53),i=function(e){return e&&e.__esModule?e:{default:e}}(n(892));n(613),n(42),n(612);var o=r.ngRewardsModule.directive("nvRewardsCenter",["eventAggregator","REWARDS_EVENTS","$log","$timeout",function(e,t,n,r){return{restrict:"E",scope:{},template:i.default,controller:"RewardsCenterController",controllerAs:"rewardsCenter",link:function(i,o,a){function l(){var e=o.find("md-content");_.size(e)>0?r((function(){e[0].scrollTop=0})):s.error("Could not find a scroll element to reset scroll postion")}var s=n.getInstance("main.rewards/RewardsCenterDirective");e.on(t.RESET_SCROLL_POSITION,l),i.$on("$destroy",(function(){e.off(t.RESET_SCROLL_POSITION,l),o.empty(),o.remove(),o=null})),o.on("$destroy",(function(){i.$destroy()}))}}}]);t.nvRewardsCenter=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvUpdateDownloadProgress=void 0;var r=n(10),i=function(e){return e&&e.__esModule?e:{default:e}}(n(900)),o=r.ngUpdatesModule.directive("nvUpdateDownloadProgress",(function(){return{restrict:"E",scope:{nvMessage:"@",nvValue:"@"},template:i.default,link:function(e,t){e.$on("$destroy",(function(){t.empty(),t.remove(),t=null})),t.on("$destroy",(function(){e.$destroy()}))}}}));t.nvUpdateDownloadProgress=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvDriverItem=void 0;var r=n(10),i=function(e){return e&&e.__esModule?e:{default:e}}(n(910)),o=r.ngUpdatesModule.directive("nvDriverItem",(function(){return{restrict:"E",scope:{nvDriver:"=",nvMdIcon:"@"},template:i.default,link:function(e,t){e.$on("$destroy",(function(){t.empty(),t.remove(),t=null})),t.on("$destroy",(function(){e.$destroy()}))}}}));t.nvDriverItem=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.editProfileCoverController=void 0;var r=n(8);n(278),n(120);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(239)),o=r.ngUserProfileModule.controller("EditProfileCoverController",["$scope","$log","$mdDialog","galleryService","nvSpCapsEndpoints","preferencesService","eventAggregator","COMMON_EVENTS","GALLERY_TYPES","CROPPIE_CONSTANTS","$filter","GALLERY_SUBTYPES",function(e,t,n,r,o,a,l,s,c,u,d,f){function m(){return r.thumbSizes=E,o.getRecordingPaths().then((function(e){return r.setRecordingPaths(e.data)})).then((function(){return r.getRecentFiles()})).then((function(){return r.checkCachedData()})).then((function(){g.recentImages=_.filter(r.populatedRecentFilesFolder,(function(e){return function(e){return e.type===c.IMAGE&&e.subtype!==f.EXR}(e.file)}))}))}function p(){g.loadingDone=!1,a.getShareRunningStatus().then((function(e){g.isShareEnabled=e,e&&(m().then(angular.noop).catch((function(e){b.error("could not fetch uploaded files",e)})),r.active(!0)),b.info("getShareRunningStatus returned: ",g.enabledShare)})).catch((function(e){b.error("getShareRunningStatus failed.")})).finally((function(){g.loadingDone=!0}))}var g=this,v=!1,h=!1,b=t.getInstance("main.userProfile/editProfileCoverController"),y=!1,E={width:208,height:117};u.SUPPORTED_FILE_TYPES,g.isShareEnabled=!1,g.selectedCoverVideoUrl=null,g.recentImages=[],g.hitApply=!1,g.croppieBoundary={w:652,h:204},g.croppieViewport={w:652,h:198},g.imageError=!1,g.defaultCoverImage=i.default,g.showCroppie=function(){return h&&!v},g.showPreview=function(){return!h&&!v},g.showError=function(){return v},g.submitDisabled=function(){return!y&&(!h||v)},g.recentlyCapturedVisible=function(){return g.recentImages.length&&g.showRecentlyCaptured},g.commitUpdate=function(){y?(g.hitApply=!0,g.updateImageCallback(g.defaultCoverImage),n.cancel()):(g.hitApply=!0,g.output.then((function(e){g.updateImageCallback(e),n.cancel()})))},g.onUpdate=function(e){e.error?(v=!0,g.errorMsg=d("translate")("l10n.fileSelectionError",g.outputFormat.minSize),b.error("onUpdate got error",e.error)):e.success&&(v=!1)},g.cancelUpdate=function(){n.cancel()},g.selectScreenshot=function(e){g.sourceImage=e.file.name,h=!0,y=!1},g.selectDefaultCover=function(){g.sourceImage=null,g.image=g.defaultCoverImage,y=!0,h=!1,v=!1},g.onFileSelect=function(e){g.sourceImage=e,h=!0,y=!1},e.$on("$destroy",(function(){g.showRecentlyCaptured&&(l.off(s.SHARE_STATUS_CHANGED,p),r.active(!1)),l.off(s.WINDOW_FOCUS,m)})),g.showRecentlyCaptured&&(p(),l.on(s.SHARE_STATUS_CHANGED,p)),g.boundary&&(g.croppieBoundary=g.boundary),g.viewport&&(g.croppieViewport=g.viewport),l.on(s.WINDOW_FOCUS,m)}]);t.editProfileCoverController=o},function(e,t,n){e.exports=n.p+"bckgnd.jpg"},function(e,t){e.exports="<div class=\"bg-dark-bluish-gray tourStep nv-ui-tour-popup nv-popover {{ tourStep.config('popupClass') }} {{ tourStep.config('orphan') ? 'nv-ui-tour-popup-orphan' : tourStep.config('placement').split('-')[0] + ' ' + tourStep.config('placement') }}\" ng-style=\"{\r\nvisibility: 'hidden',\r\ndisplay: 'block',\r\nposition: tourStep.config('fixed') || tourStep.config('orphan') ? 'fixed' : 'absolute',\r\nzIndex: tourStep.config('backdropZIndex') + 2\r\n}\" tabindex=0 aria-hidden=\"{{ tour._getCurrentStep() !== tourStep }}\" aria-label=tour-popup-section> <div class=arrow></div> <div class=\"nv-popover-inner tour-step-inner\" layout=column> <p class=\"tour-step-title padding-24 margin-zero font-size-lg\" ng-bind=\"tourStep.config('title')\" ng-if=\"tourStep.config('title')\"></p> <div layout=row layout-align=\"end center\" class=\"constants-position-absolute right-zero top-zero padding-8\"> <md-button class=\"md-icon-button nv-popover-close-button\" ng-click=tour.pause() aria-label=pause-tour-button> <md-icon md-font-set=material-icons class=nv-popover-close-button aria-label=closeIcon aria-hidden=true>close</md-icon> </md-button> </div> <div class=\"nv-popover-content-container tour-step-content\" ng-include=\"tourStep.config('templateUrl') || 'tour-step-template.html'\" flex layout=row aria-label=tour-popover-content></div> </div> </div> "},function(e,t){e.exports=' <div layout=column layout-align="space-between start" flex> <div class="nv-popover-content tour-step-content margin-top-16" bind-html-compile="tourStep.trustedContent || tourStep.content" ng-if=tourStep.content></div> <div layout=row layout-align="end center" class="nv-popover-navigation tour-step-navigation padding-8"> <md-button ng-if=tourStep.isNext() ng-click=tour.next() class="md-accent foreground margin-zero" translate=l10n.nextTip aria-label=tour-next-button> </md-button> <md-button ng-if=!tourStep.isNext() ng-click=tour.next() class="md-accent foreground margin-zero" translate=l10n.gotItText aria-label=tour-finish-button> </md-button> </div> </div> '},function(e,t){e.exports=' <form name=nvCouponValidation autocomplete=off novalidate class=coupon-validation-container layout=row layout-align="center start" ng-submit=couponInput.redeemCoupon($event)> <div layout=column> <input class="coupon-code-input color-white-hue-1 padding-zero padding-left-16 font-size-xxs bg-dark-vh-hue-2 font-family-roboto-light" type=text placeholder={{couponInput.nvInputPlaceholder}} name=coupon ng-model=couponInput.couponCode ng-change=couponInput.validateCoupon() spellcheck=false ng-trim=false /> <p ng-show=couponInput.codeInvalid translate={{couponInput.nvErrorMessage}} class="coupon-input-error-message margin-zero color-red-hue-1 line-height-sm1"></p> </div> <md-button class="md-raised md-accent margin-zero margin-left-16" type=submit ng-disabled=couponInput.actionButtonDisabled aria-label=submit-couponInput-button> <span translate={{couponInput.nvButton.text}} class=color-white-important aria-label={{couponInput.nvButton.text}}></span> </md-button> </form> '},function(e,t){e.exports=' <md-dialog layout=column class=croppie-dialog ng-class=editProfileCover.dialogClass> <h1 class="title font-style-normal color-white-hue-1" translate={{editProfileCover.title}}></h1> <p translate={{editProfileCover.subTitle}} class="subtitle color-white-hue-4 font-size-xxs"></p> <div class=padding-24> <div ng-show=editProfileCover.showCroppie() class=cover-image-preview> <div layout=row layout-align="center center" class=constants-position-relative> <nv-croppie async-result=editProfileCover.output output-format=editProfileCover.outputFormat update=editProfileCover.onUpdate boundry=editProfileCover.croppieBoundary viewport=editProfileCover.croppieViewport type=square zoom=true src=editProfileCover.sourceImage hit-apply=editProfileCover.hitApply> </nv-croppie> <nv-overlay class=common-overlay layout-fill ng-show=editProfileCover.showProgressIndicator> <span layout-fill layout-align="center center" layout=column> <md-progress-circular id=progressIndicator class=md-accent md-diameter=15 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> <nv-overlay class=common-overlay layout-fill ng-show=editProfileCover.showSuccess> <span layout-fill layout-align="center center" layout=column> <md-icon md-font-set=material-icons class="margin-zero md-accent md-32" aria-label=checkCircle aria-hidden=true>check_circle</md-icon> </span> </nv-overlay> </div> </div> <div ng-show=editProfileCover.showPreview() class=cover-image-preview> <div layout=column layout-align="center center" class=constants-position-relative> <img ng-src={{editProfileCover.image}} nv-fallback-src={{editProfileCover.defaultImage}} /> <nv-overlay class=common-overlay layout-fill ng-show=editProfileCover.showProgressIndicator> <span layout-fill layout-align="center center" layout=column> <md-progress-circular id=progressIndicator class=md-accent md-diameter=15 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> <nv-overlay class=common-overlay layout-fill ng-show=editProfileCover.showSuccess> <span layout-fill layout-align="center center" layout=column> <md-icon md-font-set=material-icons class="margin-zero md-accent md-32" aria-label=checkCircle aria-hidden=true>check_circle</md-icon> </span> </nv-overlay> </div> </div> <div layout=column ng-show=editProfileCover.showError() flex layout-align="center center" class="bg-dark-eh cover-image-preview"> <md-icon md-font-set=material-icons class="margin-zero color-white-hue-4 md-32" aria-label=error aria-hidden=true>error</md-icon> <p class="color-white-hue-4 font-size-sm1">{{editProfileCover.errorMsg}}</p> </div> <div layout=row layout-align="space-between center" class="margin-bottom-8 margin-top-8"> <p class="color-white-hue-4 margin-zero" translate=l10n.chooseFromLatestCaptures></p> <div flex></div> <nv-image-upload on-image-select=editProfileCover.onFileSelect(newImage)> <span class="md-button margin-zero" translate=l10n.uploadFromPC></span> </nv-image-upload> </div> <md-content class=gallery-tile-container> <md-list> <md-list-item class=gallery-tile> <img ng-src={{editProfileCover.defaultCoverImage}} class="clickable-element no-focus-outline" ng-click=editProfileCover.selectDefaultCover() /> <nv-overlay class="common-overlay no-background" nv-position="bottom right"> <span layout-fill layout-align="center center" class=margin-24 layout=column translate=l10n.default></span> </nv-overlay> </md-list-item> <md-list-item ng-if=editProfileCover.recentlyCapturedVisible() class=gallery-tile ng-repeat="recentFile in editProfileCover.recentImages track by $index"> <img ng-src={{recentFile.data}} class="clickable-element no-focus-outline" ng-click=editProfileCover.selectScreenshot(recentFile) /> </md-list-item> </md-list> </md-content> </div> <div layout=row layout-align="end center"> <md-button ng-click=editProfileCover.cancelUpdate() translate=l10n.cancel aria-label=cancelUpdate-button></md-button> <md-button type=submit ng-click=editProfileCover.commitUpdate() ng-disabled=editProfileCover.submitDisabled() translate=l10n.apply aria-label=commitUpdate-button></md-button> </div> </md-dialog> '},,function(e,t,n){e.exports={default:n(940),__esModule:!0}},function(e,t,n){var r;(function(){function n(e){function t(t,n,r,i,o,a){for(;o>=0&&o<a;o+=e){var l=i?i[o]:o;r=n(r,t[l],l,t)}return r}return function(n,r,i,o){r=_(r,o,4);var a=!D(n)&&S.keys(n),l=(a||n).length,s=e>0?0:l-1;return arguments.length<3&&(i=n[a?a[s]:s],s+=e),t(n,r,i,a,s,l)}}function i(e){return function(t,n,r){n=w(n,r);for(var i=x(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}}function o(e,t,n){return function(r,i,o){var a=0,l=x(r);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+l,a):l=o>=0?Math.min(o+1,l):o+l+1;else if(n&&o&&l)return r[o=n(r,i)]===i?o:-1;if(i!=i)return(o=t(m.call(r,a,l),S.isNaN))>=0?o+a:-1;for(o=e>0?a:l-1;o>=0&&o<l;o+=e)if(r[o]===i)return o;return-1}}function a(e,t){var n=L.length,r=e.constructor,i=S.isFunction(r)&&r.prototype||u,o="constructor";for(S.has(e,o)&&!S.contains(t,o)&&t.push(o);n--;)(o=L[n])in e&&e[o]!==i[o]&&!S.contains(t,o)&&t.push(o)}var l=this,s=l._,c=Array.prototype,u=Object.prototype,d=Function.prototype,f=c.push,m=c.slice,p=u.toString,g=u.hasOwnProperty,v=Array.isArray,h=Object.keys,b=d.bind,y=Object.create,E=function(){},S=function(e){return e instanceof S?e:this instanceof S?void(this._wrapped=e):new S(e)};void 0!==e&&e.exports&&(t=e.exports=S),t._=S,S.VERSION="1.8.3";var _=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},w=function(e,t,n){return null==e?S.identity:S.isFunction(e)?_(e,t,n):S.isObject(e)?S.matcher(e):S.property(e)};S.iteratee=function(e,t){return w(e,t,1/0)};var A=function(e,t){return function(n){var r=arguments.length;if(r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=e(o),l=a.length,s=0;s<l;s++){var c=a[s];t&&void 0!==n[c]||(n[c]=o[c])}return n}},T=function(e){if(!S.isObject(e))return{};if(y)return y(e);E.prototype=e;var t=new E;return E.prototype=null,t},I=function(e){return function(t){return null==t?void 0:t[e]}},C=Math.pow(2,53)-1,x=I("length"),D=function(e){var t=x(e);return"number"==typeof t&&t>=0&&t<=C};S.each=S.forEach=function(e,t,n){var r,i;if(t=_(t,n),D(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=S.keys(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e},S.map=S.collect=function(e,t,n){t=w(t,n);for(var r=!D(e)&&S.keys(e),i=(r||e).length,o=Array(i),a=0;a<i;a++){var l=r?r[a]:a;o[a]=t(e[l],l,e)}return o},S.reduce=S.foldl=S.inject=n(1),S.reduceRight=S.foldr=n(-1),S.find=S.detect=function(e,t,n){var r;if(void 0!==(r=D(e)?S.findIndex(e,t,n):S.findKey(e,t,n))&&-1!==r)return e[r]},S.filter=S.select=function(e,t,n){var r=[];return t=w(t,n),S.each(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r},S.reject=function(e,t,n){return S.filter(e,S.negate(w(t)),n)},S.every=S.all=function(e,t,n){t=w(t,n);for(var r=!D(e)&&S.keys(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(!t(e[a],a,e))return!1}return!0},S.some=S.any=function(e,t,n){t=w(t,n);for(var r=!D(e)&&S.keys(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(t(e[a],a,e))return!0}return!1},S.contains=S.includes=S.include=function(e,t,n,r){return D(e)||(e=S.values(e)),("number"!=typeof n||r)&&(n=0),S.indexOf(e,t,n)>=0},S.invoke=function(e,t){var n=m.call(arguments,2),r=S.isFunction(t);return S.map(e,(function(e){var i=r?t:e[t];return null==i?i:i.apply(e,n)}))},S.pluck=function(e,t){return S.map(e,S.property(t))},S.where=function(e,t){return S.filter(e,S.matcher(t))},S.findWhere=function(e,t){return S.find(e,S.matcher(t))},S.max=function(e,t,n){var r,i,o=-1/0,a=-1/0;if(null==t&&null!=e)for(var l=0,s=(e=D(e)?e:S.values(e)).length;l<s;l++)(r=e[l])>o&&(o=r);else t=w(t,n),S.each(e,(function(e,n,r){((i=t(e,n,r))>a||i===-1/0&&o===-1/0)&&(o=e,a=i)}));return o},S.min=function(e,t,n){var r,i,o=1/0,a=1/0;if(null==t&&null!=e)for(var l=0,s=(e=D(e)?e:S.values(e)).length;l<s;l++)(r=e[l])<o&&(o=r);else t=w(t,n),S.each(e,(function(e,n,r){((i=t(e,n,r))<a||i===1/0&&o===1/0)&&(o=e,a=i)}));return o},S.shuffle=function(e){for(var t,n=D(e)?e:S.values(e),r=n.length,i=Array(r),o=0;o<r;o++)(t=S.random(0,o))!==o&&(i[o]=i[t]),i[t]=n[o];return i},S.sample=function(e,t,n){return null==t||n?(D(e)||(e=S.values(e)),e[S.random(e.length-1)]):S.shuffle(e).slice(0,Math.max(0,t))},S.sortBy=function(e,t,n){return t=w(t,n),S.pluck(S.map(e,(function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}})).sort((function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index})),"value")};var M=function(e){return function(t,n,r){var i={};return n=w(n,r),S.each(t,(function(r,o){var a=n(r,o,t);e(i,r,a)})),i}};S.groupBy=M((function(e,t,n){S.has(e,n)?e[n].push(t):e[n]=[t]})),S.indexBy=M((function(e,t,n){e[n]=t})),S.countBy=M((function(e,t,n){S.has(e,n)?e[n]++:e[n]=1})),S.toArray=function(e){return e?S.isArray(e)?m.call(e):D(e)?S.map(e,S.identity):S.values(e):[]},S.size=function(e){return null==e?0:D(e)?e.length:S.keys(e).length},S.partition=function(e,t,n){t=w(t,n);var r=[],i=[];return S.each(e,(function(e,n,o){(t(e,n,o)?r:i).push(e)})),[r,i]},S.first=S.head=S.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:S.initial(e,e.length-t)},S.initial=function(e,t,n){return m.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},S.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:S.rest(e,Math.max(0,e.length-t))},S.rest=S.tail=S.drop=function(e,t,n){return m.call(e,null==t||n?1:t)},S.compact=function(e){return S.filter(e,S.identity)};var O=function(e,t,n,r){for(var i=[],o=0,a=r||0,l=x(e);a<l;a++){var s=e[a];if(D(s)&&(S.isArray(s)||S.isArguments(s))){t||(s=O(s,t,n));var c=0,u=s.length;for(i.length+=u;c<u;)i[o++]=s[c++]}else n||(i[o++]=s)}return i};S.flatten=function(e,t){return O(e,t,!1)},S.without=function(e){return S.difference(e,m.call(arguments,1))},S.uniq=S.unique=function(e,t,n,r){S.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=w(n,r));for(var i=[],o=[],a=0,l=x(e);a<l;a++){var s=e[a],c=n?n(s,a,e):s;t?(a&&o===c||i.push(s),o=c):n?S.contains(o,c)||(o.push(c),i.push(s)):S.contains(i,s)||i.push(s)}return i},S.union=function(){return S.uniq(O(arguments,!0,!0))},S.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=x(e);r<i;r++){var o=e[r];if(!S.contains(t,o)){for(var a=1;a<n&&S.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},S.difference=function(e){var t=O(arguments,!0,!0,1);return S.filter(e,(function(e){return!S.contains(t,e)}))},S.zip=function(){return S.unzip(arguments)},S.unzip=function(e){for(var t=e&&S.max(e,x).length||0,n=Array(t),r=0;r<t;r++)n[r]=S.pluck(e,r);return n},S.object=function(e,t){for(var n={},r=0,i=x(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},S.findIndex=i(1),S.findLastIndex=i(-1),S.sortedIndex=function(e,t,n,r){for(var i=(n=w(n,r,1))(t),o=0,a=x(e);o<a;){var l=Math.floor((o+a)/2);n(e[l])<i?o=l+1:a=l}return o},S.indexOf=o(1,S.findIndex,S.sortedIndex),S.lastIndexOf=o(-1,S.findLastIndex),S.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i};var R=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=T(e.prototype),a=e.apply(o,i);return S.isObject(a)?a:o};S.bind=function(e,t){if(b&&e.bind===b)return b.apply(e,m.call(arguments,1));if(!S.isFunction(e))throw new TypeError("Bind must be called on a function");var n=m.call(arguments,2),r=function(){return R(e,r,t,this,n.concat(m.call(arguments)))};return r},S.partial=function(e){var t=m.call(arguments,1),n=function(){for(var r=0,i=t.length,o=Array(i),a=0;a<i;a++)o[a]=t[a]===S?arguments[r++]:t[a];for(;r<arguments.length;)o.push(arguments[r++]);return R(e,n,this,this,o)};return n},S.bindAll=function(e){var t,n,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(t=1;t<r;t++)e[n=arguments[t]]=S.bind(e[n],e);return e},S.memoize=function(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return S.has(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},S.delay=function(e,t){var n=m.call(arguments,2);return setTimeout((function(){return e.apply(null,n)}),t)},S.defer=S.partial(S.delay,S,1),S.throttle=function(e,t,n){var r,i,o,a=null,l=0;n||(n={});var s=function(){l=!1===n.leading?0:S.now(),a=null,o=e.apply(r,i),a||(r=i=null)};return function(){var c=S.now();l||!1!==n.leading||(l=c);var u=t-(c-l);return r=this,i=arguments,u<=0||u>t?(a&&(clearTimeout(a),a=null),l=c,o=e.apply(r,i),a||(r=i=null)):a||!1===n.trailing||(a=setTimeout(s,u)),o}},S.debounce=function(e,t,n){var r,i,o,a,l,s=function(){var c=S.now()-a;c<t&&c>=0?r=setTimeout(s,t-c):(r=null,n||(l=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=S.now();var c=n&&!r;return r||(r=setTimeout(s,t)),c&&(l=e.apply(o,i),o=i=null),l}},S.wrap=function(e,t){return S.partial(t,e)},S.negate=function(e){return function(){return!e.apply(this,arguments)}},S.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},S.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},S.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},S.once=S.partial(S.before,2);var N=!{toString:null}.propertyIsEnumerable("toString"),L=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];S.keys=function(e){if(!S.isObject(e))return[];if(h)return h(e);var t=[];for(var n in e)S.has(e,n)&&t.push(n);return N&&a(e,t),t},S.allKeys=function(e){if(!S.isObject(e))return[];var t=[];for(var n in e)t.push(n);return N&&a(e,t),t},S.values=function(e){for(var t=S.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r},S.mapObject=function(e,t,n){t=w(t,n);for(var r,i=S.keys(e),o=i.length,a={},l=0;l<o;l++)a[r=i[l]]=t(e[r],r,e);return a},S.pairs=function(e){for(var t=S.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},S.invert=function(e){for(var t={},n=S.keys(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},S.functions=S.methods=function(e){var t=[];for(var n in e)S.isFunction(e[n])&&t.push(n);return t.sort()},S.extend=A(S.allKeys),S.extendOwn=S.assign=A(S.keys),S.findKey=function(e,t,n){t=w(t,n);for(var r,i=S.keys(e),o=0,a=i.length;o<a;o++)if(t(e[r=i[o]],r,e))return r},S.pick=function(e,t,n){var r,i,o={},a=e;if(null==a)return o;S.isFunction(t)?(i=S.allKeys(a),r=_(t,n)):(i=O(arguments,!1,!1,1),r=function(e,t,n){return t in n},a=Object(a));for(var l=0,s=i.length;l<s;l++){var c=i[l],u=a[c];r(u,c,a)&&(o[c]=u)}return o},S.omit=function(e,t,n){if(S.isFunction(t))t=S.negate(t);else{var r=S.map(O(arguments,!1,!1,1),String);t=function(e,t){return!S.contains(r,t)}}return S.pick(e,t,n)},S.defaults=A(S.allKeys,!0),S.create=function(e,t){var n=T(e);return t&&S.extendOwn(n,t),n},S.clone=function(e){return S.isObject(e)?S.isArray(e)?e.slice():S.extend({},e):e},S.tap=function(e,t){return t(e),e},S.isMatch=function(e,t){var n=S.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var a=n[o];if(t[a]!==i[a]||!(a in i))return!1}return!0};var P=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof S&&(e=e._wrapped),t instanceof S&&(t=t._wrapped);var i=p.call(e);if(i!==p.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,l=t.constructor;if(a!==l&&!(S.isFunction(a)&&a instanceof a&&S.isFunction(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}r=r||[];for(var s=(n=n||[]).length;s--;)if(n[s]===e)return r[s]===t;if(n.push(e),r.push(t),o){if((s=e.length)!==t.length)return!1;for(;s--;)if(!P(e[s],t[s],n,r))return!1}else{var c,u=S.keys(e);if(s=u.length,S.keys(t).length!==s)return!1;for(;s--;)if(c=u[s],!S.has(t,c)||!P(e[c],t[c],n,r))return!1}return n.pop(),r.pop(),!0};S.isEqual=function(e,t){return P(e,t)},S.isEmpty=function(e){return null==e||(D(e)&&(S.isArray(e)||S.isString(e)||S.isArguments(e))?0===e.length:0===S.keys(e).length)},S.isElement=function(e){return!(!e||1!==e.nodeType)},S.isArray=v||function(e){return"[object Array]"===p.call(e)},S.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},S.each(["Arguments","Function","String","Number","Date","RegExp","Error"],(function(e){S["is"+e]=function(t){return p.call(t)==="[object "+e+"]"}})),S.isArguments(arguments)||(S.isArguments=function(e){return S.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(S.isFunction=function(e){return"function"==typeof e||!1}),S.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},S.isNaN=function(e){return S.isNumber(e)&&e!==+e},S.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===p.call(e)},S.isNull=function(e){return null===e},S.isUndefined=function(e){return void 0===e},S.has=function(e,t){return null!=e&&g.call(e,t)},S.noConflict=function(){return l._=s,this},S.identity=function(e){return e},S.constant=function(e){return function(){return e}},S.noop=function(){},S.property=I,S.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},S.matcher=S.matches=function(e){return e=S.extendOwn({},e),function(t){return S.isMatch(t,e)}},S.times=function(e,t,n){var r=Array(Math.max(0,e));t=_(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},S.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},S.now=Date.now||function(){return(new Date).getTime()};var k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},G=S.invert(k),F=function(e){var t=function(t){return e[t]},n="(?:"+S.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};S.escape=F(k),S.unescape=F(G),S.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),S.isFunction(r)?r.call(e):r};var U=0;S.uniqueId=function(e){var t=++U+"";return e?e+t:t},S.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var V=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\u2028|\u2029/g,$=function(e){return"\\"+z[e]};S.template=function(e,t,n){!t&&n&&(t=n),t=S.defaults({},t,S.templateSettings);var r=RegExp([(t.escape||V).source,(t.interpolate||V).source,(t.evaluate||V).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,(function(t,n,r,a,l){return o+=e.slice(i,l).replace(B,$),i=l+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t})),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(t.variable||"obj","_",o)}catch(e){throw e.source=o,e}var l=function(e){return a.call(this,e,S)},s=t.variable||"obj";return l.source="function("+s+"){\n"+o+"}",l},S.chain=function(e){var t=S(e);return t._chain=!0,t};var W=function(e,t){return e._chain?S(t).chain():t};S.mixin=function(e){S.each(S.functions(e),(function(t){var n=S[t]=e[t];S.prototype[t]=function(){var e=[this._wrapped];return f.apply(e,arguments),W(this,n.apply(S,e))}}))},S.mixin(S),S.each(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=c[e];S.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],W(this,n)}})),S.each(["concat","join","slice"],(function(e){var t=c[e];S.prototype[e]=function(){return W(this,t.apply(this._wrapped,arguments))}})),S.prototype.value=function(){return this._wrapped},S.prototype.valueOf=S.prototype.toJSON=S.prototype.value,S.prototype.toString=function(){return""+this._wrapped},void 0===(r=function(){return S}.apply(t,[]))||(e.exports=r)}).call(this)},,,,function(e,t,n){function r(e){return n(i(e))}function i(e){return o[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var o={"./gold.svg":705,"./gray.svg":706};r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=326},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.appService=void 0;var i=r(n(321)),o=n(187);n(18),n(124),n(51),n(17),n(623),n(13),n(29),n(122),n(37),n(214),n(361),n(188),n(296),n(293),n(123),n(563);var a=r(n(834));n(382),n(490);var l=r(n(932));n(114),n(374);var s=o.ngMainModule.service("appService",["$log","$window","$translate","$translatePartialLoader","$state","$rootScope","$interpolate","eventAggregator","gfeService","cefService","gfwslEndpoints","gfservicesEndpoints","oobeDialogService","nodeService","gfeUpdatesService","updatesService","socketService","annotoriousService","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","jarvisService","dbService","dbCacheService","DB_NAMES","GFECLIENT_CONFIG","GFECLIENT_BUILD_INFO","COMMON_EVENTS","COMMON_EVENTS_VALUE","COMMON_DEFAULT_STATES","ANNOTATION_PROPERTIES","GAME_EVENTS","rewardsService","hardwareService","COMMON_ERRORS","preferencesService","gfeTargetService","notificationsService","weChatService","gfeSearchService","cevoToggleService","gfeGeolocationService","quietModeService","BACKEND_STATE_SOCKET_EVENTS","BACKEND_STATE_EVENTS","preferencesFeatureService","productTourService","TELEMETRY_STATUS","piiSanityService","gfnCloudGamesService","performanceModeService","framerateLimiterService","nisService",function(e,t,n,r,o,s,c,u,d,f,m,p,g,v,h,b,y,E,S,w,A,T,I,C,x,D,M,O,R,N,L,P,k,G,F,U,V,z,B,$,W,H,j,q,Y,K,Q,Z,X,J,ee,te){function ne(e,t,n,r,i){return se.debug("$stateChangeStart from state:",r.name," to state:",t.name),""===r.name||r.name.indexOf("main.updateHighlights")>=0||!(t.name.indexOf("main.auth")>=0)||A.hasSession()?r.name===t.name&&_.isEqual(i,n)?void e.preventDefault():(r.nvEventNames&&(S.endView(r.nvEventNames.viewTime,ue[r.nvEventNames.viewTime.enumId]),delete ue[r.nvEventNames.viewTime.enumId]),void(t.nvEventNames&&(ce[t.nvEventNames.loadTime.enumId]=S.startLoad(t.nvEventNames.loadTime)))):(se.error("$stateChangeStart: No valid session"),void e.preventDefault())}function re(e,t,n,r,i){if(se.debug("$stateChangeSuccess from state:",r.name," to state:",t.name),"main.auth"===t.name.slice(0,9)&&"main.auth.preferences"!==t.name&&-1===t.name.indexOf(de)){de=t.name;var o=A.getLoggedInUser(),a=I.getCachedUserItem(o.userId,C.VIEW_STORE,C.VIEW_STATE);a.lastRouterToState=de,a.lastRouterToStateParams=n,a.lastRouterFromState=r.name,a.lastRouterFromStateParams=i,de.indexOf("main.auth.preferences")>-1&&(a.lastPreferencesRouterState=de),a.persist_()}t.nvEventNames&&(S.endLoad(t.nvEventNames.loadTime,ce[t.nvEventNames.loadTime.enumId]),ue[t.nvEventNames.viewTime.enumId]=S.startView(t.nvEventNames.viewTime),delete ce[t.nvEventNames.loadTime.enumId])}function ie(e,t,n,r,i,o){se.info("$stateChangeError from state:",r.name," to state:",t.name),e.preventDefault(),o!==G.NODE_START_FAILED&&d.logout("sessionExpired"===o)}function oe(e){ae(e)}function ae(e){var t={userAgent:x.userAgent+"/"+d.version};e?n(["l10n.pageCouldNotBeLoaded","l10n.retry"]).then((function(n){t.onLoadError=c(a.default)({errorMessage:n["l10n.pageCouldNotBeLoaded"],retry:n["l10n.retry"]}),t.acceptLanguage=function(e){var t=e;return"en-us"!==e.toLowerCase()&&(t+=", en-us"),t}(e.code),f.loadStringTable(t)})).catch((function(e){se.error("Failed to load CEF string table")})):f.loadStringTable(t)}var le,se=e.getInstance("main/appService"),ce={},ue={},de=R.HOME_STATE;this.main=function(){se.info("Init"),se.info("GFE Build Info:",D),t.name=x.windowName,s.telemetryEventNames=w;var e=d.version;"local"===x.buildMode&&(e="dev-"+e),S.setEventsCommonData({clientVersion:e}),d.setOnline(t.navigator.onLine),ae(),t.addEventListener("focus",(function(){se.info("Trigger window focus"),u.trigger(M.WINDOW_FOCUS)})),t.addEventListener("resize",t._.debounce((function(){se.debug("Trigger window resize"),u.trigger(M.WINDOW_RESIZE)}),O.RESIZE_DEBOUNCE_TIME)),t.addEventListener("online",(function(){se.info("Transition to online mode"),d.setOnline(!0),u.trigger(M.ONLINE)})),t.addEventListener("offline",(function(){se.info("Transition to offline mode"),d.setOnline(!1),u.trigger(M.OFFLINE)})),t.addEventListener("unload",(function(){se.debug("Trigger unload"),g.close("APP_EXIT"),K.sendProductTourExitTelemetry(Q.APP_EXIT),y.disconnect()})),u.on(M.LOCALE_CHANGED,oe),s.$on("$stateChangeStart",ne),s.$on("$stateChangeSuccess",re),s.$on("$stateChangeError",ie),T.getGlobalStore(C.GLOBAL_STORE),r.addPart("l10n/main"),r.addPart("l10n/games"),r.addPart("l10n/gallery"),r.addPart("l10n/friends"),r.addPart("l10n/share"),r.addPart("l10n/updates"),r.addPart("l10n/oobe"),r.addPart("l10n/gfn"),r.addPart("l10n/settings"),r.addPart("l10n/notifications"),r.addPart("l10n/rewards"),r.addPart("l10n/preferences"),r.addPart("l10n/user-profile"),function(){var e,t=(0,i.default)(s);e={go:o.go.bind(o)},o.includes&&(e.includes=o.includes.bind(o)),t.$state=e}(),E.setProperties(N),E.addHandler("onPopupShown",(function(e){e.nvSettingName&&u.trigger(L.VOPS_POPUP_SHOWN,{name:e.nvSettingName})})),E.addHandler("onMouseOutOfAnnotation",(function(){u.trigger(L.VOPS_POPUP_SHOWN,{name:null})})),S.addPreShutdownWork((function(){S.endView(w.GFE_EXIT_UI,le)})),!0},this.initializeUI=function(e,t,n){se.info("Init UI"),Z.initialize(),S.handleLaunchTimeTelemetry(),S.setGfeInitializeStartTime(),k.initialize(),le=S.startView(w.GFE_EXIT_UI),S.push(w.GFE_LAUNCH_UI),f.setWindowStyle(n),v.initialize(),y.connect(),U.initialize(),W.getGeolocation(),V.initialize(),P.initialize(),m.initialize(d.version,e,t),p.initialize(e),h.initialize(),b.initialize(),F.initialize(t),F.getNodeAddons(),Y.initialize(),z.initialize(),B.initialize(e.code,l.default),$.initialize(),H.initialize(),te.initialize(),ee.initialize(),K.initialize(),A.initialize(),X.initialize(),J.initialize(),y.register(j.READY,q.READY)}}]);t.appService=s},function(e,t,n){"use strict";n(329),n(18),n(11),n(13),n(363),n(304),n(624),n(65),n(51),n(47),n(17),n(135),n(37),n(23),n(167),n(348),n(218),n(535),n(209),n(163),n(394),n(381);var r=n(187);n(411),n(405),n(445),n(301),n(492),n(499),n(457),n(630),n(560),n(585),n(558),n(571),n(601),n(597),n(346),n(311),n(347),n(676);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(981));r.ngMainModule.config(["$stateProvider","$urlRouterProvider","TELEMETRY_CRIMSON_EVENT_NAMES","$httpProvider","$provide",function(e,t,n,r,o){o.decorator("$state",["$delegate","$rootScope",function(e,t){return t.$on("$stateChangeStart",(function(t,n,r){e.next=n,e.toParams=r})),e}]),t.otherwise("/auth/home/games-and-friends"),r.interceptors.unshift("httpLoggingService"),r.interceptors.unshift("opentracingHttpInterceptor"),e.state("main",{url:"",template:'<nv-main flex layout="column"></nv-main>',abstract:!0,resolve:{startStateLocation:["$log","$state","gfeService",function(e,t,n){e.getInstance("main/resolve/startStateLocation").info("startStateLocation resolved:",t.next.name);var r={name:t.next.name,params:t.toParams,url:t.href(t.next.name,t.toParams)};return n.setStartState(r),r}],localNodeInfo:["$log","$q","cefService","localSdk","nvAccountEndpoints","ugcLib",function(e,t,n,r,i,o){var a=e.getInstance("/main/uiRouter/main/resolve/localNodeInfo");return a.info("Requested"),n.localNodeInfo().then((function(e){var t=JSON.parse(e);return a.info("local nodeinfo Resolved",t.active,t.errorCode),r.updateNodeInfo(t),i.updateNodeInfo(t),o.updateNodeInfo(t),t})).catch((function(e){return a.info("local nodeinfo Rejected error:",e),e}))}],isWindowBorderless:["$log","$q","cefService",function(e,t,n){var r=e.getInstance("/main/uiRouter/main/resolve/isWindowBorderless");return r.info("Requested"),n.isBorderless().then((function(e){return r.info("Resolved"),e})).catch((function(){return r.info("Rejected"),!1}))}],hardwareInfo:["$log","$q","localNodeInfo","hardwareService","telemetryService","localeService","dbService","DB_NAMES","TELEMETRY_ERROR_MESSAGE","tracingService","GFECLIENT_CONFIG","GFECLIENT_BUILD_INFO",function(e,t,r,o,a,l,s,c,u,d,f,m){var p=e.getInstance("/main/uiRouter/main/resolve/hardwareInfo"),g=u.SERVICE_RESOLVED_WITHOUT_DEVICE_ID;p.info("Requested");var v=s.getGlobalStore(c.GLOBAL_STORE);return o.getLaunchTimeSystemInfo().then((function(e){if(p.info("Resolved"),f.tracerFeature){p.info("Initializing tracing service");var t=new i.default.Tracer(f.tracer),r={};r.deviceId=e.TelemetryDeviceId,r.osName=e.OSName,r.osVersion=e.OSVersion,r.clientVersion=m.gfePackageVersion,d.init(t,r)}e.TelemetryDeviceId||a.push(n.DEVICE_ID_IS_UNDEFINED,{errorMessage:g}),a.setEventsCommonData({deviceId:e.TelemetryDeviceId}),l.setSystemLocale(e.UserDefaultUILanguage);var o={deviceId:e.TelemetryDeviceId};return v.setItem(c.SYSTEM_INFO,o),e})).catch((function(){return p.info("Rejected"),g=u.SERVICE_REJECTED_GLOBAL_STORE_WITHOUT_DEVICE_ID,v.getItem(c.SYSTEM_INFO).then((function(e){e&&e.deviceId?a.setEventsCommonData({deviceId:e.deviceId}):a.push(n.DEVICE_ID_IS_UNDEFINED,{errorMessage:g})})).catch((function(e){g=u.SERVICE_REJECTED_GLOBAL_STORE_REJECTED,a.push(n.DEVICE_ID_IS_UNDEFINED,{errorMessage:g}),p.info("Error in processing error getItem",e)})),{}}))}],language:["$log","$q","localeService","localNodeInfo","hardwareInfo","nodeService","COMMON_ERRORS","FATAL_ERRORS",function(e,t,n,r,i,o,a,l){var s=e.getInstance("/main/uiRouter/main/resolve/language");s.info("Requested");var c=t.defer();return n.setApplicationLocale().then((function(e){return s.info("language Resolved"),!1===r.active?(s.error("node start fails: status",r.active),o.showErrorMessage("node start fails with error: "+r.errorCode,l.nodeStartFail),c.reject(a.NODE_START_FAILED)):c.resolve(e)})).catch((function(){return s.info("language Rejected"),c.reject()})),c.promise}],silentInstall:["$log","cefService","$q","preferencesService","language","nvAccountService","GFECLIENT_CONFIG","telemetryService","USER_CONSENT_LEVEL","nodeService","localNodeInfo","FATAL_ERRORS",function(e,t,n,r,i,o,a,l,s,c,u,d){var f=n.defer(),m=e.getInstance("/main/uiRouter/main/resolve/silentInstall");return m.info("requesting functional data consent"),o.getClientTelemetryConsent(a.jarvis.clientId).then((function(e){m.info("Received functional data consent: ",e);var n=e.consentSettings;return n.trackFunctionalData.level===s.FULL?(m.info("consent already available"),l.setFunctionalConsentReceived(),f.resolve()):void r.showFunctionalDataConsent().then((function(){m.info("functional data consent accepted, notifying all"),l.setFunctionalConsentReceived(),n.trackFunctionalData.level=s.FULL,m.info("setting functional data consent to full"),o.setDefaultTelemetryConsent(n,"gfe").then((function(){return m.info("functional data consent set successfully to full for GFE"),n.trackTechnicalData.level=s.FULL,o.setDefaultTelemetryConsent(n,"dd")})).then((function(){return m.info("functional and technical data consent set successfully  to full for DD"),f.resolve()})).catch((function(e){return m.error("failed to update consent in nvaccounts",e),c.showErrorMessage("failed to update consent in nvaccounts",d.consentSetFail)}))})).catch((function(){return m.info("user did not accept functional data consent, closing"),t.windowClose()}))})).catch((function(e){return m.error("failed to recieve functional data consent",e),c.showErrorMessage("failed to receive functional data consent",d.consentGetFail)})),f.promise}],jarvisServer:["$log","jarvisService",function(e,t){return e.getInstance("/main/uiRouter/main/resolve/jarvisServer").info("selecting fastest server"),t.selectFastestServer()}]},onEnter:["$log","appService","language","hardwareInfo","isWindowBorderless","productTourService","jarvisServer",function(e,t,n,r,i,o,a){e.getInstance("/main/uiRouter/main/onEnter"),t.initializeUI(n,r,i),o.resumeOobeTour()}]}).state("main.loggedOut",{url:"/logged-out?sessionExpired",abstract:!1,onEnter:["oobeDialogService","$stateParams","jarvisService","telemetryService","GFE_LAUNCH_STATE","$log","dbService","DB_NAMES","GFWSL_STATUS","silentInstall",function(e,t,n,r,i,o,a,l,s,c){var u="true"===t.sessionExpired,d=(o.getInstance("main/urlRouter/main.loggedOut/onEnter"),a.getGlobalStore(l.GLOBAL_STORE)),f=s.SUCCESS;n.logout(),d.getItem(l.GFWSL_STATUS).then((function(e){f=e})).finally((function(){f==s.BLOCKED?e.gfeBlocked():e.launch(u),u?r.handleGfeInitializeTimeTelemetry(i.INVALID_SESSION):r.handleGfeInitializeTimeTelemetry(i.NO_SESSION_TOKEN)}))}],parent:"main"}).state("main.updateHighlights",{url:"/update-highlights",abstract:!1,onEnter:["$log","preferencesService","$state","gfeService","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","$timeout",function(e,t,n,r,i,o,a){var l=e.getInstance("main/urlRouter/main.updateHighlights/onEnter");l.debug("main.updateHighlights onEnter called"),r.onlineState.online?(l.debug("Release highlights shown"),i.push(o.GFE_UPDATE_LAUNCH_SHOW_HIGHLIGHTS),t.onShowReleaseHighlight(!0)):(i.push(o.GFE_UPDATE_LAUNCH_USER_OFFLINE),l.debug("User offline. Release highlights not shown.")),a((function(){n.go("main.auth.home.gamesAndFriends")}))}],parent:"main"}).state("main.auth",{url:"/auth",abstract:!0,template:"<div layout flex ui-view></div>",onEnter:["telemetryService","GFE_LAUNCH_STATE","$state","$log","hardwareService","currentUser","syncViewState","oobeDialogService","gfeService","localNodeInfo","dbService","DB_NAMES","previousState","GFWSL_STATUS","$timeout","eventAggregator","COMMON_EVENTS","gfservicesEndpoints","gfwslEndpoints","updatesService","preferencesService",function(e,t,n,r,i,o,a,l,s,c,u,d,f,m,p,g,v,h,b,y,E){var S=u.getGlobalStore(d.GLOBAL_STORE),_=m.SUCCESS,w=r.getInstance("main/urlRouter/main.auth/onEnter");S.getItem(d.GFWSL_STATUS).then((function(e){_=e})).finally((function(){if(_!=m.BLOCKED){e.handleGfeInitializeTimeTelemetry(t.VALID_SESSION),w.info("Retrieve full system Information after login"),i.getSystemInfo().then((function(e){w.info("Retrieved System Info"),h.hasHardwareInfo()||h.updateHardwareInfo(e),b.hasHardwareInfo()||b.updateHardwareInfo(e),y.checkForUpdates()})).catch((function(){w.error("Failed to retriev System Info")})),"main.loggedOut"!==f.name&&(s.syncData(o),l.finishOobe(o));var r,a=!1;S.getItem(d.DRIVER_INSTALL_STATE).then((function(e){r=e,w.debug("found resume driver installation entry",r)})).catch((function(e){w.error("failed to read displayDriverInstallation key in database: ",e)})).finally((function(){r?p((function(){n.go("main.auth.updates",{updateState:"checkForUpdate",resumeDriverInstallation:r},{location:"replace"})})):i.getLaunchTimeSystemInfo().then((function(e){!e||e.DriverVersion&&""!==e.DriverVersion||(a=!0)})).catch((function(e){w.error("fail to get driver info")})).finally((function(){a&&(w.info("redirect to driver page"),p((function(){n.go("main.auth.updates",{updateState:"checkForUpdate"},{location:"replace"})})))}))}))}else l.gfeBlocked()}))}],resolve:{currentUser:["localNodeInfo","$q","jarvisService","$log","telemetryService","eventAggregator","COMMON_EVENTS","oobeDialogService","hardwareInfo","silentInstall",function(e,t,n,r,i,o,a,l,s,c){var u=r.getInstance("main/urlRouter/main.auth/resolve");return u.info("main.auth resolved called"),n.hasSession()?n.getLoggedInUser():n.loginFromDatabase().then((function(e){i.setEventsCommonData({userId:e.user.userId});var r=t.defer();return e.user.core.primaryEmailVerified?r.resolve():l.skipEmailVerification(e).then((function(e){e?r.resolve():r.reject()})),r.promise.then((function(){return n.startSession(e).then((function(e){return u.info("jarvis session started on login from db"),o.trigger(a.LOGIN_STATUS_CHANGE,!0),e}))})).catch((function(){return t.reject(e)}))})).catch((function(e){return u.error("exception in loginFromDatabase"),("string"==typeof e||e&&e.status)&&u.error(e),t.reject(e&&401===e.status?"sessionExpired":null)}))}],syncViewState:["currentUser","dbCacheService","DB_NAMES",function(e,t,n){return t.getCachedUserItem(e.userId,n.VIEW_STORE,n.VIEW_STATE).sync_()}],previousState:["$state",function(e){return{name:e.current.name,params:e.params,url:e.href(e.current.name,e.params)}}]},parent:"main"}).state("main.auth.home",{url:"/home",template:'<div id="home" flex layout="column" ui-view></div>',parent:"main.auth"}).state("main.auth.home.gamesAndFriends",{url:"/games-and-friends",template:"<nv-home layout flex></nv-home>",parent:"main.auth.home",nvEventNames:{view:n.HOME_VIEW_GAMES_AND_FRIENDS,loadTime:n.HOME_LOADTIME_GAMES_AND_FRIENDS,viewTime:n.HOME_VIEWTIME_GAMES_AND_FRIENDS}}).state("main.auth.home.gamesAndFriends.batteryBoostNotification",{url:"/games-and-friends/{data:json}",template:"<nv-home layout flex></nv-home>",parent:"main.auth.home",nvEventNames:{view:n.HOME_VIEW_GAMES_AND_FRIENDS,loadTime:n.HOME_LOADTIME_GAMES_AND_FRIENDS,viewTime:n.HOME_VIEWTIME_GAMES_AND_FRIENDS}}).state("main.auth.home.gamesAndFriends.friendDetails",{url:"/friends-details/:userId",template:"<nv-friend-details layout flex></nv-friend-details>",parent:"main.auth.home"}).state("main.auth.home.gamesAndFriends.gameDetails",{url:"/game-details/:userGameId",template:"<nv-game-details layout flex></nv-game-details>",parent:"main.auth.home",nvEventNames:{view:n.HOME_VIEW_GAME_INFO,loadTime:n.HOME_LOADTIME_GAME_INFO,viewTime:n.HOME_VIEWTIME_GAME_INFO}}).state("main.auth.gfn",{url:"/gfn/:tabId",template:"<nv-gfn layout flex></nv-gfn>",parent:"main.auth"}).state("main.auth.gfn.genreGames",{url:"/gfn.genreGames/:id",template:"<nv-genre-games layout flex></nv-genre-games>",parent:"main.auth"}).state("main.auth.gallery",{url:"/gallery",template:"<nv-gallery-main layout flex></nv-gallery-main>",parent:"main.auth"}).state("main.auth.gameroom",{url:"/gameroom",template:'<md-content flex class="md-padding">GAMEROOM</md-content>',parent:"main.auth"}).state("main.auth.updates",{url:"/updates",params:{updateState:null,resumeDriverInstallation:null,startDriverDownload:!1},template:"<nv-updates layout flex></nv-updates>",parent:"main.auth",nvEventNames:{view:n.UPDATES_VIEW_UPDATES,loadTime:n.UPDATES_LOADTIME_UPDATES,viewTime:n.UPDATES_VIEWTIME_UPDATES}}).state("main.auth.preferences",{url:"/preferences",template:"<nv-preferences layout flex></nv-preferences>",parent:"main.auth",nvEventNames:{view:n.PREFERENCES_VIEW_PREFERENCES,loadTime:n.PREFERENCES_LOADTIME_PREFERENCES,viewTime:n.PREFERENCES_VIEWTIME_PREFERENCES},onEnter:["$state","COMMON_DEFAULT_STATES","dbCacheService","DB_NAMES","syncViewState","currentUser","$timeout",function(e,t,n,r,i,o,a){var l=n.getCachedUserItem(o.userId,r.VIEW_STORE,r.VIEW_STATE).lastPreferencesRouterState||t.PREFERENCES_STATE;a((function(){e.is("main.auth.preferences")&&e.go(l,{},{location:"replace"})}))}]}).state("main.auth.preferences.general",{url:"/general",template:"<nv-preferences-general></nv-preferences-general>",parent:"main.auth.preferences",nvEventNames:{view:n.PREFERENCES_VIEW_GENERAL,loadTime:n.PREFERENCES_LOADTIME_GENERAL,viewTime:n.PREFERENCES_VIEWTIME_GENERAL},onEnter:["telemetryService",function(e){e.push(n.PREFERENCES_VIEW_GENERAL)}]}).state("main.auth.preferences.accounts",{url:"/accounts",template:"<nv-preferences-accounts></nv-preferences-accounts>",parent:"main.auth.preferences",nvEventNames:{view:n.PREFERENCES_VIEW_ACCOUNTS,loadTime:n.PREFERENCES_LOADTIME_ACCOUNTS,viewTime:n.PREFERENCES_VIEWTIME_ACCOUNTS},onEnter:["telemetryService",function(e){e.push(n.PREFERENCES_VIEW_ACCOUNTS)}]}).state("main.auth.preferences.led",{url:"/led",template:"<nv-preferences-led></nv-preferences-led>",parent:"main.auth.preferences"}).state("main.auth.preferences.games",{url:"/games",template:"<nv-preferences-games></nv-preferences-games>",parent:"main.auth.preferences",nvEventNames:{view:n.PREFERENCES_VIEW_GAMES,loadTime:n.PREFERENCES_LOADTIME_GAMES,viewTime:n.PREFERENCES_VIEWTIME_GAMES},onEnter:["telemetryService",function(e){e.push(n.PREFERENCES_VIEW_GAMES)}]}).state("main.auth.preferences.shield",{url:"/shield",template:"<nv-preferences-shield></nv-preferences-shield>",parent:"main.auth.preferences",nvEventNames:{view:n.PREFERENCES_VIEW_SHIELD,loadTime:n.PREFERENCES_LOADTIME_SHIELD,viewTime:n.PREFERENCES_VIEWTIME_SHIELD},onEnter:["telemetryService",function(e){e.push(n.PREFERENCES_VIEW_SHIELD)}]}).state("main.auth.rewards",{url:"/rewards",params:{rewardPackageId:""},template:'<nv-rewards-center flex id="toast-container"></nv-rewards-center>',parent:"main.auth",nvEventNames:{view:n.HOME_VIEW_REWARDS,loadTime:n.HOME_LOADTIME_REWARDS,viewTime:n.HOME_VIEWTIME_REWARDS},onEnter:["cevoToggleService","cevoService","$timeout","$log","USER_PROFILE_TAB_NAMES",function(e,t,n,r,i){r.getInstance("main/urlRouter/main.auth.rewards/onEnter").debug("onEnter Rewards"),n((function(){e.getUserProfileEnabled().then((function(e){e&&t.gotoUserProfile(i.REWARDS_TAB)}))}))}]}).state("main.auth.userProfile",{url:"/user-profile",params:{userProfile:void 0,startWithTab:void 0,showDialog:void 0,rewardPackageId:""},template:'<nv-user-profile id="DialogContainerParent" class="constants-position-relative" layout flex></nv-user-profile>',parent:"main.auth",nvEventNames:{view:n.USER_VIEW_PROFILE,loadTime:n.USER_LOADTIME_PROFILE,viewTime:n.USER_VIEWTIME_PROFILE},onEnter:["telemetryService",function(e){e.push(n.USER_VIEW_PROFILE)}]})}])},function(e,t,n){"use strict";n(61),n(72),n(73),n(76),n(74),n(75),n(133),n(62),n(206),n(205),n(131),n(975),n(972),n(70),n(325),n(132),n(974),n(971),n(977),n(973),n(976),n(982),n(68),n(67),n(952),n(955),n(954),n(127),n(957),n(958),n(953),n(956),n(959),n(69),n(157),n(323),n(963),n(964),n(111),n(965),n(966),n(967),n(276),n(968),n(969)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.accordionController=void 0;var r=n(1).ngMainCommonModule.controller("AccordionController",["$scope","ACCORDION_MODES",function(e,t){var n=this,r=[],i=0;void 0===e.nvAccordionMode&&(e.nvAccordionMode=t.MULTIPLE_OPEN),n.addPane=function(e){return r[i]=e,i++},n.getNumPanes=function(){return r.length},n.removePane=function(e){r=_.without(r,e),i=r.length},n.onClick=function(n){e.nvAccordionMode===t.ONLY_ONE?angular.forEach(r,(function(e,t){e.onExpand(t===n&&!r[n].isExpanded())})):e.nvAccordionMode===t.ALWAYS_ONE?angular.forEach(r,(function(e,t){e.onExpand(t===n)})):r[n].onExpand(!r[n].isExpanded())}}]);t.accordionController=r},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.byteFilter=void 0;var r=n(1).ngMainCommonModule.filter("convertBytesToKBMBGB",["$filter",function(e){var t=e("translate");return function(e){if(0===e)return t("l10n.byte",{value:0});if(isNaN(parseFloat(e))||!isFinite(e))return"-";var n=Math.floor(Math.log(e)/Math.log(1024));return t(["l10n.bytes","l10n.kb","l10n.mb","l10n.gb","l10n.tb"][n],{value:(e/Math.pow(1024,Math.floor(n))).toFixed(1)})}}]);t.byteFilter=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callToActionController=void 0;var r=n(1);n(335);var i=r.ngMainCommonModule.controller("CallToActionController",["callToActionService",function(e){var t=this;t.isDisabled=!1,t.ctaCountdownState=null,t.nvCtaData=t.nvCtaData||{},t.nvBeforeClick=t.nvBeforeClick||angular.noop,t.nvAfterClick=t.nvAfterClick||angular.noop,t.onClick=function(){return t.nvBeforeClick(),e.handleAction(t.nvCtaData).finally(t.nvAfterClick)},t.updateCtaState=function(){var e=(new Date).getTime();e<t.nvCtaData.startStampAdjusted?(t.isDisabled=!0,t.ctaCountdownState="pending"):e>t.nvCtaData.endStampAdjusted?(t.isDisabled=!0,t.ctaCountdownState="expired"):(t.isDisabled=!1,t.ctaCountdownState="active")},t.nvCtaData.startStampAdjusted&&t.updateCtaState()}]);t.callToActionController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callToActionService=void 0;var r=n(1).ngMainCommonModule.service("callToActionService",["$log","$injector","$q","$state","$timeout","windowSpawnService","GFE_ACTIONS",function(e,t,n,r,i,o,a){function l(e,t){var r=!1;return _.isFunction(e)?(r=e(t),n.when(r)):(f.error("Expected a function got",e),n.reject())}function s(e,t){return r.go(e,t).then((function(){return i(angular.noop)}))}function c(e,n){var r=t.get(e);return n in r||f.error(n+" does not exist in "+e),r[n]}function u(e,t,n){return l(c(e,t),n)}function d(e,t,n){var r=function(e,t){var n=function(e){return e.replace(/(\-[a-z])/g,(function(e){return e.toUpperCase().replace("-","")}))}(e),r=document.getElementsByTagName(e),i=angular.element(r).controller(n);return t in i||f.error(t+" does not exist in "+n),i[t]}(e,t);return l(r,n)}var f=e.getInstance("main.common/callToActionService");this.handleAction=function(e){try{return(0,m[e.type])(e.action)}catch(e){return f.error("action type error",e.message),n.reject()}};var m={weblink:function(e){var t=o.openDefaultBrowser(e);return n.when(t)},gfeAction:function(e){var t=[],r=n.when(),i=null;return e in a?("stateName"in(i=a[e])&&t.push(s.bind(this,i.stateName,i.stateParams)),"directiveName"in i?t.push(d.bind(this,i.directiveName,i.funcName,i.funcArgs)):"serviceName"in i&&t.push(u.bind(this,i.serviceName,i.funcName,i.funcArgs)),t.forEach((function(e){r=r.then(e)})),r):(f.error("Unknown gfeAction:",e),n.reject())}}}]);t.callToActionService=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvCallToAction=void 0;var r=n(1);n(334);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(739)),o=r.ngMainCommonModule.directive("nvCallToAction",[function(){return{restrict:"EA",scope:{nvCtaData:"<",nvBeforeClick:"&",nvAfterClick:"&"},bindToController:!0,template:i.default,controller:"CallToActionController",controllerAs:"ctaCtrl",link:function(e,t,n,r){e.$on("$destroy",(function(){r.isElement||t.off("click",r.onClick)})),r.isElement=!("nvCallToAction"in n),r.isElement||t.on("click",r.onClick)}}}]);t.nvCallToAction=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.carouselController=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),i=n(1),o=function(e){return e&&e.__esModule?e:{default:e}}(n(970));n(216),n(63);var a=i.ngMainCommonModule.controller("CarouselController",["$scope","mediaDialogService","MEDIA_FILE_TYPE","VIDEO_TYPE","$log","gfeService","toastService","$filter","CAROUSEL_INDICATOR_ART","updatesService","telemetryService","TELEMETRY_GRD_CONTENT_TYPE",function(e,t,n,i,a,l,s,c,u,d,f,m){function p(){r.each(g.slides,(function(e){if(r.isArray(e.settingInfo)&&!r.isEmpty(e.settingInfo)){e.annotation=[];for(var t=0;t<e.settingInfo.length;t++){var i=e.settingInfo[t];if(i.regionRect.width>0&&i.regionRect.height>0){var a=i.vopsSettingEnName?i.vopsSettingEnName.toLowerCase():"";e.annotation[t]={text:(0,o.default)({title:i.name,description:i.textInfo}),geometry:{x:i.regionRect.left,y:i.regionRect.top,width:i.regionRect.width,height:i.regionRect.height},nvSettingName:i.name,nvSettingEnName:a,nvSettingDescription:i.textInfo}}}}else if(!r.isEmpty(e.video)){var l=e.video;e.annotation={type:n.VIDEO,url:l.url,name:l.name}}}))}var g=this,v=a.getInstance("main.common/CarouselController");g.selectedIndex=e.nvSelectedIndex,g.slides=e.nvSlides,g.isBanner=e.nvIsBanner;var h=e.nvEventInfo;g.telemetryEvent=h&&"string"==typeof h&&JSON.parse(h);var b=e.$watch("nvSlides",(function(e,t){e!==g.slides&&(g.slides=e,p())}));p(),g.centerIndicators=function(){var e=r.size(g.slides);return e>0?{width:u.WIDTH*e+u.CONTAINER_HORIZONTAL_MARGIN+"px",margin:"auto"}:null},g.isIndicatorsVisible=function(){return g.slides&&g.slides.length>1},g.isVideoAvailable=function(e){return e.video&&!r.isEmpty(e.video)&&e.video.url&&!r.isEmpty(e.video.url)},g.isArticleAvailable=function(e){return e&&!r.isEmpty(e.gfeLoadUrl)&&e.gfeLoadUrl&&!r.isEmpty(e.gfeLoadUrl)},g.previewMedia=function(e,n){if(g.isVideoAvailable(n)){if(l.onlineState&&!0===l.onlineState.online){var r=n.video.type===i.LOCAL;v.info("video type",n.video.type,"defaultVideoControl",r);var o=t.customPreset().event(e);o=o.video({source:n.video.url,type:n.video.type,defaultVideoControl:r}),t.show(o)}else{var a=c("translate")("l10n.unableToFetchVideo");s.show({textContent:a,icon:"cloud off"})}if(g.telemetryEvent){g.telemetryEvent.info.contentType=m.VIDEO;var u=n.video.url||"";g.telemetryEvent.info.url=u.substring(0,1e3)}}else if(g.isArticleAvailable(n)){if(v.info("video is not available: ",n),d.showArticle(n,n.driverVersion),g.telemetryEvent){g.telemetryEvent.info.contentType=m.ARTICLE;u=n.linksTo||"";g.telemetryEvent.info.url=u.substring(0,1e3)}}else if(g.telemetryEvent){g.telemetryEvent.info.contentType=m.IMAGE;u=n.linksTo||"";g.telemetryEvent.info.url=u.substring(0,1e3)}g.telemetryEvent&&f.push(g.telemetryEvent.eventName,g.telemetryEvent.info)},e.$on("$destroy",(function(){b()}))}]);t.carouselController=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvCarouselIndicator=void 0;var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(n(740)),o=r.ngMainCommonModule.directive("nvCarouselIndicator",(function(){return{restrict:"E",template:i.default,scope:{nvIsSelected:"&"},link:function(e,t){function n(){i||t.addClass("md-accent background focused")}function r(){i||t.removeClass("md-accent background focused")}var i=!1;e.$watch("nvIsSelected()",(function(e){(i=e)?t.removeClass("focused").addClass("md-accent background"):t.removeClass("md-accent background")})),e.$on("$destroy",(function(){t.off("mouseenter",n),t.off("mouseleave",r),t.remove(),t=null})),t.on("$destroy",(function(){e.$destroy()})),t.on("mouseenter",n),t.on("mouseleave",r)}}}));t.nvCarouselIndicator=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.carouselIndicatorsController=void 0;var r=n(1).ngMainCommonModule.controller("CarouselIndicatorsController",["$scope",function(e){var t=this;t.slides=e.nvSlides,t.isSelected=function(t){return t===e.nvSelectedIndex},t.setIndex=function(t){e.nvSelectedIndex=t}}]);t.carouselIndicatorsController=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvCarouselIndicators=void 0;var r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(3)),n(1));n(338);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(741));n(339);var o=r.ngMainCommonModule.directive("nvCarouselIndicators",[function(){return{restrict:"E",scope:{nvSlides:"=",nvSelectedIndex:"="},template:i.default,controller:"CarouselIndicatorsController",controllerAs:"carouselIndicators",link:function(e,t){e.$on("$destroy",(function(){t.empty(),t.remove(),t=null})),t.on("$destroy",(function(){e.$destroy()}))}}}]);t.nvCarouselIndicators=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvCustomDate=void 0;var i=r(n(201)),o=n(1);n(375);var a=r(n(743)),l=o.ngMainCommonModule.directive("nvCustomDate",(function(){return{template:a.default,restrict:"E",scope:{titleString:"@",formatString:"@",localeString:"@"},require:"ngModel",controller:["$scope",function(e){var t=e;t.maxYearValue=(0,i.default)().year(),t.minYearValue=1900,t.maxDayValue=31,t.minDayValue=1,t.maxMonthValue=12,t.minMonthValue=1,t.errors={required:!1,pattern:!1,min:!1,max:!1,invalid:!1},t.isDateValid=function(e){return(0,i.default)(e,["YYYY-MM-DD"],!0).isValid()&&(0,i.default)().isAfter(e)},t.newDate=function(e,t,n){var r=e+"-"+t+"-"+n;return(0,i.default)(r,["YYYY-M-D"],!0).format("YYYY-MM-DD")},t.localeString=t.localeString||"en",i.default.locale(t.localeString),t.months=i.default.months().map((function(e,t){var n={};return n.index=t+1,n.value=e,n}))}],compile:function(e,t){var n=e.find("md-input-container"),r=angular.element('<label translate="l10n.day"></label> <input ng-model="day" maxlength="2" ng-focus="focus=true" ng-blur="focus=false" numbers-only type = "text" nv-min = {{minDayValue}} nv-max = {{maxDayValue}} name="day" required md-no-asterisk>'),i=angular.element('<label translate="l10n.year"></label> <input ng-model="year" maxlength="4" ng-focus="focus=true" ng-blur="focus=false" numbers-only type = "text" nv-min = {{minYearValue}} nv-max = {{maxYearValue}} name="year" required ng-pattern = "/^[0-9]{4}$/" md-no-asterisk>'),o=angular.element('<label translate="l10n.month"></label> <md-select ng-model="month" name="month" required md-no-asterisk><md-option ng-repeat="month in months" ng-focus="focus=true" ng-blur="focus=false" ng-value="month.index">{{ month.value }} </md-option> </md-select>'),a="MM-DD-YY";t.formatString&&t.formatString.length>0&&(a=t.formatString);var l=a.split("-"),s={DD:{ele:r,cls:"is-day-field"},YY:{ele:i,cls:"is-year-field"},MM:{ele:o,cls:"is-month-field"}};return angular.element(n[0]).append(s[l[0]].ele).addClass(s[l[0]].cls),angular.element(n[1]).append(s[l[1]].ele).addClass(s[l[1]].cls),angular.element(n[2]).append(s[l[2]].ele).addClass(s[l[2]].cls),{post:function(e,t,n,r){e.$watch("[month,day,year]",(function(){var t=e.newDate(e.year,e.month,e.day);if(e.isDateValid(t))e.nvCtrl.day.$invalid=!1,r.$setViewValue(t);else{e.nvCtrl.month.$invalid||e.nvCtrl.year.$invalid||(e.nvCtrl.day.$invalid=!0);var n=e.year+"-"+e.month+"-"+e.day;r.$setViewValue(n)}e.errors.required=e.nvCtrl.day.$error.required||e.nvCtrl.month.$error.required||e.nvCtrl.year.$error.required,e.errors.invalid=e.nvCtrl.day.$invalid||e.nvCtrl.year.$invalid,e.errors.pattern=e.nvCtrl.year.$error.pattern})),r.$render=function(){if(r.$viewValue){var t=r.$viewValue.split("-");3===t.length&&(e.year=parseInt(t[0]),e.month=parseInt(t[1]),e.day=parseInt(t[2]))}}}}}}}));t.nvCustomDate=l},function(e,t,n){"use strict";var r=n(1);r.ngMainCommonModule.value("nvTimeUtility",{calculateDelta:function(e,t){var n;return n=t?new Date(t):new Date,Math.round(Math.abs(n-e)/1e3)},isPast:function(e,t){return(t?new Date(t):new Date)>=e},calculate:function(e,t,n,r,i){var o,a=3600,l=24*a,s=7*l,c=30*l,u=365*l,d=this.calculateDelta(e,i),f=t("l10n.monthYear",{month:n(e,"MMMM"),year:n(e,"yyyy")});switch(!1){case!(d<=1):o=d+" "+t("l10n.second");break;case!(d<60):o=d+" "+t("l10n.seconds");break;case!(d<120):o="1 "+t("l10n.minute");break;case!(d<a):o=Math.floor(d/60)+" "+t("l10n.minutes");break;case 1!==Math.floor(d/a):o="1 "+t("l10n.hour");break;case!(d<l):o=Math.floor(d/a)+" "+t("l10n.hours");break;case!(d<2*l):if(r)return t("l10n.yesterday");o="1 "+t("l10n.day");break;case!(d<s):o=Math.floor(d/l)+" "+t("l10n.days");break;case 1!==Math.floor(d/s):o="1 "+t("l10n.week");break;case!(d<c):o=Math.floor(d/s)+" "+t("l10n.weeks");break;case 1!==Math.floor(d/c):o="1 "+t("l10n.month");break;case!(d<u):if(r)return f;o=Math.floor(d/c)+" "+t("l10n.months");break;case 1!==Math.floor(d/u):if(r)return f;o="1 "+t("l10n.year");break;default:if(r)return f;o=Math.floor(d/u)+" "+t("l10n.years")}var m=o.split(" ");return t("l10n.timeago",{number:m[0],timeUnit:m[1]})}}),r.ngMainCommonModule.filter("convertSecondsToRelativeDate",["$filter","nvTimeUtility",function(e,t){var n=e("translate"),r=e("date");return function(e,i){if(i){var o=(new Date).getTime()-1e3*i,a=t.calculate(new Date(o),n,r,!1).split(" ");return n(e,{number:a[0],timeUnit:a[1]})}return e}}]),r.ngMainCommonModule.filter("convertUTCToTimeAgo",["$filter","nvTimeUtility",function(e,t){var n=e("translate"),r=e("date");return function(e,i){if(e){var o=new Date(e);return t.isPast(o,i)?t.calculate(o,n,r,!0,i):e}}}]),r.ngMainCommonModule.filter("convertToUTCDate",["$filter","nvTimeUtility",function(e,t){return function(e){if(e){var t=new Date(Date.parse(e)),n=(1+t.getUTCMonth()).toString();n=n.length>1?n:"0"+n;var r=t.getUTCDate().toString();return n+"/"+(r=r.length>1?r:"0"+r)+"/"+t.getUTCFullYear()}return e}}]),r.ngMainCommonModule.filter("convertSecondsToHHMMSS",[function(){return function(e,t){var n=Math.floor(e/3600)+10>20?Math.floor(e/3600):("00"+Math.floor(e/3600)).slice(-2),r=("00"+Math.floor(e%3600/60)).slice(-2),i=("00"+e%3600%60).slice(-2);return t||(t="00"!==n?"h:m:s":"m:s"),t.replace("h",n).replace("m",r).replace("s",i)}}]),r.ngMainCommonModule.filter("convertSecondsToTime",["$filter",function(e){var t=e("translate");return function(e,n){var r=parseInt(e,10),i=Math.floor(r/3600),o=Math.floor((r-3600*i)/60),a=r-3600*i-60*o,l="";if(i){var s=t(1===i?"l10n.hr":n&&i>=2?"l10n.aboutHrs":"l10n.hrs",{value:i});l=n&&i>=2?s:s+" "}!o||n&&i>=2||(l=l+t(1===o?"l10n.min":"l10n.mins",{value:o})+" ");!a||n&&i||(l+=t(1===a?"l10n.sec":"l10n.secs",{value:a}));return l}}])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.dbConfig=void 0;var i=r(n(56)),o=r(n(248)),a=r(n(145)),l=r(n(239)),s=r(n(704)),c=angular.module("main.common.config",["main.common"]);c.constant("DATABASE_DEFAULTS",{session:{rememberSession:!0,sessionToken:null,userToken:null},games:{autoOptimize:!1},subscriptions:{ts:null},personalization:{bio:{ts:Date.now(),value:""}},notificationsViewState:{},rewardsViewState:{rewardsFilters:{all:!0},unRedeemedList:[],redeemedOrExpiredList:[]},qrcodeState:{weChat:{NFAN:{fetchTime:0,qrCodeURL:null,expireTime:0,qrCodeScanned:!1}}},searchState:{recentSearches:[]},globalAbState:{activeExperiments:[]},productTourStates:{},userAbState:{activeExperiments:[]},avatar:{ts:null,url:a.default},cover:{ts:null,url:l.default},myRig:{ts:null,url:s.default},viewState:{vopsImageContainerSize:"50%",selectedGameId:null,feedbackFloatOverlayEnabled:!0,feedbackFloatShowState:!1,feedbackFloatOpenOnMouseEnter:!1,targetPowerMode:null,userTabSelectionList:[],driverExpandState:{},lastRouterFromState:"main.auth.home",lastRouterFromStateParams:{},lastRouterToState:"main.auth.home",lastRouterToStateParams:{},classicViewTopIndex:0,topIndex:0},synchedViewState:{gamesSortType:"alphabetical",gamesSortOrder:"ascending",gamesFilters:{all:!0,optimized:!1,favorite:!1,anselReady:!1,hidden:!1},classicViewEnabled:!1}}),c.config(["dbServiceProvider","DATABASE_DEFAULTS","DB_NAMES",function(e,t,n){var r,a,l,s;e.init("gfeclient").defineGlobalStore({storeName:n.GLOBAL_STORE,storeDefault:{version:5,db:(r={},(0,o.default)(r,n.SESSION,t.session),(0,o.default)(r,n.GAMES,t.games),(0,o.default)(r,n.GLOBAL_AB_STATE,t.globalAbState),(0,o.default)(r,n.PRODUCT_TOUR_STATES,t.productTourStates),r)},description:"Stores settings that apply to all users"}).upgradeGlobalStore(n.GLOBAL_STORE,1,(function(e){return e.setItem(n.SESSION,t.session)})).upgradeGlobalStore(n.GLOBAL_STORE,2,(function(e){return e.setItem(n.GAMES,t.games)})).upgradeGlobalStore(n.GLOBAL_STORE,3,(function(e){return e.getItem(n.GAMES).then((function(r){if(void 0===r.autoOptimize||null===r.autoOptimize)return e.setItem(n.GAMES,t.games)}))})).upgradeGlobalStore(n.GLOBAL_STORE,4,(function(e){return e.setItem(n.GLOBAL_AB_STATE,t.globalAbState)})).upgradeGlobalStore(n.GLOBAL_STORE,5,(function(e){return e.setItem(n.PRODUCT_TOUR_STATES,t.productTourStates)})).defineUserStore({storeName:n.JARVIS_COMMON_STORE,storeDefault:{version:3,db:(a={},(0,o.default)(a,n.SUBSCRIPTIONS,t.subscriptions),(0,o.default)(a,n.PERSONALIZATION,t.personalization),a)},description:"Jarvis user-specific settings that apply to all clients"},!0).upgradeUserStore(n.JARVIS_COMMON_STORE,1,(function(e){return e.setItem(n.SUBSCRIPTIONS,t.subscriptions)})).upgradeUserStore(n.JARVIS_COMMON_STORE,2,(function(e){return e.setItem(n.PERSONALIZATION,t.personalization)})).upgradeUserStore(n.JARVIS_COMMON_STORE,3,(function(e){return e.getItem(n.PERSONALIZATION).then((function(r){if(null==r.bio.ts||null==r.bio.value)return e.setItem(n.PERSONALIZATION,t.personalization)}))})).defineUserStore({storeName:n.JARVIS_GFE_STORE,storeDefault:{version:10,db:(l={},(0,o.default)(l,n.JARVIS_VIEW_STATE,{ts:null,gamesSortType:t.synchedViewState.gamesSortType,gamesSortOrder:t.synchedViewState.gamesSortOrder,gamesFilters:t.synchedViewState.gamesFilters}),(0,o.default)(l,n.JARVIS_AVATAR,t.avatar),(0,o.default)(l,n.NOTIFICATIONS_VIEW_STATE,t.notificationsViewState),(0,o.default)(l,n.REWARDS_VIEW_STATE,t.rewardsViewState),(0,o.default)(l,n.JARVIS_QRCODE_STATE,t.qrcodeState),(0,o.default)(l,n.JARVIS_SEARCH_STATE,t.searchState),(0,o.default)(l,n.USER_AB_STATE,t.userAbState),l)},description:"Jarvis user-specific settings that apply to gfeclient"}).upgradeUserStore(n.JARVIS_GFE_STORE,1,(function(e){return e.setItem(n.JARVIS_VIEW_STATE,{ts:null,gamesSortType:t.synchedViewState.gamesSortType,gamesSortOrder:t.synchedViewState.gamesSortOrder,gamesFilters:t.synchedViewState.gamesFilters})})).upgradeUserStore(n.JARVIS_GFE_STORE,2,(function(e){return e.setItem(n.JARVIS_AVATAR,t.avatar)})).upgradeUserStore(n.JARVIS_GFE_STORE,3,(function(e){return e.getItem(n.JARVIS_VIEW_STATE).then((function(t){var r=t.gamesFilters;if(r.hidden&&(r.all||r.optimized||r.favorite))return t.gamesFilters.hidden=!1,e.setItem(n.JARVIS_VIEW_STATE,t)}))})).upgradeUserStore(n.JARVIS_GFE_STORE,4,(function(e){return e.setItem(n.NOTIFICATIONS_VIEW_STATE,t.notificationsViewState)})).upgradeUserStore(n.JARVIS_GFE_STORE,5,(function(e){return e.setItem(n.REWARDS_VIEW_STATE,t.rewardsViewState)})).upgradeUserStore(n.JARVIS_GFE_STORE,6,(function(e){return e.getItem(n.JARVIS_VIEW_STATE).then((function(t){if(angular.isUndefined(t.gamesFilters.anselReady))return t.gamesFilters.anselReady=!1,e.setItem(n.JARVIS_VIEW_STATE,t)}))})).upgradeUserStore(n.JARVIS_GFE_STORE,7,(function(e){return e.setItem(n.JARVIS_QRCODE_STATE,t.qrcodeState)})).upgradeUserStore(n.JARVIS_GFE_STORE,8,(function(e){return e.setItem(n.JARVIS_SEARCH_STATE,t.searchState)})).upgradeUserStore(n.JARVIS_GFE_STORE,9,(function(e){return e.setItem(n.USER_AB_STATE,t.userAbState)})).upgradeUserStore(n.JARVIS_GFE_STORE,10,(function(e){return e.getItem(n.NOTIFICATIONS_VIEW_STATE).then((function(t){return(0,i.default)(t).forEach((function(e){t[e]instanceof Date&&(t[e]={notificationTs:t[e],removed:!1})})),e.setItem(n.NOTIFICATIONS_VIEW_STATE,t)}))})).defineUserStore({storeName:n.VIEW_STORE,storeDefault:{version:1,db:(0,o.default)({},n.VIEW_STATE,{vopsImageContainerSize:t.viewState.vopsImageContainerSize,selectedGameId:t.viewState.selectedGameId,targetPowerMode:t.viewState.targetPowerMode,userTabSelectionList:t.viewState.userTabSelectionList,feedbackFloatOverlayEnabled:t.viewState.feedbackFloatOverlayEnabled,feedbackFloatShowState:t.viewState.feedbackFloatShowState,feedbackFloatOpenOnMouseEnter:t.viewState.feedbackFloatOpenOnMouseEnter,driverExpandState:t.viewState.driverExpandState,classicViewTopIndex:t.viewState.classicViewTopIndex,topIndex:t.viewState.topIndex})},description:"Persisted view settings per user"}).upgradeUserStore(n.VIEW_STORE,1,(function(e){return e.setItem(n.VIEW_STATE,{vopsImageContainerSize:t.viewState.vopsImageContainerSize,selectedGameId:t.viewState.selectedGameId,targetPowerMode:t.viewState.targetPowerMode,userTabSelectionList:t.viewState.userTabSelectionList,feedbackFloatOverlayEnabled:t.viewState.feedbackFloatOverlayEnabled,feedbackFloatShowState:t.viewState.feedbackFloatShowState,feedbackFloatOpenOnMouseEnter:t.viewState.feedbackFloatOpenOnMouseEnter,driverExpandState:t.viewState.driverExpandState,classicViewTopIndex:t.viewState.classicViewTopIndex,topIndex:t.viewState.topIndex})})).defineUserStore({storeName:n.CEVO_GFE_STORE,storeDefault:{version:1,db:(s={},(0,o.default)(s,n.AVATAR,t.avatar),(0,o.default)(s,n.COVER,t.cover),(0,o.default)(s,n.MY_RIG,t.myRig),s)},description:"Persisted profile data per user"}).upgradeUserStore(n.CEVO_GFE_STORE,1,(function(e){return e.setItem(n.AVATAR,t.avatar).then((function(){return e.setItem(n.COVER,t.cover).then((function(){return e.setItem(n.MY_RIG,t.myRig)}))}))}))}]),c.config(["dbCacheServiceProvider","DB_NAMES",function(e,t){e.loadUserKey(t.VIEW_STORE,t.VIEW_STATE),e.loadUserKey(t.JARVIS_COMMON_STORE,t.SUBSCRIPTIONS),e.loadUserKey(t.JARVIS_COMMON_STORE,t.PERSONALIZATION),e.loadUserKey(t.JARVIS_GFE_STORE,t.JARVIS_AVATAR),e.loadUserKey(t.JARVIS_GFE_STORE,t.JARVIS_GAME_LIST),e.loadUserKey(t.JARVIS_GFE_STORE,t.JARVIS_VIEW_STATE),e.loadUserKey(t.JARVIS_GFE_STORE,t.NOTIFICATIONS_VIEW_STATE),e.loadUserKey(t.JARVIS_GFE_STORE,t.JARVIS_QRCODE_STATE),e.loadUserKey(t.JARVIS_GFE_STORE,t.JARVIS_SEARCH_STATE),e.loadUserKey(t.JARVIS_GFE_STORE,t.REWARDS_VIEW_STATE),e.loadUserKey(t.JARVIS_GFE_STORE,t.USER_AB_STATE),e.loadUserKey(t.CEVO_GFE_STORE,t.AVATAR),e.loadUserKey(t.CEVO_GFE_STORE,t.COVER),e.loadUserKey(t.CEVO_GFE_STORE,t.MY_RIG),e.loadGlobalKey(t.GLOBAL_STORE,t.GLOBAL_AB_STATE),e.loadGlobalKey(t.GLOBAL_STORE,t.PRODUCT_TOUR_STATES)}]),t.dbConfig=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dialogEditEmailController=void 0;var r=n(1).ngMainCommonModule.controller("DialogEditEmailController",["$log",function(e){var t=this,n=e.getInstance("main.common/DialogEditEmailController");t.done=function(){t.emailForm.$invalid?(n.debug("tried to submit invalid form"),t.nvDialogModel.is2FactorAuthentication||t.emailForm.password.$setTouched(),t.emailForm.email.$setTouched(),t.emailForm.reEnterEmail.$setTouched()):(t.nvDialogModel.error=null,t.nvDialogModel.waiting=!0,t.nvDialogModel.sessionObject.user.core.primaryEmail===t.email||t.nvDialogModel.is2FactorAuthentication?(n.debug("Email did not change or 2 factor authentication. Resend verification"),t.nvDialogModel.actionVerifyEmail(t.email)):(n.debug("Email has changed. Attempt to change email address"),t.nvDialogModel.password=t.password,t.nvDialogModel.actionUpdateEmail(t.nvDialogModel.sessionObject,t.email,t.password).catch((function(e){t.nvDialogModel.waiting=!1,401===e.status?(n.debug("Change Email: Invalid credentials"),t.emailForm.password.$setValidity("invalidPassword",!1),t.emailForm.password.$setTouched()):403===e.status?(n.debug("Change Email: Account has no password, must be a social-only account"),t.nvDialogModel.error="l10n.noPassword"):409===e.status?(n.debug("Change Email: Email address is already being used"),t.emailForm.email.$setValidity("notAvailable",!1),t.emailForm.email.$setTouched()):(n.debug("Change Email: Generic server error. status:",e.status),t.nvDialogModel.error="l10n.unableToConnect")}))))},t.emailChanged=function(){t.emailForm.email.$setValidity("notAvailable",!0)},t.passwordChanged=function(){t.emailForm.password.$setValidity("invalidPassword",!0)},t.cancel=function(){n.debug("cancel pressed"),t.nvDialogModel.actionCancelUpdateEmail(t.nvDialogModel.sessionObject)},angular.merge(t.nvDialogModel,{style:"honeycomb-square",button1:{text:t.nvDialogModel.is2FactorAuthentication?"l10n.update":"l10n.done",action:t.done},button2:{text:"l10n.cancel",action:t.cancel}})}]);t.dialogEditEmailController=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvDialogHtml=void 0;var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(n(746)),o=r.ngMainCommonModule.directive("nvDialogHtml",[function(){return{restrict:"A",scope:{},bindToController:{nvDialogModel:"="},template:i.default,controller:[function(){}],controllerAs:"dialogHtmlCtrl"}}]);t.nvDialogHtml=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvDialogMessage=void 0;var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(n(747)),o=r.ngMainCommonModule.directive("nvDialogMessage",[function(){return{restrict:"A",scope:{},bindToController:{nvDialogModel:"="},template:i.default,controller:[function(){}],controllerAs:"dialogMessageCtrl"}}]);t.nvDialogMessage=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvDialogText=void 0;var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(n(748)),o=r.ngMainCommonModule.directive("nvDialogText",[function(){return{restrict:"A",scope:{},bindToController:{nvDialogModel:"="},template:i.default,controller:[function(){}],controllerAs:"dialogTextCtrl"}}]);t.nvDialogText=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.exceptionService=void 0;var i=r(n(12)),o=n(1);n(349),n(25);var a=r(n(978)),l=o.ngMainCommonModule.provider("exceptionService",(function(){var e=!0;return{setEnabled:function(t){e=t},$get:["$log","$mdDialog","$filter","preferencesService","GFECLIENT_CONFIG",function(t,n,r,o,l){var s=this,c=t.getInstance("main.common/exceptionService");return s.exception=null,s.cause="",s.properties="",s.exceptionstr="",{logException:function(t,u){if(c.info("UnHandled Exception was caught"),e){s.exception=t,s.cause=u;var d={name:t.name,message:t.message,stackFrame:null};try{d.stackFrame=a.default.parse(t)}catch(e){c.error("cannot generate stack trace from error object",e),d.stackFrame=t.toString()}s.exceptionstr=(0,i.default)(d),s.properties=t.stack?t.stack.replace(/ at /g,"<br>&nbsp;&nbsp;&nbsp;at ").replace(/([^\/]+):(\d+):(\d+)/g,'<span class="common-window exception-standout">$1</span>: <span class="common-window exception-standout">$2</span>:$3')+"<br>":"","prod"===l.mode&&o.postFeedback("FEEDBACK_AUTOMATIC_CRIMSON_UI_ERROR",s.exceptionstr).then((function(){})).catch((function(e){c.error("post feedback was failed for FEEDBACK_AUTOMATIC_CRIMSON_UI_ERROR",e)})),"dev"===l.mode&&n.show(n.alert().parent(angular.element(document.body)).clickOutsideToClose(!0).title(r("translate")("l10n.unhandledexception")).content(s.properties).ok(r("translate")("l10n.close")))}}}}]}}));t.exceptionService=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exceptionConfig=void 0;var r=n(1).ngMainCommonModule.config(["$provide",function(e){e.decorator("$exceptionHandler",["$log","$delegate","$injector",function(e,t,n){return function(e,r){n.get("exceptionService").logException(e,r),t(e,r)}}])}]);t.exceptionConfig=r},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.feedbackFloatController=void 0;var r=n(1);n(22),n(11),n(13),n(23);var i=r.ngMainCommonModule.controller("FeedbackFloatController",["dialogService","dbCacheService","DB_NAMES","jarvisService","hardwareService","$log","COMMON_EVENTS","eventAggregator","$scope","feedbackService",function(e,t,n,r,i,o,a,l,s,c){function u(e){p.info("onSysInfoUpdated ",e.DriverVersion),m.driverless=e&&(!e.DriverVersion||""===e.DriverVersion)}function d(){var e=r.getLoggedInUser();m.viewState=e?t.getCachedUserItem(r.getLoggedInUser().userId,n.VIEW_STORE,n.VIEW_STATE):{}}function f(){m.viewState.feedbackFloatShowState=!1,m.viewState.feedbackFloatOpenOnMouseEnter=!1,m.viewState.persist_()}var m=this;m.isDialogOpen=!1,m.driverless=!1;var p=o.getInstance("main.common/FeedbackFloatController");i.getLaunchTimeSystemInfo().then((function(e){m.driverless=e&&(!e.DriverVersion||""===e.DriverVersion),p.info("driverless:",m.driverless)})).catch((function(e){p.error("failed to get systemInfo")})),m.showFeedbackButton=function(){var e=r.getLoggedInUser();return null!=e&&!m.driverless},m.onOpenFeedbackDialog=function(){c.showFeedBack()},m.disableFeedbackFloat=function(){m.viewState.feedbackFloatOverlayEnabled=!1,m.viewState.feedbackFloatShowState=!1,m.viewState.persist_()},m.onMouseEnter=function(){m.viewState.feedbackFloatShowState||m.viewState.feedbackFloatOverlayEnabled||(m.viewState.feedbackFloatOpenOnMouseEnter?(m.viewState.feedbackFloatShowState=!0,m.viewState.persist_()):(m.viewState.feedbackFloatOpenOnMouseEnter=!0,m.viewState.persist_()))},m.onMouseLeave=function(){m.isDialogOpen=e.isOpen(),!m.viewState.feedbackFloatShowState||m.viewState.feedbackFloatOverlayEnabled||m.isDialogOpen||(m.viewState.feedbackFloatShowState=!1,m.viewState.persist_())},m.showFloatStateButton=function(){return!m.viewState.feedbackFloatOverlayEnabled&&!m.viewState.feedbackFloatShowState&&!m.isDialogOpen},m.showFloatStateOpen=function(){return m.viewState.feedbackFloatOverlayEnabled||(m.viewState.feedbackFloatShowState||m.isDialogOpen)&&m.viewState.feedbackFloatOpenOnMouseEnter},d(),l.on(a.SYSTEMINFO_UPDATED,u),l.on(a.LOGIN_STATUS_CHANGE,d),l.on(a.DIALOG_CLOSED,f),s.$on("$destroy",(function(){l.off(a.SYSTEMINFO_UPDATED,u),l.off(a.LOGIN_STATUS_CHANGE,d),l.off(a.DIALOG_CLOSED,f)}))}]);t.feedbackFloatController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvFeedbackFloat=void 0;var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(n(749));n(352);var o=r.ngMainCommonModule.component("nvFeedbackFloat",{template:i.default,controller:"FeedbackFloatController",controllerAs:"feedbackFloatCtrl"});t.nvFeedbackFloat=o},,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gfeGeolocationService=void 0;var r=n(45).ngMainUtilsModule.service("gfeGeolocationService",["$log","$q","geolocationEndpoints","dbService","DB_NAMES","eventAggregator","COMMON_EVENTS",function(e,t,n,r,i,o,a){function l(e){s.getItem(i.GEO_DETAILS).then((function(n){return n?(e.resolve(n),void o.trigger(a.GEOLOCATION_UPDATED,n)):(e.reject(),t.reject())})).catch((function(){c.error("Returning default country code: ",u);var t={countryCode:u};e.resolve(t),o.trigger(a.GEOLOCATION_UPDATED,t)})).finally((function(){d=null}))}var s=r.getGlobalStore(i.GLOBAL_STORE),c=e.getInstance("main.utils/GfeGeolocationService"),u="US",d=null;this.getGeolocation=function(){if(!d){var e=t.defer();d=e.promise,n.getGeolocation().then((function(t){var n=t.data;s.setItem(i.GEO_DETAILS,n),c.info("Geolocation set to",n),e.resolve(n),o.trigger(a.GEOLOCATION_UPDATED,n)})).catch((function(t){l(e)}))}return d}}]);t.gfeGeolocationService=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gfwslService=void 0;var r=n(1).ngMainCommonModule.service("gfwslService",["$q","$log","gfwslEndpoints","hardwareService",function(e,t,n,r){function i(){return n.hasHardwareInfo()?e.when(!0):r.getSystemInfo().then((function(e){return n.updateHardwareInfo(e),!0}))}t.getInstance("main.common/gfwslService"),this.getTermsAndConditions=function(){return i().then((function(e){return n.staticContent.getTermsAndConditions()}))},this.getPrivacyPolicy=function(){return i().then((function(e){return n.staticContent.getPrivacyPolicy()}))}}]);t.gfwslService=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.httpLoggingService=void 0;var i=r(n(321)),o=r(n(247)),a=r(n(936)),l=r(n(935)),s=r(n(246)),c=n(1),u=function(e){function t(e,n,r){(0,s.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return o.GFECLIENT_CONFIG=n,o.$q=r,o.logger=e.getInstance("main.common/httpLoggingService"),o.sanitize=function(e){try{_.isUndefined(e.config)||(e.config.headers.X_LOCAL_SECURITY_COOKIE="",_.isUndefined(e.config.data)||_.isUndefined(e.config.data.userInfo)||(e.config.data.userInfo=""))}catch(e){this.logger.error("Could not sanitize Security Cookie",e)}return e},o.logDebugJarvisResponseHeaders=function(e){var t=e.headers();this.logger.debug("debug jarvis response headers: x-jarvisrequestid",t["x-jarvisrequestid"],"x-jarvisresponder",t["x-jarvisresponder"])},o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"request",value:function(e){return e.url.match(this.GFECLIENT_CONFIG.gfwsl.server)&&this.logger.debug("Going to call endpoint request url ",e.url),e}},{key:"requestError",value:function(e){return this.logger.error("http request FAILED for method",e.method," url ",e.url),this.$q.reject(e)}},{key:"response",value:function(e){var t=this,n=t.sanitize(e);return t.logger.debug("Http response for request ",n.config.url," returns status: ",n.status),n.config.url.match(t.GFECLIENT_CONFIG.gfwsl.server)?t.logger.debug(" gfwsl returned successfully with response ",n):n.config.url.match(t.GFECLIENT_CONFIG.jarvis.server)&&t.logDebugJarvisResponseHeaders(n),n}},{key:"responseError",value:function(e){var t=this,n=t.sanitize(e);return _.isUndefined(n.config)?t.logger.error("Http request method FAILED with response ",n):(t.logger.error("Http request method ",n.config.method,", url ",n.config.url," FAILED with response ",n),n.config.url.match(t.GFECLIENT_CONFIG.jarvis.server)&&t.logDebugJarvisResponseHeaders(n)),t.$q.reject(n)}}]),t}((function e(){var t=this;(0,s.default)(this,e),["request","requestError","response","responseError"].forEach((function(e){t[e]&&(t[e]=t[e].bind(t))}))})),d=c.ngMainCommonModule.service("httpLoggingService",["$log","GFECLIENT_CONFIG","$q",u]);t.httpLoggingService=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvImageAnnotation=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),i=n(1);n(42);var o=function(e){return e&&e.__esModule?e:{default:e}}(n(754)),a=i.ngMainCommonModule.directive("nvImageAnnotation",["annotoriousService","eventAggregator","GAME_EVENTS","$timeout","$interval","SCROLL_STEPS","COMMON_EVENTS","$document",function(e,t,n,i,a,l,s,c){return{restrict:"E",scope:{nvImageSrc:"@",nvAnnotation:"=",nvImageAlt:"@"},template:o.default,link:function(o,u){function d(){var e=1,t=parseInt(u[0].offsetWidth);return S.naturalWidth>t&&(e=(t-8)/S.naturalWidth),e}function f(e,t){var n=u[0].getBoundingClientRect(),r=u[0].scrollTop,i=r+n.height,o=e.shape.geometry.y,s=c[0].getElementById(e.id);if(s){var d=o+s.getBoundingClientRect().height;if(r>=o||i<=o||i<=d){var f=0,m=o-r-n.height/2;i+m<=d&&(m=d-i),y=a((function(){u[0].scrollTop=function(e,t,n,r){return n*(Math.pow(e/r-1,3)+1)+t}(f,r,Math.ceil(m),l),++f>=l&&(a.cancel(y),t())}),0)}else t()}}function m(t){a.cancel(y);var n=e.getAnnotationBySettingName(S,t.name);n&&f(n,(function(){e.highlightAnnotation(S,t.name)}))}function p(){e.hideAnnotations(S)}function g(t){e.makeAnnotatable(S),r.each(o.nvAnnotation,(function(n){if(n.geometry.width>0&&n.geometry.height>0){var r=n.geometry.x*t-n.geometry.width/2,i=n.geometry.y*t-n.geometry.height/2,o={text:n.text,shape:{type:"rect",geometry:{x:r>0?r:0,y:i>0?i:0,width:n.geometry.width,height:n.geometry.height}},nvSettingName:n.nvSettingName,nvSettingEnName:n.nvSettingEnName,nvPopupWidth:n.nvPopupWidth,nvPopupHeight:n.nvPopupHeight};e.addAnnotation(S,o)}}))}function v(){var t=d();i.cancel(b),b=i((function(){e.destroy(S),g(t)}))}function h(){i.cancel(E),E=i((function(){g(d()),t.on(s.WINDOW_RESIZE,v),t.on(n.SETTING_ITEM_MOUSE_LEAVE,p),t.on(n.SETTING_ITEM_HOVER_CAROUSEL_READY,m),t.trigger(n.IMAGE_LOADED,S.getAttribute("src"))}))}var b,y,E,S=u.find("img")[0];r.size(o.nvAnnotation)>0&&(angular.element(u.find("img")[0]).on("load",h),o.$on("$destroy",(function(){e.destroy(S),t.trigger(n.IMAGE_UNLOADED,S.getAttribute("src")),t.off(n.SETTING_ITEM_HOVER_CAROUSEL_READY,m),t.off(n.SETTING_ITEM_MOUSE_LEAVE,p),t.off(s.WINDOW_RESIZE,v),angular.element(u.find("img")[0]).off("load",h),i.cancel(b),a.cancel(y),i.cancel(E),S=null,b=null,y=null,E=null,u.empty(),u.remove(),u=null})),u.on("$destroy",(function(){o.$destroy()})))}}}]);t.nvImageAnnotation=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvImageUpload=void 0;var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(n(756)),o=r.ngMainCommonModule.directive("nvImageUpload",[function(){return{bindToController:{onImageSelect:"&"},transclude:!0,template:i.default,controller:function(){},controllerAs:"imageUploadCtrl",link:function(e,t,n,r){function i(e){if(e.currentTarget){var t=new FileReader;t.onload=function(){r.onImageSelect({newImage:t.result})},t.readAsDataURL(e.currentTarget.files[0])}}var o=angular.element(t[0].querySelector("#input-file-id"));o.on("change",i),e.$on("$destroy",(function(){o.off("change",i),o=null,t.empty(),t.remove(),t=null}))}}}]);t.nvImageUpload=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvInlineDropdown=void 0;var r=n(1).ngMainCommonModule.directive("nvInlineDropdown",["$timeout",function(e){return{scope:!0,restrict:"E",bindToController:!0,controller:[function(){}],controllerAs:"nvInlineDropdownCtrl",template:function(e,t){var n,r,i;if(2!==e.children().length||"nv-inline-dropdown-header"!==e.children()[0].tagName.toLowerCase()||"md-list"!==e.children()[1].tagName.toLowerCase())throw Error("Invalid HTML for nv-inline-dropdown. Expected nv-inline-dropdown-header and md-list");e.attr("layout","column"),e.addClass("layout"),e.addClass("layout-column"),n=angular.element(e.children()[0]),r=angular.element(e.children()[1]),n.attr("flex",""),n.attr("layout-fill",""),n.attr("layout","row"),n.attr("layout-align","start center"),n.attr("ng-click","nvInlineDropdownCtrl.onClick()"),r.attr("ng-click","nvInlineDropdownCtrl.onClick()"),n.append(angular.element("<span flex></span")),n.append(angular.element('<md-icon class="md-18" material-icons>expand_more</md-icon>')),i=angular.element("<nv-inline-dropdown-list-container layout></nv-inline-dropdown-list-container"),r=r.replaceWith(i),i.append(r)},link:function(t,n,r,i){var o=!1,a=null;i.onClick=function(){(o=!o)?n.addClass("open"):n.removeClass("open")},n.bind("mouseenter",(function(){a&&(e.cancel(a),a=null)})),n.bind("mouseleave",(function(){if(o){var i=t.$eval(r.nvCollapseAfter)||0;a=e((function(){o=!o,n.removeClass("open"),a=null}),i)}}))}}}]);t.nvInlineDropdown=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.keyboardService=void 0;var r=n(1).ngMainCommonModule.service("keyboardService",["$log",function(e){function t(e){return e in n?n[e]:String.fromCharCode(e)}var n=(e.getInstance("main.common/keyboardService"),{0:"None",8:"Backsp",9:"Tab",16:"Shift",17:"Ctrl",18:"Alt",12:"Clear",13:"Enter",19:"Pause",20:"Caps",27:"Esc",32:"Space",33:"PgUp",34:"PgDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",41:"Select",42:"Print",43:"Exec",44:"PrtScn",45:"Insert",46:"Delete",47:"Help",91:"Win",92:"Win",93:"Apps",95:"Sleep",96:"Num0",97:"Num1",98:"Num2",99:"Num3",100:"Num4",101:"Num5",102:"Num6",103:"Num7",104:"Num8",105:"Num9",106:"Num*",107:"Num+",108:"Separ",109:"Num-",110:"Num.",111:"Num/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",124:"F13",125:"F14",126:"F15",127:"F16",128:"F17",129:"F18",130:"F19",131:"F20",132:"F21",133:"F22",134:"F23",135:"F24",144:"NumLck",145:"ScrLck",160:"Shift",161:"Shift",162:"Ctrl",163:"Ctrl",164:"Alt",165:"Alt",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"});this.shortcutToStr=function(e){for(var n="",r=0;r<e.length;r++)n+=t(e[r]),r<e.length-1&&(n+="+");return n}}]);t.keyboardService=r},function(e,t,n){"use strict";n(1).ngMainCommonModule.controller("MediaDialogController",["mediaDialogService","$window","$document","VIDEO_TYPE",function(e,t,n,r){function i(){var e=angular.element(n[0].querySelector(".md-dialog-container"));if(e&&e.css({height:t.innerHeight+"px"}),o.dialog&&o.overlay&&o.media){var i=0,a=0;if(o.model.video()&&o.model.video().type&&o.model.video().type===r.YOUTUBE){if(o.commonVideoDivElement){var l=o.dialog[0].clientWidth,s=16*o.dialog[0].clientHeight/9;o.dialog[0].clientWidth>s?(l=s,o.commonVideoDivElement.css({width:s+"px"})):o.commonVideoDivElement.css({width:l+"px"});var c=function(e,n){return t.getComputedStyle(e[0]).getPropertyValue(n)}(o.commonVideoDivElement,"height");c=parseInt(c.substring(0,c.lastIndexOf("px")));var u=0,d=0;o.dialog[0].clientWidth>l&&(u=(o.dialog[0].clientWidth-l)/2),o.dialog[0].clientHeight>c&&(d=(o.dialog[0].clientHeight-c)/2),o.commonVideoDivElement.css({"margin-left":u+"px","margin-top":d+"px"}),o.overlay.css({visibility:"visible",left:u+"px",top:d+"px",width:l+"px"})}}else{o.media[0]&&o.dialog[0].clientWidth>o.media[0].clientWidth&&(i=(o.dialog[0].clientWidth-o.media[0].clientWidth)/2),o.media[0]&&o.dialog[0].clientHeight>o.media[0].clientHeight&&(a=(o.dialog[0].clientHeight-o.media[0].clientHeight)/2);var f=o.media[0].clientHeight+"px";o.model.video().defaultVideoControl&&(f="auto"),o.overlay.css({visibility:"visible",left:i+"px",top:a+"px",width:o.media[0].clientWidth+"px",height:f})}}}var o=this;o.model=e.getDialogModel(),o.showOverlay=!1,o.videoLoaded=!1,o.media=null,o.dialog=null,o.overlay=null,o.commonVideoDivElement=null,o.close=function(){e.close()},o.setShowOverlay=function(e){o.showOverlay=e},o.setVideoLoaded=function(e){o.videoLoaded=e,o.videoLoaded&&i()},n.ready((function(){null===o.dialog&&(o.commonVideoDivElement=angular.element(n[0].querySelector(".common-video-directive")),o.dialog=angular.element(n[0].querySelector(".common-media-dialog-service-media-dialog")),o.media=o.model.image()?o.dialog.find("img"):o.dialog.find("video"),o.overlay=o.dialog.find("nv-overlay")),o.dialog.focus(),o.model.image()&&(o.media[0].complete?i():o.media.bind("load",(function(){i()})))})),t.onresize=function(){i()}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mediaTileController=void 0;var r=n(1);n(300),n(216),n(166);var i=r.ngMainCommonModule.controller("MediaTileController",["MEDIA_FILE_TYPE","mediaDialogService","imageFormatService",function(e,t,n){var r=this;r.mediaItem={thumbnail:n.formatImage(r.nvMediaThumbnail,169),alt:r.nvMediaAlt,fileType:r.nvMediaType,original:r.nvMediaOriginal},r.previewMedia=function(n){var i=t.customPreset().toolbarHtml("<nv-media-preview-toolbar></nv-media-preview-toolbar>").event(n);if(r.mediaItem.fileType===e.IMAGE)i=i.image(r.mediaItem.original),t.show(i);else{if(r.mediaItem.fileType!==e.VIDEO)return!1;i=i.video({source:r.mediaItem.original}),t.show(i)}},r.isVideo=function(){return e.VIDEO===r.mediaItem.fileType}}]);t.mediaTileController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvMediaTile=void 0;var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(n(758));n(369),n(15),n(42);var o=r.ngMainCommonModule.component("nvMediaTile",{bindings:{nvMediaThumbnail:"@",nvMediaType:"@",nvMediaAlt:"@",nvMediaOriginal:"@"},template:i.default,controller:"MediaTileController",controllerAs:"mediaTile"});t.nvMediaTile=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.navigationalDialogController=void 0;var r=n(1).ngMainCommonModule.controller("NavigationalDialogController",["$log","navigationalDialogService","eventAggregator","NAVIGATIONAL_DIALOG_EVENTS",function(e,t,n,r){var i=this,o=null,a=e.getInstance("main.common/navigationalDialogController");i.showButtons=!0,i.close=function(){i.showButtons=!1,t.close()},i.forward=function(){var e=_.indexOf(o,t.getCurrentItem());return-1==e?void a.error("item does not exist in dialog's list"):(e=e==o.length-1?0:e+1,i.currentItem=o[e],t.setCurrentItem(i.currentItem),void n.trigger(r.CURRENT_ITEM_UPDATED))},i.backward=function(){var e=_.indexOf(o,t.getCurrentItem());return-1==e?void a.error("item does not exist in dialog's list"):(e=0==e?o.length-1:e-1,i.currentItem=o[e],t.setCurrentItem(i.currentItem),void n.trigger(r.CURRENT_ITEM_UPDATED))},o=t.getItemsList(),i.model=t.getDialogModel(),o&&o.length<=1&&(i.showButtons=!1)}]);t.navigationalDialogController=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.navigationalDialogService=void 0;var r=n(1);n(371),n(164);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(759)),o=r.ngMainCommonModule.service("navigationalDialogService",["$mdDialog",function(e){function t(t,n){e.show({template:i.default,targetEvent:n,controller:"NavigationalDialogController",controllerAs:"dialogCtrl",bindToController:!0,parent:t})}var n=this,r=null,o=null,a=null,l=function(){function e(e){t[e]=function(r){return null!=r?(n[e]=r,t):n[e]}}var t=this,n={};e("html"),e("class")};n.show=function(e,n,i){o=n.currentItem,a=n.itemsList,r=(new l).html(e).class(n.class),t(n.parent,i)},n.close=function(t){e.cancel()},n.getDialogModel=function(){return r},n.getItemsList=function(){return a},n.setCurrentItem=function(e){o=e},n.getCurrentItem=function(){return o}}]);t.navigationalDialogService=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newsController=void 0;var r=n(1);n(64);var i=r.ngMainCommonModule.controller("NewsController",["$log","tbdService",function(e,t){var n=this,r=e.getInstance("main.common/NewsController");n.gameShortName=n.nvShortName,n.newsList=[],("gfn"===n.nvNewsSource?t.getGfnNews(n.gameShortName):t.getGameNews(n.gameShortName)).then((function(e){n.newsList=e})).catch((function(e){r.error("getNews failed with Status: "+e.status)}))}]);t.newsController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nisService=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),i=n(1);n(11),n(180);var o=i.ngMainCommonModule.service("nisService",["$log","$q","eventAggregator","NIS_STATE_EVENTS","COMMON_EVENTS","BACKEND_STATE_EVENTS","nisEndpoints",function(e,t,n,i,o,a,l){function s(e){v.info("processStateInfo response:",e);var t=!1;return(g&&e&&e.data&&(g.enabled!==e.data.enabled||g.sharpen!==e.data.sharpen||g.selectedResolutionIndex!=e.data.selectedResolutionIndex)||!g&&e&&e.data)&&(t=!0),g=e.data,t&&(v.info("NIS state changed"),n.trigger(i.CHANGED,e.data)),e.data}function c(){if(r.isNull(m)){g=null;var e=l.state({cmsId:"0"});m=e.then(s).catch((function(e){return v.error("failed to get nis state info",e),t.reject(e)})).finally((function(){m=null}))}return m}function u(){v.info("onLanguageUpdated called"),g=null,c()}function d(){m=null,c()}function f(){v.info("refresh nisState"),c()}var m=null,p=this,g=null,v=e.getInstance("main.common/nisService");p.initialize=function(){n.on(o.LOCALE_CHANGED,u),n.on(a.READY,d),n.on(o.WINDOW_FOCUS,f)},p.getStateInfo=function(){return g?t.when(g):c()},p.setStateInfo=function(e){return l.setState({},{enabled:e.enabled,sharpen:e.sharpen,selectedResolutionIndex:e.selectedResolutionIndex,cmsId:"0"}).then((function(t){return function(e){g&&(g.enabled=e.enabled,g.sharpen=e.sharpen,g.selectedResolutionIndex=e.selectedResolutionIndex)}(e),t})).catch((function(e){return v.error("failed nisSettState info",e),t.reject(e)}))}}]);t.nisService=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numbersOnly=void 0;var r=n(1).ngMainCommonModule.directive("numbersOnly",(function(){return{require:"ngModel",scope:{nvMin:"@",nvMax:"@"},link:function(e,t,n,r){r.$parsers.push((function(t){if(t){var n=t.replace(/[^0-9]/g,"");n!==t&&(r.$setViewValue(n),r.$render());var i=parseInt(n)>=e.nvMin&&parseInt(n)<=e.nvMax;return r.$setValidity("numbersOnly",i),n}}))}}}));t.numbersOnly=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvNotificationIndicator=void 0;var r=n(1).ngMainCommonModule.directive("nvNotificationIndicator",(function(){return{restrict:"A",link:function(e,t,n,r,i){n.$observe("nvNotificationIndicator",(function(e){"true"!==e?t.addClass("nv-hide-after"):t.removeClass("nv-hide-after")}))}}}));t.nvNotificationIndicator=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sliderController=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(12)),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(3)),n(1)),o=i.ngMainCommonModule.controller("SliderController",["$scope","$log","$timeout","$document","eventAggregator","COMMON_EVENTS",function(e,t,n,i,o,a){var l=this,s=void t.getInstance("main.common/SliderController"),c=void 0;l.sliderIndex=l.nvSliderIndex,l.sliderChanged=function(){l.nvSliderIndex=l.sliderIndex,n((function(){l.nvCurrentSliderChanged()}))},s=e.$watchGroup(["sliderCtrl.nvMaxIndex","sliderCtrl.nvMinIndex","sliderCtrl.nvStep"],(function(t,n){(0,r.default)(t)!==(0,r.default)(n)&&e.$applyAsync((function(){e.redrawTicks()}))})),c=e.$watch("sliderCtrl.nvSliderIndex",(function(e,t){e!==t&&(l.sliderIndex=l.nvSliderIndex)})),i.ready((function(){o.on(a.WINDOW_RESIZE,e.redrawTicks),e.redrawTicks()})),e.$on("$destroy",(function(){s(),c(),o.off(a.WINDOW_RESIZE,e.redrawTicks)}))}]);t.sliderController=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvSlider=void 0;var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(n(763));n(377);var o=r.ngMainCommonModule.directive("nvSlider",[function(){return{restrict:"E",scope:{nvSliderIndex:"=",nvMaxIndex:"=",nvMinIndex:"=",nvStep:"=",nvCurrentSliderChanged:"&",nvIsDisabled:"="},bindToController:!0,link:function(e,t,n){var r=null,i=null,o=null,a=null,l={},s=0;(r=angular.element(t[0].querySelector(".md-track-ticks"))).find("canvas").css("display","none"),o=angular.element("<canvas>").css("position","absolute"),r.append(o),r.css("display","block"),r.css("z-index","0"),i=angular.element(t[0].querySelector(".md-track-container")),e.redrawTicks=function(){if(_.isNull(a)||a.clearRect(0,0,s,l.height),i){l=i[0].getBoundingClientRect(),s=l.width<384?384:l.width;var t=Math.floor((e.sliderCtrl.nvMaxIndex-e.sliderCtrl.nvMinIndex)/e.sliderCtrl.nvStep);a=o[0].getContext("2d"),o[0].width=s,o[0].height=l.height;for(var n,r=0;r<=t;r++)n=Math.round(s*(r/t)),a.fillStyle="#FFFFFF",a.fillRect(n-1,0,2,l.height)}},e.$on("$destroy",(function(){t.empty(),t.remove(),t=null})),t.on("$destroy",(function(){e.$destroy()}))},template:i.default,controller:"SliderController",controllerAs:"sliderCtrl"}}]);t.nvSlider=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tileCarouselController=void 0;var r=n(1).ngMainCommonModule.controller("TileCarouselController",["$log","$element","$scope","eventAggregator","COMMON_EVENTS","TILE_CAROUSEL_EVENTS",function(e,t,n,r,i,o){function a(){m=Math.floor(p[0].clientWidth/(b+y+g))||1,h.info("Carousel will be moving "+m+" tiles")}function l(){s.showLeftCarouselButton=0!==d,s.showRightCarouselButton=d!==c}var s=this,c=0,u=0,d=0,f=0,m=0,p=null,g=0,v=null,h=e.getInstance("main.common/tileCarouselController"),b=n.nvFixedTileWidth,y=n.nvFixedTileMargin;s.showLeftCarouselButton=!1,s.showRightCarouselButton=!1,s.errorState=!1,s.moveLeft=function(){(d=y+g+(f+=m*(b+y)))>=0&&(d=0,f=0),l()},s.moveRight=function(){(d=(f-=m*(b+y))+(y+g))<c&&(f=c,d=c),l()},s.translateStyle=function(){return{transform:"translateX("+d+"px)"}},s.carouselDimensionChanged=function(){h.info("carousel dimension changed"),_.isUndefined(n.nvTilesToMove)&&a();var e=p[0].clientWidth-u;p[0].clientWidth>=p[0].scrollWidth&&e>=0?((c+=e)>0&&(c=0),(d+=e)>0&&(d=0),(f+=e)>0&&(f=0)):c=-(c=Math.abs(d)+(p[0].scrollWidth-p[0].clientWidth)),u=p[0].clientWidth,l()},s.init=function(){if((p=angular.element(t[0].querySelector(".tile-carousel-container"))).length){c=-(c=p[0].scrollWidth-p[0].clientWidth),u=p[0].clientWidth;var e=p[0].getElementsByClassName("carousel-button");e.length>0?g=e[0].clientWidth||45:(h.error('"carousel-button" class missing. Assuming carousel button width to be 45px.'),g=45),b||((v=p[0].getElementsByClassName("nv-carousel-tile")).length>0?b=v[0].clientWidth:(h.error('"nv-carousel-tile" class missing from top child elements of carousel container, or specify nv-tile-fixed-width attribute in directive'),s.errorState=!0)),n.nvTilesToMove?m=n.nvTilesToMove:a(),l()}else h.error('Class "tile-carousel-container" missing'),s.errorState=!0;r.on(i.WINDOW_RESIZE,s.carouselDimensionChanged),r.on(o.CAROUSEL_RESIZED,s.carouselDimensionChanged)},n.$on("$destroy",(function(){r.off(i.WINDOW_RESIZE,s.carouselDimensionChanged),r.off(o.CAROUSEL_RESIZED,s.carouselDimensionChanged)}))}]);t.tileCarouselController=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvTileCarousel=void 0;var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(n(764));n(379);var o=r.ngMainCommonModule.directive("nvTileCarousel",["$timeout",function(e){return{restrict:"E",scope:{nvFixedTileWidth:"=",nvFixedTileMargin:"=",nvTilesToMove:"="},transclude:!0,template:i.default,controller:"TileCarouselController",controllerAs:"tileCarousel",link:function(t,n,r,i){t.$on("$destroy",(function(){n.empty(),n.remove(),n=null})),n.on("$destroy",(function(){t.$destroy()})),e((function(){i.init()}))}}}]);t.nvTileCarousel=o},function(e,t,n){"use strict";n(1).ngMainCommonModule.service("opentracingHttpInterceptor",["$log","$q","tracingService",function(e,t,n){var r=this;e.getInstance("nvTracing/opentracingHttpInterceptor").info("Opentracing Http Interceptor injected"),r.request=function(e){return n.startHttpSpan(e),e},r.response=function(e){return n.closeHttpSpan(e,!1),e},r.responseError=function(e){return n.closeHttpSpan(e,!0),t.reject(e)}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.piiSanityService=void 0;var r=n(1).ngMainCommonModule.service("piiSanityService",["$log","eventAggregator","COMMON_EVENTS","jarvisService","loggingSanityService",function(e,t,n,r,i){function o(){var e=r.getLoggedInUser();if(e){var t=function(e,t){return[e.core.birthdate,e.core.displayName,t.sessionToken,t.userToken]}(e,r.getSession());i.setPiiSensitiveValues(t)}}e.getInstance("main.common/PiiSanityService"),this.initialize=function(){o(),t.on(n.LOGIN_STATUS_CHANGE,o)},this.sanitize=i.sanitizeForPii}]);t.piiSanityService=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.quietModeService=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),i=n(1);n(11),n(139),n(183);var o=i.ngMainCommonModule.service("quietModeService",["$log","quietModeEndpoints","$q","socketService","eventAggregator","QUIET_MODE_SOCKET_EVENTS","QUIET_MODE_SERVICE_EVENTS","QUIET_MODE_EVENTS","COMMON_EVENTS","BACKEND_STATE_EVENTS","QUIET_MODE_2_SOCKET_EVENTS","QUIET_MODE_2_SERVICE_EVENTS","quietMode2Endpoints",function(e,t,n,i,o,a,l,s,c,u,d,f,m){function p(e){return F.info("processSupportInfo response:",e),R=e.data,e.data}function g(e){return F.info("processStateInfo response:",e),N=e.data,e.data}function v(){var e=n.defer();if(e.promise.cancel=function(){F.info("fetchSupportInfo cancelled"),e.reject()},r.isNull(D)){R=null;var i=t.support();D=i.then(p).catch((function(e){return F.error("failed to get quietmode support info",e),n.reject(e)})).finally((function(){D=null}))}return D.then((function(t){return e.resolve(t)})).catch((function(t){return e.reject(t)})),e.promise}function h(){if(r.isNull(M)){N=null;var e=t.state();return M=e.then(g).catch((function(e){return F.error("failed to get quietmode state info",e),n.reject(e)}))}return M}function b(e){F.info("onSupportInfoUpdate data:",e),p({data:e})}function y(e){F.info("onStateInfoUpdated data:",e),g({data:e}),o.trigger(s.STATE_UPDATE)}function E(){F.info("onLanguageUpdated called"),D=null,N=null,v(),h(),L=null,P=null,G=null,k=null,A(),T()}function S(){D=null,v(),M=null,h()}function _(e){return F.info("process quiet mode 2 SupportInfo response:",e),k=e.data,e.data}function w(e){F.info("processQuietMode2StateInfo response:",e);var t=!1;return(G&&e&&e.data&&(G.enabled!==e.data.enabled||G.baseFrameRate!==e.data.baseFrameRate||G.fanVolume!=e.data.fanVolume)||!G&&e&&e.data)&&(t=!0),G=e.data,t&&(F.info("WM2 state changed"),o.trigger(s.CHANGED,e.data)),e.data}function A(){var e=n.defer();if(e.promise.cancel=function(){F.info("fetchQuietMode2SupportInfo cancelled"),e.reject()},r.isNull(L)){var t=m.support();L=t.then(_).catch((function(e){return F.error("failed to get quiet mode 2 support info",e),k=null,n.reject(e)})).finally((function(){L=null}))}return L.then((function(t){return e.resolve(t)})).catch((function(t){return e.reject(t)})),e.promise}function T(){if(r.isNull(P)){var e=m.state();P=e.then(w).catch((function(e){return F.error("failed to get quite Mode 2 state info",e),G=null,n.reject(e)})).finally((function(){P=null}))}return P}function I(e){F.info("onQuietMode2SupportInfoUpdate data:",e),_({data:e}),o.trigger(s.SUPPORT_UPDATE)}function C(e){F.info("onQuietMode2StateInfoUpdated data:",e),w({data:e})}function x(){F.info("refresh quietModeState"),T()}var D=null,M=null,O=this,R=null,N=null,L=null,P=null,k=null,G=null,F=e.getInstance("main.common/quietModeService");O.initialize=function(){i.register(a.STATE_UPDATE,l.STATE_UPDATE),i.register(a.SUPPORT_UPDATE,l.SUPPORT_UPDATE),o.on(l.STATE_UPDATE,y),o.on(l.SUPPORT_UPDATE,b),i.register(d.STATE_UPDATE,f.STATE_UPDATE),i.register(d.SUPPORT_UPDATE,f.SUPPORT_UPDATE),o.on(f.STATE_UPDATE,C),o.on(f.SUPPORT_UPDATE,I),o.on(c.LOCALE_CHANGED,E),o.on(u.READY,S),o.on(c.WINDOW_FOCUS,x)},O.getStateInfo=function(){return N?n.when(N):h()},O.getSupportInfo=function(e){return!e&&R?n.when(R):v()},O.setStateInfo=function(e){return t.setState({},{enabled:e}).then((function(t){return function(e){N&&(N.enabled=e)}(e),o.trigger(s.CHANGED),t})).catch((function(e){return F.error("failed quietmode SetState info",e),n.reject(e)}))},O.getQuietMode2StateInfo=function(){return G?n.when(G):T()},O.getQuietMode2SupportInfo=function(e){return!e&&k?(F.info("return cache response for QuietMode2",k),n.when(k)):(F.info("Fetched fresh response for quietmode2"),A())},O.setQuietMode2StateInfo=function(e){return m.setState({},{enabled:e.enabled,baseFrameRate:e.baseFrameRate,fanVolume:e.fanVolume}).then((function(t){return function(e){G&&(G.enabled=e.enabled,G.fanVolume=e.fanVolume,G.baseFrameRate=e.baseFrameRate)}(e),o.trigger(s.CHANGED,e),t})).catch((function(e){return F.error("failed quiet mode 2 SettState info",e),n.reject(e)}))}}]);t.quietModeService=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rangeSliderController=void 0;var r=n(1).ngMainCommonModule.controller("RangeSliderController",["$scope","$log",function(e,t){function n(){e.upperWidth=(e.maximum-(e.lowerValue+e.step))/(e.maximum-e.minimum)*100+"%",e.lowerValue>e.upperValue-e.minGap&&e.upperValue<e.maximum&&(e.upperValue=e.lowerValue+e.minGap)}var r=this,i=t.getInstance("main.common/RangeSliderController");(r=this).lowerValue=e.lowerValue,r.upperValue=e.upperValue,r.lowerMax=e.lowerMax,r.upperMin=e.upperMin,r.step=e.step,r.minGap=e.minGap,r.maximum=e.maximum,r.minimum=e.minimum,e.step||(e.step=2),e.minGap||(e.minGap=e.step),e.$watchGroup(["minimum","maximum"],(function(){e.lowerMax=e.maximum-e.step,e.upperMin=e.lowerValue+e.step,!e.lowerValue||e.lowerValue<e.minimum?e.lowerValue=e.minimum:e.lowerValue*=1,!e.upperValue||e.upperValue>e.maximum?e.upperValue=e.maximum:e.upperValue*=1,n()})),e.$watch("lowerValue",(function(){return e.lowerValue>=e.upperValue-e.step?void(e.lowerValue=e.upperValue-e.step):(e.upperMin=e.lowerValue+e.step,void n())})),e.$watch("upperValue",(function(){e.upperValue<=e.lowerValue+e.step&&(e.upperValue=e.lowerValue+e.step)})),e.$watch("nvDisabled",(function(){i.info("Range slider isDisabled value changed :",e.nvDisabled)})),r.currentSliderPositionChanged=function(){e.onSliderChange()}}]);t.rangeSliderController=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvRangeSlider=void 0;var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(n(765));n(384);var o=r.ngMainCommonModule.directive("nvRangeSlider",[function(){return{restrict:"E",scope:{minimum:"=",maximum:"=",minGap:"=",step:"=",nvDisabled:"=",mdDiscrete:"=mdDiscrete",lowerValue:"=lowerValue",upperValue:"=upperValue",onSliderChange:"&"},template:i.default,controller:"RangeSliderController",controllerAs:"rangeSliderCtrl"}}]);t.nvRangeSlider=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rigService=void 0;var r=n(1).ngMainCommonModule.service("rigService",["$log","$translate","$q","RIG_CONSTANTS",function(e,t,n,r){function i(e){var t;try{return _.isString(e)?(t=function(e,t){return Number(Math.round(e+"e"+t)+"e-"+t)}(e/p/p/p,2),isNaN(t)?m:t+" GB RAM"):m}catch(e){return u.error("failed to format memory",e),m}}function o(){var e,t;return f={},d?(f.cpuName=_.isString(d.CPUName)?d.CPUName:m,f.driverVersion=_.isString(d.DriverVersion)?s+d.DriverVersion:m,f.totalPhysicalMemory=i(d.TotalPhysicalMemory),f.currentResolution=function(e){var t,n;try{return _.isString(e)&&2===(t=e.split("@")).length&&2===(n=t[0].split("x")).length?n[0]+" x "+n[1]+", "+t[1]+"Hz":m}catch(e){return u.error("failed to format resolution",e),m}}(d.CurrentResolution),0===(e=_.isArray(d.GPU)?d.GPU.length:0)?f.gpuName=m:1===e?f.gpuName=d.GPU[0].LongGPUName:(t=_.rest(d.GPU),f.gpuName=d.GPU[0].LongGPUName,f.gpuSubItems=_.pluck(t,"LongGPUName")),void u.info("createItems - systemInfo",f)):(u.info("createItems - hardware info not available"),n.reject())}function a(e,t){v[t]=e}function l(){return v=[],a({icon:"icon-gpu",description:f.gpuName,subItems:f.gpuSubItems},g.GPU),a({icon:"icon-nvlogo",description:f.driverVersion},g.DRIVER_VERSION),a({icon:"icon-memory",description:f.cpuName},g.CPU),a({icon:"icon-ram",description:f.totalPhysicalMemory},g.RAM),a({icon:"icon-monitor",description:f.currentResolution},g.RESOLUTION),v}var s,c,u=e.getInstance("main.common/rigService"),d=null,f={},m="-",p=1024,g=r.ITEM_POSITION,v=[];this.processSystemInfo=function(e){return d=e,(s?n.when(s):c||(c=t(["l10n.driverVersion"]).then((function(e){s=e["l10n.driverVersion"]+" "})))).then(o).then(l)}}]).constant("RIG_CONSTANTS",{ITEM_POSITION:{GPU:0,DRIVER_VERSION:1,CPU:2,RAM:3,RESOLUTION:4}});t.rigService=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvScrollOverlay=void 0;var r=n(1).ngMainCommonModule.directive("nvScrollOverlay",["$timeout",function(e){return{restrict:"A",link:function(t,n,r){function i(){0===n[0].scrollTop?o.addClass("hidden"):o.removeClass("hidden"),n[0].scrollTop+n[0].clientHeight===n[0].scrollHeight?a.addClass("hidden"):a.removeClass("hidden")}var o=angular.element('<div class="overlay top hidden"></div>'),a=angular.element('<div class="overlay bottom hidden"></div>');n.addClass("scroll-overlay"),n.prepend(o),n.append(a),n.bind("scroll",i),t.$on("$destroy",(function(){n.unbind("scroll",i)})),e(i)}}}]);t.nvScrollOverlay=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectMenuItemController=void 0;var r=n(1);n(17);var i=r.ngMainCommonModule.controller("SelectMenuItemController",["$scope","telemetryService",function(e,t){var n=this;n.action=e.nvAction,n.disabled=e.nvDisabled,n.nvTelemetry=e.nvTelemetry,e.$watch("nvSelectedTest()",(function(e){n.itemStyle={"font-weight":e?"bold":"normal"}})),e.$watch("nvDisabled",(function(e){n.disabled=e})),n.handleClick=function(){if(n.action(),n.nvTelemetry){var e=JSON.parse(n.nvTelemetry);t.push(e.tarconID,e.url)}}}]);t.selectMenuItemController=i},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.signPayloadService=void 0;var r=n(1).ngMainCommonModule.service("signPayloadService",["$log","$base64",function(e,t){var n=(e.getInstance("main.common/signingPayloadService"),this),r=function(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t};n.getBytesFromEncodedString=function(e){var n=decodeURIComponent(e),i=t.decode(n);return r(i)},n.convertStringToHexWithWordShift=function(e,t){for(var n=0,r=0;r<t;r++)switch(e[t-1-r]){case"0":n|=0<<4*r;break;case"1":n|=1<<4*r;break;case"2":n|=2<<4*r;break;case"3":n|=3<<4*r;break;case"4":n|=4<<4*r;break;case"5":n|=5<<4*r;break;case"6":n|=6<<4*r;break;case"7":n|=7<<4*r;break;case"8":n|=8<<4*r;break;case"9":n|=9<<4*r;break;case"a":case"A":n|=10<<4*r;break;case"b":case"B":n|=11<<4*r;break;case"c":case"C":n|=12<<4*r;break;case"d":case"D":n|=13<<4*r;break;case"e":case"E":n|=14<<4*r;break;case"f":case"F":n|=15<<4*r}return n},n.base64FromByteArray=function(e){for(var t,n="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(e),o=i.byteLength,a=o%3,l=o-a,s=0;s<l;s+=3)n+=r[(16515072&(t=i[s]<<16|i[s+1]<<8|i[s+2]))>>18]+r[(258048&t)>>12]+r[(4032&t)>>6]+r[63&t];return 1==a?n+=r[(252&(t=i[l]))>>2]+r[(3&t)<<4]+"==":2==a&&(n+=r[(64512&(t=i[l]<<8|i[l+1]))>>10]+r[(1008&t)>>4]+r[(15&t)<<2]+"="),n},n.buildNonceBytes=function(e){e.length>32&&(e=e.slice(0,32));var t=e.split("");if(32===t.length){for(var r,i=new ArrayBuffer(16),o=new DataView(i,0),a=0;a<16;a++)r=n.convertStringToHexWithWordShift(t.slice(2*a,2*a+2),2),o.setUint8(16-a-1,r);var l=new Uint8Array(i,0);return n.nonce=Array.prototype.slice.call(l),n.nonce}return null},n.getHexStringFromBytes=function(e){for(var t="",n=0;n<e.length;n++)t+=("00"+e[n].toString(16)).slice(-2);return t},n.buildProgramId=function(e,t){var n=e.split(".").join("")+t.split(".").join(""),r=n.length>8?n.substring(0,8):("00000000"+n).slice(-8);return parseInt(r,16)},n.formatHashedEcid=function(e){var t=n.getHexStringFromBytes(e).replace("-","").toLowerCase();return encodeURIComponent(n.base64FromByteArray(r(t)))},n.formatSignedPaylod=function(e){return encodeURIComponent(n.base64FromByteArray(e))},n.formatPayloadRequest=function(e){if(e.key){var t=n.getBytesFromEncodedString(e.key),r=n.buildProgramId(e.clientVersion,e.driverVersion),i=n.buildNonceBytes(e.nonce.length>32?e.nonce.substring(0,32):e.nonce);return{algorithm:e.signAlgo,nonce:i,programId:r,key:t,sessionId:0}}return null},n.formatSignedPayload=function(e){var t="00000000";return{deviceChipsetId:(t+e.deviceInfo.chipId.toString(16)).slice(-4),deviceRevision:(t+e.deviceInfo.revisionId.toString(16)).slice(-4),hashedEcid:n.formatHashedEcid(e.ecidSha2Hash),signedPayload:n.formatSignedPaylod(e.data),ucodeVersion:(t+e.uCodeVersion.toString()).slice(-8)}}}]);t.signPayloadService=r},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.systemClockService=void 0;var r=n(1).ngMainCommonModule.service("systemClockService",["$interval","eventAggregator","COMMON_EVENTS",function(e,t,n){function r(){t.trigger(n.SYSTEM_TIME_UPDATED,new Date)}var i=0,o=null;this.subscribeClockUpdates=function(){i+=1,o||(o=e(r,1e3))},this.unsubscribeClockUpdates=function(){(i-=1)<=0&&(i=0,e.cancel(o),o=null)}}]);t.systemClockService=r},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.tracingService=void 0;var i=r(n(56)),o=r(n(12)),a=r(n(243)),l=n(1),s=r(n(984)),c=l.ngMainCommonModule.provider("tracingService",(function(){return{$get:["$log","$q","nvAngularUuidService","TRACING_CONSTANTS","TRACING_TAG_NAMES","$window",function(e,t,n,r,l,c){function u(e){return c.btoa(c.unescape(c.encodeURIComponent(e)))}var d={},f={},m={},p={},g=this,v=void 0;e.getInstance("nvTracing/tracingService"),g.initialized=!1;var h=function(e,t){var r=void 0,i=void 0,o=void 0;if(g.initialized&&e)for(var a in o=n.generateUUID(),t&&(i=d[t]),r=i?s.default.globalTracer().startSpan(e,{childOf:i}):s.default.globalTracer().startSpan(e),d[o]=r,v)y(o,a,v[a]);return o},b=function(e,t,n){if(g.initialized&&e){var r=d[e];r&&(r.setTag("error",n),t&&(r.setTag("http.status_code",t.status),t.config&&(r.setTag("http.url",t.config.url),r.setTag("http.method",t.config.method))),r.finish(),delete d[e])}},y=function(e,t,n){if(g.initialized&&e){var r=d[e];r&&r.setTag(t,n)}},E=function(e,t){var n={};if(g.initialized&&e&&t){var r=e,i=!0,l=!1,s=void 0;try{for(var c,u=(0,a.default)(t);!(i=(c=u.next()).done);i=!0){var d=c.value;if("."===d)_.isObject(e)&&(r=(0,o.default)(e)),n.data=r;else{var f=d.split("."),m=!0,p=!1,v=void 0;try{for(var h,b=(0,a.default)(f);!(m=(h=b.next()).done);m=!0){if(!(r=r[h.value]))break}}catch(e){p=!0,v=e}finally{try{!m&&b.return&&b.return()}finally{if(p)throw v}}r&&(_.isObject(r)&&(r=(0,o.default)(r)),n[d]=r)}}}catch(e){l=!0,s=e}finally{try{!i&&u.return&&u.return()}finally{if(l)throw s}}}return n},S=function(e,t){if(g.initialized&&e){var n=d[e];if(n){var r={};s.default.globalTracer().inject(n.context(),s.default.FORMAT_HTTP_HEADERS,r);var o=(0,i.default)(r),l=!0,c=!1,u=void 0;try{for(var f,m=(0,a.default)(o);!(l=(f=m.next()).done);l=!0){var p=f.value;t[p]=r[p]}}catch(e){c=!0,u=e}finally{try{!l&&m.return&&m.return()}finally{if(c)throw u}}}}},w=function(e,n){g.initialized&&n&&t.when(n()).then((function(t){A(e,t)}))},A=function(e,t){if(g.initialized&&t)for(var n in t){var r=t[n];y(e,n,r)}},T=function(e,t){var n=void 0;if(0===t.length)n=e;else{var r=t.length;n=1===r?t[r-1]:t[r-2]+"/"+t[r-1]}return n};return{init:function(e,t){e&&s.default.initGlobalTracer(e),(v=t||{}).sessionId=n.generateUUID(),g.initialized=!0},startSpan:h,closeSpan:b,trackPromise:function(e,n,r,i){if(g.initialized&&n){var o=h(n,r);return e(o).then((function(e){var t=E(e,i);return A(o,t),b(o,!0),e})).catch((function(e){var n=E(e,i);return A(o,n),b(o,!1),t.reject(e)}))}return e()},startHttpSpan:function(e,t){if(g.initialized&&e&&e.url){var i=void 0,s=void 0,c=void 0,d=void 0,m=void 0;if(e.url.startsWith("http")&&(m=(d=new URL(e.url)).searchParams),d){var v=e.data,b=void 0;v&&(s=v[r.PARENT_SPAN_IDENTIFIER],v[r.COMPONENT_NAME]&&(c=v[r.COMPONENT_NAME],i=h(c,s),delete v[r.COMPONENT_NAME]),delete v[r.PARENT_SPAN_IDENTIFIER]),!i&&m&&(s||(s=m.get(r.PARENT_SPAN_IDENTIFIER)),m.get(r.COMPONENT_NAME)&&!c&&(c=m.get(r.COMPONENT_NAME),i=h(c,s),m.delete(r.COMPONENT_NAME)),m.delete(r.PARENT_SPAN_IDENTIFIER),(s||c)&&(e.url=d.origin+d.pathname+"?"+m.toString()));var E=f[d.origin]||f[d.host];if(d.origin&&(E||s)){if(!i){var A=T(d.origin,d.pathname.split("/"));i=h(A,s)}E&&w(i,E)}if(i&&m){var I=m.entries(),C="",x=!0,D=!1,M=void 0;try{for(var O,R=(0,a.default)(I);!(x=(O=R.next()).done);x=!0){var N=O.value;C="params."+N[0],y(i,C,N[1])}}catch(e){D=!0,M=e}finally{try{!x&&R.return&&R.return()}finally{if(D)throw M}}e.url=d.origin+d.pathname,m.toString().length>0&&(e.url+="?"+m.toString())}if(i&&(y(i,l.ORIGIN,d.origin),y(i,l.PATH,d.pathname)),t){var L=[];if(i){S(i,L),m=(d=new URL(e.url)).searchParams;var P=(0,o.default)(_.extend({},L));e.url=d.origin+d.pathname+"?tracer="+u(P),m.toString().length>0&&(e.url=e.url+"&"+m.toString()),e.spanId=i}}else i&&e.headers&&(e.headers[r.X_REQUEST_ID]?b=e.headers[r.X_REQUEST_ID]:(b=n.generateUUID(),e.headers[r.X_REQUEST_ID]=b),p[b]=i,S(i,e.headers))}}},closeHttpSpan:function(e,t){var n=void 0;if(g.initialized&&e&&e.config&&e.config.headers&&(n=e.config.headers[r.X_REQUEST_ID])){var i=p[n];if(i&&e.config&&e.config.url){var o=new URL(e.config.url).origin,l=m[o];if(l){var s=e.headers();if(s){var c=!0,u=!1,d=void 0;try{for(var f,v=(0,a.default)(l);!(c=(f=v.next()).done);c=!0){var h=f.value,E=s[h];y(i,h,E)}}catch(e){u=!0,d=e}finally{try{!c&&v.return&&v.return()}finally{if(u)throw d}}}}b(i,e,t),delete p[n]}}},closePopUpHttpSpan:function(e,t,n){if(g.initialized&&e){var r=d[e];r&&(r.setTag("error",t),n&&(r.setTag("http.error_code",n.errorCode),r.setTag("http.error_text",n.errorText),r.setTag("http.url",n.failedUrl)),r.finish(),delete d[e])}},setTag:y,setTags:A,injectSpan:S,registerUrlForTracing:function(e,t,n){g.initialized&&e&&(f[e]||(f[e]=t||function(){}),n&&_.isArray(n)&&!m[e]&&(m[e]=n))},isSpanAvailable:function(e){return void 0!==d[e]}}}]}}));t.tracingService=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.videoController=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),i=n(1).ngMainCommonModule.controller("VideoController",["$scope","$window","$document","$interval","$filter","$sce","VIDEO_TYPE","YOUTUBE_PLAYER_STATE","$mdToast","MEDIA_NETWORK_STATE","$log",function(e,t,n,i,o,a,l,s,c,u,d){function f(){g.totalDuration=0;var e=0;g.totalDuration=o("date")(1e3*g.media[0].duration,"mm:ss","UTC"),i((function(){if(e!==g.sliderPosition){var t=g.sliderPosition*g.media[0].duration/100;return g.currentVideoTime=o("date")(1e3*t,"mm:ss","UTC")+" / "+g.totalDuration,g.media[0].currentTime=t,void(e=g.sliderPosition)}g.media[0].paused&&g.media[0].currentTime!==g.media[0].duration||(g.currentVideoTime=o("date")(1e3*g.media[0].currentTime,"mm:ss","UTC")+" / "+g.totalDuration,g.sliderPosition=e=Math.floor(g.media[0].currentTime/g.media[0].duration*100))}),1e3)}function m(){v=new t.YT.Player("ytPlayer",{events:{onReady:g.onYTPlayerReady()}})}function p(){var e=n[0].getElementsByTagName("script"),t="https://www.youtube.com/iframe_api";if(r.find(e,(function(e){return e.getAttribute("src")===t})))m();else{var i=n[0].createElement("script");i.src=t;var o=n[0].getElementsByTagName("script")[0];o.parentNode.insertBefore(i,o)}}var g=this;g.showOverlay=!1,g.currentVideoTime="00:00 / 00:00",g.sliderPosition=0,g.videoLoaded=!1,g.directiveElement=null,g.media=null,g.totalDuration=0,g.nvSrc=e.nvSrc,g.nvVideoLoaded=e.nvVideoLoaded,g.nvVideoType=e.nvVideoType,g.nvVideoClose=e.nvVideoClose,g.nvDefaultVideoControl=e.nvDefaultVideoControl,g.youtubePlayer=null,g.videoWaiting=!0;var v=null,h=d.getInstance("main.common/VideoController");g.formatVideoSource=function(){g.nvSrc?(g.nvVideoType===l.YOUTUBE&&(g.nvSrc="https://www.youtube.com/embed/"+function(e){return/youtu\.be\/(.*)/g.exec(e)[1]}(g.nvSrc)+"?wmode=transparent&controls=1&showinfo=0&autoplay=1"),g.nvSrc=a.trustAsResourceUrl(g.nvSrc)):(h.error("Video source is null"),g.nvVideoClose&&g.nvVideoClose())},g.formatVideoSource(),g.isVideoTypeYoutube=function(){return g.nvVideoType===l.YOUTUBE},g.showDefaultOverlay=function(){return g.isVideoTypeYoutube()||"true"===g.nvDefaultVideoControl},g.setShowOverlay=function(e){g.showOverlay=e},g.toggleMediaPlay=function(){g.nvVideoType===l.YOUTUBE?g.youtubePlayer&&(g.youtubePlayer.getPlayerState()===s.PAUSED?g.youtubePlayer.playVideo():g.youtubePlayer.pauseVideo()):g.media&&(g.media[0].paused?g.media[0].play():g.media[0].pause())},g.showPlaybutton=function(){return!!g.media&&g.media[0].paused},g.muted=function(){return!!g.media&&g.media[0].muted},g.muteUnmute=function(){g.media&&(g.media[0].muted=!g.media[0].muted)},g.onYTPlayerReady=function(){g.videoWaiting=!1,g.videoLoaded=!0,g.youtubePlayer=v,g.nvVideoLoaded&&g.nvVideoLoaded({value:!0})},t.onYouTubeIframeAPIReady=function(){m()},n.ready((function(){function t(){e.$apply((function(){g.videoWaiting=!1}))}function r(){e.$apply((function(){g.videoWaiting=!0}))}if(g.nvVideoType!==l.YOUTUBE){null===g.directiveElement&&(g.directiveElement=angular.element(n[0].querySelector(".common-video-directive")),g.media=g.directiveElement.find("video"),g.media&&"true"===g.nvDefaultVideoControl&&g.media.attr("controls",!0));g.media.bind("error",(function(e){var t=o("translate")("l10n.mediaerror.generic");if(e.target.error)switch(e.target.error.code){case e.target.error.MEDIA_ERR_ABORTED:t=o("translate")("l10n.mediaerror.aborted");break;case e.target.error.MEDIA_ERR_NETWORK:t=o("translate")("l10n.mediaerror.network");break;case e.target.error.MEDIA_ERR_DECODE:t=o("translate")("l10n.mediaerror.decode");break;case e.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:t=o("translate")("l10n.mediaerror.notsupported")}var n=c.simple().content(t).highlightAction(!0).hideDelay(3e3).capsule("true").position("top center");c.show(n),g.nvVideoClose&&g.nvVideoClose()}));g.media.bind("loadedmetadata",(function(){e.$apply((function(){g.videoLoaded=!0})),g.nvVideoLoaded&&g.nvVideoLoaded({value:!0}),f()}));g.media.bind("progress",(function(e){e.target.networkState===u.NETWORK_LOADING&&e.target.buffered.length>0&&e.target.played.length>0&&e.target.buffered.end(0)<=e.target.played.end(0)+.5?g.videoWaiting=!0:g.videoWaiting=!1})),g.media.bind("canplay",(function(){t()})),g.media.bind("playing",(function(){t()})),g.media.bind("waiting",(function(){r()})),g.media.bind("stalled",(function(){r()})),e.$apply()}else p()}))}]);t.videoController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvVideo=void 0;var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(n(770));n(395),n(15);var o=r.ngMainCommonModule.directive("nvVideo",(function(){return{restrict:"E",transclude:!0,scope:{nvSrc:"@",nvVideoType:"@",nvVideoLoaded:"&",nvVideoClose:"&",nvDefaultVideoControl:"@"},template:i.default,controller:"VideoController",controllerAs:"videoCtrl"}}));t.nvVideo=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.virtualGridListController=void 0;var r=n(1).ngMainCommonModule.controller("VirtualGridListController",["$element","$scope","eventAggregator","COMMON_EVENTS",function(e,t,n,r){function i(){return e[0].offsetWidth}function o(e,t){var n=e||1;return Math.floor(t/n)}function a(e,t){var n=e||1;return Math.ceil(t/n)}function l(e,t,n){p[e]||(p[e]=[]);var r,i,o=p[e];for(o.length=0,r=0;r<t;r++){if((i=e*t+r)>=n.getLength())return o;o.push(n.getItemAtIndex(i))}return o}function s(e){var t,n;if(e>p.length)for(n=e-p.length,t=0;t<n;t++)p.push([]);p.length=e,p[p.length-1]=[]}function c(e,n){var r,i,o=a(n,e.getLength());for(s(o),t.nvVirtualGridListItems=p,r=0;r<o;r++)i=l(r,n,e),t.nvVirtualGridListItems[r]=i}function u(e,n){var r=a(n,e.getLength());s(r),t.nvVirtualGridListItems={getLength:function(){return r},getItemAtIndex:function(t){return l(t,n,e)}}}function d(e){var t=!1;e.columnCount&&e.columnCount!==m.columnCount&&(m.columnCount=e.columnCount,t=!0),e.itemWidth&&e.itemWidth!==m.itemWidth&&(m.itemWidth=e.itemWidth),e.list&&e.list!==m.list&&(m.list=e.list,"[object Array]"===Object.prototype.toString.call(m.list)&&(m.list={getLength:function(){return e.list.length},getItemAtIndex:function(t){return e.list[t]}}),t=!0),m.list.getLength()!=m.listLength&&(m.listLength=m.list.getLength(),t=!0);var n=o(m.itemWidth,i());n!==m.columnCount&&(m.columnCount=n,t=!0),t&&this.refreshFn(m.list,m.columnCount)}var f,m={list:{getLength:function(){return 0},getItemAtIndex:angular.noop},columnCount:0,itemWidth:0,listLength:0},p=[];t.nvVirtualGridListItems={getLength:function(){return 0},getItemAtIndex:function(e){return null}},this.initialize=function(e){this.refresh=d.bind({refreshFn:e?u:c})},this.refresh=angular.noop,this.resize=function(e){var n=o(m.itemWidth,i());n!==m.columnCount&&this.refresh({columnCount:n}),t.$apply()},this.getRowCount=function(){return a(m.columnCount,m.list.getLength())},f=this.resize.bind(this),t.$on("$destroy",(function(){n.off(r.WINDOW_RESIZE,f)})),n.on(r.WINDOW_RESIZE,f)}]);t.virtualGridListController=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvVirtualGridListItem=t.nvVirtualGridListRepeat=t.nvVirtualGridList=void 0;var r=n(1);n(397);var i=r.ngMainCommonModule.directive("nvVirtualGridList",(function(){return{restrict:"E",template:function(e){return e[0].innerHTML},controller:"VirtualGridListController"}})),o=r.ngMainCommonModule.directive("nvVirtualGridListRepeat",["$document","_","$compile",function(e,t,n){function r(e){var t;if(!(t=e.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/)))throw new Error('Expected expression in form of "_item_ in _collection_[ track by _id_]" but got {0}',e);return{key:t[1],collection:t[2],aliasAs:t[3],trackBy:t[4]}}function i(t,n,i,o){var s=r(n.attr("nv-virtual-grid-list-repeat")),c=o,u=void 0!==n.attr("nv-on-demand"),d=parseInt(a)+parseInt(l);e.ready((function(){var e=n[0].offsetWidth,r=Math.floor(e/d);c.initialize(u),c.refresh({list:t.$eval(s.collection),itemWidth:d,columnCount:r}),t.$watchCollection((function(){return t.$eval(s.collection)}),(function(e,n){e&&c.refresh({list:t.$eval(s.collection)})}))}))}function o(e,t,n,r){var i=getComputedStyle(t[0]);a=i["max-width"],l=i["margin-right"],t.removeAttr("style"),t.removeAttr("class")}var a=null,l=null;return{restrict:"A",require:"^nvVirtualGridList",replace:!0,template:function(e){var t,n=r(e.attr("nv-virtual-grid-list-repeat")),i=void 0!==e.attr("nv-on-demand"),o=e[0].outerHTML,a=e.attr("nv-repeat-item-class"),l="",s=e.attr("nv-top-index"),c="";return t=n.key+" in row",n.aliasAs&&(t+=" alias as "+n.aliasAs),n.trackBy&&(t+=" track by "+n.trackBy),i&&(l="md-on-demand"),s&&(c='md-top-index="'+s+'"'),'<md-content layout="row" flex><md-virtual-repeat-container flex id="vertical-container" '+c+'><div md-virtual-repeat="row in nvVirtualGridListItems" layout="row" flex '+l+' class="'+a+'"><nv-virtual-grid-list-item ng-repeat="'+t+'">'+(o=o.replace(/nv-virtual-grid-list-repeat=["'].*?['"]/g,""))+"</nv-virtual-grid-list-item></div></md-virtual-repeat-container></md-content>"},compile:function(e,t){return{pre:o,post:i}}}}]),a=r.ngMainCommonModule.directive("nvVirtualGridListItem",[function(){return{restrict:"E"}}]);t.nvVirtualGridList=i,t.nvVirtualGridListRepeat=o,t.nvVirtualGridListItem=a},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.homeController=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3));n(13),n(37),n(11);var i=angular.module("main").controller("HomeController",["jarvisService","dbCacheService","DB_NAMES","eventAggregator","COMMON_GAME_EVENTS","$scope","toastService",function(e,t,n,i,o,a,l){function s(e){c.viewState.selectedGameId=e,c.viewState.persist_()}var c=this;c.user=e.getLoggedInUser();var u=r.debounce((function(e){c.synchedViewState.classicViewEnabled=!0===e,c.synchedViewState.persist_()}),500,!0);i.on(o.SELECTED_GAME_CHANGED,s),i.on(o.GAME_VIEW_CHANGED,u),a.$on("$destroy",(function(){l.isOpen()&&l.cancel(),i.off(o.SELECTED_GAME_CHANGED,s),i.off(o.GAME_VIEW_CHANGED,u)})),c.viewState=t.getCachedUserItem(c.user.userId,n.VIEW_STORE,n.VIEW_STATE),c.synchedViewState=t.getCachedUserItem(c.user.userId,n.JARVIS_GFE_STORE,n.JARVIS_VIEW_STATE),c.unselectSelectedGame=function(e){i.trigger(o.SELECTED_GAME_CHANGED,null),e.stopPropagation()}}]);t.homeController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvHome=void 0,n(477),n(470);var r=function(e){return e&&e.__esModule?e:{default:e}}(n(774));n(404);var i=angular.module("main").directive("nvHome",(function(){return{restrict:"E",scope:{},template:r.default,controller:"HomeController",controllerAs:"homeCtrl",link:function(e,t){e.$on("$destroy",(function(){t.empty(),t.remove(),t=null})),t.on("$destroy",(function(){e.$destroy()}))}}}));t.nvHome=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.mainController=void 0,n(77);var i=r(n(316)),o=r(n(317)),a=r(n(983)),l=angular.module("main").controller("MainController",["$log","$templateCache","cefService","gfeUpdatesEndpoints","eventAggregator","GFE_SOCK_MESSAGE","WINDOW_STYLES","preferencesFeatureService","FEATURE_CRITERIA","stateService","COMMON_EVENTS","jarvisService","updatesService","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_UI_PROGRESS_NAMES","TELEMETRY_SCREENS","TELEMETRY_ACTIONS","$filter","GFE_SELF_UPDATE","SELF_UPDATE_CATEGORY_TYPE","SELF_UPDATE_ACTION","TELEMETRY_STATUS",function(e,t,n,r,l,s,c,u,d,f,m,p,g,v,h,b,y,E,S,_,w,A,T){function I(){p.getLoggedInUser()?g.getInstalledDriver().then((function(e){u.getUnsupportedFeatures(d.DRIVER).then((function(e){O.driverUpdateRequired=e.length>0,O.driverUpdateRequired&&(O.driverUpdateText=function(e){var t=e.length;e=S("orderBy")(e,(function(e){return e.id}));var n="l10n.criticalUpdateForFeatures"+C(a.default.toWords(t)),r={};return e.forEach((function(e,t){var n="feature"+C(a.default.toWords(t+1));r[n]=e.header})),S("translate")(n,r)}(e))}))})):O.driverUpdateRequired=!1}function C(e){return e.charAt(0).toUpperCase()+e.substr(1)}function x(e){v.push(h.EVENTS_SELF_UPDATE,{category:w.BANNER,action:e,newVersion:R||"",status:T.SUCCESS})}function D(e){v.push(h.DOWNLOAD_LATEST_DRIVER_UPDATE,{name:b.LATEST_DRIVER_UPDATE,currentScreen:y.SCREEN_MAIN_TOOLBAR,action:e})}function M(){f.gotoDriversTab({startDriverDownload:!0}),O.driverUpdateRequired=!1}var O=this,R="",N=e.getInstance("main/MainController");O.isWindowsOS=function(){return n.getWindowStyle()===c.WINDOWS},O.install=function(){r.startInstall("",O.downloadInfo.downloadedLocation).then((function(){n.windowClose()})).catch((function(e){N.error("install trigger from main failed "+e)}))},l.on(_.POSTPROCESS_SUCCESSFULL,(function(e){O.successfulPostprocessing=!0,R=e,N.info("show self update banner for version ",e),x(A.POPUP_SHOWN)})),O.showTopToolbar=function(){return(O.newVersionAvailable||O.driverUpdateRequired)&&!O.successfulPostprocessing},O.onRelaunchRequied=function(){x(A.RELAUNCH_NOW_CLICKED),n.restartApp()},O.resetDriverUpdateRequired=function(){D(E.LATER),O.driverUpdateRequired=!1},O.onClickUpdateDriver=function(){D(E.DOWNLOAD),M()},O.newVersionAvailable=!1,O.driverUpdateRequired=!1,O.successfulPostprocessing=!1,l.on(s.NEW_VERSION_AVAIL,(function(e){O.downloadInfo=e,O.newVersionAvailable=!0})),t.put("tour-step-popup.html",i.default),t.put("tour-step-template.html",o.default),I(),l.on(m.LOGIN_STATUS_CHANGE,I),l.on(m.UNSUPPORTED_FEATURES_UPDATED,I),l.on(m.UPDATE_DRIVER_FROM_PREFERENCES,M)}]);t.mainController=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvMainTabButton=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(775)),i=angular.module("main").directive("nvMainTabButton",["$state",function(e){return{restrict:"E",scope:{nvMdIcon:"@",nvLabel:"@",nvState:"@",nvParam:"=",nvDisabled:"@"},template:r.default,link:function(t,n,r){function i(){o.addClass(l),a.addClass(l)}var o=angular.element(n.find("md-icon")),a=angular.element(n.find("span")),l="md-accent foreground";t.$on("$stateChangeSuccess",(function(e,n,r,s,c){n.name.indexOf(t.nvState)>-1&&"true"!==t.nvDisabled?i():(o.removeClass(l),a.removeClass(l))})),e.current.name.indexOf(t.nvState)>-1&&"true"!==t.nvDisabled&&i(),n.bind("click",(function(n){"true"!==t.nvDisabled&&e.go(t.nvState,t.nvParam)}))}}}]);t.nvMainTabButton=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvMainTabIcon=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(776));n(25);var i=angular.module("main").directive("nvMainTabIcon",["$state","$log",function(e,t){return t.getInstance("main/mainTabIcon"),{restrict:"E",scope:{nvMdIcon:"@",nvState:"@",nvToolTip:"@",nvParam:"=",nvDisabled:"@",nvCustomIcon:"@",nvTabIconClicked:"&",nvChangeIconColorGreen:"@",nvShareAddonLoaded:"="},template:r.default,link:function(t,n,r){function i(){o.addClass(a)}var o=angular.element(n.find("md-icon")),a="md-accent foreground",l={opacity:"0.9"},s={opacity:"0.75"},c={opacity:"1"},u={opacity:"0.4"},d={color:"#76b900"},f={color:""};t.$on("$stateChangeSuccess",(function(e,n,r,l,s){n.name.indexOf(t.nvState)>-1&&"true"!==t.nvDisabled?i():o.removeClass(a)})),e.current.name.indexOf(t.nvState)>-1&&"true"!==t.nvDisabled&&i(),t.$watch("nvDisabled",(function(e,n){_.isUndefined(t.nvState)&&"true"===e?o.css(u):_.isUndefined(t.nvState)&&e!==n&&"false"===e&&o.css(s)})),n.bind("click",(function(n){-1===e.current.name.indexOf(t.nvState)&&"true"!==t.nvDisabled&&(_.isUndefined(t.nvState)?("true"===t.nvShareAddonLoaded&&o.css(d),o.css(c),t.nvTabIconClicked()):e.go(t.nvState,t.nvParam))})),n.bind("mouseenter",(function(e){_.isUndefined(t.nvState)&&"true"!==t.nvDisabled&&o.css(l)})),n.bind("mouseleave",(function(e){_.isUndefined(t.nvState)&&"true"!==t.nvDisabled&&o.css(s)})),t.$watch("nvChangeIconColorGreen",(function(e,t){"true"===e?o.css(d):o.css(f)}))}}}]);t.nvMainTabIcon=i},function(e,t,n){"use strict";n(13),n(11),n(29),n(23),n(165),n(25),function(e){e&&e.__esModule}(n(242)),n(230),n(122),n(188),n(55),n(209),n(294),n(123),n(124),angular.module("main").controller("MainToolbarController",["$scope","jarvisService","gfeService","CHECK_FOR_UPDATE","eventAggregator","COMMON_EVENTS","dbCacheService","DB_NAMES","$log","hardwareService","preferencesService","toastService","updatesService","$filter","socketService","SHARE_SOCKET_EVENTS","$document","$timeout","REWARDS_EVENTS","$state","COMMON_HTTP_ERROR_CODES","PREFERENCES_EVENTS","DEFAULT_AVATAR","rewardsService","gfeSearchService","cevoToggleService","cevoService","preferencesFeatureService","FEATURES_NAME","USER_PROFILE_TAB_NAMES","productTourService","$q","COMMON_DEFAULT_STATES",function(e,t,n,r,i,o,a,l,s,c,u,d,f,m,p,g,v,h,b,y,E,S,_,w,A,T,I,C,x,D,M,O,R){function N(){var e=t.getLoggedInUser();e?(Y.displayName=e.core.displayName,Y.profileXP="─ ─",Y.profileTokens="─ ─",T.getAvatarStore().then((function(t){Y.avatar=a.getCachedUserItem(e.userId,t.storeName,t.key)}))):(Y.displayName=null,Y.avatar={url:_.URL}),h((function(){var e=angular.element(v[0].querySelector(".md-toolbar-tools")),t=angular.element(e[0].querySelector(".display-name"));Y.showTooltip=t[0].scrollWidth>t[0].offsetWidth}))}function L(){u.isShareFeatureSupportedOnSystem().then((function(e){Y.isShareSupported=e,Y.isShareSupported&&(Y.shareLoaded=u.shareAddonLoaded),X.info("isShareFeatureSupportedOnSystem response: ",Y.isShareSupported),i.trigger(o.SHARE_ICON_VIZ_UPDATED,!!Y.isShareSupported),P()})).catch((function(e){X.error("isShareFeatureSupported failed.")}))}function P(){C.isDriverUpdateRequiredForSupport(x.SHARE).then((function(e){Z=e,i.trigger(o.SHARE_ICON_VIZ_UPDATED,!!Z)}))}function k(){u.getShareRunningStatus().then((function(e){Y.isShareRunning=e})).catch((function(e){Y.isShareRunning=!1,Y.isShareButtonDisabled=!1,X.error("getShareRunningStatus failed.")}))}function G(e){X.info("onSysInfoUpdated ",e.DriverVersion),Y.gpuDriverVersion=e.DriverVersion,Y.driverless=e&&(!e.DriverVersion||""===e.DriverVersion),L()}function F(){d.showError({textContent:m("translate")("l10n.openShareFailure")})}function U(e){Y.isShareButtonDisabled=e,k()}function V(e){K=e,X.info("Setting rewards feature enabled to: ",K)}function z(e){Y.shareLoaded=JSON.parse(e.shareAddonLoaded),X.info("Share node addon loaded event status: ",Y.shareLoaded)}function B(){A.checkSearchAvailability().then((function(e){Y.searchEnabled=e}))}function $(e){Y.userProfileEnabled=e,Y.userProfileEnabled&&t.getLoggedInUser()?(Y.dropdownCollapseTimeout=J,I.getExtendedProfile().then((function(e){Y.profileXP=e.xp,Y.profileTokens=e.rewardTokens,Y.levelIcon=I.getLevelDetails(e.xplevel.level).icon}))):Y.dropdownCollapseTimeout=0}function W(){Y.isShareButtonClicked=!1,i.trigger(o.SHARE_OPEN_IN_PROGRESS,Y.isShareButtonClicked),u.showOnscreenOverlay(!0).then((function(e){X.info("showOnscreenOverlay status: ",e),d.cancel(),Y.isShareButtonDisabled=!1})).catch((function(e){X.error("showOnscreenOverlay failed."),F(),Y.isShareButtonDisabled=!1}))}function H(e){Y.isShareButtonDisabled=!1,Y.isShareRunning=!0,Y.isShareButtonClicked&&(X.info("socket event OSCREADY_UPDATE",e),e.ready?W():(X.info("OSC is not ready."),F()))}function j(e){d.showError({textContent:m("translate")(e),button:{text:m("translate")("l10n.learnMore"),action:w.openLearnMoreWindow}})}function q(){Y.userProfileEnabled?Y.displayUserProfile(D.REWARDS_TAB):y.go(R.REWARDS)}var Y=this,K=!1,Q=null,Z=!1;Y.driverless=!1,Y.isShareSupported=!0,Y.isShareButtonClicked=!0,Y.isShareButtonDisabled=!1,Y.isShareRunning=!1,Y.showTooltip=!1,Y.shareLoaded=!1,Y.defaultAvatarUrl=_.URL,Y.userProfileEnabled=!1,Y.dropdownCollapseTimeout=0,Y.gpuDriverVersion="";var X=s.getInstance("main/MainToolbarController"),J=500;c.getLaunchTimeSystemInfo().then((function(e){Y.driverless=e&&(!e.DriverVersion||""===e.DriverVersion),X.info("driverless:",Y.driverless)})).catch((function(e){X.error("failed to get systemInfo")})),Y.canShowShareIcon=function(){return Y.isShareSupported||Z},Y.showServerWarn=function(){return!1},Y.dismissServerWarn=function(){f.setServerWarn(!1)},Y.displayUserProfile=I.gotoUserProfile,Y.enableAndLaunchShare=function(){Z?C.showDriverUpdateToast():(Y.isShareButtonClicked=!0,Y.isShareButtonDisabled=!0,i.trigger(o.SHARE_OPEN_IN_PROGRESS,Y.isShareButtonClicked),u.getShareRunningStatus().then((function(e){X.info("getShareRunningStatus returned: ",e),e?(d.show({textContent:m("translate")("l10n.launchingShareToast"),showProgressIndicator:!0,hideDelay:2e3}),W()):u.toggleShareState(!0).then((function(e){X.info("Enabling Share, toggleShareState status: ",e),d.show({textContent:m("translate")("l10n.launchingShareToast"),showProgressIndicator:!0,hideDelay:2e3}),i.trigger(o.SHARE_STATUS_CHANGED)})).catch((function(e){X.error("toggleShareState failed."),i.trigger(o.SHARE_STATUS_CHANGED),F(),Y.isShareButtonClicked=!1,i.trigger(o.SHARE_OPEN_IN_PROGRESS,Y.isShareButtonClicked),Y.isShareButtonDisabled=!1}))})).catch((function(e){X.error("getShareRunningStatus failed."),Y.isShareButtonClicked=!1,i.trigger(o.SHARE_OPEN_IN_PROGRESS,Y.isShareButtonClicked),Y.isShareButtonDisabled=!1,Y.shareLoaded||e.status!==E.NOT_FOUND||C.handleShareNotReady(),Y.isShareRunning=!1})))},Y.onClickRedeem=function(e){if(!Q&&y.current.name!==R.REWARDS){var t=O.defer();Q=t.promise,d.showProgress({textContent:m("translate")("l10n.loading")}),w.getRewardsSupported()?!n.onlineState||n.onlineState&&!n.onlineState.online?(d.showOffline(),t.reject(),Q=null):K?(d.cancel(),q(),t.resolve(),Q=null):w.getRewardsEnabled().then((function(e){K=e,d.cancel(),q(),t.resolve()})).catch((function(){j("l10n.redeemOffline"),t.reject()})).finally((function(){Q=null})):(j("l10n.updateToRedeem"),t.reject(),Q=null)}},Y.onTourStepShown=function(){M.onStepShown()},e.$on("$stateChangeSuccess",(function(e,t,n,r,i){"main.auth.userProfile"===t.name?Y.userProfileActive=!0:Y.userProfileActive=!1})),i.on(S.NODE_ADDONS_FETCHED,z),i.on(o.LOGIN_STATUS_CHANGE,N),i.on(o.SYSTEMINFO_UPDATED,G),i.on(o.SHARE_STATUS_CHANGE_IN_PROGRESS,U),i.on(o.OSC_READY,H),i.on(b.FEATURE_STATUS_UPDATED,V),i.on(o.LOCALE_CHANGED,B),i.on(o.USER_PROFILE_STATUS_UPDATED,$),i.on(o.UNSUPPORTED_FEATURES_UPDATED,P),i.on(o.ONLINE,L),p.register(g.OSCREADY_UPDATE,o.OSC_READY),Y.logout=n.logout,Y.checkforUpdate={updateState:r},Y.devFeatures=a.getCachedGlobalItem(l.DEV_STORE,l.DEV_FEATURES),N(),L(),k(),B(),e.$on("$destroy",(function(){i.off(S.NODE_ADDONS_FETCHED,z),i.off(o.LOGIN_STATUS_CHANGE,N),i.off(o.SYSTEMINFO_UPDATED,G),i.off(o.OSC_READY,H),i.off(o.SHARE_STATUS_CHANGE_IN_PROGRESS,U),i.off(b.FEATURE_STATUS_UPDATED,V),i.off(o.LOCALE_CHANGED,B),i.off(o.USER_PROFILE_STATUS_UPDATED,$),i.off(o.ONLINE,L)}))}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvMainToolbar=void 0,n(408),n(407),n(615),n(510),n(649),n(366);var r=function(e){return e&&e.__esModule?e:{default:e}}(n(777));n(409);var i=angular.module("main").component("nvMainToolbar",{template:r.default,controller:"MainToolbarController",controllerAs:"mainToolbarCtrl"});t.nvMainToolbar=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvMain=t.ngMainModule=void 0;var r=n(187);n(220),n(410),n(353);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(778));n(406);var o=r.ngMainModule.component("nvMain",{bindings:{},template:i.default,controller:"MainController",controllerAs:"main"});t.ngMainModule=r.ngMainModule,t.nvMain=o},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.friendAboutController=void 0;var r=n(16);n(46);var i=r.ngFriendsModule.controller("FriendAboutController",["$state","$log","friendsService",function(e,t,r){var i=this,o=e.params.userId,a=r.getUserAbout(o),l=t.getInstance("main.friends/FriendAboutController");i.loadRatingImage=function(e){return n(326)("./"+e+".svg")},a.then((function(e){var t=e[0]||{general:{reputation:0}};i.userAboutGeneral=t.general,i.userAboutSpecification=t.specification,i.getArray=function(){i.userAboutGeneral.reputation=i.userAboutGeneral.reputation<0?0:i.userAboutGeneral.reputation,i.userAboutGeneral.reputation=i.userAboutGeneral.reputation>5?5:i.userAboutGeneral.reputation;for(var e=[],t=0;t<5;t++)e.push(t<i.userAboutGeneral.reputation?"gold":"gray");return e}}),(function(e){l.error("fetching user about failed with status: "+e.status)}))}]);t.friendAboutController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvFriendAbout=void 0;var r=n(16),i=function(e){return e&&e.__esModule?e:{default:e}}(n(788));n(434);var o=r.ngFriendsModule.directive("nvFriendAbout",(function(){return{restrict:"E",template:i.default,controller:"FriendAboutController",controllerAs:"friendAbout"}}));t.nvFriendAbout=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.friendAchievementsController=void 0;var r=n(16);n(46);var i=r.ngFriendsModule.controller("FriendAchievementsController",["$log","$state","friendsService",function(e,t,n){var r=t.params.userId,i=n.getUserAchievements(r),o=this,a=e.getInstance("main.friends/FriendAchievementsController"),l=function(e){return o.userAchievements=e,o};i.then((function(e){var t=e[0]?e[0].achievements:[];l(t)}),(function(e){a.error("fetching user achievements failed with status: "+e.status),l([{}])}))}]);t.friendAchievementsController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvFriendAchievements=void 0;var r=n(16),i=function(e){return e&&e.__esModule?e:{default:e}}(n(789));n(436);var o=r.ngFriendsModule.directive("nvFriendAchievements",(function(){return{restrict:"E",template:i.default,controller:"FriendAchievementsController",controllerAs:"vm"}}));t.nvFriendAchievements=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.friendActivityFeedController=void 0;var r=n(16).ngFriendsModule.controller("FriendActivityFeedController",[function(){}]);t.friendActivityFeedController=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvFriendActivityFeed=void 0;var r=n(16),i=function(e){return e&&e.__esModule?e:{default:e}}(n(790));n(438);var o=r.ngFriendsModule.directive("nvFriendActivityFeed",(function(){return{restrict:"E",template:i.default,controller:"FriendActivityFeedController",controllerAs:"friendActivityFeed"}}));t.nvFriendActivityFeed=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.friendBroadcastController=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),i=n(16);n(46),n(233),n(37);var o=i.ngFriendsModule.controller("FriendBroadcastController",["$state","friendsService","shareService","localStorage",function(e,t,n,i){function o(){t.getUser(e.params.userId).then((function(e){l.selectedUser=e;var t=r.chain(e.statuses).filter((function(e){return"broadcasting"===e.activity})).sortBy((function(e){return e.data.portal===a?0:1})).value();t.length>0?(l.broadcastStatus=t[0],l.view="broadcast",l.translateInterpolation.displayName=l.broadcastStatus.data.game.displayName):(l.broadcastStatus=null,l.view="image")}))}var a,l=this;l.view="image",l.translateInterpolation={},i.get("commonPreferredPortal").then((function(e){a=e.commonPreferredPortal,o()})),l.watchBroadcast=function(){n.watchBroadcast(e.params.userId)}}]);t.friendBroadcastController=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvFriendBroadcast=void 0;var r=n(16);n(15);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(791));n(440);var o=r.ngFriendsModule.directive("nvFriendBroadcast",(function(){return{restrict:"E",template:i.default,controller:"FriendBroadcastController",controllerAs:"friendBroadcast"}}));t.nvFriendBroadcast=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.friendCompareGamesController=void 0;var r=n(16).ngFriendsModule.controller("FriendCompareGamesController",[function(){}]);t.friendCompareGamesController=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvFriendCompareGames=void 0;var r=n(16),i=function(e){return e&&e.__esModule?e:{default:e}}(n(792));n(442);var o=r.ngFriendsModule.directive("nvFriendCompareGames",(function(){return{restrict:"E",template:i.default,controller:"FriendCompareGamesController",controllerAs:"friendCompareGames"}}));t.nvFriendCompareGames=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.friendDetailsController=void 0;var r=n(16);n(46);var i=r.ngFriendsModule.controller("FriendDetailsController",["$log","$stateParams","friendsService",function(e,t,n){var r=this;r.friendTitle="friendTitle",e.getInstance("main.friends/FriendDetailsController"),r.user={userId:t.userId},n.getUser(r.user.userId).then((function(e){r.user=e}))}]);t.friendDetailsController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvFriendDetails=void 0;var r=n(16);n(441),n(447),n(443),n(437),n(439),n(435),n(451),n(449);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(793));n(444);var o=r.ngFriendsModule.directive("nvFriendDetails",(function(){return{restrict:"E",scope:{},template:i.default,controller:"FriendDetailsController",controllerAs:"friendDetails"}}));t.nvFriendDetails=o},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.friendGameSummaryController=void 0;var i=r(n(950)),o=r(n(951)),a=r(n(3)),l=n(16);n(46);var s=l.ngFriendsModule.controller("FriendGameSummaryController",["$state","$filter","friendsService","FRIENDS_MAX_GENRES","FRIENDS_CHART_COLORS",function(e,t,n,r,l){var s,c=this,u="other";c.rectColor=function(e){return{"background-color":l[e]}},c.showChart=function(){return s>0},c.translateInterpolation=function(){return{numGames:s}},n.getUserGames(e.params.userId).then((function(e){var n,d=1;c.data=a.chain(e).groupBy((function(e){return e.genre&&""!==e.genre||(e.genre=u),e.genre})).map((function(e,t){return e})).sortBy((function(e){return-e.length})).tap((function(e){n=e.length})).groupBy((function(e,t){return e[0].genre===u&&(d=0),n>r&&t>=r-d?u:e[0].genre})).map((function(e,n){var r=a.flatten(e);return{label:t("translate")("l10n.genre."+n),value:r.length,data:r}})).value(),s=e.length,o.addGraph((function(){var e=o.models.pieChart().x((function(e){return e.label})).y((function(e){return e.value})).color(l).showLegend(!1).showLabels(!1).donut(!0).donutRatio(.6).valueFormat(i.format(",.0d"));return i.select("#donut-chart svg").datum(c.data).transition().duration(1200).call(e).style({"stoke-width":"9px"}),e}))}))}]);t.friendGameSummaryController=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvFriendGameSummary=void 0;var r=n(16);n(207);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(794));n(446);var o=r.ngFriendsModule.directive("nvFriendGameSummary",(function(){return{restrict:"E",template:i.default,controller:"FriendGameSummaryController",controllerAs:"friendGameSummary"}}));t.nvFriendGameSummary=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.friendGroupListController=void 0;var r=n(16);n(46);var i=r.ngFriendsModule.controller("FriendGroupListController",["friendsService","$scope",function(e,t){var n=this;n.groupList=[],t.nvUserId?e.getUserGroups(t.nvUserId).then((function(e){n.groupList=e})):n.groupList=[]}]);t.friendGroupListController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvFriendGroupList=void 0;var i=n(16);n(35);var o=r(n(796)),a=r(n(795));n(448);var l=i.ngFriendsModule.directive("nvFriendGroupList",[function(){return{restrict:"E",scope:{nvUserId:"@"},template:function(e,t){return"grid"===t.nvType?a.default:o.default},controller:"FriendGroupListController",controllerAs:"groups"}}]);t.nvFriendGroupList=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.friendListController=void 0;var r=n(16);n(46),n(221),n(233),n(37);var i=r.ngFriendsModule.controller("FriendListController",["$scope","friendsService","friendsUtilityService","shareService","localStorage","FRIENDS_DEFAULTS",function(e,t,n,r,i,o){function a(){t.getUserFriends(e.nvUserId).then((function(e){d.friendList=e}))}function l(e){return e?e.core.displayName:""}function s(e){if(e.statuses.length>0){if("broadcasting"===e.statuses[0].activity)return 0;if("playing"===e.statuses[0].activity)return 1;if("online"===e.statuses[0].activity)return 2}return 3}function c(){d.sort="activity"===f?s:l}function u(){d.filter=function(e,t,r){var i=!1;return angular.forEach(m[d.filterType],(function(t,r){n.getStatus(e).activity!==t||(i=!0)})),i}}var d=this,f="",m={all:["broadcasting","playing","online","offline"],online:["broadcasting","online","playing"],broadcasting:["broadcasting"],playing:["broadcasting","playing"],offline:["offline"]};i.get({friendsSortType:o.SORT,friendsFilterType:o.FILTER}).then((function(e){f=e.friendsSortType,d.filterType=e.friendsFilterType,c(),u(),a()})),d.showWatchBroadcast=function(e){return"broadcasting"===n.getStatus(e).activity},d.showAskToPlay=function(e){var t=n.getStatus(e).activity;return"broadcasting"===t||"playing"===t},d.showChat=function(e){return"offline"!==n.getStatus(e).activity},d.watchBroadcast=function(e){r.watchBroadcast(e)},d.offlineClass=function(e){return"offline"===n.getStatus(e).activity?"darkened":""},d.askToPlay=function(e){r.askToPlay(e)},d.setSort=function(e){f=e,i.set({friendsSortType:f}),c()},d.matchSort=function(e){return f===e},d.setFilter=function(e){d.filterType=e,i.set({friendsFilterType:d.filterType}),u()},d.matchFilter=function(e){return d.filterType===e},d.getActivityString=n.getActivityString,d.getActivityDynamicValues=n.getActivityDynamicValues}]);t.friendListController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvFriendList=void 0;var i=n(16);n(115),n(219),n(398),n(35);var o=r(n(798)),a=r(n(797));n(450);var l=i.ngFriendsModule.directive("nvFriendList",[function(){return{restrict:"E",scope:{nvUserId:"@"},template:function(e,t){return"grid"===t.nvType?a.default:o.default},controller:"FriendListController",controllerAs:"friends"}}]);t.nvFriendList=l},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvGalleryLibrary=void 0;var r=n(30);n(461);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(801)),o=r.ngGalleryModule.directive("nvGalleryLibrary",(function(){return{restrict:"E",template:i.default}}));t.nvGalleryLibrary=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvGalleryMain=void 0;var r=n(30);n(459),n(464);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(802)),o=r.ngGalleryModule.directive("nvGalleryMain",(function(){return{restrict:"E",template:i.default}}));t.nvGalleryMain=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.galleryMomentsController=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(56)),i=n(30);n(299);var o=i.ngGalleryModule.controller("GalleryMomentsController",["galleryService","$filter","GAME_FILE_TYPE",function(e,t,n){var i=this;i.galleryList=[],i.sortPredicate="modifiedTime",i.sortReverse=!0,i.filterObj={},i.fileType=n,e.getGalleryItems().then((function(e){i.galleryList=t("orderBy")(e,i.sortPredicate,i.sortReverse)})),i.sortGalleryList=function(e,n){i.sortPredicate=e,i.sortReverse=n,i.galleryList=t("orderBy")(i.galleryList,e,n)},i.isSortType=function(e){return e===i.sortPredicate},i.setFilterType=function(e){i.filterObj=e},i.isFilterType=function(e){if("all"===e){if(0===(0,r.default)(i.filterObj).length)return!0}else if(i.filterObj.fileType===e)return!0;return!1}}]);t.galleryMomentsController=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvGalleryMoments=void 0;var r=n(30);n(115),n(456),n(462),n(469);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(803));n(458);var o=r.ngGalleryModule.directive("nvGalleryMoments",(function(){return{restrict:"E",template:i.default,controller:"GalleryMomentsController",controllerAs:"galleryMoments"}}));t.nvGalleryMoments=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.galleryPanelController=void 0;var r=n(30).ngGalleryModule.controller("GalleryPanelController",["$scope","$filter","eventAggregator","COMMON_EVENTS",function(e,t,n,r){function i(){e.$apply()}var o=this;o.galleryFolder=e.nvGalleryFolder,o.isExpanded=!1,o.showMediaInfo=!1,o.tileLimit=e.nvTileLimit,o.filteredObj={},o.filterObj=function(){angular.isDefined(o.galleryFolder)&&(o.filteredObj=t("filter")(o.galleryFolder.files,e.nvFilterObject))},o.filterObj(),o.setMediaInfoVisible=function(e){o.showMediaInfo=e},o.isFolderEmpty=function(){return 0===o.filteredObj.length},o.tilesRemaining=function(){return o.filteredObj.length-o.tileLimit},o.showExpandInfo=function(){return o.showMediaInfo&&o.tilesRemaining()>0};var a=function(){o.isExpanded?o.limitTo=o.filteredObj.length:o.limitTo=o.tileLimit};o.showMoreTiles=function(){o.isExpanded=!o.isExpanded,a()},e.$watch("nvTileLimit",(function(){o.tileLimit=e.nvTileLimit,a()})),e.$watch("nvFilterObject",(function(){o.filterObj(),a()})),e.$on("$destroy",(function(){n.off(r.WINDOW_RESIZE,i)})),n.on(r.WINDOW_RESIZE,i)}]);t.galleryPanelController=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvGalleryPanel=void 0;var r=n(30);n(468);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(804));n(460);var o=r.ngGalleryModule.directive("nvGalleryPanel",["$timeout","eventAggregator","COMMON_EVENTS",function(e,t,n){return{restrict:"E",scope:{nvGalleryFolder:"=",nvFilterObject:"=",nvTileLimit:"="},template:i.default,link:function(r,i,o){var a=angular.element(i.children()[0]);i.on("mouseenter",(function(e){a.addClass("md-primary md-hue-3 focused")})),i.on("mouseleave",(function(e){a.removeClass("md-primary md-hue-3 focused")}));var l=0,s=function(){var e=i.find("div")[0].clientWidth;r.nvTileLimit=Math.floor(e/l)};e((function(){(function(){var e=i.find("nv-gallery-tile")[0];e&&(l=e.getBoundingClientRect().width)})(),s()})),r.$on("$destroy",(function(){t.off(n.WINDOW_RESIZE,s)})),t.on(n.WINDOW_RESIZE,s)},controller:"GalleryPanelController",controllerAs:"galleryPanel"}}]);t.nvGalleryPanel=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvGalleryPreview=void 0;var r=n(30),i=function(e){return e&&e.__esModule?e:{default:e}}(n(805)),o=r.ngGalleryModule.directive("nvGalleryPreview",(function(){return{restrict:"E",template:i.default}}));t.nvGalleryPreview=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.galleryShowcaseController=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),i=n(30);n(299),n(13);var o=i.ngGalleryModule.controller("GalleryShowcaseController",["galleryService","$filter","jarvisService","SHOWCASE_ORIGIN","$log",function(e,t,n,i,o){var a=this,l=n.getLoggedInUser();a.sortPredicate="snippet.publishedAt",a.sortReverse=!0;var s=o.getInstance("main.gallery/GalleryShowcaseController");a.galleryShowcaseList=[],l&&e.getGalleryShowcaseItems(l.userId).then((function(n){var o;angular.isDefined(n)&&(o={id:r.pluck(n.files,"originalId").join(",")},e.listVideos(o).then((function(e){r.each(e.items,(function(e){e.origin=i.YOUTUBE})),a.galleryShowcaseList=e.items,a.galleryShowcaseList=t("orderBy")(a.galleryShowcaseList,a.sortPredicate,a.sortReverse)}),(function(e){s.error("galleryService.listVideos failed: "+e)})))}),(function(e){s.error("galleryService.getGalleryShowcaseItems failed: "+e)})),a.sortShowcaseList=function(e,n){a.sortPredicate=e,a.sortReverse=n,a.galleryShowcaseList=t("orderBy")(a.galleryShowcaseList,e,n)},a.isSortType=function(e){return e===a.sortPredicate}}]);t.galleryShowcaseController=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvGalleryShowcase=void 0;var r=n(30);n(115),n(466);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(806));n(463);var o=r.ngGalleryModule.directive("nvGalleryShowcase",(function(){return{restrict:"E",template:i.default,controller:"GalleryShowcaseController",controllerAs:"galleryShowcase"}}));t.nvGalleryShowcase=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.galleryShowcaseTileController=void 0;var r=n(30).ngGalleryModule.controller("GalleryShowcaseTileController",["$scope",function(e){var t=this;t.overlayVisible=!1,t.buttonsVisible=!1,t.showcaseItem=e.nvGalleryShowcaseItem,t.showOverlay=function(){return t.overlayVisible?"":"no-background"},t.showButtons=function(){return t.buttonsVisible?"":"invisible"},t.mouseHover=function(e){t.overlayVisible=e,t.buttonsVisible=e}}]);t.galleryShowcaseTileController=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvGalleryShowcaseTile=void 0;var r=n(30);n(15),n(35);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(807));n(465);var o=r.ngGalleryModule.directive("nvGalleryShowcaseTile",(function(){return{restrict:"E",scope:{nvGalleryShowcaseItem:"="},template:i.default,controller:"GalleryShowcaseTileController",controllerAs:"galleryShowcaseTile"}}));t.nvGalleryShowcaseTile=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.galleryTileController=void 0;var r=n(30);n(300),n(216);var i=r.ngGalleryModule.controller("GalleryTileController",["$scope","GAME_FILE_TYPE","$log","mediaDialogService",function(e,t,n,r){var i=this;i.galleryFile=e.nvGalleryFile,i.overlayVisible=!1,i.buttonsVisible=!1,n.getInstance("main.gallery/GalleryTileController"),i.isImage=function(e){return e===t.IMAGE},i.isVideo=function(e){return e===t.VIDEO},i.previewMedia=function(e){var n=r.customPreset().toolbarHtml("<nv-media-preview-toolbar></nv-media-preview-toolbar>").event(e);i.galleryFile.fileType===t.IMAGE?n=n.image(i.galleryFile.filePath):i.galleryFile.fileType===t.VIDEO&&(n=n.video({source:i.galleryFile.filePath})),r.show(n)},i.showOverlay=function(){return i.overlayVisible?"":"no-background"},i.showButtons=function(){return i.buttonsVisible?"":"invisible"},i.mouseHover=function(e){i.overlayVisible=e,i.buttonsVisible=e},i.editMedia=function(e){return e.stopPropagation(),!1},i.shareMedia=function(){return!1},i.deleteMedia=function(){return!1},i.mediaDetail=function(){return!1}}]);t.galleryTileController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvGalleryTile=void 0;var r=n(30);n(15),n(35);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(808));n(467);var o=r.ngGalleryModule.directive("nvGalleryTile",(function(){return{restrict:"E",scope:{nvGalleryFile:"="},template:i.default,controller:"GalleryTileController",controllerAs:"galleryTile"}}));t.nvGalleryTile=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvGalleryTimeline=void 0;var r=n(30),i=function(e){return e&&e.__esModule?e:{default:e}}(n(809)),o=r.ngGalleryModule.directive("nvGalleryTimeline",(function(){return{restrict:"E",template:i.default}}));t.nvGalleryTimeline=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvClassicGameList=void 0;var r=n(14);n(11),n(13),n(115),n(219),n(15),n(134),n(222),n(35),n(42),n(301);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(811));n(302);var o=r.ngGamesModule.directive("nvClassicGameList",["eventAggregator","COMMON_GAME_EVENTS","$log","$document",function(e,t,n,r){return{restrict:"E",scope:{nvUserId:"@",nvSelectedGameId:"="},template:i.default,controller:"GameListController",controllerAs:"games",link:function(i,o,a,l){function s(e){this.removeClass(e?"constants-display-none":"constants-display-flex").addClass(e?"constants-display-flex":"constants-display-none")}function c(e){var t=e.topIndex>0,n=Math.ceil(u.offsetHeight/34),r=e.topIndex+n!==e.gamesCount;s.call(d,t),s.call(f,r)}var u=o[0].querySelector(".games-classic-game-list-items-container"),d=angular.element(o[0].querySelector(".classic-game-list-top-gradient")),f=angular.element(o[0].querySelector(".classic-game-list-bottom-gradient"));n.getInstance("main.gamesClassicGameListDirective"),i.$on("$destroy",(function(){u&&e.off(t.GAME_LIST_TOP_INDEX_CHANGED,c),u=null,d=null,f=null,o.empty(),o.remove(),o=null})),o.on("$destroy",(function(){i.$destroy()})),u&&e.on(t.GAME_LIST_TOP_INDEX_CHANGED,c),l.showTooltip=function(e,t){var n=angular.element(r[0].querySelector("#"+t+e));return!(!n||!n[0])&&n[0].scrollWidth>n[0].offsetWidth}}}}]);t.nvClassicGameList=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.customFpsController=void 0;var r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(3)),n(14));n(17),n(378);var i=r.ngGamesModule.controller("CustomFpsController",["$scope","$log","$document","$window","$mdDialog","$filter","SETTING_TYPE","eventAggregator","toastService","COMMON_GAME_EVENTS","COMMON_EVENTS",function(e,t,n,r,i,o,a,l,s,c,u){function d(){s.showError({textContent:o("translate")("l10n.unableToUpdateGameSettings")})}function f(){var e=angular.element(n[0].querySelector(".games-custom-fps"));S=angular.element(e[0].querySelector(".md-track-container")),b=angular.element(e[0].querySelector(".optimal-button-container")),y=angular.element(e[0].querySelector(".optimal-value-button")),E=angular.element(e[0].querySelector(".optimal-line-indicator"));var t=angular.element(n[0].querySelector(".games-game-optimization"))[0],i=r.getComputedStyle(t).getPropertyValue("margin-left"),o=r.getComputedStyle(t).getPropertyValue("margin-top"),a=angular.element(n[0].querySelector(".common-main-toolbar"))[0].offsetHeight,l=angular.element(n[0].querySelector(".game-details-toolbar"))[0].offsetHeight,s=0,c=0;if(h.nvClassicViewEnabled){c=a+angular.element(n[0].querySelector(".games-classic-game-list")).find("md-toolbar")[0].offsetHeight+l+parseInt(o)+"px",e.css("top",c);var u=angular.element(n[0].querySelector(".games-classic-game-list-container"))[0];s="calc("+t.offsetWidth/2+"px + "+u.offsetWidth+"px + "+i+" - "+e[0].offsetWidth/2+"px)",e.css("left",s)}else c=a+l+parseInt(o)+"px",e.css("top",c),s="calc("+t.offsetWidth/2+"px + "+i+" - "+e[0].offsetWidth/2+"px)",e.css("left",s)}function m(){if(null===h.optimalSliderIndex||0===h.maxFpsIndex||null===S)b.addClass("hidden");else{var e=S[0].clientWidth/(h.maxFpsIndex-h.minFpsIndex),t=(h.optimalSliderIndex-h.minFpsIndex)*e+33,n=t-y[0].offsetWidth/2;n<0?n=0:n+y[0].offsetWidth>452&&(n=452-y[0].offsetWidth),y.css("left",Math.round(n)+"px"),E.css("left",Math.round(t)+"px"),b.removeClass("hidden")}}function p(){_.info("selected game changed for game ",h.nvSystemGame.shortName),h.cancelCustomFps()}function g(){f(),m()}var v,h=this,b=null,y=null,E=null,S=null,_=t.getInstance("main.games/CustomFpsController");h.showProgressIndicator=!1,h.controlDisabled=!0,h.applyButtonDisabled=!0,h.sliderStep=5,h.showErrorMessage=!0,_.info("open custom fps dialog for game ",h.nvSystemGame.shortName),h.isCurrentSettingTypeAC=function(){return h.nvCurrentSettingType===a.SETTING_AC},h.applyCustomFps=function(){h.showProgressIndicator=!0,_.info("applying custom fps for game",h.nvSystemGame.shortName),h.isCurrentSettingTypeAC()?h.nvSystemGame.setQuietModeFRLState(h.currentFpsSliderIndex).then((function(){})).catch((function(e){d()})).finally((function(){h.showProgressIndicator=!1,i.hide()})):h.nvSystemGame.setBatteryBoostFRLState(h.currentFpsSliderIndex).then((function(){})).catch((function(e){d()})).finally((function(){h.showProgressIndicator=!1,i.hide()}))},h.cancelCustomFps=function(){_.info("leaving custom fps dialog for game ",h.nvSystemGame.shortName),i.cancel()},h.applyOptimalValue=function(){_.info("leaving whisper mode fps with slider index ",h.optimalSliderIndex),h.currentFpsSliderIndex=h.optimalSliderIndex,h.currentFpsSliderChanged()},h.currentFpsSliderChanged=function(){h.applyButtonDisabled=!1},n.ready((function(){_.info("whisper mode fps document ready for game ",h.nvSystemGame.shortName),f(),h.isCurrentSettingTypeAC()?(h.maxFpsIndex=120,h.minFpsIndex=30,h.nvSystemGame.getQuietModeFRLState().then((function(e){h.optimalSliderIndex=e.data.defValue,h.currentFpsSliderIndex=e.data.value,h.showProgressIndicator=!1,h.controlDisabled=!1,m()})).catch((function(e){_.info("Not able to retrive QuiteMode FRL state for game",h.nvSystemGame.shortName),h.showProgressIndicator=!1,h.showErrorMessage=!0}))):(h.maxFpsIndex=60,h.minFpsIndex=30,h.nvSystemGame.getBatteryBoostFRLState().then((function(e){h.optimalSliderIndex=e.data.defValue,h.currentFpsSliderIndex=e.data.value,h.showProgressIndicator=!1,h.controlDisabled=!1,m()})).catch((function(e){_.info("Not able to retrive BatteryBoost FRL state for game",h.nvSystemGame.shortName),h.showProgressIndicator=!1,h.showErrorMessage=!0}))),function(){var e=angular.element(n[0].querySelector(".game-setting-list-container")),t=angular.element(n[0].querySelector(".games-classic-game-list-container")),r=angular.element(n[0].querySelector(".game-details-toolbar")),i=angular.element(n.find("nv-feedback-float"));e.addClass("constants-z-layers-modal-plus-three"),t.addClass("constants-z-layers-modal-plus-three"),r.addClass("constants-z-layers-modal-plus-three"),i.addClass("constants-z-layers-modal-plus-three")}()})),v=e.$on("$stateChangeStart",(function(e,t,n,r,i){_.info("state changed in custom fps dialog for game ",h.nvSystemGame.shortName),h.cancelCustomFps()})),e.$on("$destroy",(function(){_.info("Destroying custom fps dialog"),l.off(u.WINDOW_RESIZE,g),l.off(c.SELECTED_GAME_CHANGED,p),v()})),_.info("Initializing custom fps dialog"),l.on(u.WINDOW_RESIZE,g),l.on(c.SELECTED_GAME_CHANGED,p),h.showProgressIndicator=!0,h.isCurrentSettingTypeAC()?h.fpsDlgHeader="l10n.frameRateWhisperMode":h.fpsDlgHeader="l10n.frameRateBatteryBoost"}]);t.customFpsController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.customOpsController=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),i=n(14);n(17);var o=i.ngGamesModule.controller("CustomOpsController",["$scope","$log","$filter","$document","$window","CUSTOM_OPS_CALLBACK_ACTION","$mdDialog","SETTING_TYPE","ASPECT_RATIO","eventAggregator","COMMON_GAME_EVENTS","GAME_EVENTS","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","COMMON_EVENTS","toastService","quietModeService","PERFORMANCE_MODES",function(e,t,n,i,o,a,l,s,c,u,d,f,m,p,g,v,h,b){function y(){v.showError({textContent:n("translate")("l10n.unableToUpdateGameSettings")})}function E(){var e=angular.element(i[0].querySelector(".games-custom-ops"));k=angular.element(e[0].querySelector(".optimal-button-container")),G=angular.element(e[0].querySelector(".optimal-value-button")),F=angular.element(e[0].querySelector(".optimal-line-indicator"));var t=angular.element(i[0].querySelector(".games-game-optimization"))[0],n=o.getComputedStyle(t).getPropertyValue("margin-left"),r=o.getComputedStyle(t).getPropertyValue("margin-top"),a=angular.element(i[0].querySelector(".common-main-toolbar"))[0].offsetHeight,l=angular.element(i[0].querySelector(".game-details-toolbar"))[0].offsetHeight,s=0,c=0;if(L.nvClassicViewEnabled){c=a+angular.element(i[0].querySelector(".games-classic-game-list")).find("md-toolbar")[0].offsetHeight+l+parseInt(r)+"px",e.css("top",c);var u=angular.element(i[0].querySelector(".games-classic-game-list-container"))[0];s="calc("+t.offsetWidth/2+"px + "+u.offsetWidth+"px + "+n+" - "+e[0].offsetWidth/2+"px)",e.css("left",s)}else c=a+l+parseInt(r)+"px",e.css("top",c),s="calc("+t.offsetWidth/2+"px + "+n+" - "+e[0].offsetWidth/2+"px)",e.css("left",s)}function S(){if(null===L.optimalSliderIndex||0===L.maxIndex)k.addClass("hidden");else{var e=U[0].clientWidth/(L.maxIndex-W),t=L.optimalSliderIndex*e+33,n=t-G[0].offsetWidth/2;n<0?n=0:n+G[0].offsetWidth>452&&(n=452-G[0].offsetWidth),G.css("left",Math.round(n)+"px"),F.css("left",Math.round(t)+"px"),k.removeClass("hidden")}}function _(){if(r.isNull(z)||z.clearRect(0,0,$,B.height),U){B=U[0].getBoundingClientRect(),$=B.width<384?384:B.width;var e=Math.floor((L.maxIndex-W)/1);z=V[0].getContext("2d"),V[0].width=$,V[0].height=B.height;for(var t,n=0;n<=e;n++)t=Math.round($*(n/e)),z.fillStyle="#FFFFFF",z.fillRect(t-1,0,2,B.height)}}function w(t){var n;Y.info("handle settingsSpace update for game ",L.nvSystemGame.shortName),L.showErrorMessage=!1,L.customSettings=t,L.maxIndex=L.customSettings.settings.length-1,L.optimalSliderIndex=null,n=L.nvCurrentSettingType===s.SETTING_AC?L.customSettings.recommendationAC:L.customSettings.recommendationDC,angular.isDefined(n)&&(L.optimalSliderIndex=n.recommendedIndex),S(),_(),e.$applyAsync((function(){H?L.currentSliderIndex>L.maxIndex?L.currentSliderIndex=0:L.restoreOptimalSliderPosition&&(L.optimalSliderIndex&&(L.currentSliderIndex=L.optimalSliderIndex),L.restoreOptimalSliderPosition=!1):(H=!0,null===L.optimalSliderIndex?L.currentSliderIndex=0:L.currentSliderIndex=L.optimalSliderIndex,L.OpsTweakPosition&&(L.currentSliderIndex=L.OpsTweakPosition.settingsIndex)),L.currentSliderChanged(),L.showProgressIndicator=!1,L.controlDisabled=!1}))}function A(e){Y.info("settingsSpace failed for game ",L.nvSystemGame.shortName),L.showProgressIndicator=!1,L.showErrorMessage=!0}function T(){L.selectedDisplayMode&&L.selectedResolution&&(Y.info("get custom settings for game ",L.nvSystemGame.shortName),L.controlDisabled=!0,j&&(j.cancel(),j=null),(j=L.nvSystemGame.getSettingsSpace(L.selectedResolution,L.selectedDisplayMode.name)).then(w).catch(A).finally((function(){j=null})))}function I(){Y.info("refresh custom settings for game ",L.nvSystemGame.shortName);var e,t=L.nvSystemGame.getSliderSettings();t?(e=L.nvCurrentSettingType===s.SETTING_AC?t.AC:t.DC,L.resolutions=e.resolution.values,L.resolutionRecommended=L.resolutions[e.resolution.recommended],L.displayModes=e.displayMode.values,L.displayModeRecommended=L.displayModes[e.displayMode.recommended],L.nvCurrentSettingType===s.SETTING_AC?L.OpsTweakPosition=L.nvSystemGame.getOpsPositionAC():L.OpsTweakPosition=L.nvSystemGame.getOpsPositionDC(),L.OpsTweakPosition?(L.selectedDisplayMode=L.OpsTweakPosition.tweak.displayMode,L.selectedResolution=n("filter")(L.resolutions,{value:L.OpsTweakPosition.tweak.resolution})[0]):(L.selectedDisplayMode=L.displayModes[e.displayMode.recommended],L.selectedResolution=L.resolutions[e.resolution.recommended]),function(e){L.displayModes=L.nvGameSettingsTranslationData[e].values,L.displayModeRecommended=L.displayModes[L.displayModeRecommended],L.selectedDisplayMode=L.displayModes[L.selectedDisplayMode]}(e.displayMode.settingName),L.groupResolutions(),T()):Y.error("getSliderSettings empty for game id "+L.nvSystemGame.id)}function C(e,t,n,r){var i=e/n,o=n*i,a=r*i,l=.07*o,s=.07*a;return e>=o-l&&e<=o+l&&t>=a-s&&t<=a+s}function x(e,t,n,r){if(e%n==0){var i=e/n;if(t%i==0&&t/i===r)return!0}return!1}function D(e,t,n){return n?c.HYPERSAMPLE:x(e,t,16,10)?c.WIDE_16_10:x(e,t,16,9)?c.WIDE_16_9:x(e,t,4,3)?c.STANDARD_4_3:x(e,t,5,4)?c.STANDARD_5_4:C(e,t,16,9)?c.WIDE_16_9:C(e,t,16,10)?c.WIDE_16_10:c.CUSTOM}function M(e){e.id===L.nvSystemGame.id&&(Y.info("state update for game ",L.nvSystemGame.shortName),I())}function O(){Y.info("selected game changed for game ",L.nvSystemGame.shortName),L.cancelCustomSettings()}function R(){_(),E(),S()}var N,L=this,P=null,k=null,G=null,F=null,U=null,V=null,z=null,B={},$=0,W=0,H=!1,j=null,q=!1,Y=t.getInstance("main.games/CustomOpsController");L.showProgressIndicator=!1,L.controlDisabled=!0,L.customSettings=null,L.maxIndex=0,L.applyButtonDisabled=!1,L.selectedResolution=null,L.resolutionRecommended=null,L.resolutions=[],L.selectedDisplayMode=null,L.displayModeRecommended=null,L.displayModes=[],L.currentSliderIndex=0,L.optimalSliderIndex=null,L.OpsTweakPosition=null,L.showErrorMessage=!1,L.restoreOptimalSliderPosition=!1,Y.info("open custom ops for game ",L.nvSystemGame.shortName),L.getHeading=function(){return L.nvCurrentSettingType===s.SETTING_AC?L.nvAceSupported?L.nvPoweMode===b.QUIET?"l10n.customSettingsQuietMode":L.nvPoweMode===b.MAX_P?"l10n.customSettingsPerformanceMode":L.nvDesktopMode?"l10n.usingCustomSettings":"l10n.customSettingsPluggedIn":q?"l10n.customSettingsQuietMode":L.nvDesktopMode?"l10n.usingCustomSettings":"l10n.customSettingsPluggedIn":"l10n.customSettingsOnBattery"},L.isCurrentSettingTypeAC=function(){return L.nvCurrentSettingType===s.SETTING_AC},L.applyCustomSettings=function(){if(L.showProgressIndicator=!0,Y.info("applying custom ops for game",L.nvSystemGame.shortName),u.off(f.GAMESTATE_UPDATED,M),L.nvCurrentSettingType===s.SETTING_AC){var e=m.startView(p.GAMEOPTIMIZATIONS_OPTIMIZE_TIME_CUSTOM_OPS);L.nvSystemGame.customizeAC(L.selectedResolution.value,L.selectedDisplayMode.name,L.currentSliderIndex).then((function(){m.push(p.GAMEOPTIMIZATIONS_APPLIED_CUSTOM_OPS,L.nvSystemGame.shortName),m.endView(p.GAMEOPTIMIZATIONS_OPTIMIZE_TIME_CUSTOM_OPS,e)})).catch((function(e){y(),m.push(p.GAMEOPTIMIZATIONS_APPLY_CUSTOM_OPS_FAILED,L.nvSystemGame.shortName)})).finally((function(){L.showProgressIndicator=!1,l.hide()}))}else{var t=m.startView(p.GAMEOPTIMIZATIONS_OPTIMIZE_TIME_CUSTOM_BOPS);L.nvSystemGame.customizeDC(L.selectedResolution.value,L.selectedDisplayMode.name,L.currentSliderIndex).then((function(){m.push(p.GAMEOPTIMIZATIONS_APPLIED_CUSTOM_BOPS,L.nvSystemGame.shortName),m.endView(p.GAMEOPTIMIZATIONS_OPTIMIZE_TIME_CUSTOM_BOPS,t)})).catch((function(e){y(),m.push(p.GAMEOPTIMIZATIONS_APPLY_CUSTOM_BOPS_FAILED,L.nvSystemGame.shortName)})).finally((function(){L.showProgressIndicator=!1,l.hide()}))}},L.cancelCustomSettings=function(){Y.info("leaving custom ops for game ",L.nvSystemGame.shortName),l.cancel()},L.applyOptimalValue=function(){Y.info("leaving optimal ops with slider index ",L.optimalSliderIndex),L.currentSliderIndex=L.optimalSliderIndex,L.currentSliderChanged()},L.isResolutionDisabled=function(){return L.resolutions.length<=1||L.controlDisabled},L.isDisplayModeDisabled=function(){return L.displayModes.length<=1||L.controlDisabled},L.getDisplayModeString=function(e){return e.name===L.displayModeRecommended.name?n("translate")("l10n.recommended",{string:e.translation}):e.translation},L.getResolutionString=function(e){return e.value===L.resolutionRecommended.value?n("translate")("l10n.recommended",{string:e.value}):e.value},L.resolutionOrDisplayModeChanged=function(){L.currentSliderIndex===L.optimalSliderIndex&&(L.restoreOptimalSliderPosition=!0),T()},L.currentSliderChanged=function(){L.nvCustomSettingsCallback&&L.customSettings?L.OpsTweakPosition&&L.OpsTweakPosition.tweak.displayMode===L.selectedDisplayMode.name&&L.OpsTweakPosition.tweak.resolution===L.selectedResolution.value&&L.OpsTweakPosition.settingsIndex===L.currentSliderIndex?(L.nvCustomSettingsCallback(a.APPLIED_SETTING_SELECTED),L.applyButtonDisabled=!0):(L.nvCustomSettingsCallback(a.CUSTOM_SETTINGS_UPDATED,{settings:L.customSettings.settings[L.currentSliderIndex],atOptimalPosition:L.currentSliderIndex===L.optimalSliderIndex}),L.applyButtonDisabled=!1):Y.error("Custom ops slider cannot be changed due to unvailable custom setting for game id",L.nvSystemGame.id)},i.ready((function(){Y.info("custom ops document ready for game ",L.nvSystemGame.shortName);var e=angular.element(i[0].querySelector(".games-custom-ops"));(P=angular.element(e[0].querySelector(".md-track-ticks"))).find("canvas").css("display","none"),V=angular.element("<canvas>").css("position","absolute"),P.append(V),P.css("display","block"),P.css("z-index","0"),U=angular.element(e[0].querySelector(".md-track-container")),k=angular.element(e[0].querySelector(".optimal-button-container")),E(),function(){var e=angular.element(i[0].querySelector(".game-setting-list-container")),t=angular.element(i[0].querySelector(".games-classic-game-list-container")),n=angular.element(i[0].querySelector(".game-details-toolbar")),r=angular.element(i.find("nv-feedback-float"));e.addClass("constants-z-layers-modal-plus-three"),t.addClass("constants-z-layers-modal-plus-three"),n.addClass("constants-z-layers-modal-plus-three"),r.addClass("constants-z-layers-modal-plus-three")}(),I(),u.on(f.GAMESTATE_UPDATED,M)})),L.groupResolutions=function(){L.resolutions&&(L.resolutions=n("orderBy")(L.resolutions,"width",!0),L.resolutions=n("orderBy")(L.resolutions,(function(e){return D(e.width,e.height,e.DSR)})))},L.showResolutionHeader=function(e){return 0===e||D(L.resolutions[e-1].width,L.resolutions[e-1].height,L.resolutions[e-1].DSR)!==D(L.resolutions[e].width,L.resolutions[e].height,L.resolutions[e].DSR)},L.resolutionHeader=function(e){switch(D(e.width,e.height,e.DSR)){case c.HYPERSAMPLE:return"l10n.dynamicSuperResolutions";case c.WIDE_16_10:return"l10n.wideScreen1610";case c.WIDE_16_9:return"l10n.wideScreen169";case c.STANDARD_4_3:return"l10n.standard43";case c.STANDARD_5_4:return"l10n.standard54";case c.CUSTOM:default:return"l10n.custom"}},N=e.$on("$stateChangeStart",(function(e,t,n,r,i){Y.info("state changed in custom ops for game ",L.nvSystemGame.shortName),L.cancelCustomSettings()})),e.$on("$destroy",(function(){Y.info("Destroying custom ops dialog"),u.off(g.WINDOW_RESIZE,R),u.off(d.SELECTED_GAME_CHANGED,O),u.off(f.GAMESTATE_UPDATED,M),j&&(j.cancel(),j=null),N()})),Y.info("Initializing custom ops dialog"),u.on(g.WINDOW_RESIZE,R),u.on(d.SELECTED_GAME_CHANGED,O),L.showProgressIndicator=!0,h.getStateInfo().then((function(e){q=e.supported&&e.enabled}))}]);t.customOpsController=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvDsrInfo=void 0;var r=n(14),i=function(e){return e&&e.__esModule?e:{default:e}}(n(814)),o=r.ngGamesModule.directive("nvDsrInfo",(function(){return{restrict:"E",template:i.default,link:function(e,t){function n(){e.$destroy()}e.$on("$destroy",(function(){t&&(t.off("$destroy",n),t.empty(),t.remove(),t=null)})),t.on("$destroy",n)}}}));t.nvDsrInfo=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gameDetailPreviewController=void 0;var r=n(14);n(37);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(819));n(481);var o=r.ngGamesModule.controller("GameDetailPreviewController",["$scope","$log","$mdDialog","dbCacheService","DB_NAMES",function(e,t,n,r,o){var a=this;a.userGame=a.nvUserGame,a.isGameOpsSupported=a.nvOpsSupported,a.userGame&&(a.gameTags=a.userGame.tags);var l=t.getInstance("main.games/GameDetailPreviewController");a.toggleFavorite=function(){a.userGame.favorite=!a.userGame.favorite},a.toggleVisibility=function(){a.userGame.hidden=!a.userGame.hidden},a.showTagsModalDialog=function(){n.show({controller:"GameTagsModalController",controllerAs:"tagsModal",template:i.default,disableParentScroll:!1,locals:{game:a.userGame},bindToController:!0}).then((function(e){angular.copy(e,a.gameTags)})).catch((function(){l.info("cancel was clicked on game details tag dialog")}))},a.isPlayed=function(){return!(!a.userGame||!a.userGame.lastLaunchDate)},a.devFeatures=r.getCachedGlobalItem(o.DEV_STORE,o.DEV_FEATURES),e.$watch("nvUserGame",(function(e){e&&(a.userGame=e,a.gameTags=a.userGame.tags)}))}]);t.gameDetailPreviewController=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvGameDetailPreview=void 0;var r=n(14);n(222),n(223),n(224),n(42);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(815));n(474);var o=r.ngGamesModule.component("nvGameDetailPreview",{bindings:{nvUserGame:"=",nvOpsSupported:"@"},template:i.default,controller:"GameDetailPreviewController",controllerAs:"gameDetailPreview"});t.nvGameDetailPreview=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gameDetailsController=void 0;var r=n(14);n(47),n(135),n(11),n(13),n(63),n(25),n(22),n(292);var i=r.ngGamesModule.controller("GameDetailsController",["$state","gamesService","userGamesService","MEDIA_FILE_TYPE","$scope","preferencesService","$log","$window","dbCacheService","DB_NAMES","jarvisService","COMMON_DYNAMIC_REDIRECT","localeService",function(e,t,n,r,i,o,a,l,s,c,u,d,f){function m(){p.userGame=n.getUserGame(p.userGameId),p.userGame&&(p.gameId=p.userGame.gameId,p.userGame.systemGame=t.getSystemGame(p.userGame.gameId),p.screenShots=p.userGame.systemGame.getScreenShots(),p.userGame.systemGame.shortName)}var p=this,g=u.getLoggedInUser(),v=a.getInstance("main.gamesGameDetailsController");e.params.userGameId?p.userGameId=e.params.userGameId:p.userGameId=i.nvSelectedGameId,p.mediaFileType=r,p.classicViewEnabled=i.nvClassicViewEnabled,p.doesSystemSupportOPS=!1,p.opsNotDetermined=!1,p.devFeatures=s.getCachedGlobalItem(c.DEV_STORE,c.DEV_FEATURES),p.viewState=s.getCachedUserItem(g.userId,c.VIEW_STORE,c.VIEW_STATE),p.opsSupportedRequestInProgress=!0,o.getGameOpsFeature().then((function(e){e?p.doesSystemSupportOPS=e.overallState:(v.error("getGameOps returned null object"),p.doesSystemSupportOPS=!1)})).catch((function(){v.error("Exception getting system support for game Ops"),p.opsNotDetermined=!0})).finally((function(){p.opsSupportedRequestInProgress=!1})),p.hasScreenshots=function(){return!!(angular.isArray(p.screenShots)&&p.screenShots.length>0)},p.isPlayed=function(){return p.userGame&&p.userGame.lastLaunchDate},p.classicViewEnabled?i.$watch("nvSelectedGameId",(function(e){e&&(p.userGameId=e,m())})):m(),p.toggleFavorite=function(e){p.userGame.favorite=!p.userGame.favorite,n.updateFavoriteHiddenState(p.userGame.id,p.userGame.favorite,p.userGame.hidden),e.stopPropagation()},p.toggleVisibility=function(e){p.userGame.hidden=!p.userGame.hidden,n.updateFavoriteHiddenState(p.userGame.id,p.userGame.favorite,p.userGame.hidden),e.stopPropagation()},p.systemNoOpsRequirementLink=function(){l.open(d.BASE_URL+f.getCurrentLocaleWithUnderscore()+"&page="+d.SYSTEM_REQS)},p.showOpsNotSupported=function(){return!p.doesSystemSupportOPS&&!p.opsNotDetermined&&!p.opsSupportedRequestInProgress}}]);t.gameDetailsController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvGameList=void 0;var r=n(14);n(115),n(15),n(483),n(134);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(817));n(302),n(11),n(13);var o=r.ngGamesModule.directive("nvGameList",["eventAggregator","COMMON_GAME_EVENTS","dbCacheService","DB_NAMES","$log","COMMON_EVENTS","jarvisService",function(e,t,n,r,o,a,l){return{restrict:"E",scope:{nvUserId:"@",nvSelectedGameId:"="},template:i.default,controller:"GameListController",controllerAs:"games",link:function(i,s){function c(e){this.removeClass(e?"constants-display-none":"constants-display-flex").addClass(e?"constants-display-flex":"constants-display-none")}function u(){var e=p.scrollTop>0,t=p.scrollTop+p.offsetHeight<p.scrollHeight;c.call(g,e),c.call(v,t)}function d(){p=s[0].querySelector(".md-virtual-repeat-offsetter"),g=angular.element(s[0].querySelector(".game-list-top-gradient")),v=angular.element(s[0].querySelector(".game-list-bottom-gradient")),p&&(p.scrollTop=m.tileViewScrollTop,p.addEventListener("scroll",u),e.on(a.WINDOW_RESIZE,u),c.call(g,!1),c.call(v,!0))}function f(){p&&(m.tileViewScrollTop=p.scrollTop,m.persist_())}var m,p=null,g=(o.getInstance("main.gamesGameListDirective"),null),v=null;i.$on("$destroy",(function(){e.off(t.SAVE_GAME_LIST_SCROLL_POSTION,f),e.off(t.RESTORE_GAME_LIST_SCROLL_POSITION,d),p&&(e.off(a.WINDOW_RESIZE,u),p.removeEventListener("scroll",u)),p=null,g=null,v=null,s.empty(),s.remove(),s=null})),s.on("$destroy",(function(){i.$destroy()})),function(){var i=l.getLoggedInUser();m=n.getCachedUserItem(i.userId,r.VIEW_STORE,r.VIEW_STATE),e.on(t.SAVE_GAME_LIST_SCROLL_POSTION,f),e.on(t.RESTORE_GAME_LIST_SCROLL_POSITION,d)}()}}}]);t.nvGameList=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.gameSettingsController=void 0;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),o=n(14);n(17),n(19);var a=r(n(813));n(472);var l=r(n(812));n(471),n(114);var s=o.ngGamesModule.controller("GameSettingsController",["$scope","$log","$filter","SETTING_TYPE","$mdDialog","CUSTOM_OPS_CALLBACK_ACTION","eventAggregator","GAME_EVENTS","$timeout","OPS_TAB_STATE","$document","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","toastService","quietModeService","framerateLimiterService","performanceModeService","PERFORMANCE_MODES","$state","$q","OPS_USER_ACTION",function(e,t,n,r,o,s,c,u,d,f,m,p,g,v,h,b,y,E,S,_,w){function A(e,t){return z.aceSupported?e===E.QUIET?t?"l10n.gameIsOptimizedForQuietMode":"l10n.gameIsNotOptimizedForQuietMode":e===E.MAX_P?t?"l10n.gameIsOptimizedForPerformanceMode":"l10n.gameIsNotOptimizedForPerformanceMode":t?z.nvSystemGame.isCreativeApplication?"l10n.appIsOptimized":"l10n.gameIsOptimized":z.nvSystemGame.isCreativeApplication?"l10n.appIsNotOptimized":"l10n.gameIsNotOptimized":t?z.quietModeEnabled?"l10n.gameIsOptimizedForQuietMode":z.nvSystemGame.isCreativeApplication?"l10n.appIsOptimized":"l10n.gameIsOptimized":z.quietModeEnabled?"l10n.gameIsNotOptimizedForQuietMode":z.nvSystemGame.isCreativeApplication?"l10n.appIsNotOptimized":"l10n.gameIsNotOptimized"}function T(e){return z.aceSupported?e===E.QUIET?z.nvSystemGame.isCreativeApplication?"l10n.appIsUsingCustomSettingsForQuietMode":"l10n.gameIsUsingCustomSettingsForQuietMode":e===E.MAX_P?"l10n.gameIsUsingCustomSettingsForPerformanceMode":z.nvSystemGame.isCreativeApplication?"l10n.appIsUsingCustomSettings":"l10n.gameIsUsingCustomSettings":z.quietModeEnabled?z.nvSystemGame.isCreativeApplication?"l10n.appIsUsingCustomSettingsForQuietMode":"l10n.gameIsUsingCustomSettingsForQuietMode":z.nvSystemGame.isCreativeApplication?"l10n.appIsUsingCustomSettings":"l10n.gameIsUsingCustomSettings"}function I(e,t){if("-"!==e){if(!i.isEmpty(t)&&angular.isDefined(t[e]))return t[e].translation;W.error("game settings translation not found for game ",z.nvSystemGame.id,"with value ",e)}return e}function C(){z.recommendedOptimal=z.optimalSettings,z.updateOptimizationTabState(),z.optimizationTabState!==f.TRANSITION&&(z.optimized=z.isOptimized()||z.isCustomized(),z.formSettingsArray())}function x(){if(z.optimizationTabState!==f.TRANSITION){var e=z.nvSystemGame.getOpsRequestPromise();e?e.finally((function(){z.requestInProgress=!1})):z.requestInProgress=!1}}function D(){!i.isEmpty($)&&i.isNull(V)&&(C(),x())}function M(){v.showError({textContent:n("translate")("l10n.unableToUpdateGameSettings")})}function O(){var e=angular.element(m[0].querySelector(".game-setting-list-container")),t=angular.element(m[0].querySelector(".games-classic-game-list-container")),n=angular.element(m[0].querySelector(".game-details-toolbar")),r=angular.element(m.find("nv-feedback-float"));e.removeClass("constants-z-layers-modal-plus-three"),t.removeClass("constants-z-layers-modal-plus-three"),n.removeClass("constants-z-layers-modal-plus-three"),r.removeClass("constants-z-layers-modal-plus-three")}function R(){z.hoverSetting=null}function N(e){z.hoverSetting=e.name}function L(e){e.id===z.nvSystemGame.id&&(z.nvSystemGame=e,z.getGameState(),z.updateCurrentSettingHeader())}function P(e){e.id===z.nvSystemGame.id&&($=e.data,D())}function k(e){e===z.nvSystemGame.id&&(U&&(U.cancel(),U=null),V&&(V.cancel(),V=null),C(),x())}function G(){z.nvSystemGame.getGameSettingsTranslation()}function F(){z.currentSettings=null,z.targetSettings=null,z.settings=[],z.hoverSetting=null,z.hoverPromise=null,z.optimalSettings=null,z.recommendedOptimal=null,z.isBelowMinSpec=!1,z.requestInProgress=!0,$=[],B={settingName:"",values:[]},z.getGameState(),z.updateCurrentSettingHeader()}var U,V,z=this,B={},$=[],W=t.getInstance("main.games/GameSettingsController");z.nvCustomOpsOpen=!1,z.nvCustomFpsOpen=!1,z.settingType=r,z.showBorder=!1,z.customOpsChanging=!1,z.optimizationTabState=f.UNINITIALIZED,z.currentSettingHeader="l10n.current",z.lastMessage="l10n.unableToRetrieveSettings",z.quietModeEnabled=!1,z.frlEnabled=!1,z.aceSupported=!1;var H=n("translate"),j=!1;z.updateOptimizationTabState=function(){z.optimalSettings||z.currentSettings?i.isUndefined(z.optimalSettings)||null==z.optimalSettings?z.optimizationTabState=z.nvCurrentSettingType===z.settingType.SETTING_DC?f.DC.OPTIMAL_NOT_AVAILABLE:f.AC.OPTIMAL_NOT_AVAILABLE:i.isUndefined(z.currentSettings)||null==z.currentSettings?z.optimizationTabState=z.nvCurrentSettingType===z.settingType.SETTING_DC?f.DC.CURRENT_NOT_AVAILABLE:f.AC.CURRENT_NOT_AVAILABLE:"REGULAR"===z.nvSystemGame.getTargetSettingsTarget()?z.nvCurrentSettingType===z.settingType.SETTING_DC?z.nvSystemGame.isDCDisabled()?z.optimizationTabState=f.DC.DISABLED:z.nvSystemGame.isDCOptimized()?z.optimizationTabState=f.DC.OPTIMIZED:z.nvSystemGame.isDCCustomized()?z.optimizationTabState=f.DC.CUSTOMIZED:z.optimizationTabState=f.DC.USE_PLUGGEDIN:z.nvSystemGame.isACOptimized()?z.optimizationTabState=f.AC.OPTIMIZED:z.nvSystemGame.isACCustomized()?z.optimizationTabState=f.AC.CUSTOMIZED:z.optimizationTabState=f.AC.NOT_OPTIMIZED:z.optimizationTabState=f.TRANSITION:z.optimizationTabState=f.UNINITIALIZED},z.unableToRetrieveSettings=function(){return z.optimizationTabState===f.AC.OPTIMAL_NOT_AVAILABLE||z.optimizationTabState===f.DC.OPTIMAL_NOT_AVAILABLE||z.optimizationTabState===f.AC.CURRENT_NOT_AVAILABLE||z.optimizationTabState===f.DC.CURRENT_NOT_AVAILABLE||z.optimizationTabState===f.UNINITIALIZED},z.showOptimizeButton=function(){return!z.optimized&&!z.unableToRetrieveSettings()},z.showRevertButton=function(){return z.optimized&&!z.unableToRetrieveSettings()},z.hideCustomization=function(){return z.unableToRetrieveSettings()||z.nvSystemGame.isCreativeApplication},z.getMessage=function(){var e=function(){if(z.nvCurrentSettingType===z.settingType.SETTING_DC)switch(z.optimizationTabState){case f.DC.OPTIMAL_NOT_AVAILABLE:case f.DC.DISABLED:return z.lastMessage=z.nvSystemGame.isCreativeApplication?"l10n.appCannotBeOptimized":"l10n.gameCannotBeOptimized",z.nvSystemGame.isCreativeApplication?"l10n.appCannotBeOptimized":"l10n.gameCannotBeOptimized";case f.DC.CURRENT_NOT_AVAILABLE:return z.lastMessage="l10n.UnableToRetrieveCurrentSettings","l10n.UnableToRetrieveCurrentSettings";case f.DC.OPTIMIZED:return z.lastMessage=z.isBelowMinSpec?"l10n.systemBelowMinspecForGame":z.nvSystemGame.isCreativeApplication?"l10n.appIsOptimizedForBattery":"l10n.gameIsOptimizedForBattery",z.isBelowMinSpec?"l10n.systemBelowMinspecForGame":z.nvSystemGame.isCreativeApplication?"l10n.appIsOptimizedForBattery":"l10n.gameIsOptimizedForBattery";case f.DC.CUSTOMIZED:return z.lastMessage=z.isBelowMinSpec?"l10n.systemBelowMinspecForGame":z.nvSystemGame.isCreativeApplication?"l10n.appIsUsingCustomBatterySettings":"l10n.gameIsUsingCustomBatterySettings",z.isBelowMinSpec?"l10n.systemBelowMinspecForGame":z.nvSystemGame.isCreativeApplication?"l10n.appIsUsingCustomBatterySettings":"l10n.gameIsUsingCustomBatterySettings";case f.DC.USE_PLUGGEDIN:return z.lastMessage=z.isBelowMinSpec?"l10n.systemBelowMinspecForGame":z.nvSystemGame.isCreativeApplication?"l10n.appIsUsingPluggedInForBattery":"l10n.gameIsUsingPluggedInForBattery",z.isBelowMinSpec?"l10n.systemBelowMinspecForGame":z.nvSystemGame.isCreativeApplication?"l10n.appIsUsingPluggedInForBattery":"l10n.gameIsUsingPluggedInForBattery";default:return z.lastMessage}else switch(z.optimizationTabState){case f.AC.OPTIMAL_NOT_AVAILABLE:return z.lastMessage=z.nvSystemGame.isCreativeApplication?"l10n.appCannotBeOptimized":"l10n.gameCannotBeOptimized",z.nvSystemGame.isCreativeApplication?"l10n.appCannotBeOptimized":"l10n.gameCannotBeOptimized";case f.AC.CURRENT_NOT_AVAILABLE:return z.lastMessage="l10n.UnableToRetrieveCurrentSettings","l10n.UnableToRetrieveCurrentSettings";case f.AC.OPTIMIZED:return z.lastMessage=z.isBelowMinSpec?"l10n.systemBelowMinspecForGame":A(z.powerMode,!0),z.isBelowMinSpec?"l10n.systemBelowMinspecForGame":A(z.powerMode,!0);case f.AC.CUSTOMIZED:return z.lastMessage=z.isBelowMinSpec?"l10n.systemBelowMinspecForGame":T(z.powerMode),z.isBelowMinSpec?"l10n.systemBelowMinspecForGame":T(z.powerMode);case f.AC.NOT_OPTIMIZED:return z.lastMessage=z.isBelowMinSpec?"l10n.systemBelowMinspecForGame":A(z.powerMode),z.isBelowMinSpec?"l10n.systemBelowMinspecForGame":A(z.powerMode);default:return z.lastMessage}}();return H(e,{whisperModeCustomHtml:"ng-click=gameSettings.onRedirectPreferenceGeneralPage($event)"})},z.getOptimalMessage=function(){var e=z.nvCurrentSettingType===z.settingType.SETTING_DC?z.isOptimized()?"l10n.usingBatteryBoostSettings":"l10n.usingCustomBatterySettings":z.aceSupported?z.powerMode===E.QUIET?z.isOptimized()?"l10n.usingOptimalSettingsForQuietMode":"l10n.usingCustomSettingsQuietMode":z.powerMode===E.MAX_P?z.isOptimized()?"l10n.usingOptimalSettingsForPerformanceMode":"l10n.usingCustomSettingsPerformanceMode":z.isOptimized()?"l10n.usingOptimalSettings":"l10n.usingCustomSettings":z.isOptimized()?z.quietModeEnabled?"l10n.usingOptimalSettingsForQuietMode":"l10n.usingOptimalSettings":z.quietModeEnabled?"l10n.usingCustomSettingsQuietMode":"l10n.usingCustomSettings";return H(e,{whisperModeCustomHtml:"ng-click=gameSettings.onRedirectPreferenceGeneralPage($event)"})},z.onRedirectPreferenceGeneralPage=function(e){S.go("main.auth.preferences.general")},z.getOptimalSettingHeader=function(){return z.customOpsChanging&&!z.atOptimalIndexPosition?"l10n.custom":"l10n.optimal"},z.updateCurrentSettingHeader=function(){var e=z.nvSystemGame.getTargetPowerMode();e&&(z.nvCurrentSettingType===z.settingType.SETTING_DC&&"AC"===e?z.currentSettingHeader="l10n.whenOnBattery":z.nvCurrentSettingType===z.settingType.SETTING_AC&&"DC"===e?z.currentSettingHeader="l10n.whenPluggedIn":z.currentSettingHeader="l10n.current")},z.isOptimized=function(){return z.nvCurrentSettingType===z.settingType.SETTING_DC?z.nvSystemGame.isDCOptimized():z.nvSystemGame.isACOptimized()},z.isCustomized=function(){return z.nvCurrentSettingType===z.settingType.SETTING_DC?z.nvSystemGame.isDCCustomized():z.nvSystemGame.isACCustomized()},z.showUnoptimizedIcon=function(){return!z.optimized&&!z.showWarningIcon()},z.showWarningIcon=function(){return z.isBelowMinSpec||z.nvCurrentSettingType===z.settingType.SETTING_DC&&(z.optimizationTabState===f.DC.OPTIMAL_NOT_AVAILABLE||z.optimizationTabState===f.DC.DISABLED)||z.nvCurrentSettingType===z.settingType.SETTING_AC&&z.optimizationTabState===f.AC.OPTIMAL_NOT_AVAILABLE},z.showOptimizedIcon=function(){return z.optimized&&!z.showWarningIcon()},z.showOptimalSettingsInColumn=function(){return!z.optimized||z.customOpsChanging},z.showIconInColumn=function(){return z.optimized&&!z.customOpsChanging},z.isDsrResolution=function(e,t){return e===B.settingName&&-1!==i.indexOf(B.values,t)},z.formSettingsArray=function(){if(z.settings=[],z.optimizationTabState===f.AC.CURRENT_NOT_AVAILABLE||z.optimizationTabState===f.DC.CURRENT_NOT_AVAILABLE)z.optimalSettings.forEach((function(e){var t={name:e.name,type:"DRIVER_ENUM"===e.type?e.type:"ENUM",value:"-",optimalValue:e.value};z.isDsrResolution(e.name,e.value)&&(t.isOptimalDsrResolution=!0),z.settings.push(t)}));else if(z.optimizationTabState===f.AC.OPTIMAL_NOT_AVAILABLE||z.optimizationTabState===f.DC.OPTIMAL_NOT_AVAILABLE||!z.customOpsChanging&&z.optimized)z.targetSettings?z.targetSettings.forEach((function(e){var t={name:e.name,type:"DRIVER_ENUM"===e.type?e.type:"ENUM",value:e.value,optimalValue:"-"};z.isDsrResolution(e.name,e.value)&&(t.isCurrentDsrResolution=!0),z.settings.push(t)})):W.error("targetSettings not set");else if(z.targetSettings){i.union(i.pluck(z.targetSettings,"name"),i.pluck(z.optimalSettings,"name")).forEach((function(e){var t=n("filter")(z.optimalSettings,{name:e},!0),r=n("filter")(z.targetSettings,{name:e},!0),i={};r.length?(i={name:r[0].name,type:"DRIVER_ENUM"===r[0].type?r[0].type:"ENUM",value:r[0].value},t.length?i.optimalValue=t[0].value:i.optimalValue="-"):i={name:t[0].name,type:"DRIVER_ENUM"===t[0].type?t[0].type:"ENUM",value:"-",optimalValue:t[0].value},z.isDsrResolution(i.name,i.value)&&(i.isCurrentDsrResolution=!0),z.isDsrResolution(i.name,i.optimalValue)&&(i.isOptimalDsrResolution=!0),z.settings.push(i)}))}!i.isEmpty(z.settings)&&z.nvSystemGame.isCreativeApplication&&(z.settings=i.reject(z.settings,(function(e){return"Resolution"===e.name||"Display Mode"===e.name}))),i.isEmpty($)||i.each(z.settings,(function(e){if(angular.isDefined($[e.name])){var t=$[e.name];e.name=t.translation,e.value=I(e.value,t.values),e.optimalValue=I(e.optimalValue,t.values)}else W.error("game settings translation not found for game ",z.nvSystemGame.id,"with setting name ",e.name)})),z.settings=n("orderBy")(z.settings,["-type","+name"])},z.isOptimalSettingDifferent=function(e,t){return"-"!==t&&e!==t},z.getGameState=function(){U&&(U.cancel(),U=null),V&&(V.cancel(),V=null),(U=z.nvSystemGame.getState()).then((function(e){z.currentSettings=z.nvSystemGame.getCurrentSettings(),"REGULAR"===z.nvSystemGame.getTargetSettingsTarget()&&(z.nvCurrentSettingType===z.settingType.SETTING_DC?z.targetSettings=z.nvSystemGame.getRegularTargetSettingsDC():z.targetSettings=z.nvSystemGame.getRegularTargetSettingsAC());var t,n,r=z.nvSystemGame.getSliderSettings();r?(!function(e){B.settingName="",B.values=[];var t=z.nvCurrentSettingType===z.settingType.SETTING_DC?e.DC.resolution:e.AC.resolution;B.settingName=t.settingName,t.values.forEach((function(e){e.DSR&&B.values.push(e.value)}))}(r),z.nvCurrentSettingType===z.settingType.SETTING_DC?(t=z.nvSystemGame.getRecommendedDCResolution(),n=z.nvSystemGame.getRecommendedDCDisplayMode()):(t=z.nvSystemGame.getRecommendedACResolution(),n=z.nvSystemGame.getRecommendedACDisplayMode()),(V=z.nvSystemGame.getSettingsSpace(t,n)).then((function(e){z.nvCurrentSettingType===z.settingType.SETTING_DC?z.optimalSettings=z.nvSystemGame.getOptimalDCSettings(e):z.optimalSettings=z.nvSystemGame.getOptimalACSettings(e),z.nvCurrentSettingType===z.settingType.SETTING_DC&&(z.isOptimized()||z.isCustomized())?z.isBelowMinSpec=z.nvSystemGame.getRecommendedDCBelowMinspec(e):z.isBelowMinSpec=z.nvSystemGame.getRecommendedACBelowMinspec(e)})).catch((function(e){W.error("get settings space failed for game:",z.nvSystemGame.displayName,"with error:",e)})).finally((function(){V=null,D()}))):(W.error("slider settings not found for game:",z.nvSystemGame.displayName),C(),x())})).catch((function(e){W.error("get State failed for game:",z.nvSystemGame.displayName,"with error:",e),C(),x()})).finally((function(){U=null}))},z.resetOptimization=function(){z.requestInProgress=!0,z.nvCurrentSettingType===z.settingType.SETTING_DC?z.nvSystemGame.revertDCOptimization().catch((function(e){W.error("unable to revert DC OPS for game ",z.nvSystemGame.id),M()})).finally((function(){z.getGameState()})):z.nvSystemGame.revertACOptimization().catch((function(e){W.error("unable to revert AC OPS for game ",z.nvSystemGame.id),M()})).finally((function(){z.getGameState()}))},z.optimizeSettings=function(){if(z.requestInProgress=!0,z.nvCurrentSettingType===z.settingType.SETTING_DC){var e=p.startView(g.GAMEOPTIMIZATIONS_OPTIMIZE_TIME_BOPS);z.nvSystemGame.optimizeDC().then((function(){p.push(g.OPS_CHANGED,{isCreativeApplication:z.nvSystemGame.isCreativeApplication?"true":"false",appShortName:z.nvSystemGame.shortName,userAction:w.APPLIED_BOPS}),z.getGameState(),p.endView(g.GAMEOPTIMIZATIONS_OPTIMIZE_TIME_BOPS,e)})).catch((function(e){W.error("unable to apply DC OPS for game ",z.nvSystemGame.id),p.push(g.OPS_CHANGED,{isCreativeApplication:z.nvSystemGame.isCreativeApplication?"true":"false",appShortName:z.nvSystemGame.shortName,userAction:w.APPLY_BOPS_FAILED}),z.getGameState(),M()}))}else{var t=p.startView(g.GAMEOPTIMIZATIONS_OPTIMIZE_TIME);z.nvSystemGame.optimizeAC().then((function(){p.push(g.OPS_CHANGED,{isCreativeApplication:z.nvSystemGame.isCreativeApplication?"true":"false",appShortName:z.nvSystemGame.shortName,userAction:w.APPLIED_OPS}),z.getGameState(),p.endView(g.GAMEOPTIMIZATIONS_OPTIMIZE_TIME,t)})).catch((function(e){W.error("unable to apply AC OPS for game ",z.nvSystemGame.id),p.push(g.OPS_CHANGED,{isCreativeApplication:z.nvSystemGame.isCreativeApplication?"true":"false",appShortName:z.nvSystemGame.shortName,userAction:w.APPLY_OPS_FAILED}),z.getGameState(),M()}))}},z.optimizeGame=function(){z.optimized?z.resetOptimization():(z.optimizeSettings(),z.setShowBorder(!1))},z.showOptimalBorder=function(){return z.showBorder&&!z.optimized},z.showHeader=function(e){return 0===e||z.settings[e-1].type!==z.settings[e].type},z.headerValue=function(e){return"ENUM"===e?z.nvSystemGame.isCreativeApplication?"l10n.inApp":"l10n.inGame":"DRIVER_ENUM"===e?"l10n.nvidia":void 0},z.setShowBorder=function(e){z.showBorder=e},z.openCustomOps=function(){z.nvCustomOpsOpen=!0,o.show({template:a.default,locals:{nvCustomSettingsCallback:z.customSettingsCallback,nvSystemGame:z.nvSystemGame,nvCurrentSettingType:z.nvCurrentSettingType,nvClassicViewEnabled:z.nvClassicViewEnabled,nvDesktopMode:z.nvDesktopMode,nvGameSettingsTranslationData:$,nvAceSupported:z.aceSupported,nvPoweMode:z.powerMode},clickOutsideToClose:!0,controller:"CustomOpsController",controllerAs:"opsCtrl",bindToController:!0,hasBackdrop:!1}).then((function(){z.customOpsChanging=!1})).catch((function(){z.customOpsChanging=!1,z.optimalSettings=z.recommendedOptimal,z.optimalSettings&&z.formSettingsArray()})).finally((function(){z.nvCustomOpsOpen=!1,O()}))},z.openCustomFps=function(){z.nvCustomFpsOpen=!0,o.show({template:l.default,locals:{nvSystemGame:z.nvSystemGame,nvCurrentSettingType:z.nvCurrentSettingType,nvClassicViewEnabled:z.nvClassicViewEnabled},clickOutsideToClose:!0,controller:"CustomFpsController",controllerAs:"fpsCtrl",bindToController:!0,hasBackdrop:!1}).finally((function(){z.nvCustomFpsOpen=!1,O()}))},z.customSettingsCallback=function(e,t){e===s.CUSTOM_SETTINGS_UPDATED?(z.customOpsChanging=!0,z.optimalSettings=t.settings,z.atOptimalIndexPosition=t.atOptimalPosition,z.formSettingsArray()):e===s.APPLIED_SETTING_SELECTED&&(z.customOpsChanging=!1,z.formSettingsArray())},z.isMouseHover=function(e){return e===z.hoverSetting},z.mouseOver=function(e){d.cancel(z.hoverPromise),null===e?(z.hoverSetting=null,c.trigger(u.SETTING_ITEM_MOUSE_LEAVE,{})):z.hoverPromise=d((function(){!function(e){c.trigger(u.SETTING_ITEM_HOVER,{name:e})}(e)}),100)};var q=function(t){z.isMouseHover(t.name)||(z.hoverSetting=t.name,e.$applyAsync())};z.isOptimizeOrCustomOpsButtonDisabled=function(){return z.requestInProgress||z.nvCustomOpsOpen||z.nvCustomFpsOpen},z.showQuietModeFpsCtrl=function(){return!z.unableToRetrieveSettings()&&z.nvCurrentSettingType===z.settingType.SETTING_AC&&z.quietModeEnabled},z.showBatteryBoostFpsCtrl=function(){return!z.unableToRetrieveSettings()&&z.nvCurrentSettingType===z.settingType.SETTING_DC&&z.frlEnabled&&!z.nvSystemGame.isDCDisabled()},c.on(u.GAMESTATE_UPDATED,L),c.on(u.VOPS_POPUP_SHOWN,q),c.on(u.SETTINGS_TRANSLATION_FINISHED,P),c.on(u.SETTINGS_TRANSLATION_FAILED,k),c.on(u.GAMEVOPSITEM_UNMATCHED,R),c.on(u.GAMEVOPSITEM_MATCHED,N),c.on(u.GAMEVOPS_FINISHED,G),function(){var e=h.getQuietMode2StateInfo(),t=h.getStateInfo();_.all([t,e]).then((function(e){W.info("QuietMode support state",e),z.quietModeEnabled=!0===e[1].supported&&!0===e[1].enabled||!0===e[0].supported&&!0===e[0].enabled}))}(),y.isFeatureAvailableOnAB().then((function(e){W.info("isFeatureAvailableOnAB",e),e?y.getStateInfo().then((function(e){e.supported&&(z.aceSupported=e.supported,z.powerMode=e.performanceMode)})):z.aceSupported=!1})),b.getBB2SupportInfo().then((function(e){if(e.criteria){var t=e.criteria.states.find((function(e,t,n){return"bb2"===e.name}));t&&!0===t.state&&(j=!0,!0===e.criteria.overallState&&b.getBB2StateInfo().then((function(e){z.frlEnabled=e.enabled})))}})).finally((function(){j||b.getSupportInfo().then((function(e){e.supported&&b.getStateInfo().then((function(e){z.frlEnabled=e.enabled}))}))})),z.nvClassicViewEnabled?e.$watch("gameSettings.nvSystemGame",(function(e){e&&F()})):F(),e.$on("$destroy",(function(){c.off(u.GAMESTATE_UPDATED,L),c.off(u.VOPS_POPUP_SHOWN,q),c.off(u.SETTINGS_TRANSLATION_FINISHED,P),c.off(u.SETTINGS_TRANSLATION_FAILED,k),c.off(u.GAMEVOPSITEM_UNMATCHED,R),c.off(u.GAMEVOPSITEM_MATCHED,N),c.off(u.GAMEVOPS_FINISHED,G),U&&(U.cancel(),U=null),V&&(V.cancel(),V=null),d.cancel(z.hoverPromise)}))}]);t.gameSettingsController=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvGameSettingsItem=void 0;var r=n(14).ngGamesModule.directive("nvGameSettingsItem",["eventAggregator","GAME_EVENTS","$interval","SCROLL_STEPS","GRADIENT_HEIGHT",function(e,t,n,r,i){var o;return{restrict:"E",transclude:!0,template:"<ng-transclude></ng-transclude>",link:function(a,l){function s(e,t,i){n.cancel(o);var a=0;o=n((function(){e.scrollTop=function(e,t,n,r){return n*(Math.pow(e/r-1,3)+1)+t}(a,t,i,r),++a>r&&n.cancel(o)}),0)}function c(e){if(!angular.isUndefined(a.setting)&&a.setting.name===e.name){var t=l.parent()[0],n=parseFloat(l[0].offsetTop),r=parseInt(l[0].clientHeight),o=0,c=parseFloat(t.clientHeight),u=t.scrollTop;n+r>u+c?(o=n-u-c+r,s(t,u,o+=i.FOR_GAME_SETTINGS_TABLE)):n<u&&s(t,u,o=n-u)}}function u(){a.$destroy()}e.on(t.VOPS_POPUP_SHOWN,c),a.$on("$destroy",(function(){e.off(t.VOPS_POPUP_SHOWN,c),n.cancel(o),o=null,l.off("$destroy",u),l.empty(),l.remove(),l=null})),l.on("$destroy",u)}}}]);t.nvGameSettingsItem=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvGameSettings=void 0;var r=n(14);n(479),n(473),n(15);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(818));n(478);var o=r.ngGamesModule.directive("nvGameSettings",["$document","eventAggregator","COMMON_EVENTS",function(e,t,n){return{require:["^nvOptimization","nvGameSettings"],restrict:"E",scope:{nvSystemGame:"=",nvCurrentSettingType:"=",nvClassicViewEnabled:"@",nvDesktopMode:"=",nvCustomOpsOpen:"="},template:i.default,controller:"GameSettingsController",controllerAs:"gameSettings",bindToController:!0,link:function(r,i){function o(e){s.removeClass(e?"constants-display-none":"constants-display-flex").addClass(e?"constants-display-flex":"constants-display-none")}function a(){l.scrollTop+l.offsetHeight<l.scrollHeight?o(!0):o(c.scrollTop+c.offsetHeight<c.scrollHeight)}var l=angular.element(e[0].querySelector(".games-game-optimization"))[0],s=angular.element(i[0].querySelector(".common-container-gradient")),c=i[0].querySelector(".game-settings-container"),u=r.$watchGroup(["gameSettings.requestInProgress","$parent.optimization.selectedTab"],(function(t,n){t!==n&&e.ready((function(){a()}))})),d=r.$on("ui.layout.resize",a);r.$on("$destroy",(function(){u(),d(),l&&c&&(t.off(n.WINDOW_RESIZE,a),c.removeEventListener("scroll",a)),l=null,s=null,c=null,i.empty(),i.remove(),i=null})),i.on("$destroy",(function(){r.$destroy()})),l&&c&&s&&(t.on(n.WINDOW_RESIZE,a),c.addEventListener("scroll",a),o(!0))}}}]);t.nvGameSettings=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gameTagsModalController=void 0;var r=n(14).ngGamesModule.controller("GameTagsModalController",["$mdDialog","$state",function(e,t){var n=this;angular.isDefined(n.game)&&angular.isDefined(n.game.tags)?(n.gameDisplayName=n.game.displayName,n.gameTags=angular.copy(n.game.tags)):(n.gameDisplayName="",n.gameTags={}),n.accept=function(){e.hide(n.gameTags)},n.cancel=function(){e.cancel()},n.managetags=function(){e.cancel(),t.go("main.auth.debugSettings")}}]);t.gameTagsModalController=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gameTileController=void 0;var r=n(14);n(135);var i=r.ngGamesModule.controller("GameTileController",["$scope","$state","userGamesService",function(e,t,n){var r=this;r.game=e.nvGame,r.isGameOpsSupported=e.nvOpsSupported,r.overlayVisible=!1,r.detailsButtonClickHandler=function(){t.go("main.auth.home.gamesAndFriends.gameDetails",{userGameId:r.game.id})},r.toggleFavorite=function(e){r.userGame.favorite=!r.userGame.favorite,n.updateFavoriteHiddenState(r.userGame.id,r.userGame.favorite,r.userGame.hidden),e.stopPropagation()},r.toggleVisibility=function(e){r.userGame.hidden=!r.userGame.hidden,n.updateFavoriteHiddenState(r.userGame.id,r.userGame.favorite,r.userGame.hidden),e.stopPropagation()},r.showOverlay=function(e){r.overlayVisible=e},r.userGame=n.getUserGame(r.game.id)}]);t.gameTileController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvGameTile=void 0;var r=n(14);n(15),n(223),n(222),n(35),n(166);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(820));n(482);var o=r.ngGamesModule.directive("nvGameTile",["$timeout",function(e){return{restrict:"E",scope:{nvGame:"=",nvGameSelected:"=",nvIndex:"=",nvOpsSupported:"<"},template:i.default,controller:"GameTileController",controllerAs:"gameTile",link:function(t,n,r,i){var o,a=n[0];i.showTooltip=!1,o=e((function(){var e=angular.element(a.querySelector(".color-white-hue-1"));i.showTooltip=e[0].scrollWidth>e[0].offsetWidth})),t.$on("$destroy",(function(){e.cancel(o),n.empty(),n.remove(),n=null})),n.on("$destroy",(function(){t.$destroy()}))}}}]);t.nvGameTile=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.optimizationController=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),i=n(14);n(113),n(11),n(13);var o=i.ngGamesModule.controller("OptimizationController",["$scope","SETTING_TYPE","framerateLimiterService","dbCacheService","DB_NAMES","OPS_TAB","POWER_MODE","jarvisService",function(e,t,n,i,o,a,l,s){function c(){r.isNull(v)||(v.cancel(),v=null),(v=m.systemGame.getState()).then((function(e){h=!!m.systemGame.getCurrentSettings()})).finally((function(){v=null}))}function u(){-1!==r.indexOf(p.userTabSelectionList,m.systemGame.id)?p.targetPowerMode===l.DC?m.selectedTab=a.PLUGGED_IN:m.selectedTab=a.ON_BATTERY:p.targetPowerMode===l.DC?m.selectedTab=a.ON_BATTERY:m.selectedTab=a.PLUGGED_IN}function d(){var e=m.systemGame.getTargetPowerMode();e&&p.targetPowerMode!==e&&(p.targetPowerMode=e,p.userTabSelectionList=[],m.customOpsOpen?m.changeSelectedTab(m.selectedTab):p.targetPowerMode===l.DC?m.selectedTab=a.ON_BATTERY:m.selectedTab=a.PLUGGED_IN)}function f(){(p=i.getCachedUserItem(g.userId,o.VIEW_STORE,o.VIEW_STATE)).targetPowerMode&&(d(),u()),e.$watch("optimization.systemGame.getTargetPowerMode()",d)}var m=this,p={},g=s.getLoggedInUser(),v=null;m.systemGame=e.nvSystemGame,m.settingType=t,m.frlSupport=!1,m.frlEnabled=!1,m.classicViewEnabled=e.nvClassicViewEnabled,m.opsTab=a,m.selectedTab=a.PLUGGED_IN,m.customOpsOpen=!1;var h=!1;c(),function(){var e=!1;n.getBB2SupportInfo().then((function(t){if(t.criteria){var r=t.criteria.states.find((function(e,t,n){return"bb2"===e.name}));r&&!0===r.state&&(e=!0,m.frlSupport=t.criteria.overallState,!0===t.criteria.overallState&&n.getBB2StateInfo().then((function(e){m.frlEnabled=e.enabled,m.frlEnabled&&f()})))}})).finally((function(){!1===e&&n.getSupportInfo().then((function(e){e.supported&&(m.frlSupport=e.supported,n.getStateInfo().then((function(e){m.frlEnabled=e.enabled,m.frlEnabled&&f()})))}))}))}(),m.frlSupportAndEnabled=function(){return m.frlSupport&&m.frlEnabled&&!m.systemGame.isDCDisabled()&&h},m.changeSelectedTab=function(e){m.selectedTab=e;var t=r.indexOf(p.userTabSelectionList,m.systemGame.id);p.targetPowerMode===l.AC&&e===a.ON_BATTERY||p.targetPowerMode===l.DC&&e===a.PLUGGED_IN?-1===t&&p.userTabSelectionList.push(m.systemGame.id):-1!==t&&p.userTabSelectionList.splice(t,1)},m.classicViewEnabled&&e.$watch("nvSystemGame",(function(e){e&&(m.systemGame=e,c(),u())})),e.$on("$destroy",(function(){m.frlSupport&&m.frlEnabled&&p.persist_(),r.isNull(v)||(v.cancel(),v=null)}))}]);t.optimizationController=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvOptimization=void 0;var r=n(14);n(480);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(821));n(484);var o=r.ngGamesModule.directive("nvOptimization",(function(){return{restrict:"E",scope:{nvSystemGame:"=",nvClassicViewEnabled:"@"},template:i.default,controller:"OptimizationController",controllerAs:"optimization",link:function(e,t){e.$on("$destroy",(function(){t.empty(),t.remove(),t=null})),t.on("$destroy",(function(){e.$destroy()}))}}}));t.nvOptimization=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OptimizedIconController=void 0;var r=n(14).ngGamesModule.controller("OptimizedIconController",["$scope","$log","eventAggregator","GAME_EVENTS",function(e,t,n,r){function i(e){o.nvSystemGame&&e.id===o.nvSystemGame.id&&(o.optimized=o.nvSystemGame.isACorDCoptimized(),o.warning=!o.nvSystemGame.isACRecommendationAvailable()&&(o.nvSystemGame.isDCDisabled()||!o.nvSystemGame.isDCRecommendationAvailable())||o.nvSystemGame.isRecommendedACBelowMinspecFromState()&&o.nvSystemGame.isRecommendedDCBelowMinspecFromState(),o.fontIconClass=o.getFontIcon())}var o=this;o.fontIconClass="";var a=angular.noop;t.getInstance("main.games/OptimizedIconController"),o.getFontIcon=function(){return o.optimized||o.warning?o.optimized&&!o.warning?"icon-optimized_sm":"icon-alert-circle_sm":"icon-notoptimized_sm"},o.initIcon=function(){o.nvSystemGame&&o.nvSystemGame.hasGameState()&&i(o.nvSystemGame)},n.on(r.GAMESTATE_UPDATED,i),n.on(r.GAMESTATE_INITIALIZED,i),n.on(r.GAMESTATE_FAIL_INITIALIZE,i),a=e.$watch("optimizedIcon.nvSystemGame",(function(){i({id:o.nvSystemGame.id})})),o.initIcon(),e.$on("$destroy",(function(){n.off(r.GAMESTATE_UPDATED,i),n.off(r.GAMESTATE_INITIALIZED,i),n.off(r.GAMESTATE_FAIL_INITIALIZE,i),a()}))}]);t.OptimizedIconController=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.playGameController=void 0;var r=n(14).ngGamesModule.controller("PlayGameController",["telemetryService",function(e){var t=this;t.playLocalGame=function(n){var r=t.nvSystemGame();if("false"===t.nvLocal)return function(e){e.launchCloud(),event.stopPropagation()}(r);if(t.nvTelemetry){var i=JSON.parse(t.nvTelemetry);e.push(i.tarconID,i.url)}r.launch(),n.stopPropagation()}}]);t.playGameController=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.vopsController=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),i=n(14);n(11),n(13);var o=i.ngGamesModule.controller("VopsController",["$scope","$log","eventAggregator","GAME_EVENTS","GAME_VOPS_STATUS","dbCacheService","DB_NAMES","jarvisService","localeService","GAME_SETTINGS_TRANSLATION_STATUS","BACKEND_STATE_EVENTS",function(e,t,n,i,o,a,l,s,c,u,d){function f(e){A.systemGame.shortName===e&&(S=o.UNAVAILABLE)}function m(e){A.systemGame.shortName===e&&(S=o.STARTED)}function p(e){A.systemGame.shortName===e&&(S=o.PROGRESS)}function g(e){A.systemGame.shortName===e&&(S=o.FAILED)}function v(e,t,n){angular.isDefined(t.name)&&(angular.isDefined(T[t.name])?t.name=T[t.name].translation:I.error("vops settings translation not found for game ",A.systemGame.id,"with setting name ",t.name),t.textInfo[e]&&t.textInfo[e].length>0?t.textInfo=t.textInfo[e]:t.textInfo=t.textInfo[c.getDefaultLocaleWithUnderscore()],n.settingInfo.push(t))}function h(e){A.systemGame.shortName===e.shortName&&(r.isUndefined(e.vopsData)||(A.gameVops=e.vopsData),r.isEmpty(A.gameVops)?S=o.UNAVAILABLE:A.systemGame.getGameSettingsTranslation())}function b(e){e.id===A.systemGame.id&&(T=e.data,_=u.FINISHED,function(){if(!r.isEmpty(T)&&!r.isEmpty(A.gameVops)&&!r.isEmpty(A.gameVops.settingInfo)){var e=[],t=c.getCurrentLocaleWithUnderscore();r.each(A.gameVops.settingInfo,(function(n){n.vopsSettingEnName=n.name;var i=r.find(e,{image:n.image});angular.isUndefined(i)?((i={}).image=n.image,i.settingInfo=[],v(t,n,i),e.push(i)):v(t,n,i)})),A.gameVops=e,S=o.FINISHED}}())}function y(e){e===A.systemGame.id&&(_=u.FAILED)}function E(){r.isEmpty(A.gameVops)&&A.systemGame.getVOPS()}var S,_,w,A=this,T=[],I=t.getInstance("main.games/VopsController"),C=s.getLoggedInUser(),x=a.getCachedUserItem(C.userId,l.VIEW_STORE,l.VIEW_STATE),D=Date.now();A.gameVops={},A.systemGame=e.nvSystemGame,A.classicViewEnabled=e.nvClassicViewEnabled,e.$on("$destroy",(function(){n.off(i.GAMEVOPS_STARTED,m),n.off(i.GAMEVOPS_READY,p),n.off(i.GAMEVOPS_NOTREADY,p),n.off(i.GAMEVOPS_UNAVAILABLE,f),n.off(i.GAMEVOPS_FINISHED,h),n.off(i.GAMEVOPS_FAILED,g),n.off(i.SETTINGS_TRANSLATION_FINISHED,b),n.off(i.SETTINGS_TRANSLATION_FAILED,y),n.off(d.READY),w()})),n.on(i.GAMEVOPS_STARTED,m),n.on(i.GAMEVOPS_READY,p),n.on(i.GAMEVOPS_NOTREADY,p),n.on(i.GAMEVOPS_UNAVAILABLE,f),n.on(i.GAMEVOPS_FINISHED,h),n.on(i.GAMEVOPS_FAILED,g),n.on(i.SETTINGS_TRANSLATION_FINISHED,b),n.on(i.SETTINGS_TRANSLATION_FAILED,y),n.on(d.READY,E),A.showUnavailable=function(){return S===o.UNAVAILABLE},A.showVopsPreview=function(){return S===o.FINISHED&&_===u.FINISHED},A.showVopsFailed=function(){return!A.showUnavailable()&&(S===o.FAILED||_===u.FAILED)},A.showLoadingIndicator=function(){return Date.now()-D>500&&!(A.showVopsPreview()||A.showUnavailable()||A.showVopsFailed())},w=e.$on("ui.layout.resize",(function(e,t,n){try{var r=t.size/(t.size+n.size)*100;n.size<=n.minSize?(t.uncollapsedSize="auto",n.uncollapsedSize=n.size):(t.uncollapsedSize=r+"%",n.uncollapsedSize=100-r+"%"),x.vopsImageContainerSize=r+"%",x.persist_()}catch(e){I.error("ui.layout.resize event error",e)}})),A.classicViewEnabled?e.$watch("nvSystemGame",(function(e){e&&(T=[],A.gameVops={},D=Date.now(),A.systemGame=e,A.systemGame.getVOPS())})):A.systemGame.getVOPS()}]);t.vopsController=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvVops=void 0;var r=n(14);n(134),n(281);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(824));n(488);var o=r.ngGamesModule.directive("nvVops",(function(){return{restrict:"E",scope:{nvSystemGame:"=",nvClassicViewEnabled:"@"},template:i.default,controller:"VopsController",controllerAs:"vops",link:function(e,t){e.$on("$destroy",(function(){t.empty(),t.remove(),t=null})),t.on("$destroy",(function(){e.$destroy()}))}}}));t.nvVops=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gfnCloudGamesService=void 0;var r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(3)),n(136));n(171),n(63);var i=r.ngGfnCloudGamesModule.service("gfnCloudGamesService",["$log","$q","gfnCloudGamesEndpoints","jarvisService","eventAggregator","COMMON_EVENTS","GFECLIENT_CONFIG",function(e,t,n,r,i,o,a){function l(e){e?s():(m=!1,p=!1,g=null,i.trigger(o.GFN_CLOUD_GAMES_FEATURE_UPDATED,m))}function s(){var e=r.getLoggedInUser();return p||!e?t.resolve():g||(g=t.when(!1).then((function(e){u.info("cloud games feature toggle status",e),m=e,i.trigger(o.GFN_CLOUD_GAMES_FEATURE_UPDATED,m)})).catch((function(e){u.error("failed to get gfn cloud game variant",e)})).finally((function(){p=!0,g=null})))}var c=this,u=e.getInstance("main.gfnCloudGames/gfnCloudGamesService"),d=null,f=null,m=!1,p=!1,g=null;c.initialize=function(){i.on(o.LOGIN_STATUS_CHANGE,l),s()},c.isGameSupportedForStreaming=function(e){return s().then((function(){return m?c.getSupportedTitles().then((function(){return e in d})):t.reject("feature not supported")}))},c.getSupportedTitles=function(){return d?t.when(d):f||(f=n.getSupportedTitles().then((function(e){u.info("supported titles response:",e);var t=e.data;return d={},Array.isArray(t)&&t.forEach((function(e){d[e.gfnGameId]=e})),d})).catch((function(e){return u.error("failed to get supported titles: ",e),t.reject()})).finally((function(){f=null})))},c.launchGame=function(e){var i=d[e];if(!i)return u.error("game not supported or not present: ",e),t.reject("game not supported for streaming");var o=i.launcher,l=i.launcherGameId;return r.getDelegateToken(a.jarvis.gfnClientId).then((function(r){var i=r.data.delegateToken;n.startgameStream(o,l,i).then((function(t){u.info("success launching Cloud Game: ",e)})).catch((function(n){return u.error("failed to launch cloud game for id: "+e+"with error: "+n),t.reject(n)}))})).catch((function(e){return u.error("failed to get delegate token: ",e),t.reject(e)}))}}]);t.gfnCloudGamesService=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gfnController=void 0;var r=n(31);n(64);var i=r.ngGfnModule.controller("gfnController",["$state","tbdService",function(e,t){var n=this;n.pageNo=e.params.tabId,n.pageNo||(n.pageNo="0"),t.getBannerTexts().then((function(e){n.labels=e}))}]);t.gfnController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvGfn=void 0;var r=n(31);n(494),n(303),n(503);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(825));n(491);var o=r.ngGfnModule.directive("nvGfn",(function(){return{restrict:"E",scope:{},template:i.default,controller:"gfnController",controllerAs:"gfn"}}));t.nvGfn=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gfnFeatureController=void 0;var r=n(31);n(64);var i=r.ngGfnModule.controller("gfnFeatureController",["tbdService",function(e){var t=this;e.getBannerTexts().then((function(e){t.bannerTexts=e}))}]);t.gfnFeatureController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvGfnFeature=void 0;var r=n(31);n(291),n(505);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(826));n(493);var o=r.ngGfnModule.directive("nvGfnFeature",(function(){return{restrict:"E",template:i.default,controller:"gfnFeatureController",controllerAs:"gfnFeature"}}));t.nvGfnFeature=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gameStoreController=void 0;var r=n(31);n(64);var i=r.ngGfnModule.controller("GameStoreController",["$scope","$log","tbdService","$state",function(e,t,n,r){var i=this;i.gameStoreList=[],i.gameType=e.nvGameType;var o=t.getInstance("main.gfn/GameStoreController");"genre"===i.gameType?n.getGfnStoreGamesByGenre(r.params.id).then((function(e){i.gameStoreList=e}),(function(e){o.error("getGfnStoreGamesByGenre failed with latestGameList: "+e.status)})):n.getGfnStoreGamesByType(i.gameType).then((function(e){i.gameStoreList=e}),(function(e){o.error("getGfnStoreGamesByType failed with latestGameList: "+e.status)}))}]);t.gameStoreController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gameStoreItemController=void 0;var r=n(31).ngGfnModule.controller("GameStoreItemController",["$scope",function(e){var t=this,n=e.nvGetGame();t.nvGame=n,t.nvGameType=e.nvShowType,t.onClickedGameItem=function(){},t.isNeedPurchase=function(){return void 0!==t.nvGame&&(!t.nvGame.storeInfo.isPurchased&&0!==t.nvGame.storeInfo.price)}}]);t.gameStoreItemController=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvGameStoreItem=void 0;var r=n(31),i=function(e){return e&&e.__esModule?e:{default:e}}(n(827));n(496);var o=r.ngGfnModule.directive("nvGameStoreItem",(function(){return{restrict:"E",scope:{nvGetGame:"&nvGame",nvShowType:"@"},template:i.default,controller:"GameStoreItemController",controllerAs:"gameItem"}}));t.nvGameStoreItem=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gfnGenreGamesController=void 0;var r=n(31).ngGfnModule.controller("gfnGenreGamesController",["$state",function(e){var t=this;switch(t.pageNo=e.params.id,e.params.id){case"action":t.goBackString="l10n.genre.action";break;case"adventure":t.goBackString="l10n.genre.adventure";break;case"arcade":t.goBackString="l10n.genre.arcade";break;case"family":t.goBackString="l10n.genre.family";break;case"fps":t.goBackString="l10n.genre.fps";break;case"puzzle":t.goBackString="l10n.genre.puzzle";break;case"racing":t.goBackString="l10n.genre.racing";break;case"rolePlaying":t.goBackString="l10n.genre.rolePlaying"}}]);t.gfnGenreGamesController=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvGenreGames=void 0;var r=n(31);n(303);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(829));n(498);var o=r.ngGfnModule.directive("nvGenreGames",(function(){return{restrict:"E",template:i.default,controller:"gfnGenreGamesController",controllerAs:"gfnGenreGames"}}));t.nvGenreGames=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gfnGenreItemController=void 0;var r=n(31).ngGfnModule.controller("gfnGenreItemController",["$scope",function(e){var t=this,n=e.nvGenre();t.id=n.genreId,t.img=n.img,t.name=n.spec}]);t.gfnGenreItemController=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvGenreItem=void 0;var r=n(31),i=function(e){return e&&e.__esModule?e:{default:e}}(n(830));n(500);var o=r.ngGfnModule.directive("nvGenreItem",(function(){return{restrict:"E",scope:{nvGenre:"&nvGenre"},template:i.default,controller:"gfnGenreItemController",controllerAs:"gfnGenreItem"}}));t.nvGenreItem=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gfnGenresController=void 0;var r=n(31).ngGfnModule.controller("gfnGenresController",(function(){this.genreList=[{genreId:"action",img:"mocks/assets/gfn/img/genres-action.png",spec:"l10n.genre.action"},{genreId:"adventure",img:"mocks/assets/gfn/img/genres-adventure2.png",spec:"l10n.genre.adventure"},{genreId:"arcade",img:"mocks/assets/gfn/img/genres-arcade2.png",spec:"l10n.genre.arcade"},{genreId:"family",img:"mocks/assets/gfn/img/genres-family2.png",spec:"l10n.genre.family"},{genreId:"fps",img:"mocks/assets/gfn/img/genres-firstpersonshooter.png",spec:"l10n.genre.fps"},{genreId:"puzzle",img:"mocks/assets/gfn/img/genres-puzzle.png",spec:"l10n.genre.puzzle"},{genreId:"racing",img:"mocks/assets/gfn/img/genres-racing.png",spec:"l10n.genre.racing"},{genreId:"rolePlaying",img:"mocks/assets/gfn/img/genres-roleplaying.png",spec:"l10n.genre.rolePlaying"}]}));t.gfnGenresController=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvGfnGenres=void 0;var r=n(31);n(501);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(831));n(502);var o=r.ngGfnModule.directive("nvGfnGenres",(function(){return{restrict:"E",template:i.default,controller:"gfnGenresController",controllerAs:"gfnGenres"}}));t.nvGfnGenres=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.latestGamesController=void 0;var r=n(31);n(64);var i=r.ngGfnModule.controller("LatestGamesController",["$log","tbdService",function(e,t){var n=this;n.latestGameList=[];var r=e.getInstance("main.gfn/LatestGamesController");t.getGfnLatestGames().then((function(e){n.latestGameList=e}),(function(e){r.error("getGfnLatestGames failed with latestGameList: "+e.status)}))}]);t.latestGamesController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvLatestGameItem=t.nvLatestGames=void 0;var i=n(31),o=r(n(833)),a=r(n(832));n(504);var l=i.ngGfnModule.directive("nvLatestGames",(function(){return{restrict:"E",template:o.default,controller:"LatestGamesController",controllerAs:"games"}})),s=i.ngGfnModule.directive("nvLatestGameItem",(function(){return{restrict:"E",scope:{nvGame:"="},template:a.default}}));t.nvLatestGames=l,t.nvLatestGameItem=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gfwslArticleEndpoints=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(12)),i=n(52).ngGfwslSdkModule.provider("gfwslArticleEndpoints",[function(){var e,t;return{setConfig:function(n){e=n.server,t=n.defaultTimeout||t},$get:["NvEndpointFactory","gfwslEndpoints","gfeService","httpTelemetryService","TELEMETRY_ORIGINAL_SERVICE_NAME",function(n,i,o,a,l){var s=new n;s.setDefaultTimeout(t),s.setUrlGenerator((function(e,t){var n,o;return(t=t||{}).gfwslParams?(n=i.getParams(JSON.parse(t.gfwslParams)),delete t.gfwslParams):n=i.getParams({}),o=t.articleUrl||"",delete t.articleUrl,_.isEmpty(n)||(o+=(0,r.default)(n)),o})),s.setHttpFunc((function(t){return a.endpointHttpCallback(t,o.onlineState.online,e,l.GFWSL)}));var c=s.createEndpoint({url:":articleUrl",method:"GET",headers:{telemetry:"GetArticle"},params:{articleUrl:""}});return{getArticleUrl:s.generateFullUrl,getArticle:c}}]}}]);t.gfwslArticleEndpoints=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.rollbackService=void 0;var i=r(n(27)),o=r(n(12)),a=n(10);n(18);var l=n(322),s=a.ngUpdatesModule.service("rollbackService",["$log","$q","$filter","dbService","DB_NAMES","TASK_STATUS","GFECLIENT_CONFIG",function(e,t,n,r,a,s,c){function u(e){return l._.first(n("orderBy")(e,"installDate",!0),b)}function d(e){if(c.rollbackFeatureAllowExternalDriversExperimental)return e;var t=[];return l._.each(e,(function(e){e&&e.downloadStatus&&e.downloadStatus.status&&e.downloadStatus.status!=s.TASK_NOT_STARTED&&(t=l._.union(t,[e]))})),t}function f(e){var t=[];if(e)for(var n=0;n<e.length;n++){var r=e[n];if(r)for(var i=0;i<r.length;i++){for(var o=!1,a=r[i],s=0;s<t.length;s++)a.version?a.version==t[s].version&&a.isCRD==t[s].isCRD&&(angular.isDefined(a.installDate)&&angular.isDefined(t[s].installDate)&&a.installDate>t[s].installDate&&(t[s].installDate=new Date(a.installDate)),o=!0):o=!0;o||(t=l._.union(t,[a]))}}return t}function m(e){if(h){var n=f([e,v]);return n=u(n=d(n)),p.setItem(a.GFE_ROLLBACK_DRIVER_LIST,n),v=n,t.when(v)}return p.getItem(a.GFE_ROLLBACK_DRIVER_LIST).then((function(e){return e,e}),(function(e){y.info("failed to get rollbackList from DB: ",e),t.reject("failed to get rollbackList from DB")})).then((function(t){var n=f([e,v,t]);return n=u(n=d(n)),p.setItem(a.GFE_ROLLBACK_DRIVER_LIST,n),h=!0,v=n})).catch((function(e){h=!1,t.reject("failed updateRollbackList")}))}var p,g=this,v=[],h=!1,b=2;p=r.getGlobalStore(a.GLOBAL_STORE);var y=e.getInstance("main.updates/rollbackService");g.verbose=function(){return 1},g.getInstallDate=function(e){var t=v.find((function(t){return t.version==e.version}));return t?t.installDate:null},g.newDriverInstallComplete=function(e){var t=JSON.parse((0,o.default)(e));return y.info("Called newDriverInstallComplete to update rollbackList DB: ",e),t&&t.downloadStatus&&t.downloadStatus.status&&!l._.isEmpty(t.downloadURL)&&(c.rollbackFeatureAllowExternalDriversExperimental||t.downloadStatus.status!=s.TASK_NOT_STARTED)&&(l._.some(v,(function(t){return t.version==e.version&&t.isCRD==e.isCRD}))||((t=(0,i.default)({},e)).installDate=new Date(Date.now()),angular.isDefined(t.firstInstallDate)||(t.firstInstallDate=new Date(t.installDate)),m([t]))),t},g.getRollbackList=function(){return m([])}}]);t.rollbackService=s},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notificationsController=void 0;var r=n(229);n(188),n(17);var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),o=r.ngNotificationsModule.controller("NotificationsController",["eventAggregator","NOTIFICATION_EVENTS","$scope","jarvisService","dbCacheService","DB_NAMES","COMMON_EVENTS","$log","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","$document","$filter","$timeout",function(e,t,n,r,o,a,l,s,c,u,d,f,m){function p(){return A(),w?(S.isNotificationMenuVisible=!0,void g(!1)):void T.error("notification automatically shown when view state is null returning")}function g(e){S.showIndicator=e,w.showIndicator=e,w.persist_()}function v(e){if(w){var t=new Date,n=e.notifications,r=!1,o=[],a=!1;T.info("notifications data received",n),n.forEach((function(e){if(!i.findWhere(S.notificationList,{callbackData:e.callbackData})){if(w[e.callbackData]){if(w[e.callbackData].removed)return;w[e.callbackData].notificationTs||(w[e.callbackData].notificationTs=t,a=!0),e.availableTime=w[e.callbackData].notificationTs}else r=!0,w[e.callbackData]={notificationTs:t,removed:!1},e.availableTime=t,o.push(e.type);e.readableTime=f("convertUTCToTimeAgo")(e.availableTime),S.notificationList.push(e)}})),T.info("notification list data",S.notificationList),S.notificationList=i.sortBy(S.notificationList,(function(e){return e.availableTime.getTime()})).reverse(),a&&!r&&w.persist_(),r&&(S.notificationList[0].firstNotificationHighResolution&&(w.lastBigNotificationShown=S.notificationList[0].availableTime),w.showIndicator=!0,w.persist_(),i.each(i.uniq(o),(function(e){c.push(u.NOTIFICATION_IN_APP_NEW_ITEMS_AVAILABLE,{category:e,description:""})}))),S.showIndicator=w.showIndicator&&S.notificationList.length>0}else T.error("new notification recieved when view state is null returning")}function h(e){for(var t=0;t<S.notificationList.length;t++)if(S.notificationList[t].callbackData===e){S.notificationList.splice(t,1);break}}function b(e){for(var t=0;t<e.length;t++)h(e[t].callbackData)}function y(){(_=r.getLoggedInUser())?(T.info("fetching notification view state at user logged in"),w=o.getCachedUserItem(_.userId,a.JARVIS_GFE_STORE,a.NOTIFICATIONS_VIEW_STATE),T.info("displaying notification view state at user logged in ",w),w?w.wait_().then((function(){e.trigger(t.VIEWSTATE_INITIALIZED)})):T.error("Unable to fetch notifications view state in user logged in")):(T.info("setting notification view state null at user logged out"),_=null,w=null,S.notificationList=[],S.showIndicator=!1)}var E,S=this,_=r.getLoggedInUser(),w=null,A=null,T=s.getInstance("main.notifications/notificationController");S.notificationList=[],S.showIndicator=!1,S.isNotificationMenuVisible=!1,S.onInit=function(n){A=n,e.on(t.OPEN_NOTIFICATION_MENU,p)},S.getNotificationBadgeNumber=function(){return S.showIndicator&&S.notificationList.length||""},S.onNotificationClicked=function(e){if(w){e.clickToRemove&&(w[e.callbackData].removed=!0,m((function(){h(e.callbackData)}),300)),g(!1),e.callbackFunction&&e.callbackFunction(e.callbackData);var t=e.telemetryDescription||e.callbackData;c.push(u.NOTIFICATION_IN_APP_ITEM_CLICKED,{category:e.type,description:t||""})}else T.error("notification clicked when view state is null returning")},S.showNotifications=function(e){if(!S.nvDisabled){if(e.open(),!w)return void T.error("notification shown when view state is null returning");S.notificationList.forEach((function(e){e.readableTime=f("convertUTCToTimeAgo")(e.availableTime)})),S.isNotificationMenuVisible=!0,g(!1),c.push(u.NOTIFICATION_IN_APP_ICON_CLICKED)}},S.showBigNotification=function(e,t){return w?!(0!==e||!t.firstNotificationHighResolution)&&w.lastBigNotificationShown<=t.availableTime:void T.error("big notification shown when view state is null returning")},S.showTooltip=function(e,t){if(S.isNotificationMenuVisible){var n=angular.element(d[0].querySelector("#"+t+e));if(n&&n[0])return n[0].scrollWidth>n[0].offsetWidth}return!1},n.$on("$destroy",(function(){e.off(t.NEW_NOTIFICATION,v),e.off(t.REMOVE_NOTIFICATION,b),e.off(l.LOGIN_STATUS_CHANGE,y),E()})),E=n.$on("$mdMenuClose",(function(){S.isNotificationMenuVisible=!1})),T.info("initializing notfications controller"),e.on(t.NEW_NOTIFICATION,v),e.on(t.REMOVE_NOTIFICATION,b),e.on(l.LOGIN_STATUS_CHANGE,y),y()}]);t.notificationsController=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvNotifications=void 0;var r=n(229);n(280),n(42);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(835));n(509),n(376);var o=r.ngNotificationsModule.component("nvNotifications",{template:i.default,controller:"NotificationsController",controllerAs:"notifications",bindings:{nvDisabled:"<"}});t.nvNotifications=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeAuthChooseController=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(243)),i=n(9);n(18),n(13),n(17);var o=i.ngOobeModule.controller("OobeAuthChooseController",["$log","gfeService","jarvisService","telemetryService","oobeTelemetryService","OOBE_LOGIN","$q","preferencesService","cefService","GFECLIENT_CONFIG","eventAggregator","COMMON_EVENTS","windowSpawnService","localeService",function(e,t,n,i,o,a,l,s,c,u,d,f,m,p){function g(){d.off(f.CHILD_WINDOW_LOADED,g),A.info("OAuth load completed in time(ms):",new Date-x)}function v(){C||w.onCancelOauth(),d.off(f.CHILD_WINDOW_CLOSED,v),d.off(f.CHILD_WINDOW_LOADED,g)}function h(e){var t=new Date;A.info("user crendentials verification successfull. Attempting session create");var r=n.getUserTokenFromCode(e).then((function(e){return n.loginWithRegistrationToken(e.data.loginToken).then((function(e){return A.info("session create successfull, total time(ms): ",new Date-t),i.setEventsCommonData({userId:e.user.userId},!0),e})).catch((function(e){return A.error("login with registration token failed",e),l.reject(e)}))})).catch((function(e){return A.error("get user token from code failed",e),w.message="l10n.loginServerError",w.showLoadingIndicator=!1,l.reject(e)}));w.showLoadingIndicator=!0;var o=T[I];return w.oobeAuthCtrl.handleLoginAttempt(r,!1,o)}function b(){A.info("Stop the HttpServer provided from cefService"),c.query({command:"QUERY_HTTPSERVER_STOP"})}function y(e){var t=e.indexOf("?")>-1?e.split("?"):e.split("#");if(t.length<1)return null;var n={},i=new URLSearchParams(t[1]),o=!0,a=!1,l=void 0;try{for(var s,c=(0,r.default)(i.entries());!(o=(s=c.next()).done);o=!0){var u=s.value;n[u[0]]=u[1].split("#")[0]}}catch(e){a=!0,l=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw l}}return n}function E(e,t){var r,i={command:"QUERY_HTTPSERVER_START",ports:u.jarvis.portNumbers,redirectUrl:u.jarvis.onCompleteRedirectUrl,redirectParams:u.jarvis.redirectParams};try{c.query(i,!0).then(angular.noop,angular.noop,(function(i){var o;if("serverCreated"===(i=JSON.parse(i)).callbackReason){var a=decodeURIComponent(e);r=i.portNumber.toString(),n.setJarvisOauthRedirectUrlPort(r),a=a.replace("{portNumber}",r),o=m.openChildWindow(a,"app_oauth_window_with_back_button",t,{},!0,null),d.on(f.CHILD_WINDOW_LOADED,g),A.info("New oauth child window should have opened with url: ",e),A.info("Pop-Up window loaded in time(ms):",new Date-x)}else if("httpRequest"===i.callbackReason){var l=y(i.url);if(w.hideOauthDialog(),!_.isEmpty(l))h(l.code);o&&(o.close(),o=null),b()}})).catch((function(e){A.error("No valid response provided from cefService",e),b()}))}catch(e){A.error("No valid response available to fetch Jarvis Code",e)}}function S(e){return A.debug("Show Oauth Dialog",e),I=e,w.oobeAuthCtrl.loginType=a.SOCIAL,w.oobeAuthCtrl.provider=e,n.getOauthUrl(e).then((function(t){w.showOauthDialog(t,D[e].width,D[e].height)}))}var w=this,A=e.getInstance("main.oobe/OobeAuthChooseController"),T={google:"SIGN_IN_WITH_GOOGLE",facebook:"LOGIN_WITH_FACEBOOK",qq:"LOGIN_WITH_QQ",wechat:"LOGIN_WITH_WECHAT",jarvisOAuth:"LOGIN_WITH_JARVIS_OAUTH"},I=void 0,C=!1,x=null,D={google:{width:475,height:675},facebook:{width:475,height:675},qq:{width:475,height:675},wechat:{width:475,height:675},jarvisOAuth:{width:475,height:675}};u.starfleet&&u.starfleet.featureEnabled;w.$onInit=function(){w.message="",o.updateScreen("SCREEN_OOBE_ACCOUNT_CHOOSER"),w.messageTranslateValues={},w.onlineState=t.onlineState,w.showGoogleLogin=!0,w.showFacebookLogin=!0,w.showNvLogin=!0,w.showQqLogin=!0,w.showWechatLogin=!0,w.showLoadingIndicator=!1,s.onUpdateHighlightsDisplayed().then((function(){w.initLogin()}))},w.showOauthDialog=function(e,t,n){c.deleteCookies(".google.com",""),c.deleteCookies(".facebook.com","");var r=n||675,i=t||475,o="toolbar=0,location=0,menubar=0,width="+i+",height="+r+",top="+(window.screenY+window.innerHeight/2-r/2)+",left="+(window.screenX+window.innerWidth/2-i/2);C=!1,d.on(f.CHILD_WINDOW_CLOSED,v),x=new Date,A.info("OAuth Load Started"),E(e,o)},w.hideOauthDialog=function(){C=!0,m.closeChildWindow()},w.onClickNVIDIA=function(){w.onlineState.online&&(o.recordAction("OOBE_LOGIN_WITH_NVIDIA"),w.oobeAuthCtrl.showLogin())},w.initLoginWithJarvisOAuth=function(){if(w.message="",w.onlineState.online){I=a.JARVIS_OAUTH,o.startActionAsync(T[I]);var e=n.getLoginWithOauthUrl({locale:p.getCurrentCMSLocale()});w.showOauthDialog(e,D[I].width,D[I].height)}},w.initLoginWithStarfleetOAuth=function(){},w.onClickGoogle=function(){w.onlineState.online&&(o.startActionAsync("SIGN_IN_WITH_GOOGLE"),S(a.GOOGLE))},w.onClickFacebook=function(){w.onlineState.online&&(o.startActionAsync("LOGIN_WITH_FACEBOOK"),S(a.FACEBOOK))},w.onClickQq=function(){w.onlineState.online&&(o.startActionAsync("LOGIN_WITH_QQ"),S(a.QQ))},w.onClickWeChat=function(){w.onlineState.online&&(o.startActionAsync("LOGIN_WITH_WECHAT"),S(a.WECHAT))},w.messageEventListener=function(e){var t=e.data.code;return A.info("Message received in time(ms) :",new Date-e.data.time),w.hideOauthDialog(),t&&h(t)},w.onCancelOauth=function(){o.endActionAsync(T[I],"CANCELLED")},w.messageBanner=function(){return w.onlineState.online?w.message:"l10n.mustBeOnline"},w.toggleLoginOptions=function(){w.showGoogleLogin=!w.showGoogleLogin,w.showFacebookLogin=!w.showFacebookLogin,w.showNvLogin=!w.showNvLogin,w.showQqLogin=!w.showQqLogin,w.showWechatLogin=!w.showWechatLogin,w.showMoreLogin=!w.showMoreLogin},w.initLogin=function(){w.initLoginWithJarvisOAuth()}}]);t.oobeAuthChooseController=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeAuthChoose=void 0;var r=n(9),i=function(e){return e&&e.__esModule?e:{default:e}}(n(836));n(511);var o=r.ngOobeModule.component("nvOobeAuthChoose",{bindings:{message:"@"},template:i.default,controller:"OobeAuthChooseController",controllerAs:"oobeAuthChooseCtrl",require:{oobeAuthCtrl:"^^nvOobeAuth"}});t.nvOobeAuthChoose=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeAuthController=void 0;var r=n(9);n(17),n(23),n(13),n(11),n(55),n(305);var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),o=r.ngOobeModule.controller("OobeAuthController",["$log","oobeDialogService","telemetryService","dbCacheService","hardwareService","gfeService","nvAccountService","cevoToggleService","jarvisService","oobeTelemetryService","OOBE_STATE","OOBE_LOGIN","eventAggregator","OOBE_EVENTS",function(e,t,n,r,o,a,l,s,c,u,d,f,m,p){function g(e){h.nvActiveAuthView=e,m.trigger(p.AUTH_VIEW_CHANGED,e)}function v(e){s.getAvatarStore().then((function(t){r.getCachedUserItem(e.userId,t.storeName,t.key).sync_().finally((function(){return g("sync"),a.syncData(e).then((function(t){b.info("Sync Complete"),u.endActionAsync("SYNC","SUCCESS"),function(e){var t=!1;o.getLaunchTimeSystemInfo().then((function(e){t=!i.propertyOf(e)("DriverVersion")})).finally((function(){t?h.oobeCtrl.onShowNoDriver():h.oobeCtrl.onLoggedIn(e)}))}(e)}))}))}))}var h=this,b=e.getInstance("main.oobe/OobeAuthController");h.$onInit=function(){h.selectView()},h.selectView=function(){h.nvOobeParams.user?v(h.nvOobeParams.user):(l.deleteJarvisUserToken(),i.propertyOf(h.nvOobeParams)("sessionExpired")?h.showAccountChooser("l10n.sessionExpired"):h.showAccountChooser())},h.showAccountChooser=function(e){h.message=e,g("choose")},h.showLogin=function(e,t){h.loginType=f.TRADITIONAL,h.prefilledLogin=e,h.message=t,g("nvLogin")},h.showRegister=function(){h.registerType=f.TRADITIONAL,g("nvRegister")},h.showRegisterSocial=function(e){h.registerType=f.SOCIAL,h.prefilledRegistration=e,g("nvRegister")},h.showForgotPassword=function(){g("forgotPassword")},h.showEmailVerification=function(e,t){b.debug("showEmailVerification",t),h.sessionObject=e,h.verificationType=t,g("verification")},h.showEditEmail=function(e){b.debug("showEditEmail"),h.sessionObject=e,g("editEmail")},h.showQrCodeForScan=function(e,t){b.debug("showQrCodeScan"),h.sessionObject=e,h.emailVerification=t,b.debug("onRegister",t),"skip"===t?(b.debug("Email verificaiton skipped"),h.handleLoggedIn(e)):(b.debug("Email verificaiont is required"),h.showEmailVerification(e,"registered"))},h.attemptLogin=function(e,t,r){b.info("attempting Login.");var i=c.loginUsernamePassword(e,t).then((function(e){return n.setEventsCommonData({userId:e.user.userId},!0),e}));return h.handleLoginAttempt(i,!1,r)},h.handleLoginAttempt=function(e,n,r){return e.then((function(e){e.user.core.primaryEmailVerified?(b.debug("email verified - start session"),u.endActionAsync(r,"SUCCESS"),h.handleLoggedIn(e)):t.skipEmailVerification(e,h.loginType,h.provider).then((function(t){t?(u.endActionAsync(r,"EMAIL_VERIFICATION_SKIPPED"),h.handleLoggedIn(e)):(b.debug("email not verified - show verification dialog. Address changed:",!0===n),n?(u.endActionAsync(r,"EMAIL_NOT_VERIFIED"),h.showEmailVerification(e,"emailUpdated")):h.attemptResendVerification(e.user.core.primaryEmail).then((function(){b.info("automatically resent verification email"),u.endActionAsync(r,"EMAIL_NOT_VERIFIED")})).catch((function(t){b.error("Failed to re-send verification email automatically. Continue anyway."),u.endActionAsync(r,"EMAIL_NOT_VERIFIED_RESEND_FAILED"),h.showEmailVerification(e)})))}))}))},h.handleLoggedIn=function(e){c.startSession(e).then((function(){t.getState()!==d.COMPLETED_ALL&&t.setState(d.COMPLETED_LOGIN),v(e.user)})).finally((function(){oobeAuthChooseCtrl.showLoadingIndicator=!1}))},h.attemptResendVerification=function(e){return b.debug("re-send verification email pressed."),c.requestVerificationEmail(e)},h.isLeftPaneVisible=function(){return!("choose"===h.nvActiveAuthView)},h.handleLoggedIn({sessionToken:"dummySessionToken",userToken:"dummyUserToken",user:{core:{displayName:"Anonymous",primaryEmailVerified:!0}}})}]);t.oobeAuthController=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeAuthEditEmailController=void 0;var r=n(9);n(13);var i=r.ngOobeModule.controller("OobeAuthEditEmailController",["$log","jarvisService","oobeTelemetryService",function(e,t,n){var r=this,i=e.getInstance("main.oobe/OobeAuthEditEmailController");r.emailChanged=function(){r.emailForm.email.$setValidity("notAvailable",!0)},r.passwordChanged=function(){r.emailForm.password.$setValidity("invalidPassword",!0)},r.onDone=function(){n.startActionAsync("SUBMIT"),r.emailForm.$invalid?(i.debug("tried to submit invalid form"),n.endActionAsync("SUBMIT","INVALID_FORM"),r.emailForm.password.$setTouched(),r.emailForm.email.$setTouched(),r.emailForm.reEnterEmail.$setTouched()):(r.message=null,r.waiting=!0,r.nvSessionObject.user.core.primaryEmail===r.email?(i.debug("Email did not change. Resend verification"),r.oobeAuthCtrl.attemptResendVerification(r.email).then((function(e){n.endActionAsync("SUBMIT","SUCCESS"),r.oobeAuthCtrl.showEmailVerification(r.nvSessionObject,"resent")})).catch((function(e){n.endActionAsync("SUBMIT","HTTP_ERROR",e.status),r.oobeAuthCtrl.showEmailVerification(r.nvSessionObject,"error")}))):(i.debug("Email has changed. Attempt to change email address"),function(e,n,o){return i.info("attemptChangeEmailAddress."),t.changeEmailAddressWithSessionObject(e,n,o).then((function(e){var i=t.loginWithRegistrationToken(e.loginToken,n);return r.oobeAuthCtrl.handleLoginAttempt(i,!0,"SUBMIT")}))}(r.nvSessionObject,r.email,r.password).catch((function(e){n.endActionAsync("SUBMIT","HTTP_ERROR",e.status),r.waiting=!1,401===e.status?(i.debug("Change Email: Invalid credentials"),r.emailForm.password.$setValidity("invalidPassword",!1),r.emailForm.password.$setTouched()):403===e.status?(i.debug("Change Email: Account has no password, must be a social-only account"),r.message="l10n.noPassword"):409===e.status?(i.debug("Change Email: Email address is already being used"),r.emailForm.email.$setValidity("notAvailable",!1),r.emailForm.email.$setTouched()):(i.debug("Change Email: Generic server error. status:",e.status),r.message="l10n.unableToConnect")}))))},r.onCancel=function(){i.debug("cancel pressed"),n.recordAction("OOBE_CANCEL"),r.oobeAuthCtrl.showEmailVerification(r.nvSessionObject,"default")},n.updateScreen("SCREEN_OOBE_EMAIL_EDIT")}]);t.oobeAuthEditEmailController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeAuthEditEmail=void 0;var r=n(9),i=function(e){return e&&e.__esModule?e:{default:e}}(n(837));n(514);var o=r.ngOobeModule.directive("nvOobeAuthEditEmail",[function(){return{restrict:"E",scope:{nvSessionObject:"="},bindToController:!0,template:i.default,controller:"OobeAuthEditEmailController",controllerAs:"oobeAuthEditEmailCtrl",require:"^^nvOobeAuth",link:function(e,t,n,r){e.oobeAuthEditEmailCtrl.oobeAuthCtrl=r}}}]);t.nvOobeAuthEditEmail=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeAuthForgotPasswordController=void 0;var r=n(9);n(13);var i=r.ngOobeModule.controller("OobeAuthForgotPasswordController",["$log","jarvisService","oobeTelemetryService",function(e,t,n){function r(e){n.endActionAsync("SUBMIT","SUCCESS"),o.sentView=!0,o.waiting=!1}function i(e){a.debug("Reset: request failed with status:",e.status),n.endActionAsync("SUBMIT","HTTP_ERROR",e.status),o.waiting=!1,o.message="l10n.unableToSendRecovery"}var o=this,a=e.getInstance("main.oobe/OobeAuthForgotPasswordController");o.onSubmit=function(){n.startActionAsync("SUBMIT"),o.forgotForm.$invalid?(n.endActionAsync("SUBMIT","INVALID_FORM"),a.debug("Submit invalid form"),o.forgotForm.email.$setTouched()):(a.info("attemptResetPassword email"),o.waiting=!0,t.resetPassword(o.email).then(r,i))},o.onCancel=function(){n.recordAction("OOBE_CANCEL"),o.oobeAuthCtrl.showLogin()},o.onDone=function(){n.recordAction("OOBE_DONE"),o.oobeAuthCtrl.showLogin()},n.updateScreen("SCREEN_OOBE_FORGOT_PASSWORD"),o.sentView=!1}]);t.oobeAuthForgotPasswordController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeAuthForgotPassword=void 0;var r=n(9),i=function(e){return e&&e.__esModule?e:{default:e}}(n(838));n(516);var o=r.ngOobeModule.directive("nvOobeAuthForgotPassword",[function(){return{restrict:"E",scope:{},bindToController:!0,template:i.default,controller:"OobeAuthForgotPasswordController",controllerAs:"oobeAuthForgotPasswordCtrl",require:"^^nvOobeAuth",link:function(e,t,n,r){e.oobeAuthForgotPasswordCtrl.oobeAuthCtrl=r}}}]);t.nvOobeAuthForgotPassword=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeAuthNvLoginController=void 0;var r=n(9);n(29),n(17);var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),o=r.ngOobeModule.controller("OobeAuthNvLoginController",["$log","gfeService","oobeTelemetryService","jarvisService",function(e,t,n,r){var o=this,a=e.getInstance("main.oobe/OobeAuthNvLoginController"),l=0;o.validationObject={email:{},password:{}},o.onSubmit=function(){var e=30;n.startActionAsync("SUBMIT"),o.loginForm.$invalid?(a.debug("Submit invalid form"),n.endActionAsync("SUBMIT","INVALID_FORM"),o.loginForm.email.$setTouched(),o.loginForm.password.$setTouched()):(a.debug("Submit valid form, attempt login"),o.waiting=!0,o.oobeAuthCtrl.attemptLogin(o.email,o.password,"SUBMIT").catch((function(t){if(n.endActionAsync("SUBMIT","HTTP_ERROR",i.propertyOf(t)("status")),o.waiting=!1,401===t.status)l+=1,a.debug("Login: invalid credentials attempts: ",l),o.loginForm.email.$setValidity("invalidCredentials",!1),o.loginForm.password.$setValidity("invalidCredentials",!1),o.loginForm.email.$setTouched(),o.loginForm.password.$setTouched(),o.message="l10n.invalidCredentials";else if(403===t.status){a.debug("Login: account temporarily blocked");try{e=Math.ceil(parseInt(t.headers()["retry-after"])/60)}catch(t){a.error("Login: Error parsing retry-after. Defaulting to ",e," minutes")}o.messageTranslateValues.blockedMinutes=e,o.message="l10n.accountBlocked"}else a.debug("Login: generic server failure with status:",t.status),o.message="l10n.loginServerError"})))},o.onClickRegister=function(){n.recordAction("OOBE_NVIDIA_ACCOUNT_CREATE_NEW_ACCOUNT"),o.oobeAuthCtrl.showRegister()},o.onClickForgotPassword=function(){n.recordAction("OOBE_LOGIN_FORGOT_PASSWORD"),o.oobeAuthCtrl.showForgotPassword()},o.onClickBack=function(){n.recordAction("OOBE_BACK"),o.oobeAuthCtrl.showAccountChooser()},o.fieldsChanged=function(){o.loginForm.email.$setValidity("invalidCredentials",!0),o.loginForm.password.$setValidity("invalidCredentials",!0)},o.messageBanner=function(){return o.onlineState.online?o.message:"l10n.mustBeOnline"},n.updateScreen("SCREEN_OOBE_LOGIN_NVIDIA"),r.getFormValidationObject().then((function(e){angular.merge(o.validationObject,e.AuthenticationData)})),o.message=null,o.messageTranslateValues={},o.onlineState=t.onlineState,i.extend(o,o.nvPrefilled)}]);t.oobeAuthNvLoginController=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeAuthNvLogin=void 0;var r=n(9),i=function(e){return e&&e.__esModule?e:{default:e}}(n(839));n(288),n(289),n(518);var o=r.ngOobeModule.directive("nvOobeAuthNvLogin",[function(){return{restrict:"E",scope:{message:"@",nvPrefilled:"="},bindToController:!0,template:i.default,controller:"OobeAuthNvLoginController",controllerAs:"oobeAuthNvLoginCtrl",require:"^^nvOobeAuth",link:function(e,t,n,r){e.oobeAuthNvLoginCtrl.oobeAuthCtrl=r}}}]);t.nvOobeAuthNvLogin=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeAuthNvRegisterController=void 0;var r=n(9);n(13),n(17),n(362),n(22),n(29),n(11);var i=r.ngOobeModule.controller("OobeAuthNvRegisterController",["$log","$translate","$scope","$q","jarvisService","dbCacheService","DB_NAMES","oobeTelemetryService","telemetryService","gfwslService","dialogService","gfeService","oobeOptionsService","gfeTargetService","OOBE_LOGIN","localeService","OOBE_VALIDATION_ELEMENTS","OOBE_VALIDATION_ERRORS",function(e,t,n,r,i,o,a,l,s,c,u,d,f,m,p,g,v,h){function b(e){try{w.error("status:",e.status),w.error("statusText:",e.statusText),w.error("data:",e.data)}catch(e){w.error("no valid response provided from server",e)}}function y(){var e="SUBMIT";return S.nvType===p.SOCIAL&&(S.regModel.provider===p.GOOGLE?e="REGISTER_GOOGLE":S.regModel.provider===p.FACEBOOK?e="REGISTER_FACEBOOK":S.regModel.provider===p.QQ?e="REGISTER_QQ":S.regModel.provider===p.WECHAT&&(e="REGISTER_WECHAT")),e}function E(e){var t=e.subscribe;return e=_.omit(e,"subscribe"),w.info("attemptRegistration"),i.register(e).then((function(n){var r=n.data.loginToken;l.updateFlow("LAUNCH_STATE_REGISTRATION"),w.debug("attemptRegistration Success, now login"),i.loginWithRegistrationToken(r,e.email).then((function(e){l.endActionAsync(y(),"SUCCESS"),s.setEventsCommonData({userId:e.user.userId},!0),w.debug("attemptRegistration login success, now remember newsletter preference ",t),o.syncUser(a.JARVIS_COMMON_STORE,e.user.userId).then(function(e,t){var n=o.getCachedUserItem(e,a.JARVIS_COMMON_STORE,a.SUBSCRIPTIONS);return i.getSubscriptionData(n).state=t,n.persist_()}(e.user.userId,t)).finally((function(){l.changeSetting("APPLICATION_SETTING_SUBSCRIBE_NEWSLETTER",t),S.oobeAuthCtrl.isDomainLocked(e)?S.oobeAuthCtrl.handleLoggedIn(e):S.nvType!==p.SOCIAL||S.regModel.provider!==p.QQ&&S.regModel.provider!==p.WECHAT?S.oobeAuthCtrl.showEmailVerification(e,"created"):(m.setMboxThirdPartyId(e.user&&e.user.userId),w.debug("onEmailVerificationEvaluation"),S.regModel.provider===p.WECHAT?S.oobeAuthCtrl.showQrCodeForScan(e,"skip"):(w.debug("Email verification skipped"),S.oobeAuthCtrl.handleLoggedIn(e)))}))})).catch((function(e){w.error("Login attempt using registration token failed. Falling back to login page."),l.endActionAsync(y(),"LOGIN_FAILED",_.propertyOf(e)("status")),S.oobeAuthCtrl.showLogin()}))}))}var S=this,w=e.getInstance("main.oobe/OobeAuthNvRegisterController");S.validationObject={displayName:{},email:{},password:{}},S.today=new Date,S.displayNameErrorWrapper={},S.emailDisabled=!1,S.locale="en",t("l10n.dateOfBirth").then((function(e){S.dateOfBirthTitle=e})),i.getFormValidationObject().then((function(e){angular.merge(S.validationObject,e.RegistrationData)})),S.onSubmit=function(){if(void 0!==S.regForm.$valid){var e;if(l.startActionAsync(y()),S.regForm.displayName.$setTouched(),S.regForm.email.$setTouched(),S.regForm.password&&S.regForm.password.$setTouched(),S.regForm.$invalid){w.debug("Submit invalid form"),l.endActionAsync(y(),"INVALID_FORM");var t=_.reduce(S.regForm.$error,(function(e,t){return e.concat(t)}))||[];S.regForm.agreeToTerms.$invalid&&1===t.length?S.message="l10n.mustAgreeToTerms":S.message="l10n.fillOutAllFields"}else S.waiting=!0,(e=_.pick(S.regModel,"email","password","birthdate","displayName","thirdPartyId","subscribe")).birthdate=S.regModel.birthdate,e.thirdPartyId&&(e.password=null),w.debug("Submit valid form, attempt registration"),E(e).catch((function(e){var t=_.propertyOf(e)("status");l.endActionAsync(y(),"HTTP_ERROR",_.propertyOf(e)("status")),S.waiting=!1,function(e){return e&&400===e.status&&e.data&&_.findWhere(e.data.details,{field:"birthdate",reason:"VALUE_OUT_OF_RANGE"})}(e)?(w.debug("Register: Failure due to birthdate"),S.regView="coppa"):409===t?e.data&&e.data.details&&e.data.details[0]&&e.data.details[0].field&&e.data.details[0].field===v.NAME&&e.data.details[0].reason&&e.data.details[0].reason===h.DUPLICATE?(w.debug("Register: Failure due to display name not available"),S.regForm.displayName.$setValidity("notAvailable",!1),S.regForm.displayName.$setTouched()):(w.debug("Register: Failure due to email not available"),S.regForm.email.$setValidity("notAvailable",!1),S.regForm.email.$setTouched()):(w.debug("Register: generic server failure with status:",t,e),S.message="l10n.serverErrorRegister")}))}else{S.waiting=!0;var r=n.$watch("oobeAuthNvRegisterCtrl.regForm.$valid",(function(e,t){void 0!==e&&(r(),S.waiting=!1,S.onSubmit())}))}},S.emailChanged=function(){S.regForm.email.$setValidity("notAvailable",!0)},S.regModel={email:"",password:"",birthdate:null,displayName:"",subscribe:!1},S.onClickBack=function(){l.recordAction("OOBE_BACK"),S.nvType===p.SOCIAL?S.oobeAuthCtrl.showAccountChooser():S.oobeAuthCtrl.showLogin()},S.onClickDone=function(){l.recordAction("OOBE_DONE"),S.oobeAuthCtrl.showAccountChooser()},S.onClickAgreeToTerms=function(e){w.debug("click agree to terms"),e.stopPropagation(),w.debug("showTermsAndConditionsDialog"),l.startActionAsync("AGREE_TO_TERMS_LINK"),c.getTermsAndConditions().then((function(e){try{l.endActionAsync("AGREE_TO_TERMS_LINK","SUCCESS"),u.show("nv-dialog-html",{style:"dialog-service-container-size",title:"l10n.termsAndConditions",html:e.data.gfcontent.body,closeButton:{action:u.cancel}})}catch(t){return w.error("parse failure showing terms and conditions"),l.endActionAsync("AGREE_TO_TERMS_LINK","PARSE_ERROR"),r.reject(e)}})).catch((function(e){w.error("http failure showing terms and conditions"),l.endActionAsync("AGREE_TO_TERMS_LINK","HTTP_ERROR",_.propertyOf(e)("status")),b(e)}))},S.onClickPrivacyPolicy=function(e){w.debug("showPrivacyPolicyDialog"),l.startActionAsync("PRIVACY_POLICY_LINK"),c.getPrivacyPolicy().then((function(e){try{l.endActionAsync("PRIVACY_POLICY_LINK","SUCCESS"),u.show("nv-dialog-html",{style:"dialog-service-container-size",title:"l10n.privacyPolicy",html:e.data.gfcontent.body,closeButton:{action:u.cancel}})}catch(t){return w.error("parse failure showing terms and conditions"),l.endActionAsync("PRIVACY_POLICY_LINK","PARSE_ERROR"),r.reject(e)}})).catch((function(e){w.error("http failure showing privacy policy"),l.endActionAsync("PRIVACY_POLICY_LINK","HTTP_ERROR",_.propertyOf(e)("status")),b(e)}))},S.messageBanner=function(){return S.onlineState.online?S.message:"l10n.mustBeOnline"},n.$watch("[oobeAuthNvRegisterCtrl.regForm.displayName.$error,oobeAuthNvRegisterCtrl.regForm.displayName.$touched,oobeAuthNvRegisterCtrl.regForm.displayName.$pending]",(function(){S.regForm&&!S.regForm.displayName.$pending&&(S.displayNameErrorWrapper=angular.copy(S.regForm.displayName.$error),S.regForm.displayName.$touched&&S.regForm.displayName.$invalid||(S.displayNameErrorWrapper={valid:!0}))}),!0),S.locale=g.getCurrentLocale().code,"zh-CHS"===S.locale?S.locale="zh-CN":"zh-CHT"===S.locale&&(S.locale="zh-TW"),w.debug("Locale obtained:",S.locale),S.regView="register",S.nvType===p.SOCIAL?(l.updateScreen("SCREEN_OOBE_REGISTRATION_SOCIAL"),S.title="l10n.almostDone"):(l.updateScreen("SCREEN_OOBE_REGISTRATION_NVIDIA"),S.title="l10n.createAccount"),S.onlineState=d.onlineState,angular.merge(S.regModel,S.nvPrefilled),S.nvType===p.SOCIAL&&S.regModel.email&&S.regModel.email.length>0&&(S.emailDisabled=!0),S.waiting=!0,f.isNewsLetterChecked().then((function(e){S.regModel.subscribe=e})).catch((function(e){S.regModel.subscribe=!1})).finally((function(){S.waiting=!1}))}]);t.oobeAuthNvRegisterController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeAuthNvRegister=void 0;var r=n(9),i=function(e){return e&&e.__esModule?e:{default:e}}(n(840));n(520),n(286),n(288),n(295),n(341),n(168),n(345),n(289);var o=r.ngOobeModule.directive("nvOobeAuthNvRegister",[function(){return{restrict:"E",scope:{nvType:"@",nvPrefilled:"="},bindToController:!0,template:i.default,controller:"OobeAuthNvRegisterController",controllerAs:"oobeAuthNvRegisterCtrl",require:"^^nvOobeAuth",link:function(e,t,n,r){e.oobeAuthNvRegisterCtrl.oobeAuthCtrl=r}}}]);t.nvOobeAuthNvRegister=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeAuthQrCodeController=void 0;var r=n(9).ngOobeModule.controller("OobeAuthQrCodeController",["$log",function(e){var t=this,n=e.getInstance("main.oobe/OobeAuthQrCodeController");t.onContinue=function(){n.debug("onContinue",t.nvSkipEmailVerification,t.nvSessionObject),"skip"===t.nvEmailVerification?(n.debug("Email verificaiton skipped"),t.oobeAuthCtrl.handleLoggedIn(t.nvSessionObject)):(n.debug("Email verificaiont is required"),t.oobeAuthCtrl.showEmailVerification(t.nvSessionObject,"registered"))}}]);t.oobeAuthQrCodeController=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeAuthQrCode=void 0;var r=n(9),i=function(e){return e&&e.__esModule?e:{default:e}}(n(841));n(522);var o=r.ngOobeModule.directive("nvOobeAuthQrCode",[function(){return{restrict:"E",scope:{nvSessionObject:"=",nvEmailVerification:"@"},bindToController:!0,template:i.default,controller:"OobeAuthQrCodeController",controllerAs:"oobeAuthQrCodeCtrl",require:"^^nvOobeAuth",link:function(e,t,n,r){e.oobeAuthQrCodeCtrl.oobeAuthCtrl=r}}}]);t.nvOobeAuthQrCode=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeAuthSyncController=void 0;var r=n(9);n(165),n(13),n(11),n(55);var i=r.ngOobeModule.controller("OobeAuthSyncController",["$log","jarvisService","dbCacheService","oobeTelemetryService","cevoToggleService","DEFAULT_AVATAR",function(e,t,n,r,i,o){var a=this;e.getInstance("main.oobe/OobeAuthSyncController"),a.$onInit=function(){var e=t.getLoggedInUser();a.defaultAvatarUrl=o.URL,r.updateScreen("SCREEN_OOBE_LOADING_DATA"),a.displayName=e.core.displayName,i.getAvatarStore(e.userId).then((function(t){a.avatar=n.getCachedUserItem(e.userId,t.storeName,t.key)})),r.startActionAsync("SYNC")}}]);t.oobeAuthSyncController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeAuthSync=void 0;var r=n(9),i=function(e){return e&&e.__esModule?e:{default:e}}(n(842));n(524);var o=r.ngOobeModule.component("nvOobeAuthSync",{template:i.default,controller:"OobeAuthSyncController",controllerAs:"oobeAuthSyncCtrl"});t.nvOobeAuthSync=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeAuthVerificationController=void 0;var r=n(9);n(13),n(17);var i=r.ngOobeModule.controller("OobeAuthVerificationController",["$log","$q","jarvisService","oobeTelemetryService","$element",function(e,t,n,r,i){var o=this,a=e.getInstance("main.oobe/OobeAuthVerificationController");o.$onInit=function(){r.updateScreen("SCREEN_OOBE_EMAIL_VERIFICATION"),"created"===o.nvType?o.title="l10n.accountCreated":o.title="l10n.emailVerificationPending","resent"===o.nvType?o.message="l10n.verificationEmailResent":"error"===o.nvType?o.message="l10n.unableToSendEmail":"emailUpdated"===o.nvType&&(o.message="l10n.emailAddressUpdated"),o.translateValues={email:o.nvSessionObject.user.core.primaryEmail}},o.onRecheck=function(){a.debug("re-check verification pressed"),r.startActionAsync("CONTINUE"),o.waiting=!0,function(e){return a.info("attemptRecheckVerification"),n.getUserProfileWithSessionObject(e).then((function(n){return e.user=n.data,e.user.core.primaryEmailVerified?(a.debug("attemptRecheckVerification - now verified"),r.endActionAsync("CONTINUE","SUCCESS"),void o.oobeAuthCtrl.handleLoggedIn(e)):(a.debug("attemptRecheckVerification - still unverified"),r.endActionAsync("CONTINUE","EMAIL_NOT_VERIFIED"),t.reject(n))}))}(o.nvSessionObject).catch((function(e){o.waiting=!1,200===e.status?(a.debug("Recheck: endpoint request was successful, but email still not verified"),o.message="l10n.notBeenVerified"):401===e.status?(a.debug("Recheck: session is no longer valid"),o.oobeAuthCtrl.nvOobeParams=o.oobeAuthCtrl.nvOobeParams||{},o.oobeAuthCtrl.nvOobeParams.sessionExpired=!0,o.oobeAuthCtrl.selectView(),r.endActionAsync("CONTINUE","HTTP_ERROR",e.status)):(a.debug("Recheck: generic server error. status:",e.status),o.message="l10n.unableToConnect",r.endActionAsync("CONTINUE","HTTP_ERROR",e.status))}))},o.onResend=function(){r.startActionAsync("RESEND"),o.waiting=!0,o.oobeAuthCtrl.attemptResendVerification(o.nvSessionObject.user.core.primaryEmail).then((function(e){a.debug("Resend: successfully sent email"),r.endActionAsync("RESEND","SUCCESS"),o.waiting=!1,o.message="l10n.verificationEmailResent"})).catch((function(e){a.debug("Resend: failed to send email."),r.endActionAsync("RESEND","HTTP_ERROR",e.status),o.waiting=!1,o.message="l10n.unableToSendEmail"}))},o.isOverflowed=function(e){var t=angular.element(i[0].querySelector("#"+e));return!(!t||!t[0])&&t[0].scrollWidth>t[0].offsetWidth},o.onChangeUser=function(){a.debug("change user pressed"),r.recordAction("OOBE_CHANGE_USER_PROGRESS"),o.oobeAuthCtrl.showAccountChooser()},o.onEditEmail=function(){a.debug("edit email pressed"),r.recordAction("OOBE_EDIT_EMAIL"),o.oobeAuthCtrl.showEditEmail(o.nvSessionObject)}}]);t.oobeAuthVerificationController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeAuthVerification=void 0;var r=n(9),i=function(e){return e&&e.__esModule?e:{default:e}}(n(843));n(526);var o=r.ngOobeModule.component("nvOobeAuthVerification",{bindings:{nvSessionObject:"<",nvType:"@"},template:i.default,controller:"OobeAuthVerificationController",controllerAs:"oobeAuthVerificationCtrl",require:{oobeAuthCtrl:"^^nvOobeAuth"}});t.nvOobeAuthVerification=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeAuth=void 0;var r=n(9),i=function(e){return e&&e.__esModule?e:{default:e}}(n(844));n(513),n(512),n(519),n(521),n(525),n(517),n(527),n(515),n(523);var o=r.ngOobeModule.component("nvOobeAuth",{bindings:{nvActiveAuthView:"@",nvOobeParams:"<"},template:i.default,controller:"OobeAuthController",controllerAs:"oobeAuthCtrl",require:{oobeCtrl:"^^nvOobe"}});t.nvOobeAuth=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeBlocked=void 0;var r=n(9),i=function(e){return e&&e.__esModule?e:{default:e}}(n(845)),o=r.ngOobeModule.component("nvOobeBlocked",{template:i.default,bindings:{additionalInfoLink:"@"},controller:function(){this.additionalInfoLink="http://www.nvidia.com/object/support.html"},controllerAs:"oobeBlockedCtrl"});t.nvOobeBlocked=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeDialogLeftSide=void 0;var r=n(9),i=function(e){return e&&e.__esModule?e:{default:e}}(n(846)),o=r.ngOobeModule.component("nvOobeDialogLeftSide",{template:i.default});t.nvOobeDialogLeftSide=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeController=void 0;var r=n(9);n(189),n(29);var i=r.ngOobeModule.controller("OobeController",["$log","oobeDialogService","oobeGamesService","gfeService","OOBE_STATE","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","eventAggregator","OOBE_EVENTS","$document",function(e,t,n,r,i,o,a,l,s,c){function u(e){d.nvActiveView=e}var d=this,f=e.getInstance("main.oobe/OobeController"),m=void 0;d.$onInit=function(){d.nvOobeParams.user?d.nvOobeParams.initialState===i.COMPLETED_LOGIN?d.showAuth():(o.push(a.FRONTEND_PARSER_ERROR_OOBE_EXIT_SCREEN_EMPTY,{errorMessage:"Current initialState is "+d.nvOobeParams.initialState}),f.error("Unknown logged in OOBE state",d.nvOobeParams.initialState)):d.showAuth()},d.showAuth=function(){u("auth")},d.onLoggedIn=function(e){f.info("onLoggedIn"),r.login(e),t.getState()!==i.COMPLETED_ALL?(f.info("handleloggedin - show welcome"),u("ulWelcome")):(f.info("handleloggedin - dismiss"),n.initializeGames(e),t.notifyNodeOOBEFinished(),t.close("SUCCESS"))},d.onShowNoDriver=function(){u("noDriver")},d.onJarvisOAuthLogin=function(){return"auth"===d.nvActiveView&&"choose"===m},l.on(s.AUTH_VIEW_CHANGED,(function(e){m=e})),c.ready((function(){angular.element(c[0].querySelectorAll(".md-panel-outer-wrapper.ng-scope")).attr("aria-hidden",!0)}))}]);t.oobeController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobe=void 0;var r=n(9),i=function(e){return e&&e.__esModule?e:{default:e}}(n(847));n(531),n(537),n(528),n(534);var o=r.ngOobeModule.component("nvOobe",{bindings:{nvActiveView:"@",nvOobeParams:"<"},template:i.default,controller:"OobeController",controllerAs:"oobeCtrl"});t.nvOobe=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeNoDriverController=void 0;var r=n(9).ngOobeModule.controller("OobeNoDriverController",["$log","oobeDialogService","oobeTelemetryService",function(e,t,n){var r=e.getInstance("main.oobe/OobeNoDriverController");this.$onInit=function(){n.updateScreen("SCREEN_OOBE_NO_DRIVER")},this.onClickContinue=function(){r.debug("redirect to driver page"),n.recordAction("OOBE_CONTINUE"),t.waitForDriverInstall()}}]);t.oobeNoDriverController=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeNoDriver=void 0;var r=n(9),i=function(e){return e&&e.__esModule?e:{default:e}}(n(848));n(533);var o=r.ngOobeModule.component("nvOobeNoDriver",{template:i.default,controller:"OobeNoDriverController",controllerAs:"oobeNoDriverCtrl"});t.nvOobeNoDriver=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeOptionsService=void 0;var r=n(9);n(306),n(11);var i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(3)),r.ngOobeModule.factory("oobeOptionsService",["$log","dbService","DB_NAMES","$q","gfeTargetService","ACTIVE_EXPERIMENTS",function(e,t,n,r,i,o){var a={},l=(t.getGlobalStore(n.GLOBAL_STORE),e.getInstance("main.oobe/oobeOptionsServices"));return a.isNewsLetterChecked=function(){return i.getVariant({activityName:o.NEWSLETTER_DEFAULT_ENABLED}).then((function(e){return e})).catch((function(e){return l.error("Target response failed",e),r.reject(e)}))},a}]));t.oobeOptionsService=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeUlWelcomeController=void 0;var r=n(9);n(305),n(293);var i=r.ngOobeModule.controller("OobeUlWelcomeController",["$log","oobeTelemetryService","oobeFeatureService","oobeGamesService","OOBE_SCAN_STATE","eventAggregator","OOBE_EVENTS","oobeDialogService","OOBE_STATE","productTourService",function(e,t,n,r,i,o,a,l,s,c){function u(e){m.info("oobe scan games finished"),f.gameScanFinished=!0}function d(e){m.info("oobe game list updated ",e),f.translateValues.numGamesScanned=e}var f=this,m=e.getInstance("main.oobe/OobeUlWelcomeController");f.onAutoOptimizeChanged=function(){r.setAutoOptimizeGames(f.autoOptimize)},f.onDismissDialog=function(e){m.info("oobe done"),l.setState(s.COMPLETED_ALL),o.off(a.SCAN_FINISHED,u),o.off(a.GAMELIST_UPDATED,d),e?(m.info("oobe Tour Dialog initiated"),t.recordAction("OOBE_SHOW_PRODUCT_TOUR"),c.startOobeTour(!1)):(m.info("oobe Tour Dialog canceled"),t.recordAction("OOBE_SKIP_PRODUCT_TOUR")),n.closeOobeFeaturesDialog()},f.$onInit=function(){t.updateScreen("SCREEN_OOBE_UL_WELCOME"),f.autoOptimize=!0,n.activateDefaultFeatureSettings(f.autoOptimize),f.translateValues={numGamesScanned:r.getGamesCount()},r.getScanState()===i.SCANNING?(m.info("oobe scan state scanning"),f.gameScanFinished=!1,o.on(a.SCAN_FINISHED,u),o.on(a.GAMELIST_UPDATED,d)):(m.info("oobe scan state done"),f.gameScanFinished=!0)}}]);t.oobeUlWelcomeController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeUlWelcome=void 0;var r=n(9),i=function(e){return e&&e.__esModule?e:{default:e}}(n(849));n(536),n(530);var o=r.ngOobeModule.component("nvOobeUlWelcome",{template:i.default,controller:"OobeUlWelcomeController",controllerAs:"oobeUlWelcomeCtrl"});t.nvOobeUlWelcome=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.editAvatarController=void 0;var r=n(4);n(13),n(22),n(165),n(55),n(162);var i=r.ngPreferencesModule.controller("EditAvatarController",["$log","jarvisService","dialogService","cmsService","toastService","$filter","dbCacheService","cevoToggleService","DEFAULT_AVATAR","CROPPIE_CONSTANTS","$scope",function(e,t,n,r,i,o,a,l,s,c,u){var d,f=this,m=t.getLoggedInUser(),p=e.getInstance("main.preferences/EditAvatarController"),g=!1,v=!1,h={title:"l10n.updateAvatar",button1:{text:"l10n.done",action:function(){v?(f.hitApply=!0,f.output.then((function(e){f.avatarObject.url=e,angular.merge(d,f.avatarObject),d.persist_()}))):(angular.merge(d,f.avatarObject),d.persist_()),p.debug("successfully updated avatar image"),n.cancel()},disabled:!0},button2:{text:"l10n.cancel",action:n.cancel}},b=(c.SUPPORTED_FILE_TYPES,{w:480,h:200}),y={w:200,h:200};f.avatarList=null,f.defaultAvatarUrl=s.URL,f.hitApply=!1,f.userProfileEnabled=!1,f.croppieBoundary=b,f.croppieViewport=y,f.outputFormat={minSize:y},f.selectAvatar=function(e){e&&(f.nvDialogModel&&f.nvDialogModel.button1&&d&&(f.nvDialogModel.button1.disabled=d.url===e.url),f.avatarObject.url=e.url,v=!1,g=!1)},f.onUpdate=function(e){e.error?(g=!0,f.errorMsg=o("translate")("l10n.fileSelectionError",f.outputFormat.minSize),f.nvDialogModel.button1.disabled=!0,p.error("onUpdate got error",e.error)):e.success&&(g=!1,f.nvDialogModel.button1.disabled=!1)},f.showCroppie=function(){return v&&!g&&f.userProfileEnabled},f.showPreview=function(){return!v&&!g},f.showError=function(){return g},f.onFileSelect=function(e){f.sourceImage=e,v=!0},l.getUserProfileEnabled().then((function(e){f.userProfileEnabled=e,f.userProfileEnabled&&(h.subTitle=o("translate")("l10n.minimumRequiredSize",y)),angular.merge(f.nvDialogModel,h)})),l.getAvatarStore(m.userId).then((function(e){d=a.getCachedUserItem(m.userId,e.storeName,e.key),f.avatarObject=_.omit(d,(function(e,t){return"_"===t.substr(t.length-1)}))})),r.getAvatarMetaData("https://static.nvidiagrid.net/avatars/avatars.js").then((function(e){f.avatarList=e.data})).catch((function(e){p.debug("failed to query avatar list "+e),i.showError({textContent:o("translate")("l10n.somethingWentWrong")})})),u.$on("$destroy",(function(){p.info("Destroying edit avatar")}))}]);t.editAvatarController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvEditEmailResultDialog=void 0;var r=n(9),i=function(e){return e&&e.__esModule?e:{default:e}}(n(851)),o=r.ngOobeModule.directive("nvEditEmailResultDialog",[function(){return{restrict:"A",scope:{},bindToController:{nvDialogModel:"="},template:i.default,controller:[function(){}],controllerAs:"emailUpdatedCtrl"}}]);t.nvEditEmailResultDialog=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.editEmailService=void 0;var r=n(4);n(22),n(13),n(539),n(284),n(285);var i=r.ngPreferencesModule.service("editEmailService",["$log","dialogService","jarvisService","$q",function(e,t,n,r){var i=this,o=e.getInstance("main.preferences/preferencesService"),a=n.getLoggedInUser(),l="";i.updateEmail=function(e){l=e,i.attemptResendVerification(e).then((function(e){i.showEmailVerificationDialog(t.model.sessionObject,"l10n.verificationEmailResent")})).catch((function(e){i.showEmailVerificationDialog(t.model.sessionObject,"l10n.unableToSendEmail")}))},i.resendVerification=function(){o.info("change email: resendVerification"),o.debug("re-send verification email pressed"),t.model.waiting=!0,i.attemptResendVerification(t.model.translateValues.email).then((function(e){o.debug("Resend: successfully sent email"),t.model.waiting=!1,t.model.error="l10n.verificationEmailResent"})).catch((function(e){o.debug("Resend: failed to send email."),t.model.waiting=!1,t.model.error="l10n.unableToSendEmail"}))},i.attemptResendVerification=function(e){return o.info("attemptResendVerification."),r.resolve()},i.changeEmailWithTwoFactorAuthentication=function(){t.model.waiting=!0,i.attemptChangeEmailWithTwoFactorAuthentication(t.model.sessionObject,t.model.translateValues.email).then((function(e){o.debug("changeEmailWithTwoFactorAuthentication: successfully updated email"),t.model.waiting=!1,i.showEmailUpdatedDialog(t.model.translateValues.email)})).catch((function(e){o.debug("changeEmailWithTwoFactorAuthentication: failed updating email."),t.model.waiting=!1}))},i.attemptChangeEmailWithTwoFactorAuthentication=function(e,t){return o.info("attemptChangeEmailWithTwoFactorAuthentication."),r.resolve()},i.showEmailUpdatedDialog=function(e){o.info("email updated successfully."),t.show("nv-edit-email-result-dialog",{title:"l10n.emailUpdatedSuccessfully",newEmail:e,button1:{text:"l10n.continue",action:t.cancel}})},i.showEmailVerificationDialog=function(e,n,r){o.debug("change email: show email verification dialog");var s={style:"honeycomb-square",title:n||"l10n.emailVerificationPending",error:r,translateValues:{email:l},sessionObject:e,editMailAddress:function(){o.debug("edit email pressed on email verification dialog"),e.user=a,t.show("nv-dialog-edit-email",{title:"l10n.changeEmailAddress",sessionObject:e,is2FactorAuthentication:!0,actionVerifyEmail:i.updateEmail,actionCancelUpdateEmail:t.cancel()})},button1:{text:"l10n.continue",action:i.changeEmailWithTwoFactorAuthentication},button2:{text:"l10n.cancel",action:t.cancel},button3:{text:"l10n.resendVerification",action:i.resendVerification}};t.show("nv-dialog-email-verification",s)}}]);t.editEmailService=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.editPasswordController=void 0;var r=n(4);n(22),n(13);var i=r.ngPreferencesModule.controller("EditPasswordController",["$log","dialogService","jarvisService","$filter",function(e,t,n,r){var i=this,o=e.getInstance("main.preferences/EditPasswordController"),a={title:r("translate")("l10n.changePassword"),button1:{text:"l10n.done",action:function(){if(o.debug("attempt to send change password request"),i.passwordForm.currentPassword.$setTouched(),i.passwordForm.changedPassword.$setTouched(),i.passwordForm.confirmedPassword.$setTouched(),i.passwordForm.$invalid)return o.debug("password fields are not met validation, cannot make change request"),void(i.nvDialogModel.error="l10n.fillOutAllFields");i.nvDialogModel.error="",i.nvDialogModel.waiting=!0;var e={token:"",currentPassword:i.nvDialogModel.passwordModel.currentPassword,newPassword:i.nvDialogModel.passwordModel.changedPassword};n.changePassword(e).then((function(e){o.debug("change password succeed"),t.cancel()})).catch((function(e){o.error("change password failed"),i.nvDialogModel.waiting=!1,400===e.status?(o.debug("failure due to bad request"),i.nvDialogModel.error="l10n.unableToConnectToNvidia"):401===e.status?(o.debug("failure due to authrization failed"),i.nvDialogModel.error="l10n.incorrectPassword",i.passwordForm.changedPassword.$setValidity("invalidPassword",!1),i.passwordForm.changedPassword.$setTouched()):(o.debug("generic failure with status",e.status),i.nvDialogModel.error="l10n.unableToConnectToNvidia")}))}},button2:{text:"l10n.cancel",action:t.cancel},passwordModel:{currentPassword:"",changedPassword:"",confirmedPassword:""}};i.validationObject={password:{}},n.getFormValidationObject().then((function(e){angular.merge(i.validationObject,e.RegistrationData)})),angular.merge(i.nvDialogModel,a)}]);t.editPasswordController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvEditPassword=void 0;var r=n(4);n(286),n(287),n(168);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(852));n(541);var o=r.ngPreferencesModule.directive("nvEditPassword",[function(){return{restrict:"A",scope:{},bindToController:{nvDialogModel:"="},template:i.default,controller:"EditPasswordController",controllerAs:"editPasswordCtrl"}}]);t.nvEditPassword=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.featureDescriptionController=void 0;var r=n(4).ngPreferencesModule.controller("FeatureDescriptionController",["$window","$log","FEATURES_NAME","localeService","COMMON_DYNAMIC_REDIRECT","FEATURE_CRITERIA","preferencesFeatureService","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_UI_PROGRESS_NAMES","TELEMETRY_SCREENS","TELEMETRY_ACTIONS","eventAggregator","COMMON_EVENTS",function(e,t,n,r,i,o,a,l,s,c,u,d,f,m){var p=this,g=t.getInstance("main.preferences/FeatureDescriptionController");p.openLink=function(){g.info("SystemRequirements redirects to url:: ",p.systemRequirement.url),e.open(p.systemRequirement.url)},p.openSupportedGamesLink=function(){g.info("Supported Games redirects to url:: ",p.supportedGames.url),e.open(p.supportedGames.url)},p.showDriverDownloadButton=function(e){return(e.name===o.DRIVER||e.name===o.DRIVER_ALT)&&p.updateDriver},p.onDownloadClicked=function(){l.push(s.DOWNLOAD_LATEST_DRIVER_UPDATE,{name:c.LATEST_DRIVER_UPDATE,currentScreen:u.SCREEN_PREFERENCES_GENERAL,action:d.DOWNLOAD}),f.trigger(m.UPDATE_DRIVER_FROM_PREFERENCES)},function(){p.requirements=p.nvFeatureRequirements,p.featureName=p.nvFeatureName,p.systemRequirement=function(){var e;switch(p.featureName){case n.GAME_OPS:case n.SHARE:case n.ANSEL:case n.FREESTYLE:e=i.SYSTEM_REQS;break;case n.GAME_STREAM:e=i.GAME_STREAM_REQUIREMENTS;break;case n.VIRTUAL_REALITY:e=i.VR_REQUIREMENTS;break;case n.BATTERY_BOOST:e=null;break;case n.QUIET_MODE:e=null;break;case n.QUIET_MODE2:e=null}return e?{url:i.BASE_URL+r.getCurrentLocaleWithUnderscore()+"&page="+e,text:"l10n.viewSystemRequirements"}:null}(),p.supportedGames=function(){var e;switch(p.featureName){case n.ANSEL:case n.FREESTYLE:e=p.featureName;break;case n.GAME_STREAM:case n.VIRTUAL_REALITY:case n.BATTERY_BOOST:case n.QUIET_MODE:case n.GAME_OPS:case n.SHARE:e=null}return e?{url:i.BASE_URL+r.getCurrentLocaleWithUnderscore()+"&page="+i.SUPPORTED_GAMES+"#"+e.toLowerCase(),text:"l10n.viewSupportedGames"}:null}(),p.updateDriver=!1;try{p.featureState=JSON.parse(p.nvOverallState)}catch(e){g.error("Could not parse overallState for feature",p.featureName),p.featureState=!1}p.featureState||a.isDriverUpdateRequiredForSupport(p.featureName).then((function(e){e&&(p.updateDriver=!0)}))}()}]);t.featureDescriptionController=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvFeatureDescription=void 0;var r=n(4);n(35);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(853));n(543);var o=r.ngPreferencesModule.component("nvFeatureDescription",{bindings:{nvFeatureName:"@",nvFeatureRequirements:"=",nvOverallState:"@"},template:i.default,controller:"FeatureDescriptionController",controllerAs:"featureDescription"});t.nvFeatureDescription=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.featureHeaderController=void 0;var i=n(4),o=r(n(726)),a=r(n(725)),l=i.ngPreferencesModule.controller("FeatureHeaderController",["$scope","FEATURES_NAME",function(e,t){var n=this;n.featureName=n.nvFeatureName,n.featureDescription=n.nvFeatureDescription,e.quietMode2=t.QUIET_MODE2,n.featureThumbnail=function(){switch(n.nvFeatureTile){case t.GAME_OPS:return"icon-guage";case t.GAME_STREAM:return"icon-gamestream";case t.ACE_MODES:case t.BATTERY_BOOST:case t.BATTERY_BOOST2:return"icon-batteryboost";case t.QUIET_MODE:return"icon-quiet-mode";case t.SHARE:return"icon-share";case t.VIRTUAL_REALITY:return"icon-VR";case t.ANSEL:return"icon-share_camera";case t.FREESTYLE:return"icon-freestyle";case t.QUIET_MODE2:return"true"==String(n.nvOverallState)?o.default:"false"==String(n.nvOverallState)?a.default:void 0}}(),e.$watch("nvFeatureDescription",(function(e){n.featureDescription=n.nvFeatureDescription}))}]);t.featureHeaderController=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvFeatureHeader=void 0;var r=n(4);n(35),n(15);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(854));n(545);var o=r.ngPreferencesModule.component("nvFeatureHeader",{bindings:{nvFeatureTile:"@",nvFeatureName:"@",nvFeatureDescription:"@",nvOverallState:"@"},template:i.default,controller:"FeatureHeaderController",controllerAs:"featureHeader"});t.nvFeatureHeader=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.licenseAgreementController=void 0;var r=n(4);n(22),n(25);var i=r.ngPreferencesModule.controller("LicenseAgreementController",["$log","$q","preferencesService",function(e,t,n){var r=this;r.licenseAgreement="";var i=e.getInstance("main.preferences/LicenseAgreementController");n.getLicenseAgreement().then((function(e){r.licenseAgreement=e.data,r.nvDialogModel.title="l10n.licenseTitle"})).catch((function(e){return i.error("error getting license",e),t.reject()})),r.nvDialogModel.titleStyle={"font-size":"1.15em"}}]);t.licenseAgreementController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvLicenseAgreement=void 0;var r=n(4),i=function(e){return e&&e.__esModule?e:{default:e}}(n(855));n(547);var o=r.ngPreferencesModule.directive("nvLicenseAgreement",[function(){return{restrict:"A",scope:{},bindToController:{nvDialogModel:"="},template:i.default,controller:"LicenseAgreementController",controllerAs:"licenseAgreementCtrl"}}]);t.nvLicenseAgreement=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openSourceLicensesController=void 0;var r=n(4);n(22),n(25);var i=r.ngPreferencesModule.controller("OpenSourceLicensesController",["$log","$q","preferencesService",function(e,t,n){var r=this;r.OpenSourceLicenses="";var i=e.getInstance("main.preferences/OpenSourceLicensesController");n.getOpenSourceLicenses().then((function(e){r.OpenSourceLicenses=e.data,r.nvDialogModel.title="l10n.OSSLicenseTitle"})).catch((function(e){return i.error("error getting OSS license",e),t.reject()})),r.nvDialogModel.titleStyle={"font-size":"1.15em"}}]);t.openSourceLicensesController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvOpenSourceLicenses=void 0;var r=n(4),i=function(e){return e&&e.__esModule?e:{default:e}}(n(856));n(549);var o=r.ngPreferencesModule.directive("nvOpenSourceLicenses",[function(){return{restrict:"A",scope:{},bindToController:{nvDialogModel:"="},template:i.default,controller:"OpenSourceLicensesController",controllerAs:"openSourceLicensesCtrl"}}]);t.nvOpenSourceLicenses=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesAccountsAvatar=void 0;var r=n(4),i=function(e){return e&&e.__esModule?e:{default:e}}(n(857));n(142);var o=r.ngPreferencesModule.directive("nvPreferencesAccountsAvatar",(function(){return{restrict:"E",template:i.default,require:"^^nvPreferencesAccounts",link:function(e,t,n,r){e.preferencesAccounts=r}}}));t.nvPreferencesAccountsAvatar=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesAccountsController=void 0;var r=n(4);n(13),n(22),n(540),n(11),n(165),n(285),n(542),n(284),n(307),n(296),n(55);var i=r.ngPreferencesModule.controller("PreferencesAccountsController",["$log","jarvisService","dialogService","editEmailService","dbCacheService","DB_NAMES","$window","localeService","cevoToggleService","COMMON_DYNAMIC_REDIRECT","DEFAULT_AVATAR","weChatService","WECHAT_CONSTANTS","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_SCREENS",function(e,t,n,r,i,o,a,l,s,c,u,d,f,m,p,g){function v(){E.debug("refreshing session store status"),t.getSessionStoreStatus().then((function(e){b.isUserRememberedOnMachine=e,E.debug("session store status set to "+b.isUserRememberedOnMachine)})).catch((function(){b.isUserRememberedOnMachine=!1,E.debug("session store status set to disabled")}))}var h,b=this,y=t.getLoggedInUser();b.showNewsletter=!1;var E=e.getInstance("main.preferences/preferencesAccounts");b.toggleNewsletter=function(){h.persist_();var e=t.getSubscriptionData(h);m.setScreen(g.SCREEN_PREFERENCES_ACCOUNT);var n=e&&e.state;m.changeSetting(p.APPLICATION_SETTING_SUBSCRIBE_NEWSLETTER,n)},b.setUserRememberedOnMachine=function(){E.debug("user selects to store remember currently logged in session :"+b.isUserRememberedOnMachine),t.setSessionStoreStatus(b.isUserRememberedOnMachine).then(v,v)},b.isUserRememberedOnMachine=void 0,b.isEditingPersonalInfo=!1,b.removeLinkedAccounts=function(e){},b.linkAccounts=function(){},b.removeAllDevices=function(){},b.tryUpdatePersonalInformation=function(e){var t=c.BASE_URL+l.getCurrentLocaleWithUnderscore()+"&page="+c.ACCOUNT_MANAGEMENT;E.info("Edit personal information redirects to url:: ",t),a.open(t)},b.tryUpdatePrivacyPreferences=function(e){var t=c.BASE_URL+l.getCurrentLocaleWithUnderscore()+"&page="+c.PRIVACY_PREFERENCES;E.info("Edit privacy preferences redirects to: ",t),a.open(t)},b.updateAvatar=n.show.bind(this,"nv-edit-avatar"),b.getRealName=function(){return b.user.core.displayName},b.getPhone=function(){return""},b.editEmailAddress=function(e){E.debug("verify authentication to update password pressed");var i=t.getSession();i.user=b.user,n.show("nv-dialog-edit-email",{title:"l10n.changeEmailAddress",sessionObject:i,is2FactorAuthentication:!0,actionVerifyEmail:r.updateEmail,actionCancelUpdateEmail:n.cancel})},b.isWeChatSupported=!1,b.wechatGroups=[f.NFAN],b.onShowQrCode=function(e){m.push(p.PREFERENCES_ACCOUNT_SHOW_QRCODE),d.showQrCode(e)},b.defaultAvatarUrl=u.URL,v(),s.getAvatarStore(y.userId).then((function(e){b.avatar=i.getCachedUserItem(y.userId,e.storeName,e.key)})),b.user=y,b.editUserObject=angular.merge({},b.user.core),h=i.getCachedUserItem(y.userId,o.JARVIS_COMMON_STORE,o.SUBSCRIPTIONS),b.subscribed=t.getSubscriptionData(h),b.devFeatures=i.getCachedGlobalItem(o.DEV_STORE,o.DEV_FEATURES),d.isFeatureSupported().then((function(e){b.isWeChatSupported=e})).catch((function(){b.isWeChatSupported=!1}))}]);t.preferencesAccountsController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesAccountsDevices=void 0;var r=n(4),i=function(e){return e&&e.__esModule?e:{default:e}}(n(858)),o=r.ngPreferencesModule.directive("nvPreferencesAccountsDevices",(function(){return{restrict:"E",template:i.default,require:"^^nvPreferencesAccounts",link:function(e,t,n,r){e.preferencesAccounts=r}}}));t.nvPreferencesAccountsDevices=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesAccountsLinked=void 0;var r=n(4),i=function(e){return e&&e.__esModule?e:{default:e}}(n(859)),o=r.ngPreferencesModule.directive("nvPreferencesAccountsLinked",(function(){return{restrict:"E",template:i.default,require:"^^nvPreferencesAccounts",link:function(e,t,n,r){e.preferencesAccounts=r}}}));t.nvPreferencesAccountsLinked=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesAccountsNewsletter=void 0;var r=n(4),i=function(e){return e&&e.__esModule?e:{default:e}}(n(860)),o=r.ngPreferencesModule.directive("nvPreferencesAccountsNewsletter",(function(){return{restrict:"E",template:i.default,require:"^^nvPreferencesAccounts",link:function(e,t,n,r){e.preferencesAccounts=r}}}));t.nvPreferencesAccountsNewsletter=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesAccountsPersonalInfo=void 0;var r=n(4),i=function(e){return e&&e.__esModule?e:{default:e}}(n(861)),o=r.ngPreferencesModule.directive("nvPreferencesAccountsPersonalInfo",(function(){return{restrict:"E",template:i.default,require:"^^nvPreferencesAccounts",link:function(e,t,n,r){e.preferencesAccounts=r}}}));t.nvPreferencesAccountsPersonalInfo=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesAccountsSecurity=void 0;var r=n(4),i=function(e){return e&&e.__esModule?e:{default:e}}(n(862)),o=r.ngPreferencesModule.directive("nvPreferencesAccountsSecurity",(function(){return{restrict:"E",template:i.default,require:"^^nvPreferencesAccounts",link:function(e,t,n,r){e.preferencesAccounts=r}}}));t.nvPreferencesAccountsSecurity=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesAccounts=void 0;var r=n(4);n(295);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(863));n(552),n(551),n(556),n(557),n(554),n(553),n(555);var o=r.ngPreferencesModule.component("nvPreferencesAccounts",{template:i.default,controller:"PreferencesAccountsController",controllerAs:"preferencesAccounts"});t.nvPreferencesAccounts=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesController=void 0;var r=n(4);n(25),n(19);var i=r.ngPreferencesModule.controller("PreferencesController",["preferencesService","eventAggregator","PREFERENCES_EVENTS","$scope","toastService",function(e,t,n,r,i){function o(t){return e.isLedFeatureSupported().then((function(e){t.isEnabled=e}))}function a(t){e.getGameStreamFeature().then((function(n){t.isEnabled=JSON.parse(n.overallState),e.updateGameStreamTelemetry(n)}))}var l=this;l.Preferences=[{iconUrl:0,name:"l10n.general",route:"main.auth.preferences.general",isEnabled:!1},{iconUrl:0,name:"l10n.account",route:"main.auth.preferences.accounts",isEnabled:!1},{iconUrl:0,name:"l10n.games",route:"main.auth.preferences.games",isEnabled:!1},{iconUrl:0,name:"l10n.shield",route:"main.auth.preferences.shield",isEnabled:!1},{iconUrl:0,name:"l10n.friendsAndGroups",route:"main.auth.preferences.friendsAndGroups",isEnabled:!1},{iconUrl:0,name:"l10n.ledVisualizer",route:"main.auth.preferences.led",isEnabled:!1}],l.selected=l.Preferences[0];var s=function(t){e.gameStreamAddonLoaded?e.getGameStreamFeatureAvailibilty().then((function(){t.isEnabled=e.isGameStreamFeatureSupported})).catch((function(){a(t)})):a(t)},c=function(){var e=_.where(l.Preferences,{route:"main.auth.preferences.shield"});s(e)};l.Preferences.forEach((function(e){"main.auth.preferences.general"===e.route||"main.auth.preferences.accounts"===e.route||"main.auth.preferences.games"===e.route?e.isEnabled=!0:"main.auth.preferences.shield"===e.route?s(e):"main.auth.preferences.led"===e.route?o(e):e.isEnabled=!1})),t.on(n.FEATURE_UPDATED_GS,c),r.$on("$destroy",(function(){e.resetGameStreamFeatureAvailibilty(),t.off(n.FEATURE_UPDATED_GS,c),i.isOpen()&&i.cancel()}))}]);t.preferencesController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferences=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}((n(4),n(864)));n(559);var i=angular.module("main.preferences").component("nvPreferences",{template:r.default,controller:"PreferencesController",controllerAs:"preferencesController"});t.nvPreferences=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesFeatureReadinessController=void 0;var r=n(4);n(25);var i=r.ngPreferencesModule.controller("PreferencesFeatureReadinessController",["$scope","$log","$filter","preferencesService","PREFERENCES_EVENTS","eventAggregator","FEATURES_NAME","INSTALLER_EVENTS","quietModeService","QUIET_MODE_EVENTS","$q","BB2_SUPPORT_EVENTS","framerateLimiterService",function(e,t,n,r,i,o,a,l,s,c,u,d,f){function m(){return s.getQuietMode2SupportInfo().then((function(e){w.info("getquietmodesupport info called");var t={oldState:A,newState:A};if(e&&e.criteria){A=e.criteria.overallState,t.newState=A;var n=e.criteria.states.find((function(e,t,n){return"wm2"===e.name}));n&&n.state?E.isQuietMode2Supported=!0:E.isQuietMode2Supported=!1}else w.error("getQuietModeSupporteState(): Something went wrong!");return t})).catch((function(e){return w.error("getQuietMode2SupportInfo() support error!"+e),u.reject()}))}function p(){m().then((function(e){w.info("states",e),e.oldState!==e.newState&&r.getFeatures()}))}function g(){f.getBB2SupportInfo().then((function(e){r.getFeatures()})).catch((function(e){w.error("getBB2SupportInfo failed with error: ",e)}))}function v(e){E.features=e,_.each(E.features,(function(e){switch(e.featureTile===a.QUIET_MODE2&&E.isQuietMode2Supported?e.shallowStates=e.states.filter((function(e,t,n){return"wm2"!=e.name})):e.featureTile===a.BATTERY_BOOST2?e.shallowStates=e.states.filter((function(e,t,n){return"bb2"!=e.name})):e.shallowStates=e.states,e.visibility=!0,e.featureTile){case a.GAME_STREAM:e.newOverallState=angular.isDefined(e.overallState)&&JSON.parse(e.overallState)&&r.gameStreamAddonLoaded;break;case a.SHARE:e.newOverallState=angular.isDefined(e.overallState)&&JSON.parse(e.overallState)&&r.shareAddonLoaded;break;default:e.newOverallState=e.overallState}})),y().then((function(){E.loadingState=S.DONE}))}function h(){E.loadingState=S.LOADING,E.features=[]}function b(){E.loadingState=S.FAILED}function y(){return r.isAnselFeatureSupportedOnSystem().then((function(e){var t=_.findIndex(E.features,{featureTile:a.ANSEL});t>-1&&(E.features[t].visibility=e.isVisible);var r=_.findIndex(E.features,{featureTile:a.SHARE});r>-1&&(E.features[r].message=e.isSupported?n("translate")("l10n.shareDialogDescriptionWithAnsel"):n("translate")("l10n.shareDialogDescription"))}))}var E=this,S={LOADING:"LOADING",FAILED:"FAILED",DONE:"DONE"},w=t.getInstance("main.preferences/PreferencesFeatureReadinessController");E.features=[],E.loadingState=S.LOADING,E.isQuietMode2Supported=!1;var A=!1;o.on(i.FEATURES_UPDATED,v),o.on(i.FEATURES_RELOAD,h),o.on(i.HWSYSTEMINFO_FAILED,b),o.on(i.AUTOBETA_SETTING_CHANGED,y),o.on(l.INSTALL_DONE,y),o.on(c.SUPPORT_UPDATE,p),o.on(d.CHANGED,g),m(),r.getFeatures(),e.$on("$destroy",(function(){o.off(i.FEATURES_UPDATED,v),o.off(i.FEATURES_RELOAD,h),o.off(i.HWSYSTEMINFO_FAILED,b),o.off(i.AUTOBETA_SETTING_CHANGED,y),o.off(l.INSTALL_DONE,y),o.off(d.CHANGED,g)}))}]);t.preferencesFeatureReadinessController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesFeatureReadiness=void 0;var r=n(4);n(207),n(546),n(544);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(865));n(561);var o=r.ngPreferencesModule.component("nvPreferencesFeatureReadiness",{template:i.default,controller:"PreferencesFeatureReadinessController",controllerAs:"preferencesFeatureReadiness"});t.nvPreferencesFeatureReadiness=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesFeatureService=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),i=n(4).ngPreferencesModule.service("preferencesFeatureService",["$log","eventAggregator","PREFERENCES_EVENTS","FEATURE_CRITERIA","$q","updatesService","FEATURES_NAME","toastService","$filter","stateService","dialogService","COMMON_EVENTS","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_UI_PROGRESS_NAMES","TELEMETRY_SCREENS","TELEMETRY_ACTIONS","GFECLIENT_CONFIG","gfeUpdatesEndpoints",function(e,t,n,i,o,a,l,s,c,u,d,f,m,p,g,v,h,b,y){function E(e){w.info(e),A=r.filter(e,(function(e){return!JSON.parse(e.overallState)})),T.resolve(),t.trigger(f.UNSUPPORTED_FEATURES_UPDATED)}function S(){C=null,_.isAnselFeatureAvailable()}var _=this,w=e.getInstance("main.preferences/preferencesFeatureService"),A=[],T=null,I=null,C=null,x=null;_.initialize=function(){T=o.defer(),I=T.promise,t.on(n.FEATURES_UPDATED,E),t.on(n.AUTOBETA_SETTING_CHANGED,S)},_.getUnsupportedFeatures=function(e){return I.then((function(){var t=A;return e&&(t=r.filter(A,(function(t){var n=r.findWhere(t.states,{name:e});if(e===i.DRIVER&&((n=n||r.findWhere(t.states,{name:i.DRIVER_ALT}))&&n.message)){var o=n.message.match(/\d*\.\d*/);t.minDriverVersion=parseFloat(o)}return!(!n||JSON.parse(n.state))}))),r.findWhere(t,{featureTile:l.ANSEL})?_.isAnselFeatureAvailable().then((function(e){return e||(t=r.filter(t,(function(e){return e.featureTile!==l.ANSEL}))),t})):t}))},_.isAnselFeatureAvailable=function(){if(b.anselFeature){if(null!==C)return w.info("isAnselFeatureAvailable returned cached value"),o.when(C);if(x)return w.info("isAnselFeatureAvailable returned old promise"),x;w.info("get isAnselFeatureAvailable");var e=b.anselFeatureExperimental?y.getBetaSetting():o.when({data:"1"});return(x=e.then((function(e){return C="1"===e.data})).finally((function(){x=null}))).then((function(e){return e})),x}return o.when(!1)},_.isDriverUpdateRequiredForSupport=function(e){var t=o.defer();return _.getUnsupportedFeatures(i.DRIVER).then((function(n){var i=r.findWhere(n,{featureTile:e});i?a.getUpdateDetails().then((function(e){var n=0;r.size(e)>0&&(n=parseFloat(e[0].version)),t.resolve(n>=i.minDriverVersion)})).catch((function(e){t.reject(e)})):t.resolve(!1)})),t.promise},_.onDownloadClicked=function(e){m.push(p.DOWNLOAD_LATEST_DRIVER_UPDATE,{name:g.LATEST_DRIVER_UPDATE,currentScreen:v.SCREEN_TOAST_MESSAGE,action:h.DOWNLOAD}),u.gotoDriversTab(e)},_.showDriverUpdateToast=function(){s.showWarning({textContent:c("translate")("l10n.updateDriverToRunFeature"),button:{text:c("translate")("l10n.updateNow"),action:_.onDownloadClicked,actionParams:{startDriverDownload:!0}}})},_.handleShareNotReady=function(){var e=!1;_.isDriverUpdateRequiredForSupport(l.SHARE).then((function(t){e=t})).finally((function(){e?_.showDriverUpdateToast():d.show("nv-dialog-text",{title:"l10n.shareNotReady",style:"feature-error-dialog",text:"l10n.featureErrorMessage",button1:{text:"l10n.gotItText",action:d.cancel}})}))}}]);t.preferencesFeatureService=i},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesGamesBatteryBoostController=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),i=n(4);n(113),n(19);var o=i.ngPreferencesModule.controller("PreferencesGamesBatteryBoostController",["$scope","$log","$document","framerateLimiterService","$timeout","eventAggregator","COMMON_EVENTS","toastService","$filter",function(e,t,n,i,o,a,l,s,c){function u(){if(r.isNull(y)||y.clearRect(0,0,E.width,E.height),!r.isEmpty(p)){E=p[0].getBoundingClientRect();var e=Math.floor((v-g)/h);y=b[0].getContext("2d"),b[0].width=E.width,b[0].height=E.height;for(var t,n=0;n<=e;n++)t=Math.round(E.width*(n/e)),y.fillStyle="#FFFFFF",y.fillRect(t-1,0,2,E.height)}}var d=this,f=null,m=null,p=null,g=30,v=60,h=5,b=null,y=null,E={};d.currentSliderIndex=30,d.enabledBatterySwitch=!0,d.requestInProgress=!0,d.loadingFailed=!1,d.loadingDone=!1;var S=t.getInstance("main.preferences/BatteryBoostController");i.getStateInfo().then((function(e){var t=e;d.currentSliderIndex=t.value,d.enabledBatterySwitch=t.enabled,o((function(){u()})),d.requestInProgress=!1,d.loadingDone=!0,S.info("Battery Boost state info",e)})).catch((function(e){d.requestInProgress=!1,d.loadingFailed=!0,d.loadingDone=!0,S.error("getStateInfo failed with error:",e)})),d.onChangeBatteryBoostState=function(e){d.requestInProgress=e,d.currentSliderIndex=d.currentSliderIndex<30?30:d.currentSliderIndex,i.setStateInfo(d.enabledBatterySwitch,d.currentSliderIndex).then((function(e){d.requestInProgress=!1,S.info("Battery Boost setState info",e)})).catch((function(e){d.requestInProgress=!1,S.error("setStateInfo failed with error:",e);var t=c("translate")("l10n.unableToUpdateSettings");s.showError({textContent:t})}))},d.applyOptimalValue=function(){d.currentSliderIndex=30,d.onChangeBatteryBoostState()},n.ready((function(){var e=angular.element(n[0].querySelector(".preferences-games-battery-boost"));(f=angular.element(e[0].querySelector(".md-track-ticks"))).css("display","block"),f.css("z-index","0"),f.find("canvas").css("display","none"),b=angular.element("<canvas>").css("position","absolute"),f.append(b),p=angular.element(e[0].querySelector(".md-track-container")),angular.element(e[0].querySelector(".optimal-button-container")),m=angular.element(e[0].querySelector(".optimal-value-button")),angular.element(e[0].querySelector(".optimal-line-indicator"));var t=m[0].clientWidth;if(t/2<33){var r=33-Math.round(t/2)+"px";m.css("left",r)}u()})),e.$on("$destroy",(function(){a.off(l.WINDOW_RESIZE,u)})),a.on(l.WINDOW_RESIZE,u)}]);t.preferencesGamesBatteryBoostController=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesGamesBatteryBoost=void 0;var r=n(4);n(15);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(867));n(566);var o=r.ngPreferencesModule.component("nvPreferencesGamesBatteryBoost",{template:i.default,controller:"PreferencesGamesBatteryBoostController",controllerAs:"preferencesGamesBatteryBoost"});t.nvPreferencesGamesBatteryBoost=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesGamesBatteryBoost2Controller=void 0;var r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(3)),n(4));n(113),n(19);var i=r.ngPreferencesModule.controller("PreferencesGamesBatteryBoost2Controller",["$log","$document","framerateLimiterService","toastService","$filter","BB2_STATE_EVENTS","$scope","eventAggregator","TELEMETRY_CRIMSON_EVENT_NAMES","telemetryService",function(e,t,n,r,i,o,a,l,s,c){function u(){n.getBB2StateInfo().then((function(e){var t=e;f.enabledBatterySwitch=t.enabled,f.requestInProgress=!1,f.loadingDone=!0,m.info("Battery Boost2 state info",e)})).catch((function(e){f.requestInProgress=!1,f.loadingFailed=!0,f.loadingDone=!0,m.error("getBB2StateInfo failed with error:",e)}))}function d(e){u()}var f=this;f.enabledBatterySwitch=!0,f.requestInProgress=!0,f.loadingFailed=!1,f.loadingDone=!1;var m=e.getInstance("main.preferences/BatteryBoost2Controller");f.onChangeBatteryBoostState=function(e){f.requestInProgress=e,n.setBB2StateInfo(f.enabledBatterySwitch).then((function(e){c.changeSetting(s.APPLICATION_SETTING_ENABLE_BATTERY_BOOST2,f.enabledBatterySwitch.toString()),f.requestInProgress=!1,m.info("Battery Boost2 setState info",e)})).catch((function(e){c.changeSettingFail(s.APPLICATION_SETTING_ENABLE_BATTERY_BOOST2_FAILED,f.enabledBatterySwitch.toString(),e.status),f.enabledBatterySwitch=!f.enabledBatterySwitch,f.requestInProgress=!1,m.error("setStateInfo failed with error:",e);var t=i("translate")("l10n.unableToUpdateSettings");r.showError({textContent:t})}))},f.applyOptimalValue=function(){f.onChangeBatteryBoostState()},t.ready((function(){})),a.$on("$destroy",(function(){l.off(o.CHANGED,d)})),l.on(o.CHANGED,d),u()}]);t.preferencesGamesBatteryBoost2Controller=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesGamesBatteryBoost2=void 0;var r=n(4);n(15);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(868));n(568);var o=r.ngPreferencesModule.component("nvPreferencesGamesBatteryBoost2",{template:i.default,controller:"PreferencesGamesBatteryBoost2Controller",controllerAs:"preferencesGamesBatteryBoost2"});t.nvPreferencesGamesBatteryBoost2=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesGamesController=void 0;var r=n(4);n(113),n(114);var i=r.ngPreferencesModule.controller("PreferencesGamesController",["$log","preferencesService","performanceModeService",function(e,t,n){var r=this;r.isOpsSupported=!1,r.isPerfModeSupported=!1,r.loadingAceModeFailed=!1;var i=e.getInstance("main.preferences/PreferencesGamesController");t.getGameOpsFeature().then((function(e){r.isOpsSupported=JSON.parse(e.overallState),i.info("getGameOpsFeature success: ",e.overallState)})).catch((function(e){i.error("getGameOpsFeature failed with error:",e)})),n.isFeatureAvailableOnAB().then((function(e){e?n.getStateInfo().then((function(e){i.info("Performance Mode getSupportInfo success: ",e),r.isPerfModeSupported=e.supported,r.selectedPowerMode=e.performanceMode}),(function(e){i.error("Performance Mode getSupportInfo failed with error: ",e),r.isPerfModeSupported=!1,r.loadingAceModeFailed=!0})):r.isPerfModeSupported=!1})),r.showAceMode=function(){return r.isPerfModeSupported}}]);t.preferencesGamesController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesGames=void 0;var r=n(4);n(581),n(574),n(576),n(567),n(308),n(578);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(869));n(570);var o=r.ngPreferencesModule.component("nvPreferencesGames",{template:i.default,controller:"PreferencesGamesController",controllerAs:"preferencesGames"});t.nvPreferencesGames=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesGamesLocationController=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),i=n(4);n(47),n(18),n(19);var o=i.ngPreferencesModule.controller("PreferencesGamesLocationController",["$log","gamesService","cefService","$filter","toastService","$document","$timeout","$scope",function(e,t,n,i,o,a,l,s){function c(e){o.showError({textContent:i("translate")(e)})}function u(){m=l((function(){var e=angular.element(a[0].querySelector(".scan-location-section"))[0],t=angular.element(e.querySelector(".bg-green-hv-hue-1"))[0],n=t.offsetTop+t.offsetHeight-e.offsetHeight;e.scrollTop=n,m=null}))}var d=this,f=null,m=null,p=null,g=null,v=null;d.addBtnDisabled=!0,d.removeBtnDisabled=!1;var h=e.getInstance("main.preferences/PreferencesGameslocationController");d.scanGamesLocation=[],d.selectedPathChanged=function(e){f=e},p=t.getSearchPaths().then((function(e){d.scanGamesLocation=e.data,d.scanGamesLocation.length>0&&d.selectedPathChanged(d.scanGamesLocation[0]),h.info("PreferencesGamesLocationController - got getSearchPaths response",d.scanGamesLocation)})).catch((function(e){e.cancelled||h.error("error getting getSearchPaths "+e)})).finally((function(){d.addBtnDisabled=!1,p=null})),d.add=function(){return h.info("user adding game scan location"),n.localDirectoryExplorer(!1,{},!0).then((function(e){r.contains(d.scanGamesLocation,e)?(h.info("Game scan location already added ",e),d.selectedPathChanged(e),u()):(d.addBtnDisabled=!0,(g=t.searchPathsAdd(e)).then((function(t){d.scanGamesLocation.push(e),h.info("search path added",e),d.selectedPathChanged(e),u()})).catch((function(e){e.cancelled||(h.error("SearchPathsAdd failed: ",e),c("l10n.addScanPathFailed"))})).finally((function(){d.addBtnDisabled=!1,g=null})))})).catch((function(e){e.isCancelled||(h.error("cefService.localDirectoryExplorer: failed or cancelled",e),c("l10n.somethingWentWrong"))}))},d.remove=function(){d.removeBtnDisabled=!0,h.info("user removing game scan location"),(v=t.searchPathsRemove(f)).then((function(e){h.info("SearchPathsRemove success: ",f);var t=d.scanGamesLocation.indexOf(f);d.scanGamesLocation.splice(t,1),d.scanGamesLocation.length>0?d.selectedPathChanged(d.scanGamesLocation[0]):f=null})).catch((function(e){e.cancelled||(h.error("SearchPathsRemove failed: ",e),c("l10n.somethingWentWrong"))})).finally((function(){d.removeBtnDisabled=!1,v=null}))},d.isSelected=function(e){return f===e},d.canRemovePath=function(){return!(f&&!d.removeBtnDisabled)},s.$on("$destroy",(function(){m&&(h.info("pending scroll to timeout cancelled"),l.cancel(m)),g&&(h.info("cancelling pending add promise"),t.searchPathsAddCancel(g)),v&&(h.info("cancelling pending remove promise"),t.searchPathsRemoveCancel(v)),p&&(h.info("cancelling pending get search path promise"),t.getSearchPathsCancel(p))}))}]);t.preferencesGamesLocationController=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesGamesLocationItem=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),i=n(4),o=function(e){return e&&e.__esModule?e:{default:e}}(n(870)),a=i.ngPreferencesModule.directive("nvPreferencesGamesLocationItem",["$log","$timeout",function(e,t){return{restrict:"E",bindToController:{nvLocation:"@",nvClickAction:"&"},template:o.default,controller:[function(){}],controllerAs:"preferencesGamesLocationItem",link:function(n,i,o,a){function l(){t((function(){a.showTooltip=r.size(s)>0&&s[0].scrollWidth>s[0].offsetWidth}))}var s=(e.getInstance("main.preferences/PreferencesGamesLocationItemDirective"),i.find("p"));a.showTooltip=!1,i.on("mouseover",l),n.$on("$destroy",(function(){i.off("mouseover",l),s=null}))}}}]);t.nvPreferencesGamesLocationItem=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferenceGamesLocation=void 0;var r=n(4),i=function(e){return e&&e.__esModule?e:{default:e}}(n(871));n(572),n(573);var o=r.ngPreferencesModule.component("nvPreferenceGamesLocation",{template:i.default,controller:"PreferencesGamesLocationController",controllerAs:"preferencesGameslocation"});t.nvPreferenceGamesLocation=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesGamesOpsController=void 0;var r=n(4);n(47);var i=r.ngPreferencesModule.controller("PreferencesGamesOpsController",["$log","gamesService",function(e,t){var n=this;n.autoOptimize=null;var r=e.getInstance("main.preferences/PreferencesGeneralGameOpsController");n.setAutoOptimize=function(){r.info("setting autoOptimize to ",n.autoOptimize),t.setAutoOptimizeEnabled(n.autoOptimize)},t.isAutoOptimizeEnabled().then((function(e){n.autoOptimize=e})).catch((function(e){r.error("isAutoOptimizeEnabled failed with error:",e)}))}]);t.preferencesGamesOpsController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferenceGamesOps=void 0;var r=n(4),i=function(e){return e&&e.__esModule?e:{default:e}}(n(872));n(575);var o=r.ngPreferencesModule.component("nvPreferenceGamesOps",{template:i.default,controller:"PreferencesGamesOpsController",controllerAs:"preferencesGamesOps"});t.nvPreferenceGamesOps=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesGamesPerfModeController=void 0;var r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(3)),n(4));n(19),n(47),n(114);var i=r.ngPreferencesModule.controller("preferencesGamesPerfModeController",["$log","toastService","$filter","eventAggregator","gamesService","GAME_EVENTS","$scope","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_SCREENS","performanceModeService","PERFORMANCE_MODES",function(e,t,n,r,i,o,a,l,s,c,u,d){function f(){g.isGameOpsSupported=i.getGameOpsSupported(),y.info("opsfeaturestatus on init ",g.isGameOpsSupported)}function m(e){y.info("Power Mode setState info",e),g.selectedPowerMode=e,l.setScreen(c.SCREEN_TOAST_MESSAGE),l.changeSetting(s.APPLICATION_SETTING_ENABLE_WHISPER_MODE,"");var r=g.isGameOpsSupported&&i.shouldProceedWithOptimizeAll(),o=e===d.MAX_P?"l10n.toastPerfModeIsEnabled":e===d.QUIET?"l10n.toastQuietModeIsEnabled":"l10n.toastBalanceModeIsEnabled";g.selectedPowerMode=e,r&&t.show({textContentUseTranslate:o,isCustomIcon:!0,icon:"icon-optimized_reg",customColor:"color-green",hideDelay:0,button:{text:n("translate")("l10n.optimize"),action:function(){g.optimizeGames(),l.push(s.TOAST_CLICKED_WHISPER_MODE_OPTIMIZE_ALL)}}})}function p(e){y.error("setStateInfo failed with error:",e),l.setScreen(c.SCREEN_TOAST_MESSAGE),l.changeSettingFail(s.APPLICATION_SETTING_ENABLE_WHISPER_MODE_FAILED,!0,e.status);var r=n("translate")("l10n.unableToUpdateSettings");t.showError({textContent:r})}var g=this;g.loadingFailed=!1,g.powerModes=d,g.selectedPowerMode=g.powerModes.INVALID;var v,h,b,y=e.getInstance("main.preferences/PerfModeController");g.disablePowerModeButtons=function(){return g.requestInProgress||i.isOptimizeInProgress()},f(),g.aceSupported=JSON.parse(g.nvAceModeSupported),g.selectedPowerMode=JSON.parse(g.nvSelectedPowerMode),g.loadingFailed=JSON.parse(g.nvLoadingFailed),g.updatePowerMode=function(e){g.requestInProgress=!0,y.info("setting power mode",e),u.setStateInfo(e).then(m).catch(p).finally((function(){g.requestInProgress=!1}))},g.optimizeGames=function(){y.info("optimize all games for quiet mode"),t.showProgress({textContent:n("translate")("l10n.optimizing")}),v(),i.optimizeLocalGames()||b()},v=function(){y.debug("registering game optimize events"),r.on(o.OPTIMIZE_GAMES_UPDATE,b)},h=function(){y.debug("unregistering game optimize events"),r.off(o.OPTIMIZE_GAMES_UPDATE,b)},b=function(e){h(),t.show({textContent:n("translate")("l10n.optimizeFinished")})},r.on(o.OPSFEATURE_UPDATED,f),a.$on("$destroy",(function(){h(),r.off(o.OPSFEATURE_UPDATED,f)}))}]);t.preferencesGamesPerfModeController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesGamesPerfMode=void 0;var r=n(4);n(15);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(873));n(577);var o=r.ngPreferencesModule.component("nvPreferencesGamesPerfMode",{bindings:{nvAceModeSupported:"@",nvSelectedPowerMode:"@",nvLoadingFailed:"@"},template:i.default,controller:"preferencesGamesPerfModeController",controllerAs:"preferencesGamesPerfMode"});t.nvPreferencesGamesPerfMode=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesGamesQuietModeController=void 0;var r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(3)),n(4));n(383),n(19),n(47);var i=r.ngPreferencesModule.controller("PreferencesGamesQuietModeController",["$log","quietModeService","toastService","eventAggregator","gamesService","GAME_EVENTS","$scope","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_SCREENS","$filter",function(e,t,n,r,i,o,a,l,s,c,u){function d(){f.isGameOpsSupported=i.getGameOpsSupported(),v.info("opsfeaturestatus on init ",f.isGameOpsSupported)}var f=this;f.enabledQuietSwitch=!0,f.requestInProgress=!0,f.loadingFailed=!1,f.loadingDone=!1,f.isGameOpsSupported=!1;var m,p,g,v=e.getInstance("main.preferences/QuietModeController");f.disableQuietModeSwitch=function(){return f.requestInProgress||i.isOptimizeInProgress()},d(),t.getStateInfo().then((function(e){var t=e;f.enabledQuietSwitch=t.enabled,f.requestInProgress=!1,f.loadingDone=!0,v.info("Quiet Mode state info",e)})).catch((function(e){f.requestInProgress=!1,f.loadingFailed=!0,f.loadingDone=!0,v.error("getStateInfo failed with error:",e)})),f.onChangeQuietModeState=function(e){f.requestInProgress=e,t.setStateInfo(f.enabledQuietSwitch).then((function(e){v.info("Quiet Mode setState info",e),l.setScreen(c.SCREEN_TOAST_MESSAGE),l.changeSetting(s.APPLICATION_SETTING_ENABLE_WHISPER_MODE,f.enabledQuietSwitch);var t=f.isGameOpsSupported&&i.shouldProceedWithOptimizeAll(),r=f.enabledQuietSwitch?"l10n.toastQuietModeIsEnabled":"l10n.toastQuietModeIsDisabled";t?n.show({textContentUseTranslate:r,isCustomIcon:!0,icon:"icon-optimized_reg",customColor:"color-green",hideDelay:0,button:{text:"l10n.optimize",action:function(){f.optimizeGames(),l.push(s.TOAST_CLICKED_WHISPER_MODE_OPTIMIZE_ALL)}}}):!1===f.enabledQuietSwitch&&n.cancel()})).catch((function(e){v.error("setStateInfo failed with error:",e),l.setScreen(c.SCREEN_TOAST_MESSAGE),l.changeSettingFail(s.APPLICATION_SETTING_ENABLE_WHISPER_MODE_FAILED,!0,e.status);var t=u("translate")("l10n.unableToUpdateSettings");n.showError({textContent:t}),f.enabledQuietSwitch=!f.enabledQuietSwitch})).finally((function(){f.requestInProgress=!1}))},f.optimizeGames=function(){v.info("optimize all games for quiet mode"),n.showProgress({textContent:u("translate")("l10n.optimizing")}),m(),i.optimizeLocalGames()||g()},m=function(){v.debug("registering game optimize events"),r.on(o.OPTIMIZE_GAMES_UPDATE,g)},p=function(){v.debug("unregistering game optimize events"),r.off(o.OPTIMIZE_GAMES_UPDATE,g)},g=function(e){p(),n.show({textContent:u("translate")("l10n.optimizeFinished")})},r.on(o.OPSFEATURE_UPDATED,d),a.$on("$destroy",(function(){p(),r.off(o.OPSFEATURE_UPDATED,d)}))}]);t.preferencesGamesQuietModeController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesGamesScanController=void 0;var r=n(4);n(47),n(19);var i=r.ngPreferencesModule.controller("PreferencesGamesScanController",["$log","GAME_EVENTS","gamesService","eventAggregator","$window","$scope","$filter","toastService","GAME_SCAN_STATE","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","localeService","userGamesService","jarvisService","dbCacheService","DB_NAMES","COMMON_DYNAMIC_REDIRECT",function(e,t,n,r,i,o,a,l,s,c,u,d,f,m,p,g,v){function h(){l.showProgress({textContent:S.scanStatus})}var b,y,E,S=this,w=e.getInstance("main.preferences/PreferencesGamesScanController"),A=a("translate"),T=n.getUiScanState(),I=m.getLoggedInUser(),C=p.getCachedUserItem(I.userId,g.JARVIS_GFE_STORE,g.JARVIS_VIEW_STATE);S.gameList=null;var x=function(){var e=f.getUserGames();w.debug("get all games count:",e.length),S.gameList=_.map(e,(function(e){var t=n.getSystemGame(e.gameId),r={};return _.extend(r,e),_.isUndefined(t)?w.error("systemGame undefined"):r.systemGame=t,r}))};S.scanGames=function(){c.push(u.PREFERENCES_GAMES_SCAN_NOW),S.scanStatus=A("l10n.scanning"),S.scanInProgress=!0,h(),n.scanLocalGames(!1)};var D=function(){w.debug("unregistering game optimize events"),r.off(t.OPTIMIZE_GAMES_UPDATE,M)},M=function(e){c.endLoad(u.HOME_OPTIMIZETIME_GAMES,E),D(),l.show({textContent:a("translate")("l10n.optimizeFinished")})},O=function(){l.showProgress({textContent:a("translate")("l10n.optimizing")}),w.debug("registering game optimize events"),r.on(t.OPTIMIZE_GAMES_UPDATE,M)};S.optimizeGamesFromScan=function(){w.info("optimize local games after scan"),O(),E=c.startLoad(u.HOME_OPTIMIZETIME_GAMES),n.optimizeLocalGames()},S.scanGamesProgressText=function(e){var t="l10n.scanGamesProgress";return 0===e?t="l10n.noGamesFound":1===e&&(t="l10n.scanGameProgress"),t};var R=function(){x(),S.totalGames=_.size(S.gameList),b(),S.scanStatus=A("l10n.scanNow"),S.scanInProgress=!1;var e={textContent:a("translate")(S.scanGamesProgressText(S.totalGames),{numGamesScanned:S.totalGames})};n.hasNoGame(S.gameList)||n.allGamesFullyOptimized(S.gameList)||n.hasHiddenGame(S.gameList,null,C)?l.show(e):(w.info("game optimization required"),n.isAutoOptimizeEnabled().then((function(t){t||angular.extend(e,{button:{text:a("translate")("l10n.optimize"),action:S.optimizeGamesFromScan}})})).finally((function(){l.show(e)})))},N=function(){S.scanStatus=A("l10n.scanNow"),S.scanInProgress=!1,l.showError({textContent:a("translate")("l10n.scanningFailed")})};S.onLaunchUrl=function(){var e=v.BASE_URL+d.getCurrentLocaleWithUnderscore()+"&page="+v.SUPPORTED_GAMES;w.info("SupportedGames redirects to url:: ",e),i.open(e)},y=function(){x(),S.totalGames=_.size(S.gameList)},r.on(t.GAMELIST_UPDATED,y),r.on(t.SCAN_FINISHED,R),r.on(t.SCAN_FAILED,N),T===s.UI_SCAN?(S.scanStatus=A("l10n.scanning"),S.scanInProgress=!0,h()):(S.scanStatus=A("l10n.scanNow"),S.scanInProgress=!1),x(),S.totalGames=_.size(S.gameList),o.$on("$destroy",(function(){r.off(t.GAMELIST_UPDATED,y),r.off(t.SCAN_FINISHED,R),r.off(t.SCAN_FAILED,N),D()})),(b=function(){n.getLastRefreshTime().then((function(e){S.lastRereshTime=e,w.info("last gamesscanned time is",S.lastRereshTime)})).catch((function(e){w.error("getlastRefreshTime failed with error:",e)}))})()}]);t.preferencesGamesScanController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferenceGamesScan=void 0;var r=n(4),i=function(e){return e&&e.__esModule?e:{default:e}}(n(875));n(580);var o=r.ngPreferencesModule.component("nvPreferenceGamesScan",{template:i.default,controller:"PreferencesGamesScanController",controllerAs:"preferencesGamesScan"});t.nvPreferenceGamesScan=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesGeneralAboutController=void 0,n(4),n(22),n(29),n(25),n(19),n(548),n(208),n(550);var r=(function(e){e&&e.__esModule}(n(194)),angular.module("main.preferences").controller("PreferencesGeneralAboutController",["$log","gfeService","preferencesService","toastService","$filter","GFE_DOWNLOAD_PROGRESS_STATUS","GFE_UPDATE_EVENTS","TASK_STATUS","eventAggregator","$scope","cefService","POST_PROCESSING_STATES","PARTNER_DYNAMIC_REDIRECT","$window",function(e,t,n,r,i,o,a,l,s,c,u,d,f,m){function p(){r.showError({textContent:i("translate")("l10n.checkInternetConnectivity")})}function g(){A.clientBetaUpdateCheckboxEnabled=!(!0===A.clientBetaUpdateEnabled&&A.gfeBetaUpdate&&A.gfeBetaUpdate.downloadStatus&&!A.showDownloadButton(A.gfeBetaUpdate.downloadStatus.status))}function v(e,t){r.isOpen()?r.cancel().then((function(){r.show({textContent:e,icon:t})})):r.show({textContent:e,icon:t})}function h(e){v(e,"error_outline")}function b(){return n.betaPostProcessingStatus===d.STARTED}function y(e){if(A.clientBetaUpdateCheckboxEnabled=!0,e.status===l.TASK_PAUSED_UNABLE_TO_REACH_SERVER||e.status===l.TASK_CHECK_SUM_ERROR||e.status===l.TASK_SIGNATURE_VERIFICATION_FAILS)h(I("l10n.downloadFailed"));else if(e.status===l.TASK_FAILED_UNABLE_TO_REACH_SERVER)h(I("l10n.unableToConnectToNvidia"));else if(e.status===l.TASK_DISK_WRITE_FAIL){var t=i("convertBytesToKBMBGB")(e.totalBytes);if(e.downloadedLocation.length>0){var n=e.downloadedLocation.split(":")[0];n=n.toUpperCase(),h(I("l10n.downloadDiskSpace",{value:t,drive:n}))}}}function E(e){e&&!0===e.isBeta&&(A.GFECheckForUpdateInProgress=!0,A.clientBetaUpdateCheckboxEnabled=!1)}function S(e){e&&!0===e.isBeta&&(A.clientBetaUpdateCheckboxEnabled=!0,A.GFECheckForUpdateInProgress=!1,h(I("l10n.unableToConnectToNvidia")))}function w(e){if(e&&!0===e.isBeta){if(A.gfeBetaUpdate=e.updateData,A.clientBetaUpdateCheckboxEnabled=!(A.gfeBetaUpdate&&A.gfeBetaUpdate.downloadURL&&!_.isEmpty(A.gfeBetaUpdate.downloadURL)),T.info("checkforupdate finished",A.gfeBetaUpdate),A.clientBetaUpdateCheckboxEnabled){v(i("translate")("l10n.noUpdatesAreAvailable"),"check")}A.GFECheckForUpdateInProgress=!1}}var A=this,T=e.getInstance("main.preferences/PreferencesFeatureReadinessController");A.gfeBetaUpdate={},A.version=t.version,A.GFECheckForUpdateInProgress=!1,A.clientBetaUpdateEnabled=!1;var I=i("translate");A.clientBetaUpdateCheckboxEnabled=!0,A.beta="",n.isGFEBetaBuild().then((function(e){A.beta=!0===e?i("translate")("l10n.beta"):"",A.beta=A.beta.toUpperCase()})),A.setClientBetaUpdateEnabled=function(){T.info("set experimental feature flag:",A.clientBetaUpdateEnabled),function(){var e=i("translate")("l10n.ExpFeatureUpdatesDisabled"),t="error_outline";1==A.clientBetaUpdateEnabled&&(e=i("translate")("l10n.ExpFeatureUpdatesEnabled"),t="check"),v(e,t)}(),n.setClientBetaUpdateEnabled(A.clientBetaUpdateEnabled).then((function(){A.clientBetaUpdateCheckboxEnabled=!A.clientBetaUpdateEnabled})).catch((function(e){T.error("setClientBetaUpdateEnabled failed: "+e),p(),A.clientBetaUpdateCheckboxEnabled=!0}))},n.getClientBetaUpdateEnabled().then((function(e){A.clientBetaUpdateEnabled="1"===e.data,g()})).catch((function(e){T.error("getClientBetaUpdateEnabled failed: "+e),p()})),A.onShowReleaseHighlight=function(e){n.onShowReleaseHighlight(!1)},A.onShowLicense=function(e){n.showEula()},A.onOpenSourceLicenses=function(e){n.showOpenSourceLicensesText()},A.onLaunchFaq=function(){n.showFaq()},A.onLaunchPrivacyPolicy=function(){n.showPrivacyPolicy()},A.onLaunchYouTubeTOS=function(){var e=f.YouTube_TOS_URL;T.info("YouTube Terms of service redirects to url:: ",e),m.open(e)},A.onLaunchGoogleSecuritySettings=function(){var e=f.GOOGLE_SECURITY_SETTINGS_URL;T.info("Google security settings redirects to url:: ",e),m.open(e)},A.onLaunchGooglePrivacyPolicy=function(){var e=f.GOOGLE_PRIVACY_POLICY_URL;T.info("Google Privacy policy redirects to url:: ",e),m.open(e)},n.getGFEBetaUpdate().then((function(e){A.gfeBetaUpdate=e,g()})).catch((function(e){T.error("getGFEBetaUpdate failed: "+e)})),A.isDownloadStarted=function(e){return e===l.TASK_RUNNING||e===l.TASK_RETRY},A.isDownloadPaused=function(e){return e===l.TASK_PAUSED||e===l.TASK_PAUSED_UNABLE_TO_REACH_SERVER},A.isDownloadCompleted=function(e){return e===l.TASK_COMPLETED},A.showRestartGfeMessage=function(e){return A.isDownloadCompleted(e)&&(n.betaPostProcessingStatus===d.FINISHED||n.betaPostProcessingStatus===d.FAILED)},A.showDownloadButton=function(e){return!0===A.clientBetaUpdateEnabled&&!1===A.GFECheckForUpdateInProgress&&(e===l.TASK_PAUSED||e===l.TASK_PAUSED_UNABLE_TO_REACH_SERVER||e===l.TASK_CHECK_SUM_ERROR||e===l.TASK_FAILED_UNABLE_TO_REACH_SERVER||e===l.TASK_SIGNATURE_VERIFICATION_FAILS||e===l.TASK_DISK_WRITE_FAIL)},A.showPreparingForInstall=function(e,t){return!0===A.clientBetaUpdateEnabled&&e===l.TASK_RUNNING&&100===t||A.isDownloadCompleted(e)&&b()},A.startDownload=function(e){n.startDownload(e.version,e.downloadURL).then((function(t){T.info("download started",t.data),e.downloadStatus=t.data,A.clientBetaUpdateCheckboxEnabled=!1})).catch((function(e){T.error("GFE download failed to start",e),h(I("l10n.driverDownloadFailed"))}))},A.pauseDownload=function(e){n.pauseDownload(e.downloadStatus.taskId).then((function(t){e.downloadStatus=t.data,T.info("GFE download paused",e.downloadStatus)})).catch((function(e){T.error("GFE download failed to pause with error",e)}))},A.resumeDownload=function(e){n.resumeDownload(e.downloadStatus.taskId).then((function(t){e.downloadStatus=t.data,T.info("GFE download resume",e.downloadStatus)})).catch((function(e){T.error("GFE download failed to resume with error",e)}))},A.stopDownload=function(e){n.stopDownload(e.downloadStatus.taskId).then((function(t){e.downloadStatus=t.data,T.info("GFE download stoped",e.downloadStatus)})).catch((function(e){T.error("GFE download failed to stop with error",e)}))},A.getProgressString=function(e){var t="";if(e&&e.downloadStatus){var n=i("convertBytesToKBMBGB")(e.downloadStatus.totalBytes);t=i("convertBytesToKBMBGB")(e.downloadStatus.bytesDone)+"/"+n}return t},A.restartNow=function(){u.restartApp()},A.getDownloadStatusMessage=function(e){var t="";return e===l.TASK_RUNNING?t=I("l10n.downloading"):A.isDownloadPaused(e)?t=I("l10n.paused"):e===l.TASK_RETRY&&(t=I("l10n.retrying")),t},A.showCheckingForUpdate=function(){return!0===A.GFECheckForUpdateInProgress||!_.isEmpty(A.gfeBetaUpdate)&&!_.isEmpty(A.gfeBetaUpdate.downloadURL)&&A.gfeBetaUpdate.downloadStatus&&A.gfeBetaUpdate.downloadStatus.status===l.TASK_NOT_STARTED},s.on(o.FAILED,y),s.on(a.SCAN_STARTED,E),s.on(a.SCAN_FAILED,S),s.on(a.SCAN_FINISHED,w),c.$on("$destroy",(function(){s.off(a.SCAN_STARTED,E),s.off(a.SCAN_FAILED,S),s.off(a.SCAN_FINISHED,w),s.off(o.FAILED,y)}))}]));t.preferencesGeneralAboutController=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferenceGeneralAbout=void 0;var r=n(4);n(35);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(876));n(582);var o=r.ngPreferencesModule.component("nvPreferenceGeneralAbout",{template:i.default,controller:"PreferencesGeneralAboutController",controllerAs:"preferencesGeneralAbout"});t.nvPreferenceGeneralAbout=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreferencesGeneralController=void 0;var r=n(4);n(114),n(308),n(310),n(309),n(569);var i=r.ngPreferencesModule.controller("PreferencesGeneralController",["$log","quietModeService","performanceModeService","framerateLimiterService","eventAggregator","$scope","QUIET_MODE_EVENTS","nisService","telemetryService","NIS_STATE_EVENTS","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_FEATURE_SUPPORTED_STATE","BB2_SUPPORT_EVENTS",function(e,t,n,r,i,o,a,l,s,c,u,d,f){function m(){t.getQuietMode2SupportInfo().then((function(e){if(e&&e.criteria){var t=e.criteria.states.find((function(e,t,n){return"wm2"===e.name}));y=!(!t||!t.state),b=e.criteria.overallState,E.info("WM2 capability",y,b)}else E.error("getQuietModeSupporteState(): Something went wrong!")})).catch((function(e){y=!1,E.error("getQuietMode2SupportInfo() support error!"+e)}))}function p(){l.getStateInfo().then((function(e){if(v.isNISSupported=e.supported,E.info("NIS state info",v.isNISSupported),!v.isNISFeatureSupportTelemetrySent||!v.isNISSupported){v.isNISFeatureSupportTelemetrySent=!0;var t=v.isNISSupported?d.TRUE:d.FALSE;s.push(u.NIS_MODE_CAPABILITY_STATE,{serviceSupportedState:d.UNKNOWN,endpointSupportedState:t})}})).catch((function(e){v.isNISSupported=!1,s.push(u.NIS_MODE_CAPABILITY_STATE,{serviceSupportedState:d.UNKNOWN,endpointSupportedState:d.UNKNOWN}),E.error("get nisStateInfo failed with error:",e)}))}function g(){r.getBB2SupportInfo().then((function(e){v.isBatteryBoost2Supported=!!e.criteria&&e.criteria.overallState,E.info("Framerate Limiter getBB2SupportInfo success: ",e);var t=v.isBatteryBoost2Supported?d.TRUE:d.FALSE;s.push(u.BB2_CAPABILITY_STATE,{serviceSupportedState:d.UNKNOWN,endpointSupportedState:t})})).catch((function(e){E.error("Framerate Limiter getBB2SupportInfo failed with error: ",e),s.push(u.BB2_CAPABILITY_STATE,{serviceSupportedState:d.UNKNOWN,endpointSupportedState:d.UNKNOWN})}))}var v=this;v.isPerfModeSupported=!1,v.loadingAceModeFailed=!1,v.isBatteryBoostSupported=!1,v.isBatteryBoost2Supported=!1;var h=!1,b=!1,y=!1;v.isNISSupported=!1,v.isNISFeatureSupportTelemetrySent=!1;var E=e.getInstance("main.preferences/PreferencesGeneralController");g(),m(),p(),t.getStateInfo().then((function(e){h=e.supported,E.info("Quiet Mode getSupportInfo success: ",e)}),(function(e){E.error("Quiet Mode getSupportInfo failed with error: ",e)})),r.getSupportInfo().then((function(e){v.isBatteryBoostSupported=e.supported,E.info("Framerate Limiter getSupportInfo success: ",e)})).catch((function(e){E.error("Framerate Limiter getSupportInfo failed with error: ",e)})),n.isFeatureAvailableOnAB().then((function(e){e?n.getStateInfo().then((function(e){E.info("Performance Mode getSupportInfo success: ",e),v.isPerfModeSupported=e.supported,v.selectedPowerMode=e.performanceMode}),(function(e){E.error("Performance Mode getSupportInfo failed with error: ",e),v.isPerfModeSupported=!1,v.loadingAceModeFailed=!0})):v.isPerfModeSupported=!1})),i.on(a.SUPPORT_UPDATE,m),i.on(c.CHANGED,p),i.on(f.CHANGED,g),v.showQuietMode=function(){return h&&!y&&!v.isPerfModeSupported},v.showQuietMode2=function(){return b&&!v.isPerfModeSupported},o.$on("$destroy",(function(){i.off(a.SUPPORT_UPDATE,m),i.off(c.CHANGED,p),i.off(f.CHANGED,g)}))}]);t.PreferencesGeneralController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesGeneral=void 0;var r=n(4);n(583),n(589),n(595),n(592),n(587),n(608),n(562);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(877));n(584),n(310),n(309);var o=r.ngPreferencesModule.component("nvPreferencesGeneral",{template:i.default,controller:"PreferencesGeneralController",controllerAs:"preferencesGeneral"});t.nvPreferencesGeneral=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesGeneralDownloadsController=void 0;var r=n(4);n(25),n(19);var i=r.ngPreferencesModule.controller("PreferencesGeneralDownloadsController",["$scope","$log","preferencesService","eventAggregator","PREFERENCES_EVENTS","toastService","$filter",function(e,t,n,r,i,o,a){function l(){o.showError({textContent:a("translate")("l10n.somethingWentWrong")})}function s(){n.getAutoDownloadDriverUpdates().then((function(e){c.autoDownloadDriverUpdates=e})).catch((function(e){l(),u.error("getAutoDownloadDriverUpdates failed: "+e)}))}var c=this;c.autoDownloadDriverUpdates=!1;var u=t.getInstance("main.preferences/PreferencesGeneralDownloadsController");c.setAutoDownloadDriverUpdates=function(){n.setAutoDownloadDriverUpdates(c.autoDownloadDriverUpdates).catch((function(e){l(),u.error("setAutoDownloadDriverUpdates failed: "+e)}))},s(),r.on(i.AUTOMATIC_DRIVERDOWNLOAD,s),e.$on("$destroy",(function(){r.off(i.AUTOMATIC_DRIVERDOWNLOAD,s)}))}]);t.preferencesGeneralDownloadsController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferenceGeneralDownloads=void 0;var r=n(4),i=function(e){return e&&e.__esModule?e:{default:e}}(n(878));n(586);var o=r.ngPreferencesModule.component("nvPreferenceGeneralDownloads",{template:i.default,controller:"PreferencesGeneralDownloadsController",controllerAs:"preferencesGeneralDownloads"});t.nvPreferenceGeneralDownloads=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesGeneralLanguageController=void 0;var r=n(4);n(11),n(63);var i=r.ngPreferencesModule.controller("PreferencesGeneralLanguageController",["dbCacheService","DB_NAMES","localeService","$log","TELEMETRY_CRIMSON_EVENT_NAMES","telemetryService","TELEMETRY_SCREENS",function(e,t,n,r,i,o,a){var l=this,s=r.getInstance("main.preferences/PreferencesGeneralLanguageController");l.EditMode=!1,l.languages=n.getSupportedLanguages();var c=n.getCurrentLocale();l.selectedLanguage=c.name,l.changedLanguage=l.selectedLanguage,l.onCancel=function(){l.EditMode=!1,l.changedLanguage=l.selectedLanguage},l.onApply=function(){l.EditMode=!1,l.selectedLanguage=l.changedLanguage;var e=n.getLocaleFromLocaleName(l.selectedLanguage);n.changeLocale(e).then((function(){s.info("Changed language to: ",e.code),o.changeSetting(i.APPLICATION_SETTING_LANGUAGE_SELECTION,e.code)})).catch((function(t){s.error("Failed to change language to: ",e.code),c=n.getCurrentLocale(),l.selectedLanguage=c.name,o.changeSettingFail(i.APPLICATION_SETTING_LANGUAGE_SELECTION_FAILED,e.code,t.status)}))},l.openChangeLocale=function(){l.EditMode=!0},l.devFeatures=e.getCachedGlobalItem(t.DEV_STORE,t.DEV_FEATURES),o.setScreen(a.SCREEN_PREFERENCES_GENERAL)}]);t.preferencesGeneralLanguageController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferenceGeneralLanguage=void 0;var r=n(4),i=function(e){return e&&e.__esModule?e:{default:e}}(n(879));n(588);var o=r.ngPreferencesModule.component("nvPreferenceGeneralLanguage",{template:i.default,controller:"PreferencesGeneralLanguageController",controllerAs:"preferencesGeneralLanguage"});t.nvPreferenceGeneralLanguage=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreferencesGeneralNISController=void 0;var r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(3)),n(4));n(113),n(19);var i=r.ngPreferencesModule.controller("PreferencesGeneralNISController",["$scope","$log","nisService","eventAggregator","toastService","NIS_SHARPEN_SLIDER","gamesService","GAME_EVENTS","NIS_STATE_EVENTS","$filter","COMMON_EVENTS","$document","KEYBOARD_EVENT_KEYCODE","$timeout","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_SCREENS","telemetryService",function(e,t,n,r,i,o,a,l,s,c,u,d,f,m,p,g,v){function h(){T.isGameOpsSupported=a.getGameOpsSupported(),R.info("opsfeaturestatus on init ",T.isGameOpsSupported)}function b(e){S()}function y(e){return e.scrollWidth>e.clientWidth||e.clientWidth<I}function E(){var e=angular.element(d[0].querySelectorAll(".render-resolution-string"));if(e)for(var t=!1,n=0;n<e.length;n++){var r=angular.element(e[n]);y(e[n])||t?(t=!0,r.css("visibility","hidden"),r.css("height","0")):(r.css("visibility","visible"),r.css("height","auto"))}}function S(){n.getStateInfo().then((function(e){T.nisStateInfo=e,T.sharpenInDecimal=T.nisStateInfo.sharpen,T.requestInProgress=!1,T.loadingDone=!0,R.info("NIS state info",T.nisStateInfo)})).catch((function(e){T.requestInProgress=!1,T.loadingFailed=!0,T.loadingDone=!0,R.error("get nisStateInfo failed with error:",e)}))}function _(){i.showProgress({textContent:c("translate")("l10n.optimizing")}),C()}function w(){return a.isOptimizeInProgress()?(R.error("optimizeAll - optimize already in progress"),!1):0!==a.getGamesCount()||(R.info("optimizeAll - no games to optimize"),!1)}function A(){T.onChangeSharpenState(!1)}var T=this,I=48;T.nisStateInfo=null,T.sharpenInDecimal=0,T.requestInProgress=!0,T.loadingFailed=!1,T.loadingDone=!1,T.nisSharpnessSlider=o,T.isGameOpsSupported=!1;var C,x,D,A,M,O=!1,R=t.getInstance("main.preferences/NISController");T.disableNISSwitch=function(){return T.requestInProgress||a.isOptimizeInProgress()},T.isControlDisabled=function(){return T.nisStateInfo&&!T.nisStateInfo.enabled||T.requestInProgress||a.isOptimizeInProgress()},T.applyOptimizedResolution=function(e){T.nisStateInfo.selectedResolutionIndex=e;var t=("Percent : "+T.nisStateInfo.resolutions[e].percent+" Resolution : "+T.nisStateInfo.resolutions[e].resolution).toString();v.changeSetting(p.APPLICATION_SETTING_NIS_RENDER_RESOLUTION,t),R.info(" Resolution value changed : "+t),T.onChangeNISState(!0,!1,!0)},T.onChangeSharpenState=function(e){T.sharpenInDecimal=T.nisStateInfo.sharpen,v.changeSetting(p.APPLICATION_SETTING_NIS_SHARPEN_SLIDER,T.sharpenInDecimal.toString()),R.info(" sharpnessChanged : "+T.nisStateInfo.sharpen),T.onChangeNISState(e,!0,!1)},T.resolutionClass=function(e){return T.nisStateInfo.selectedResolutionIndex===e?"md-accent md-primary":"md-secondary"},T.optimizeGames=function(){R.info("optimize all games for NIS"),_(),a.optimizeLocalGames()||D()},C=function(){R.debug("registering game optimize events"),r.on(l.OPTIMIZE_GAMES_UPDATE,D)},x=function(){R.debug("unregistering game optimize events"),r.off(l.OPTIMIZE_GAMES_UPDATE,D)},D=function(e){x(),i.show({textContent:c("translate")("l10n.optimizeFinished")})},T.onChangeNISState=function(e,t,r){R.info("settingType changed",T.nisStateInfo.enabled),T.requestInProgress=e,n.setStateInfo(T.nisStateInfo).then((function(n){R.info("NIS setState info",n),!e||t||r||v.changeSetting(p.APPLICATION_SETTING_NIS_MODE,T.nisStateInfo.enabled.toString());var o=e&&!t&&T.isGameOpsSupported&&w(),a=T.nisStateInfo.enabled?"l10n.toastNISStateIsEnabled":"l10n.toastNISIsDisabled";o?i.show({textContentUseTranslate:a,isCustomIcon:!0,icon:"icon-optimized_reg",customColor:"color-green",hideDelay:1e4,button:{text:"l10n.optimize",action:function(){T.optimizeGames(),v.push(p.TOAST_CLICKED_NIS_MODE_OPTIMIZE_ALL)}}}):!1===T.nisStateInfo.enabled&&i.cancel()})).catch((function(e){R.error("setNISState failed with error:",e),v.setScreen(g.SCREEN_TOAST_MESSAGE),v.changeSettingFail(p.APPLICATION_SETTING_ENABLE_NIS_MODE_FAILED,T.nisStateInfo.enabled.toString(),e.status);var t=c("translate")("l10n.unableToUpdateSettings");i.showError({textContent:t}),S()})).finally((function(){T.requestInProgress=!1}))},T.onSharpenSliderKeyUp=function(e){e.keyCode!==f.LEFT_ARROW&&e.keyCode!==f.RIGHT_ARROW||T.onChangeSharpenState(!1)};T.onSharpenSliderChanged=function(){!function(e,t){O||(O=!0,M=m((function(){e(),m.cancel(M),O=!1}),t))}(A,500)},d.ready((function(){E(),angular.element(d[0].querySelector(".md-slider-wrapper")).attr("tabindex",0)})),e.$on("$destroy",(function(){r.off(s.CHANGED,b),r.off(u.WINDOW_RESIZE,E),x(),r.off(l.OPSFEATURE_UPDATED,h),M&&m.cancel(M)})),r.on(l.OPSFEATURE_UPDATED,h),r.on(u.WINDOW_RESIZE,E),r.on(s.CHANGED,b),h(),S(),function(){var e=a.isOptimizeInProgress();R.info("optimize in progress ",e),e&&_()}()}]);t.PreferencesGeneralNISController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesGeneralNotificationsController=void 0;var r=n(4);n(25),n(19),n(188),n(122),n(17);var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),o=r.ngPreferencesModule.controller("PreferencesGeneralNotificationsController",["$log","preferencesService","toastService","$filter","rewardsService","$q","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES",function(e,t,n,r,o,a,l,s){function c(){n.showError({textContent:r("translate")("l10n.somethingWentWrong")})}function u(){d.driverUpdateFetchInProgress||d.rewardUpdateFetchInProgress||(d.requestInProgress=!1)}var d=this;d.notifyGeforceDriverUpdate=!1,d.notifyRewardsUpdate=!0,d.requestInProgress=!0,d.driverUpdateFetchInProgress=!1,d.rewardUpdateFetchInProgress=!1;var f=e.getInstance("main.preferences/PreferencesGeneralNotificationsController");d.setNotifyGeforceDriverUpdate=function(){t.setNotifyGeforceDriverUpdate(d.notifyGeforceDriverUpdate).catch((function(e){c(),f.error("setNotifyGeforceDriverUpdate failed: "+e)}))},d.setNotifyRewardsUpdate=function(){l.changeSetting(s.APPLICATION_SETTING_DESKTOP_REWARDS_NOTIFICATION,d.notifyRewardsUpdate),t.setRewardsNotificationPreference(d.notifyRewardsUpdate).catch((function(e){c(),f.error("setRewardsNotificationPreference failed with error:",e)}))},d.driverUpdateFetchInProgress=!0,t.getNotifyGeforceDriverUpdate().then((function(e){d.driverUpdateFetchInProgress=!1,u(),d.notifyGeforceDriverUpdate=e})).catch((function(e){d.driverUpdateFetchInProgress=!1,u(),c(),f.error("getNotifyGeforceDriverUpdate failed: "+e)})),function(){var e=a.defer();return o.getRewardsEnabled().then((function(t){t?e.resolve():e.reject()})).catch((function(){e.reject()})),e.promise}().then((function(){d.rewardUpdateFetchInProgress=!0,t.getRewardsNotificationPreference().then((function(e){d.rewardUpdateFetchInProgress=!1,u(),i.isUndefined(e)?(f.info("No defined preference exists for reward notification, setting as enabled"),d.notifyRewardsUpdate=!0):d.notifyRewardsUpdate=e})).catch((function(e){d.rewardUpdateFetchInProgress=!1,u(),c(),f.error("getRewardsNotificationPreference failed with error:",e)}))}))}]);t.preferencesGeneralNotificationsController=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferenceGeneralNotifications=void 0;var r=n(4),i=function(e){return e&&e.__esModule?e:{default:e}}(n(881));n(591);var o=r.ngPreferencesModule.component("nvPreferenceGeneralNotifications",{template:i.default,controller:"PreferencesGeneralNotificationsController",controllerAs:"preferencesGeneralNotifications"});t.nvPreferenceGeneralNotifications=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesGeneralQuiteMode2Controller=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(27)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),o=n(4);n(113),n(19);var a=o.ngPreferencesModule.controller("PreferencesGeneralQuiteMode2Controller",["$scope","$log","$document","quietModeService","$timeout","eventAggregator","COMMON_EVENTS","toastService","QUITE_MODE_2_FAN_VOLUME_SLIDER","QUITE_MODE_2_BASE_FRAME_RATE_SLIDER","QUITE_MODE_2_FAN_VOLUME_MODES","gamesService","GAME_EVENTS","QUIET_MODE_EVENTS","TELEMETRY_CRIMSON_EVENT_NAMES","telemetryService","$filter","QUIET_MODE_2_SETTING_TYPE",function(e,t,n,o,a,l,s,c,u,d,f,m,p,g,v,h,b,y){function E(){T.isGameOpsSupported=m.getGameOpsSupported(),L.info("opsfeaturestatus on init ",T.isGameOpsSupported)}function S(){T.sliders.forEach((function(e){if(e.tractContainer){M=e.tractContainer.getBoundingClientRect();var t=Math.floor((e.max-e.min)/e.step);D=e.tickCanvas.getContext("2d"),e.tickCanvas.width=M.width,e.tickCanvas.height=M.height,i.isNull(D)||D.clearRect(0,0,M.width,M.height);for(var n,r=0;r<=t;r++)n=Math.round(M.width*(r/t)),D.fillStyle="#FFFFFF",D.fillRect(n-1,0,2,M.height)}}))}function _(e){e&&T.quietStateInfo&&(e.enabled!==T.quietStateInfo.enabled||e.fanVolume!==T.quietStateInfo.fanVolume||e.baseFrameRate!==T.quietStateInfo.baseFrameRate)&&w()}function w(){o.getQuietMode2StateInfo().then((function(e){T.quietStateInfo=(0,r.default)({},e),a((function(){S()})),T.requestInProgress=!1,T.loadingDone=!0,L.info("Quiet Mode2 state info",e)})).catch((function(e){T.requestInProgress=!1,T.loadingFailed=!0,T.loadingDone=!0,L.error("get Quiet Mode2 StateInfo failed with error:",e)}))}function A(e,t,n){var r=1===T.quietStateInfo.fanVolume?"Quieter":2===T.quietStateInfo.fanVolume?"Quiet":"Balanced";h.push(v.APPLICATION_SETTING_CHANGD_WHISPER_MODE_2,{enabled:T.quietStateInfo.enabled?"true":"false",fanVolume:r,baseFrameRate:T.quietStateInfo.baseFrameRate,status:e,errorDetails:t,changedSettingType:n})}var T=this,I=null,C=null,x=null,D=null,M={};T.quietStateInfo={baseFrameRate:30,fanVolume:1,enabled:!1},T.settingType=y,T.requestInProgress=!0,T.loadingFailed=!1,T.loadingDone=!1,T.isGameOpsSupported=!1;var O,R,N,L=t.getInstance("main.preferences/QuietMode2Controller");T.fanVolumeStrings=["l10n.quieter","l10n.quiet","l10n.balancedMode"],T.sliders=[{min:u.MIN,max:u.MAX,step:u.STEP,tractContainer:null,tickCanvas:null},{min:d.MIN,max:d.MAX,step:d.STEP,tractContainers:null,tickCanvas:null}],T.disableQuiteModeSwitch=function(){return T.requestInProgress||m.isOptimizeInProgress()},T.onChangeFanSpeedState=function(e,t){switch(T.quietStateInfo.fanVolume){case f.QUIETER:T.quietStateInfo.baseFrameRate=30;break;case f.QUIET:T.quietStateInfo.baseFrameRate=40;break;case f.BALANCED:T.quietStateInfo.baseFrameRate=60}T.onChangeQuiteMode2State(e,t)},T.optimizeGames=function(){L.info("optimize all games for quiet mode2"),c.showProgress({textContent:b("translate")("l10n.optimizing")}),O(),m.optimizeLocalGames()||N()},O=function(){L.debug("registering game optimize events"),l.on(p.OPTIMIZE_GAMES_UPDATE,N)},R=function(){L.debug("unregistering game optimize events"),l.off(p.OPTIMIZE_GAMES_UPDATE,N)},N=function(e){R(),c.show({textContent:b("translate")("l10n.optimizeFinished")})},T.disableQuietMode2Switch=function(){return T.requestInProgress||m.isOptimizeInProgress()},T.onChangeQuiteMode2State=function(e,t){L.info("settingType changed",t),T.requestInProgress=e,o.setQuietMode2StateInfo(T.quietStateInfo).then((function(n){L.info("Quite mode 2 setState info",n),A("success","",t);var r=e&&T.isGameOpsSupported&&m.shouldProceedWithOptimizeAll(),i=T.quietStateInfo.enabled?"l10n.toastQuietModeIsEnabled":"l10n.toastQuietModeIsDisabled";r?c.show({textContentUseTranslate:i,isCustomIcon:!0,icon:"icon-optimized_reg",customColor:"color-green",hideDelay:0,button:{text:"l10n.optimize",action:function(){T.optimizeGames(),h.push(v.TOAST_CLICKED_WHISPER_MODE_2_OPTIMIZE_ALL)}}}):!1===T.quietStateInfo.enabled&&c.cancel()})).catch((function(e){L.error("setQuietMode2 failed with error:",e),A("failure",function(e){return(i.isNull(e)||i.isUndefined(e))&&(e=""),e.toString()}(e.status),t);var n=b("translate")("l10n.unableToUpdateSettings");c.showError({textContent:n}),w()})).finally((function(){T.requestInProgress=!1}))},n.ready((function(){var e=0;[".fan-control-slider",".fps-control-slider"].forEach((function(t){var r=angular.element(n[0].querySelector(t));r&&((I=angular.element(r[0].querySelector(".md-track-ticks"))).css("display","block"),I.css("z-index","0"),I.find("canvas").css("display","none"),x=angular.element("<canvas>").css("position","absolute"),I.append(x),T.sliders[e].tickCanvas=x[0],C=angular.element(r[0].querySelector(".md-track-container")),T.sliders[e].tractContainer=C[0]),e++})),S()})),e.$on("$destroy",(function(){l.off(s.WINDOW_RESIZE,S),l.off(g.CHANGED,_),R(),l.off(p.OPSFEATURE_UPDATED,E)})),l.on(s.WINDOW_RESIZE,S),l.on(p.OPSFEATURE_UPDATED,E),l.on(g.CHANGED,_),E(),w()}]);t.preferencesGeneralQuiteMode2Controller=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesGeneralShareController=void 0;var r=n(4);n(25),n(367),n(19);var i=r.ngPreferencesModule.controller("PreferencesGeneralShareController",["$scope","preferencesService","$log","toastService","$filter","eventAggregator","COMMON_EVENTS","socketService","SHARE_SOCKET_EVENTS","keyboardService","SHARE_CONSTANTS","COMMON_HTTP_ERROR_CODES","PREFERENCES_EVENTS","INSTALLER_EVENTS","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","$timeout","preferencesFeatureService",function(e,t,n,r,i,o,a,l,s,c,u,d,f,m,p,g,v,h){function b(){t.getHotkeyShortcut(u.SHARE_HOTKEY_ID).then((function(e){D.translateValues.assignedKey=c.shortcutToStr(e.keys),D.shareHotkeyFetched=!0,O.info("Share hotkey: ",D.translateValues.assignedKey)})).catch((function(e){D.shareHotkeyFetched=!1,O.error("Error in retrieving shortcut for OpenShare:",e)}))}function y(e){D.toggleState=!1,D.enabledShare=e.ready,O.info("Got OSC ready event with data",e.ready),C()}function E(){t.getShareRunningStatus().then((function(e){D.enabledShare=e,O.info("getShareRunningStatus returned: ",D.enabledShare),D.loadingDone=!0})).catch((function(e){O.error("getShareRunningStatus failed."),D.loadingDone=!0,D.enabledShare=!1}))}function S(){E()}function _(){D.isAnselSupported?D.shareDialogDescription=i("translate")("l10n.shareDialogDescriptionWithAnsel"):D.shareDialogDescription=i("translate")("l10n.shareDialogDescription")}function w(){D.isShareSupported&&t.isAnselFeatureSupportedOnSystem().then((function(e){D.isAnselSupported=e.isSupported,_()}))}function A(){t.isShareFeatureSupportedOnSystem().then((function(e){D.isShareSupported=e,O.info("isShareFeatureSupportedOnSystem response: ",D.isShareSupported),w()})).catch((function(e){O.error("isShareFeatureSupportedOnSystem failed.")}))}function T(){O.info("onSysInfoUpdated event."),A(),E()}function I(e){D.toggleState=e,!0===e?(C(),O.info("Start OSC notification timer"),M=v((function(){O.info("OSC ready notification timeout"),D.toggleState=!1,C(),E()}),u.OSC_READY_EVENT_NOTIFICATION_INTERVAL)):C()}function C(){M&&(O.info("Stop OSC notification timer"),v.cancel(M),M=null)}function x(e){O.info("Hotkey changed notification:",e.notification,e.hotkeyId),e.notification===u.HOTKEY_CHANGED&&e.hotkeyId===u.SHARE_HOTKEY_ID&&b()}var D=this;D.enabledShare=!1,D.isShareSupported=!1,D.shareHotkeyFetched=!1,D.shareLoaded=!1,D.isAnselSupported=!1,D.shareDialogDescription=i("translate")("l10n.shareDialogDescription");var M,O=n.getInstance("main.preferences/PreferencesGeneralShareController");D.loadingDone=!1,D.onChangeShareState=function(){I(!0),o.trigger(a.SHARE_STATUS_CHANGE_IN_PROGRESS,D.toggleState),t.toggleShareState(D.enabledShare).then((function(e){O.info("toggleShareState status: ",e),D.enabledShare?b():(I(!1),o.trigger(a.SHARE_STATUS_CHANGE_IN_PROGRESS,D.toggleState)),p.changeSetting(g.APPLICATION_SETTING_ENABLE_SHARE,!!D.enabledShare)})).catch((function(e){O.error("toggleShareState failed."),o.trigger(a.SHARE_STATUS_CHANGE_IN_PROGRESS,D.toggleState),D.enabledShare&&!D.shareLoaded&&e.status===d.NOT_FOUND?h.handleShareNotReady():r.showError({textContent:i("translate")("l10n.tryRestartSystem")}),D.enabledShare=!1,I(!1),p.changeSettingFail(g.APPLICATION_SETTING_ENABLE_SHARE_FAILED,!!D.enabledShare,e.data&&e.data.code||e.status)}))},E(),A(),D.showHotkeyInfoAndIcon=function(){return D.shareHotkeyFetched&&D.enabledShare&&!D.toggleState},D.openOscSettings=function(){t.openOscPreferences().then((function(e){O.info("Opened OSC Settings page successfully. ",e)})).catch((function(e){O.error("Error in opening OSC Settings page:",e),r.showError({textContent:i("translate")("l10n.openShareFailure")})}))},D.shareLoaded=t.shareAddonLoaded,D.shareLoaded||(D.enabledShare=!1),D.translateValues={assignedKey:i("translate")("l10n.shareShortcut")},b(),l.register(s.OSCREADY_UPDATE,a.OSC_READY),l.register(s.OSCHOTKEY_CHANGED_NOTIFICATION,a.OSC_HOTKEY_CHANGED),o.on(a.SHARE_STATUS_CHANGED,S),o.on(a.OSC_READY,y),o.on(a.SYSTEMINFO_UPDATED,T),o.on(a.SHARE_OPEN_IN_PROGRESS,I),o.on(a.OSC_HOTKEY_CHANGED,x),o.on(f.AUTOBETA_SETTING_CHANGED,w),o.on(m.INSTALL_DONE,w),o.on(a.GFWSL_LOCALE_PARAMS_UPDATED,_),e.$on("$destroy",(function(){o.off(a.SHARE_STATUS_CHANGED,S),o.off(a.OSC_READY,y),o.off(a.SYSTEMINFO_UPDATED,T),o.off(a.SHARE_OPEN_IN_PROGRESS,I),o.off(a.OSC_HOTKEY_CHANGED,x),o.off(f.AUTOBETA_SETTING_CHANGED,w),o.off(m.INSTALL_DONE,w),o.off(a.GFWSL_LOCALE_PARAMS_UPDATED,_),C()}))}]);t.preferencesGeneralShareController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferenceGeneralShare=void 0;var r=n(4);n(15);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(883));n(594);var o=r.ngPreferencesModule.component("nvPreferenceGeneralShare",{template:i.default,controller:"PreferencesGeneralShareController",controllerAs:"preferencesGeneralShare"});t.nvPreferenceGeneralShare=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesLedController=void 0;var r=n(4),i=function(e){return e&&e.__esModule?e:{default:e}}(n(723));n(385);var o=r.ngPreferencesModule.controller("PreferencesLedController",["$log","preferencesService","cefService","LED_EFFECT","ANIMATION","DEVICE_TYPE","VARIATION","$filter","LED_SELECTION","ZONE_LOCATION","LED_DEFAULTS","$document","$timeout",function(e,t,n,r,o,a,l,s,c,u,d,f,m){function p(){if(y.showAnimationSliderPanel=!0,y.selectedAnimationType===o.VARIABLE_BRIGHTNESS||y.selectedAnimationType===o.AUDIO_FLASHING)y.labelBrightnessSlider=w("l10n.maxBrightness"),y.showAnimationSliderPanel=!1;else{var e=_.findWhere(y.styleList,{animation:y.selectedAnimationType});y.labelAnimationSpeed=e?w(e.style)+" "+w("l10n.speed"):w("l10n.animationSpeed"),y.animationSliderMax=d.MAX_OTHER_ANIMATION_SPEED_SLIDER,y.animationSliderMin=y.selectedAnimationType===o.BREATHING?d.MIN_BRETHING_ANIMATION_SPEED_SLIDER:d.MIN_ANIMATION_SPEED_SLIDER}y.sliderAnimation=y.animationSliderMax+y.animationSliderMin-y.selectedGpu.zone[y.selectedZoneIndex].animationSpeed}function g(){y.showComboVariation=!0,y.isEnableComboVariation=!0,y.variationList=[],y.selectedLedEffect===r.LED_ILLUMINATION_ON||y.selectedLedEffect===r.LED_ILLUMINATION_SLI_ENABLED?y.selectedAnimationType===o.NONE?y.variationList.push({name:"l10n.ledFixedBrightness",variation:l.LED_ILLUMINATIONVARIATION_FIXED}):!0===y.syncAll?y.variationList.push({name:"l10n.ledStyleBased",variation:l.LED_ILLUMINATIONVARIATION_NONE}):(y.selectedAnimationType!==o.VARIABLE_BRIGHTNESS&&y.variationList.push({name:"l10n.ledStyleBased",variation:l.LED_ILLUMINATIONVARIATION_NONE}),!1===y.syncAll&&y.selectedGpu.deviceType===a.LOGO&&y.selectedAnimationType!==o.AUDIO_FLASHING&&y.variationList.push({name:"l10n.gpuTemparature",variation:l.LED_ILLUMINATIONVARIATION_GPU_TEMP},{name:"l10n.gpuUtilization",variation:l.LED_ILLUMINATIONVARIATION_GPU_UTILIZATION},{name:"l10n.gpuClock",variation:l.LED_ILLUMINATIONVARIATION_GPU_CLOCK},{name:"l10n.gpuFanSpeed",variation:l.LED_ILLUMINATIONVARIATION_GPU_FANSPEED},{name:"l10n.gpuVoltage",variation:l.LED_ILLUMINATIONVARIATION_GPU_VOLTAGE})):y.variationList.push({name:"l10n.gpuTemparature",variation:l.LED_ILLUMINATIONVARIATION_GPU_TEMP},{name:"l10n.gpuUtilization",variation:l.LED_ILLUMINATIONVARIATION_GPU_UTILIZATION},{name:"l10n.gpuClock",variation:l.LED_ILLUMINATIONVARIATION_GPU_CLOCK},{name:"l10n.gpuFanSpeed",variation:l.LED_ILLUMINATIONVARIATION_GPU_FANSPEED},{name:"l10n.gpuVoltage",variation:l.LED_ILLUMINATIONVARIATION_GPU_VOLTAGE});var e=_.findWhere(y.variationList,{variation:y.selectedGpu.zone[y.selectedZoneIndex].variationType});y.selectedVariation=_.isUndefined(e)?y.variationList[0].variation:y.selectedGpu.zone[y.selectedZoneIndex].variationType,y.onLedVariationChange()}function v(e){if(angular.element(f[0].querySelector(".red"))[0].innerHTML=e.R,angular.element(f[0].querySelector(".green"))[0].innerHTML=e.G,angular.element(f[0].querySelector(".blue"))[0].innerHTML=e.B,y.preview){var t="rgb("+e.R+", "+e.G+", "+e.B+")";y.preview.style.background=t}}function h(e){if(angular.element(f[0].querySelector(".red1"))[0].innerHTML=e.R,angular.element(f[0].querySelector(".green1"))[0].innerHTML=e.G,angular.element(f[0].querySelector(".blue1"))[0].innerHTML=e.B,y.secondPreview){var t="rgb("+e.R+", "+e.G+", "+e.B+")";y.secondPreview.style.background=t}}function b(e,t){return e.getImageData(t.x,t.y,1,1).data}var y=this,E=e.getInstance("main.preferences/PreferencesLedController"),S=void 0;y.selectedGpu=void 0,y.selectedLedEffect,y.selectedAnimationType,y.styleList,y.selectedVariation,y.variationList,y.defaultMinimumBrightness=d.MIN_BRIGHTNESS,y.defaultBrightness=d.DEFAULT_BRIGHTNESS,y.animationSliderMin=d.MIN_ANIMATION_SPEED_SLIDER,y.isSliLedSelected=!1,y.animationSliderMax=d.MAX_ANIMATION_SPEED_SLIDER,y.brightnessRangeSliderMin=d.MIN_BRIGHTNESS_RANGESLIDER,y.brightnessRangeSliderMax=d.MAX_BRIGHTNESS_RANGESLIDER;var w=s("translate");y.currentConfig={},y.devices=[],y.canvas=null,y.showColorPickerControl=!0,y.selectedMultiColorAnimation=!1;var A=[];A.push({name:"icon-gpu",zoneLocation:u.GPU_ILLUM_ZONE_LOCATION_NORTH_EDGE}),A.push({name:"icon-home",zoneLocation:u.GPU_ILLUM_ZONE_LOCATION_OUTER_FAN_EAST}),A.push({name:"icon-nvlogo",zoneLocation:u.GPU_ILLUM_ZONE_LOCATION_OUTER_FAN_WEST}),y.onLedEffectChange=function(){y.selectedGpu.zone[y.selectedZoneIndex].ledEffect=y.selectedLedEffect,y.selectedLedEffect===r.LED_ILLUMINATION_OFF?(y.showComboAnimation=!1,y.showAnimationSliderPanel=!1,y.showComboVariation=!1,y.showBrightnessSliderPanel=!1):(y.showSliderBrightness=!0,y.showSliderBrightnessRange=!1,y.showAnimationStyle=!0,y.showComboAnimation=!0,y.styleList=[{style:"l10n.ledBreathing",animation:o.BREATHING},{style:"l10n.ledFlashing",animation:o.FLASHING},{style:"l10n.ledDualFlashing",animation:o.DUAL_FLASHING},{style:"l10n.ledRandom",animation:o.RANDOM},{style:"l10n.multiColor",animation:o.MULTICOLOR},{style:"l10n.colorCycle",animation:o.CYCLICCOLOR}],y.gpuCount>1&&!0===y.syncAll&&y.styleList.push({style:"l10n.ledAnimationElectric",animation:o.ELECTRIC}),y.sliCount>0&&!0===y.syncAll&&(y.styleList.push({style:"l10n.flowIn",animation:o.FLOW_IN}),y.styleList.push({style:"l10n.flowOut",animation:o.FLOW_OUT}),y.styleList.push({style:"l10n.reverseBreathing",animation:o.BREATHINGPUBREATHOUTSLI})),y.selectedLedEffect===r.LED_ILLUMINATION_ON&&(y.styleList.push({style:"l10n.ledNoAnimation",animation:o.NONE}),y.styleList.push({style:"l10n.ledAudioFlashing",animation:o.AUDIO_FLASHING}),y.gpuCount>2&&!0===y.syncAll&&y.styleList.push({style:"l10n.wave",animation:o.WAVE}),y.gpuCount>1&&!0===y.syncAll&&y.styleList.push({style:"l10n.ripple",animation:o.RIPPLE}),!1===y.syncAll&&y.styleList.push({style:"l10n.ledVariableBrighness",animation:o.VARIABLE_BRIGHTNESS})),function(e){var t=_.findWhere(y.styleList,{animation:y.selectedGpu.zone[y.selectedZoneIndex].animationType});y.selectedAnimationType=_.isUndefined(t)?y.styleList[0].animation:e}(y.selectedGpu.zone[y.selectedZoneIndex].animationType),y.onAnimationTypeChange())},y.onAnimationTypeChange=function(){y.selectedGpu.zone[y.selectedZoneIndex].animationType=y.selectedAnimationType,y.showColorPickerControl=!0,y.selectedMultiColorAnimation=!1,y.isSecondPreviewControl=!1,y.selectedAnimationType===o.NONE?(y.showAnimationSliderPanel=!1,y.showComboVariation=!0,y.showBrightnessSliderPanel=!0,y.showSliderBrightness=!0,y.showSliderBrightnessRange=!1,g()):y.selectedAnimationType===o.AUDIO_FLASHING||y.selectedAnimationType===o.VARIABLE_BRIGHTNESS?(y.showSliderBrightness=!0,y.showSliderBrightnessRange=!1,g(),p()):y.selectedAnimationType===o.CYCLICCOLOR?(y.showColorPickerControl=!1,g()):y.selectedAnimationType===o.MULTICOLOR?(y.selectedMultiColorAnimation=!0,g(),m((function(){y.secondPreview=f[0].querySelector(".secondPreview"),y.startRGBColor=y.selectedGpu.zone[y.selectedZoneIndex].startRGB,h(y.selectedGpu.zone[y.selectedZoneIndex].endRGB)}),10)):(y.selectedLedEffect!==r.LED_ILLUMINATION_GPU_PROPERTY_LIMIT_REACHED&&(y.showSliderBrightness=!1,y.showSliderBrightnessRange=!0),p(),g()),y.buttonApply=!0,y.buttonCancel=!0},y.onLedVariationChange=function(){y.selectedGpu.zone[y.selectedZoneIndex].variationType=y.selectedVariation,E.info("onLedVariationChange",y.selectedGpu.zone),y.selectedLedEffect!==r.LED_ILLUMINATION_OFF?(y.showBrightnessSliderPanel=!0,y.sliderBrightness=y.selectedGpu.zone[y.selectedZoneIndex].variationParameter,y.selectedLedEffect===r.LED_ILLUMINATION_GPU_PROPERTY_LIMIT_REACHED?(y.brightnessSliderMin=0,y.selectedVariation===l.LED_ILLUMINATIONVARIATION_GPU_UTILIZATION?(y.labelBrightnessSlider=w("l10n.gpuUtilization")+" ("+w("l10n.percentageSign")+")",y.brightnessSliderMax=d.MAX_GPU_UTILIZATION):y.selectedVariation===l.LED_ILLUMINATIONVARIATION_GPU_TEMP?(y.labelBrightnessSlider=w("l10n.gpuTemparature")+" ("+w("l10n.centigrateSign")+")",y.brightnessSliderMax=d.MAX_GPU_TEMP):y.selectedVariation===l.LED_ILLUMINATIONVARIATION_GPU_CLOCK?(y.labelBrightnessSlider=w("l10n.gpuClock")+" ("+w("l10n.hertzSign")+")",y.brightnessSliderMax=d.MAX_GPU_CLOCK):y.selectedVariation===l.LED_ILLUMINATIONVARIATION_GPU_FANSPEED?(y.labelBrightnessSlider=w("l10n.gpuFanSpeed")+" ("+w("l10n.rpmSign")+")",y.brightnessSliderMax=d.MAX_GPU_FANSPEED):(y.labelBrightnessSlider=w("l10n.gpuVoltage")+" ("+w("l10n.volateSign")+")",y.brightnessSliderMax=d.MAX_GPU_VOLTAGE)):(y.selectedAnimationType===o.VARIABLE_BRIGHTNESS?y.labelBrightnessSlider=w("l10n.maxBrightness"):y.labelBrightnessSlider=w(!0===y.showSliderBrightness?"l10n.brightness":"l10n.brightnessRange"),y.brightnessSliderMin=d.MIN_BRIGHTNESS,y.brightnessSliderMax=d.MAX_BRIGHTNESS,y.selectedVariation===l.LED_ILLUMINATIONVARIATION_FIXED&&y.selectedAnimationType===o.NONE&&(y.brightnessSliderMin=0))):(y.showBrightnessSliderPanel=!1,y.showAnimationSliderPanel=!1),y.selectedLedEffect!==r.LED_ILLUMINATION_ON&&y.selectedLedEffect!==r.LED_ILLUMINATION_SLI_ENABLED||(y.selectedVariation===l.LED_ILLUMINATIONVARIATION_GPU_CLOCK||y.selectedVariation===l.LED_ILLUMINATIONVARIATION_GPU_FANSPEED||y.selectedVariation===l.LED_ILLUMINATIONVARIATION_GPU_TEMP||y.selectedVariation===l.LED_ILLUMINATIONVARIATION_GPU_UTILIZATION||y.selectedVariation===l.LED_ILLUMINATIONVARIATION_GPU_VOLTAGE||y.selectedVariation===l.LED_ILLUMINATIONVARIATION_SYSTEM_VOLUME||y.selectedVariation===l.LED_ILLUMINATIONVARIATION_FIXED?y.showAnimationSliderPanel=!1:y.showAnimationSliderPanel=!0),y.buttonApply=!0,y.buttonCancel=!0},y.selectedZone=function(e){y.selectedZoneIndex=e,y.selectedAnimationType=y.selectedGpu.zone[y.selectedZoneIndex].animationType,y.selectedVariation=y.selectedGpu.zone[y.selectedZoneIndex].variationType,y.showLabelLedeffects=!0,y.showComboLedEffects=!0,y.ledEffects=[{name:"l10n.ledOn",ledEffect:r.LED_ILLUMINATION_ON},{name:"l10n.ledOff",ledEffect:r.LED_ILLUMINATION_OFF}],!1===y.syncAll&&y.selectedGpu.deviceType==a.LOGO&&y.ledEffects.push({name:"l10n.ledOngpuProperty",ledEffect:r.LED_ILLUMINATION_GPU_PROPERTY_LIMIT_REACHED}),y.sliCount>0&&y.ledEffects.push({name:"l10n.onSliIsEnabled",ledEffect:r.LED_ILLUMINATION_SLI_ENABLED}),function(e){var t=_.findWhere(y.ledEffects,{ledEffect:e});y.selectedLedEffect=void 0===t?y.ledEffects[0].ledEffect:e}(y.selectedGpu.zone[y.selectedZoneIndex].ledEffect),y.onLedEffectChange(),v(y.selectedGpu.zone[y.selectedZoneIndex].startRGB)},y.selectGpu=function(e){y.syncAll=e.zone[0].ledSelection===c.ALL_LED,y.syncZones=e.zone[0].ledSelection===c.ALL_LED||y.selectedGpu.zone[0].ledSelection===c.GPU_WIDE_LED,y.selectedGpu=e,y.selectedZone(0)},y.onSyncAllChanged=function(){y.syncZones=!0,y.selectedGpu=y.devices[0],!0===y.syncAll?(y.selectedGpu.zone[0].ledSelection=c.ALL_LED,E.info("All led option is selected")):(E.info("all Led option is un-selected."),y.selectedGpu.zone.length>1?(y.selectedGpu.zone[0].ledSelection=c.GPU_WIDE_LED,E.info("set syncZone to true")):(y.selectedGpu.zone[0].ledSelection=c.INDIVIDUAL_LED,y.syncZones=!1,E.info("set syncZone to false"))),y.selectedZone(0)},y.onSyncZonesChanged=function(){!0===y.syncZones?(y.selectedGpu.zone[0].ledSelection=c.GPU_WIDE_LED,E.info("sync zone is is selected")):(E.info("sync zone is un-seleced, set indivisual LED option"),y.selectedGpu.zone[0].ledSelection=c.INDIVIDUAL_LED),y.selectedZone(0)},y.onBrightnessRangeSliderChange=function(){},y.onBrightnessSliderChange=function(){y.selectedGpu.zone[y.selectedZoneIndex].variationParameter=y.sliderBrightness},y.onAnimationSliderChange=function(){y.selectedGpu.zone[y.selectedZoneIndex].animationSpeed=y.animationSliderMax-y.sliderAnimation},y.isSliDevice=function(e){return e.deviceType===a.SLI},y.getZoneIcon=function(e){return _.findWhere(A,{zoneLocation:e}).name},y.isIndivisualLedSelected=function(){return y.selectedGpu.zone[0].ledSelection===c.INDIVIDUAL_LED},y.showZones=function(){return y.selectedGpu&&y.selectedGpu.zone.length>1},y.showAllLedOption=function(){return y.gpuCount>1},y.applySettings=function(){var e={};if(!1===y.featureState)e={requestType:2,featureState:!1};else{var t=function(){var e=[];if(!angular.equals(S,y.devices))for(var t=0;t<y.devices.length;t++){for(var n,r=0;r<y.devices[t].zone.length;r++)if(!angular.equals(S[t].zone[r],y.devices[t].zone[r])){var i=angular.copy(y.devices[t].zone[r]);if(i.deviceId=y.devices[t].deviceId,i.deviceType=y.devices[t].deviceType,e.push(i),S[t].zone[r].ledSelection!==(n=y.devices[t].zone[r].ledSelection)&&(n===c.ALL_LED||n===c.GPU_WIDE_LED))break}if(n===c.ALL_LED)break}return e}();e=0===t.length&&!0===y.featureState?{requestType:2,featureState:!0}:{requestType:2,ledSettings:t}}n.onJsonMessage(e,"cefExtensionNvLedApi").then((function(e){var t=JSON.parse(e);E.info("Apply LED Settings response: ",t)}))},y.cancelSettings=function(){y.devices=angular.copy(S),y.selectedZoneIndex=0,y.syncAll=!1,y.selectGpu(y.devices[0])},y.colorPreviewClicked=function(e){1===e?y.isSecondPreviewControl=!1:2===e&&(y.isSecondPreviewControl=!0)},y.showColorPicker=function(){if(y.canvas=f[0].getElementById("picker"),y.preview=f[0].querySelector(".preview"),y.secondPreview=f[0].querySelector(".secondPreview"),y.canvas){var e=function(e,t){var n=e.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top}},t=y.canvas.getContext("2d");y.mouseDown=!1,y.canvas.onmousedown=function(){var e=y.canvas.getContext("2d"),t=new Image,n=i.default;t.src=n,e.clearRect(0,0,t.width,t.height),e.drawImage(t,0,0,t.width,t.height),y.mouseDown=!0},y.canvas.onmouseup=function(t){var n=y.canvas.getContext("2d"),r=new Image,o=i.default;r.src=o,n.clearRect(0,0,r.width,r.height),n.drawImage(r,0,0,r.width,r.height);var a=e(y.canvas,t),l=b(n,a),s={R:l[0],G:l[1],B:l[2]};y.isSecondPreviewControl?(y.selectedGpu.zone[y.selectedZoneIndex].startRGB=y.startRGBColor,y.selectedGpu.zone[y.selectedZoneIndex].endRGB=s):(y.selectedGpu.zone[y.selectedZoneIndex].startRGB=s,y.selectedGpu.zone[y.selectedZoneIndex].endRGB=s,y.startRGBColor=s),n.beginPath(),n.moveTo(a.x,a.y-12),n.lineTo(a.x,a.y+12),n.moveTo(a.x-12,a.y),n.lineTo(a.x+12,a.y),n.strokeStyle="#DB14C1",n.stroke(),n.closePath(),y.mouseDown=!1},y.canvas.onmousemove=function(t){if(!1!==y.mouseDown){var n=b(y.canvas.getContext("2d"),e(y.canvas,t)),r={R:n[0],G:n[1],B:n[2]};y.isSecondPreviewControl?h(r):v(r)}};var n=new Image,r=i.default;n.src=r,n.onload=function(){t.drawImage(n,0,0,n.width,n.height)}}},y.applyAllGpu=function(){y.syncAll=!0,y.onSyncAllChanged()},y.applyEachGpu=function(){y.syncAll=!1,y.onSyncAllChanged()},y.isSelectedGpu=function(e){return angular.equals(e,y.selectedGpu)},y.onfeatureStateChange=function(){},f.ready((function(){y.showColorPicker()})),t.getLedSettings().then((function(e){y.currentConfig=e,y.devices=e.ledConfig.devices,y.featureState=e.ledConfig.featureState,E.info("Get LED config: ",y.currentConfig),S=angular.copy(y.devices),y.gpuCount=0,y.sliCount=0,angular.forEach(S,(function(e){e.deviceType===a.LOGO?y.gpuCount++:y.sliCount++})),y.selectedGpu=y.devices[0],y.selectedZoneIndex=0,y.syncAll=!1,y.selectedAnimationType=y.selectedGpu.zone[y.selectedZoneIndex].animationType,y.selectedLedEffect=y.selectedGpu.zone[y.selectedZoneIndex].ledEffect,y.selectedVariation=y.selectedGpu.zone[y.selectedZoneIndex].variationType,y.selectGpu(y.devices[0])})).catch((function(e){E.error("getLedSettings failed: "+e)}))}]);t.preferencesLedController=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesLed=void 0;var r=n(4),i=function(e){return e&&e.__esModule?e:{default:e}}(n(884));n(596);var o=r.ngPreferencesModule.directive("nvPreferencesLed",[function(){return{restrict:"E",template:i.default,controller:"PreferencesLedController",controllerAs:"preferencesLed"}}]);t.nvPreferencesLed=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesShieldController=void 0;var r=n(4);n(25),n(19);var i=r.ngPreferencesModule.controller("PreferencesShieldDevicesController",["preferencesService","$log","toastService","$filter",function(e,t,n,r){var i=t.getInstance("main.preferences/PreferencesShieldDevicesController");this.removeAllDevices=function(){e.unpairAllShieldDevices().then((function(e){i.info("Unpaired all shield devices"),n.showError({textContent:r("translate")("l10n.shieldDevicesRemoved")})})).catch((function(e){i.error("unpairAllShieldDevices failed: ",e),n.showError({textContent:r("translate")("l10n.shieldDevicesRemoveFailed")})}))}}]);t.preferencesShieldController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesShieldDevices=void 0;var r=n(4),i=function(e){return e&&e.__esModule?e:{default:e}}(n(885));n(598);var o=r.ngPreferencesModule.component("nvPreferencesShieldDevices",{template:i.default,controller:"PreferencesShieldDevicesController",controllerAs:"preferencesShieldDevices"});t.nvPreferencesShieldDevices=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesShieldController=void 0;var r=n(4);n(25);var i=r.ngPreferencesModule.controller("preferencesShieldController",["preferencesService","$scope","eventAggregator","PREFERENCES_EVENTS","COMMON_DYNAMIC_REDIRECT","$window","$log","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES",function(e,t,n,r,i,o,a,l,s){function c(){e.gameStreamAddonLoaded&&e.isGameStreamFeatureSupported?u.showContent=!0:u.showContent=!1}var u=this,d=a.getInstance("main.preferences/preferencesShieldController");u.onTroubleshootLinkClick=function(){var e=i.BASE_URL+"enu&page="+i.SHIELD_TROUBLESHOOTING;d.info("SHIELD troubleshooting redirects to url:: ",e),l.push(s.SHIELD_TROUBLESHOOTING_HELP),o.open(e)},c(),n.on(r.FEATURE_UPDATED_GS,c),t.$on("$destroy",(function(){n.off(r.FEATURE_UPDATED_GS,c)}))}]);t.preferencesShieldController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesShield=void 0;var r=n(4);n(604),n(599);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(886));n(600);var o=r.ngPreferencesModule.component("nvPreferencesShield",{template:i.default,controller:"preferencesShieldController",controllerAs:"preferencesShield"});t.nvPreferencesShield=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appCollectorEditDialogController=void 0;var r=n(4).ngPreferencesModule.controller("AppcollectorEditDialogController",["cefService","$mdDialog","$log","$timeout","$document",function(e,t,n,r,i){function o(){var e=angular.element(i[0].querySelector(".app-target"))[0];l.showTargetTooltip=e.scrollWidth>e.offsetWidth}function a(){var e=angular.element(i[0].querySelector(".app-startin"))[0];l.showDirectoryTooltip=e.scrollWidth>e.offsetWidth}var l=this,s=n.getInstance("main.preferences/AppcollectorEditDialogController");l.maxSize=256,l.target=null,l.startIn=null,l.showTargetTooltip=!1,l.showDirectoryTooltip=!1,l.selectedApp.AppData.OriginalFilename=l.selectedApp.AppData.Name;var c=_.extend({},l.selectedApp.AppData);l.openTargetFileDialog=function(){return e.localDirectoryExplorer(!0,{"Programs and shortcuts":"*.exe; *.lnk; *.bat; *.url"},!0).then((function(e){l.selectedApp.AppData.TargetPath=e,r(o,10)})).catch((function(e){s.error("AppCollector:OpenTargetFileDialog failed or cancelled")}))},l.openStartInFileDialog=function(){return e.localDirectoryExplorer(!1,{},!0).then((function(e){l.selectedApp.AppData.WorkingDirectory=e,r(a,10)})).catch((function(e){s.error("AppCollector:OpenTargetFileDialog failed or cancelled")}))},l.openBoxArtFileDialog=function(){return e.localDirectoryExplorer(!0,{"All Pictures":"*.png; *.bmp; *.jpg; *.jpeg"},!0).then((function(e){l.selectedApp.AppData.BoxArtPath=e})).catch((function(e){s.error("AppCollector:OpenTargetFileDialog failed or cancelled")}))},l.cancel=function(){t.cancel()},l.done=function(){l.selectedApp.AppData.ModifiedFilename=l.selectedApp.AppData.Name;var e=l.selectedApp.AppData.BoxArtPath.indexOf("?");e>0&&(l.selectedApp.AppData.BoxArtPath=l.selectedApp.AppData.BoxArtPath.substring(0,e)),l.updateApplication(l.selectedApp.AppData),t.hide()},l.remove=function(){l.removeApp(),t.hide()},l.canSubmit=function(){return void 0!==l.selectedApp.AppData.Name&&null!==l.selectedApp.AppData.Name&&""!==l.selectedApp.AppData.Name&&!_.isEqual(l.selectedApp.AppData,c)},r((function(){o(),a()}))}]);t.appCollectorEditDialogController=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesShieldGamestreamController=void 0;var r=n(4);n(25),n(168),n(35),n(15);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(887));n(602),n(18),n(19);var o=r.ngPreferencesModule.controller("PreferencesShieldGamestreamController",["preferencesService","$log","$window","cefService","toastService","$filter","$mdDialog","$document","$timeout","localeService","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_SCREENS","COMMON_DYNAMIC_REDIRECT","dialogService","COMMON_HTTP_ERROR_CODES","$scope",function(e,t,n,r,o,a,l,s,c,u,d,f,m,p,g,v,h){function b(){o.showError({textContent:a("translate")("l10n.tryRestartSystem")})}function y(){I=c((function(){var e=angular.element(s[0].querySelector(".appcollector-content-height"))[0],t=angular.element(e.querySelector(".shield-tile-content-outline"))[0],n=t.offsetTop+t.offsetHeight-e.offsetHeight;e.scrollTop=n,I=null}))}function E(e){if(e.data&&e.data.NodeError)switch(e.data.NodeError){case 7:case 2:o.showError({textContent:a("translate")("l10n.unsupportedFileType")});break;case 11:o.showError({textContent:a("translate")("l10n.fileNotFound")});break;case 8:var t=_.find(w.streamApps,(function(t){return t.AppData.TargetPath===e.config.data.Path}));A.error("duplicate app being added ",t),w.selectedAppChanged(t),y();break;default:A.error("gameStream Add or Edit failed"),b()}else A.error("gameStream Add or Edit failed with unexpected format"),b()}function S(e){return e=e+"?"+(new Date).getTime()}var w=this,A=t.getInstance("main.preferences/PreferencesShieldGamestreamController"),T=null,I=null;w.isStreamingEnabled=!1,w.isServerStatusCheckDone=!1,w.streamApps=[],w.gameStreamLoaded=!1,w.requestInProgress=!0,w.selectedAppChanged=function(e){T=e},e.getStreamApp().then((function(e){A.info("Streaming Apps Found",e.data.AppsData),w.streamApps=e.data.AppsData,w.streamApps.forEach((function(e){e.AppData.BoxArtPath=S(e.AppData.BoxArtPath)})),w.streamApps&&w.streamApps.length>0&&w.selectedAppChanged(w.streamApps[0])})).catch((function(e){A.error("getStreamApp failed with error: ",e),b()})).finally((function(){w.requestInProgress=!1})),e.getGameStreamServerStatus().then((function(e){w.isStreamingEnabled=e.data.streamingEnabled,w.isServerStatusCheckDone=!0,A.info("getGameStreamServerStatus: streamingEnabled-",e.data.streamingEnabled,", streamingSupported-",e.data.streamingSupported)})).catch((function(e){w.isServerStatusCheckDone=!0,A.error("getGameStreamServerStatus failed with error:"),b()})),w.onChangeServerState=function(){w.toggleState=!0,e.updateGameStreamServerStatus(w.isStreamingEnabled).then((function(e){d.changeSetting(f.APPLICATION_SETTING_ENABLE_GAMESTREAM,w.isStreamingEnabled.toString()),A.info("updateGameStreamServerStatus status: ",e),w.toggleState=!1})).catch((function(e){A.error("updateGameStreamServerStatus failed with error:"),w.toggleState=!1,d.changeSettingFail(f.APPLICATION_SETTING_ENABLE_GAMESTREAM_FAILED,w.isStreamingEnabled.toString(),e.status),w.isStreamingEnabled&&!w.gameStreamLoaded&&e.status===v.NOT_FOUND?g.show("nv-dialog-text",{title:"l10n.gameStreamNotReady",style:"feature-error-dialog",text:"l10n.featureErrorMessage",button1:{text:"l10n.gotItText",action:g.cancel}}):b(),w.isStreamingEnabled=!1}))},w.onLaunchUrl=function(){var e=p.BASE_URL+u.getCurrentLocaleWithUnderscore()+"&page="+p.GAME_STREAM_REQUIREMENTS;A.info("Gamestream redirects to url:: ",e),n.open(e)},w.add=function(){return A.info("User adding new game stream App"),r.localDirectoryExplorer(!0,{"Programs and shortcuts":"*.exe; *.lnk; *.bat; *.url"},!0).then((function(t){w.requestInProgress=!0,A.info("Adding new game stream App: ",t),e.appCollectorAdd(t).then((function(e){w.streamApps.push(e.data),A.info("new stream app added: ",e),w.selectedAppChanged(e.data),y()})).catch((function(e){E(e)})).finally((function(){w.requestInProgress=!1}))})).catch((function(e){e.isCancelled||(A.error("addAppCollector app localDirectoryExplorer: failed"),b())}))},w.remove=function(){w.requestInProgress=!0,A.info("deleting stream app: ",T),e.appCollectorRemove(T.AppData.Name).then((function(e){w.streamApps.splice(w.streamApps.indexOf(T),1),T=null,w.streamApps.length>0&&w.selectedAppChanged(w.streamApps[0]),A.info("Deleted stream app")})).catch((function(e){A.error("gameStream Remove failed:"),b()})).finally((function(){w.requestInProgress=!1}))},w.canNotRemove=function(){return null==T||!0===w.requestInProgress},w.updateApp=function(t){A.info("AppCollector:Edit:: ",t),w.requestInProgress=!0,e.appCollectorEdit(t).then((function(e){e.data.AppData.BoxArtPath=S(e.data.AppData.BoxArtPath),w.streamApps[w.streamApps.indexOf(T)]=e.data,T=e.data,A.info("Stream app updated")})).catch((function(e){E(e)})).finally((function(){w.requestInProgress=!1}))},w.edit=function(){l.show({template:i.default,locals:{selectedApp:angular.copy(T),removeApp:w.remove,updateApplication:w.updateApp},clickOutsideToClose:!0,controller:"AppcollectorEditDialogController",controllerAs:"vm",bindToController:!0}).then((function(){})).catch((function(){A.error("AppCollector:Edit - can not open dialog winodw")}))},w.hasAppsAndServerStatusDone=function(){return w.isServerStatusCheckDone&&w.streamApps.length>0},w.isSelected=function(e){return null!=T&&T.AppData.Name===e.AppData.Name},w.gameStreamLoaded=e.gameStreamAddonLoaded,w.gameStreamLoaded||(w.isStreamingEnabled=!1),d.setScreen(m.SCREEN_PREFERENCES_SHIELD),h.$on("$destroy",(function(){I&&(A.info("pending scroll to timeout cancelled"),c.cancel(I))}))}]);t.preferencesShieldGamestreamController=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesShieldGamestream=void 0;var r=n(4);n(606);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(888));n(603);var o=r.ngPreferencesModule.component("nvPreferencesShieldGamestream",{template:i.default,controller:"PreferencesShieldGamestreamController",controllerAs:"preferencesShieldGamestream"});t.nvPreferencesShieldGamestream=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesShieldTileController=void 0;var r=n(4).ngPreferencesModule.controller("PreferencesShieldTileController",[function(){var e=!1;this.showOverlay=function(t){e=t},this.isOverlayVisible=function(){return e}}]);t.preferencesShieldTileController=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesShieldTile=void 0;var r=n(4);n(15),n(35);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(889));n(605);var o=r.ngPreferencesModule.component("nvPreferencesShieldTile",{bindings:{nvApp:"="},template:i.default,controller:"PreferencesShieldTileController",controllerAs:"vm"});t.nvPreferencesShieldTile=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesSystemInfoController=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),i=n(4);n(23);var o=i.ngPreferencesModule.controller("PreferencesSystemInfoController",["$log","hardwareService","$translate","$q","eventAggregator","COMMON_EVENTS","$scope",function(e,t,n,i,o,a,l){function s(e){var t;try{return r.isString(e)?(t=function(e,t){return Number(Math.round(e+"e"+t)+"e-"+t)}(e/S/S/S,2),isNaN(t)?E:t+" GB RAM"):E}catch(e){return A.error("failed to format memory",e),E}}function c(){var e,t;return y={},b?(y.cpuName=r.isString(b.CPUName)?b.CPUName:E,y.driverVersion=r.isString(b.DriverVersion)?g+b.DriverVersion:E,y.totalPhysicalMemory=s(b.TotalPhysicalMemory),y.currentResolution=function(e){var t,n;try{return r.isString(e)&&2===(t=e.split("@")).length&&2===(n=t[0].split("x")).length?n[0]+" x "+n[1]+", "+t[1]+"Hz":E}catch(e){return A.error("failed to format resolution",e),E}}(b.CurrentResolution),0===(e=r.isArray(b.GPU)?b.GPU.length:0)?y.gpuName=E:1===e?y.gpuName=b.GPU[0].LongGPUName:(t=r.rest(b.GPU),y.gpuName=b.GPU[0].LongGPUName,y.gpuSubItems=r.pluck(t,"LongGPUName")),void A.info("createItems - systemInfo",y)):(A.info("createItems - hardware info not available"),i.reject())}function u(e,t){h.systemInfoItems[t]=e}function d(){h.systemInfoItems=[],u({icon:"icon-gpu",description:y.gpuName,subItems:y.gpuSubItems},_.GPU),u({icon:"icon-nvlogo",description:y.driverVersion},_.DRIVER_VERSION),u({icon:"icon-memory",description:y.cpuName},_.CPU),u({icon:"icon-ram",description:y.totalPhysicalMemory},_.RAM),u({icon:"icon-monitor",description:y.currentResolution},_.RESOLUTION)}function f(e){return b=e,(g?i.when(g):v||(v=n(["l10n.driverVersion"]).then((function(e){g=e["l10n.driverVersion"]+" "})))).then(c).then(d).then((function(){h.loadingState=w.DONE}))}function m(e){A.info("sysinfo updated"),h.loadingState=w.LOADING,b=null,f(e).catch((function(e){h.loadingState=w.FAILED,A.error("failed to update system info",e)}))}function p(){b?(A.info("System info updated on locale change"),g=null,v=null,f(b)):A.info("No hardware information to update system information.")}var g,v,h=this,b=null,y={},E="-",S=1024,_={GPU:0,DRIVER_VERSION:1,CPU:2,RAM:3,RESOLUTION:4},w={LOADING:"LOADING",FAILED:"FAILED",DONE:"DONE"},A=e.getInstance("main.games/PreferencesSystemInfoController");h.systemInfoItems=[],h.ITEM_POSITION=_,h.LOADING_STATE=w,h.loadingState=w.LOADING,A.info("Controller initialized"),o.on(a.SYSTEMINFO_UPDATED,m),o.on(a.LOCALE_CHANGED,p),l.$on("$destroy",(function(){o.off(a.SYSTEMINFO_UPDATED,m),o.off(a.LOCALE_CHANGED,p)})),t.getSystemInfo().then(f).catch((function(e){h.loadingState=w.FAILED,A.error("failed to init system info",e)}))}]);t.preferencesSystemInfoController=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesSystemInfo=void 0;var r=n(4),i=function(e){return e&&e.__esModule?e:{default:e}}(n(890));n(607);var o=r.ngPreferencesModule.component("nvPreferencesSystemInfo",{template:i.default,controller:"PreferencesSystemInfoController",controllerAs:"preferencesSystemInfo"});t.nvPreferencesSystemInfo=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.couponInputController=void 0;var r=n(53).ngRewardsModule.controller("CouponInputController",["$log","REWARDS_CONSTANTS","eventAggregator","$scope","REWARDS_EVENTS",function(e,t,n,r,i){function o(){l.couponCode="",l.validateCoupon()}function a(){l.codeInvalid=!0,l.actionButtonDisabled=!0}var l=this,s=(e.getInstance("main.rewards/CouponInputController"),"");l.couponCode=s,l.validateCoupon=function(){if(l.codeInvalid=!1,l.couponCode){l.couponCode=l.couponCode.replace(/\s+/g,"");var e=new RegExp(/^[a-zA-Z0-9]*$/);if(l.codeInvalid=!e.test(l.couponCode),l.couponCode.length>t.REWARDS_COUPONS.CODE_LENGTH_NO_DASHES-1?(l.couponCode=l.couponCode.slice(0,t.REWARDS_COUPONS.CODE_LENGTH_NO_DASHES),l.codeInvalid=!e.test(l.couponCode),l.actionButtonDisabled=l.codeInvalid):l.actionButtonDisabled=!0,l.couponCode.length>s.length){if(l.couponCode.replace(/-/g,"").length-s.replace(/-/g,"").length>1||0===l.couponCode.indexOf(s))n.trigger(i.COUPON_INPUT.RESTORE_CARET);else for(var r=0;r<l.couponCode.length;r++)if(l.couponCode.charAt(r)!==s.charAt(r)){n.trigger(i.COUPON_INPUT.RESTORE_CARET,++r);break}}else if(l.couponCode.length===s.length&&l.couponCode!==s){for(var o=0;o<l.couponCode.length;o++)if(l.couponCode.charAt(o)!==s.charAt(o)){n.trigger(i.COUPON_INPUT.RESTORE_CARET,++o);break}}else if(l.couponCode===s||s.length-l.couponCode.length>1)n.trigger(i.COUPON_INPUT.RESTORE_CARET,-1);else for(var a=0;a<l.couponCode.length;a++)if(l.couponCode.charAt(a)!==s.charAt(a)){n.trigger(i.COUPON_INPUT.RESTORE_CARET,a);break}s=l.couponCode}else l.actionButtonDisabled=!0,s=""},l.redeemCoupon=function(){l.nvButton.action(l.couponCode)},n.on(i.COUPON_INPUT.CLEAR_CODE,o),n.on(i.COUPON_INPUT.INVALIDATE_CODE,a),l.validateCoupon(),r.$on("$destroy",(function(){n.off(i.COUPON_INPUT.CLEAR_CODE,o),n.off(i.COUPON_INPUT.INVALIDATE_CODE,a)}))}]);t.couponInputController=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvCouponInput=void 0;var r=n(53),i=function(e){return e&&e.__esModule?e:{default:e}}(n(318));n(609);var o=r.ngRewardsModule.directive("nvCouponInput",["eventAggregator","REWARDS_EVENTS","$log","$timeout","COMMON_KEYBOARD_KEYCODES",function(e,t,n,r,o){return{restrict:"E",scope:{nvInputPlaceholder:"=",nvButton:"=",nvErrorMessage:"@"},bindToController:!0,template:i.default,controller:"CouponInputController",controllerAs:"couponInput",link:function(i,a,l){function s(){m[0].focus()}function c(){m[0].blur()}function u(e){p=e}function d(e){if(p.ctrlKey&&p.which===o.V||_.isNull(e)||isNaN(e))r((function(){m[0].value=m[0].value}));else if(-1===e){var t=m[0].selectionStart;r(p.which===o.SPACE?function(){m[0].setSelectionRange(t--,t--)}:function(){m[0].setSelectionRange(t,t)})}else r((function(){m[0].setSelectionRange(e,e)}))}function f(){e.off(t.COUPON_INPUT.FOCUS,s),e.off(t.COUPON_INPUT.BLUR,c),e.off(t.COUPON_INPUT.RESTORE_CARET,d),m&&m.off("keydown",u),a.empty(),a.remove(),a=null,m=null}var m=(n.getInstance("main.rewards/CouponInputDirective"),angular.element(a.find("input"))),p={which:o.DEFAULT};e.on(t.COUPON_INPUT.FOCUS,s),e.on(t.COUPON_INPUT.BLUR,c),e.on(t.COUPON_INPUT.RESTORE_CARET,d),m.on("keydown",u),i.$on("$destroy",f),a.on("$destroy",(function(){i.$destroy()}))}}}]);t.nvCouponInput=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rewardCardController=void 0;var r=n(53);!function(e){e&&e.__esModule}(n(242)),n(230),n(15),n(42),n(166);var i=r.ngRewardsModule.controller("RewardCardController",["$filter","$log","REWARDS_CONSTANTS","eventAggregator","REWARDS_EVENTS","TELEMETRY_CRIMSON_EVENT_NAMES","telemetryService","TELEMETRY_AFFINITY_ACTION","TELEMETRY_AFFINITY_ELEMENT","REWARDS_ASSET_DIMENSIONS","rewardsService",function(e,t,n,r,i,o,a,l,s,c,u){var d=this,f=d.nvReward.campaign.uuid,m={REDEEMED:"done",EXPIRED:"error_outline"},p=!1,g=t.getInstance("main.rewards/RewardCardController");d.isPushedReward=function(){return d.isRewardAvailable()&&d.nvReward.state!==n.REDEMPTION_STATES.CLAIMABLE||!1},d.isRewardAvailable=function(){return d.nvReward.status===n.REDEMPTION_STATES.AVAILABLE},d.isRewardRedeemedOrExpired=function(){return d.isRewardRedeemed()||d.isRewardExpired()},d.isRewardRedeemed=function(){return d.nvReward.redemptionStatus===n.REDEMPTION_STATES.REDEEMED},d.isRewardExpired=function(){return d.nvReward.redemptionStatus===n.REDEMPTION_STATES.EXPIRED},d.isRewardLocked=function(){return d.nvReward.redemptionStatus===n.REDEMPTION_STATES.LOCKED},d.onMouseEnter=function(){p=!0,d.isRewardAvailable()&&(d.showOverlay=!0)},d.onMouseLeave=function(){p=!1,d.isRewardAvailable()&&(d.showOverlay=!1)},d.isDetailsButtonVisible=function(){return d.isRewardRedeemed()&&p},d.redeemReward=function(e){d.isRewardExpired()||(d.nvReward.redemptionStatus===n.REDEMPTION_STATES.UNREDEEMED?a.push(o.REWARDS_REDEEM_AVAILABLE_REWARD,{campaignName:a.getString(f)}):d.nvReward.redemptionStatus===n.REDEMPTION_STATES.LOCKED?a.push(o.USER_AFFINITY_READ_MORE,{action:l.READ_INFO,useCase:s.PERK,description:a.getString(f)}):d.nvReward.redemptionStatus===n.REDEMPTION_STATES.CLAIMABLE?a.push(o.REWARDS_CLAIM_AVAILABLE_REWARD,{campaignName:a.getString(f)}):d.nvReward.redemptionStatus===n.REDEMPTION_STATES.REDEEMED&&a.push(o.REWARDS_VIEW_REDEEMED_REWARD,{campaignName:a.getString(f)}),r.trigger(i.REWARD_REDEEM_CLICKED,d.nvReward))},function(){var t=d.nvReward.campaign.rules.end_date,n=d.nvReward.redemptionDate;t=e("date")(t,"dd MMM yyyy"),n=e("date")(n,"dd MMM yyyy"),d.cardTitle="",d.isRewardRedeemed()?(d.rewardImageUrl=u.getFormattedImageUrl(d.nvReward.product[0].imageLink,c.CARD),d.cardTitle=d.nvReward.product[0].title,d.showOverlay=!0,d.rewardStatusIcon=m.REDEEMED,d.rewardStatusMessage=e("translate")("l10n.redeemed"),n?d.rewardDate=e("translate")("l10n.redeemedOn",{date:n}):(g.error("Unexpected scenario: Got a redeemed reward with no transaction date"),d.rewardDate=null)):(d.rewardImageUrl=u.getFormattedImageUrl(d.nvReward.campaign.imageLink,c.CARD),d.cardTitle=d.nvReward.campaign.title,d.isRewardExpired()?(d.showOverlay=!0,d.rewardStatusIcon=m.EXPIRED,d.rewardStatusMessage=e("translate")("l10n.expired"),t?d.rewardDate=e("translate")("l10n.expiredOn",{date:t}):(g.error("Unexpected scenario: Got an expired reward with no expiration date"),d.rewardDate=null)):d.isRewardLocked()?(d.perkLevel=d.nvReward.campaign.rules.perkLevel,d.showOverlay=!0,d.rewardDate=null):(d.showOverlay=!1,t?d.rewardDate=e("translate")("l10n.availableTill",{date:t}):(g.info("Reward with this uuid is set to never expire: ",f),d.rewardDate=null)))}()}]);t.rewardCardController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvRewardCard=void 0;var r=n(53),i=function(e){return e&&e.__esModule?e:{default:e}}(n(891));n(611),n(42);var o=r.ngRewardsModule.component("nvRewardCard",{bindings:{nvReward:"="},template:i.default,controller:"RewardCardController",controllerAs:"rewardCard"});t.nvRewardCard=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.rewardsCenterController=void 0;var i=r(n(12)),o=n(53);n(122);var a=r(n(242));n(230),r(n(318)),n(610),n(15),n(19),n(29),n(297),n(13),n(37),n(55);var l=o.ngRewardsModule.controller("RewardsCenterController",["rewardsService","$filter","$log","REWARDS_CONSTANTS","$mdDialog","eventAggregator","REWARDS_EVENTS","COMMON_EVENTS","toastService","gfeService","$scope","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","windowSpawnService","$window","jarvisService","dbCacheService","DB_NAMES","$state","$q","COMMON_DEFAULT_STATES","$interval","$timeout","NOTIFICATION_EVENTS","cevoToggleService","gfeGeolocationService","COMMON_COUNTRY_CODES","USER_PROFILE_EVENTS","GFECLIENT_CONFIG","REWARDS_ENTITLEMENT_TYPES","PORTAL_EVENT_CATEGORIES","PORTAL_EVENT_TYPES",function(e,t,n,r,o,l,s,c,u,d,f,m,p,g,v,h,b,y,E,S,w,A,T,I,C,x,D,M,O,R,N,L){function P(){le.filteredUnRedeemedList=[],le.filteredRedeemedOrExpiredList=[],le.unRedeemedList=[],le.redeemedOrExpiredList=[],le.lockedPerksList=[]}function k(e){e&&u.cancel(),le.requestInProgress=e}function G(e,t,n,r,i){d.onlineState&&!1===d.onlineState.online?u.showOffline():e(t,n,r,i)}function F(){ee(Ae)}function U(){return _.find(le.unRedeemedList,(function(e){return e.entitlementId===he}))}function V(){var e=U();if(e){var n=t("translate")("l10n.tryAgain"),r="l10n.redemptionIncomplete";ne(e)&&(n=t("translate")("l10n.redeem"),r="l10n.moreItemsAvailable"),$(r,n,F)}}function z(){m.push(p.REWARDS_REDEMPTION_PORTAL_CLOSE,{couponCode:le.couponCode||""}),le.couponCode="",l.trigger(s.COUPON_INPUT.CLEAR_CODE),Ee?Ee=!1:ye?(ye=!1,j().then((function(e){G(V)}))):be?be=!1:G(V),l.off(c.CHILD_WINDOW_CLOSED,z)}function B(){Se||_e||!e.getRewardsTabSelected()||(_e=u.showProgress({textContent:t("translate")("l10n.updatingContent")}).finally((function(){_e=null})))}function $(n,r,i){e.getRewardsTabSelected()&&u.showError({textContent:t("translate")(n||"l10n.unableToReachNvidia"),button:{text:r||t("translate")("l10n.learnMore"),action:i||e.openLearnMoreWindow}})}function W(e){return e.status+(e.state||"")+(e.entitlementId||"")+(e.redemptionId||"")+e.campaign.uuid}function H(){de&&(de.unRedeemedList=le.unRedeemedList,de.redeemedOrExpiredList=le.redeemedOrExpiredList,de.lockedPerksList=le.lockedPerksList,de.persist_())}function j(){return ue?(Te.error("Building rewards already in progress"),ue):ue=function(){var n=S.defer(),i=!1;return Se=!1,Te.info("getting Rewards"),e.getRedemptionHistory().then((function(e){i=!0,P(),_.size(e.available)>0&&(le.unRedeemedList=e.available,le.unRedeemedList.map((function(e){return e.redemptionStatus=e.state||r.REDEMPTION_STATES.UNREDEEMED,e.uID=W(e),e})),le.unRedeemedList=t("orderBy")(le.unRedeemedList,"campaign.rules.end_date",!0),le.unRedeemedList=t("orderBy")(le.unRedeemedList,"entitlementDate",!0),i=!1),_.size(e.locked)>0&&(le.lockedPerksList=e.locked,le.lockedPerksList.map((function(e){return e.redemptionStatus=r.REDEMPTION_STATES.LOCKED,e.uID=W(e),e})),le.lockedPerksList=t("orderBy")(le.lockedPerksList,"campaign.rules.perkLevel",!1),i=!1),(_.size(e.redeemed)>0||_.size(e.expired)>0)&&(e.redeemed.map((function(e){return e.redemptionStatus=r.REDEMPTION_STATES.REDEEMED,e.uID=W(e),e})),e.redeemed=t("orderBy")(e.redeemed,"redemptionDate",!0),e.expired.map((function(e){return e.redemptionStatus=r.REDEMPTION_STATES.EXPIRED,e.uID=W(e),e})),e.expired=t("orderBy")(e.expired,"campaign.rules.end_date",!0),le.redeemedOrExpiredList=e.redeemed.concat(e.expired),i=!1),H(),le.couponBannerExpanded=i,n.resolve(e),u.cancel()})).catch((function(e){Te.error("Failed to get user rewards"),n.reject(e)})).finally((function(){Se=!0,J()})),T(B),n.promise}().catch((function(){Te.error("Build rewards failed"),$("l10n.couldNotRetrieveRedemptionHistory")})).finally((function(){ue=null}))}function q(e,t){var n=o.show({template:a.default,locals:e,bindToController:!0,autoWrap:!1,clickOutsideToClose:!1,controller:"RedeemRewardController",controllerAs:"redeemReward"});return t&&n.then((function(){l.trigger(s.COUPON_INPUT.FOCUS)})).finally((function(){k(!1),le.couponCode="",l.trigger(s.COUPON_INPUT.CLEAR_CODE)})),n}function Y(e){if(Te.debug("VRS postMessage received",e),e.origin&&e.origin===O.vrs.server&&e.data)switch(Te.info("VRS postMessage received event details: ",e.data),e.data.type){case L.INITIALIZE:K(e.data);break;case L.PROGRESS:!function(e){var t={realm:"",campaignName:e.campaign.uuid||"",campaignType:e.campaign.type||"",redemptionId:e.entitlementId||""};switch(e.category){case N.ACCOUNT:m.push(p.REWARDS_PORTAL_ACCOUNT_LINK_CONTINUE_CLICK,t);break;case N.TERMS_AND_CONDITIONS:m.push(p.REWARDS_PORTAL_VIEW_TERMS_AND_CONDITIONS,t);break;case N.PRODUCTS:m.push(p.REWARDS_PORTAL_SELECT_PRODUCTS_CONTINUE_CLICK,t)}}(e.data);break;case L.SUCCESS:!function(e){var t={realm:"",connector:e.campaign.publisher||"",campaignName:e.campaign.uuid||"",campaignType:e.campaign.type||"",redemptionId:e.redemptionId||"",productId:e.product.id||""};switch(e.category){case N.REDEEM:m.push(p.REWARDS_PORTAL_ENTITLEMENT_RESULT_PRODUCT_SUCCESS,t);var n=U();n&&!ye&&(le.unRedeemedList=_.without(le.unRedeemedList,n),n.redemptionStatus=n.status=n.state=r.REDEMPTION_STATES.REDEEMED,n.redemptionDate=new Date,le.redeemedOrExpiredList.unshift(n),be=!0,H(),J());break;case N.ACCOUNT:m.push(p.REWARDS_PORTAL_ACCOUNT_LINK_SUCCESS,t)}}(e.data);break;case L.FAILURE:!function(e){var t={realm:"",connector:e.campaign.publisher||"",campaignName:e.campaign.uuid||"",campaignType:e.campaign.type||"",redemptionId:e.redemptionId||"",productId:e.product.id||"",message:e.error.message||""};switch(e.category){case N.REDEEM:m.push(p.REWARDS_PORTAL_ENTITLEMENT_RESULT_PRODUCT_FAILED,t);break;case N.ACCOUNT:m.push(p.REWARDS_PORTAL_ACCOUNT_LINK_FAILED,t)}}(e.data);break;default:Te.info("Unexpected post message received",e)}else Te.info("Unexpected post message received",e)}function K(t){e.getDelegateToken(r.UNIFIED_REDEMPTION_ID).then((function(t){var n={user:t,sysInfo:e.getRedeemRequestData().sysInfo,reward:Ae},r=JSON.parse((0,i.default)(n));r.hasOwnProperty("user")&&r.user.hasOwnProperty("delegateToken")?delete r.user.delegateToken:Te.error("The user delegateToken does not exist in the postMessage reward object."),r.hasOwnProperty("reward")&&r.reward.hasOwnProperty("accessToken")?delete r.reward.accessToken:Te.error("The reward accessToken does not exist in the postMessage object."),Te.info("The postMessage details sent to the VRS child window ",r),we.postMessage(n,"*")}))}function Q(e,t){var n=r.PORTAL_WINDOW_HEIGHT,i=r.PORTAL_WINDOW_WIDTH,o="toolbar=0,location=0,menubar=0,width="+i+",height="+n+",top="+(v.screenY+v.innerHeight/2-n/2)+",left="+(v.screenX+v.innerWidth/2-i/2),a={message:t||"",urlToLoad:e};we=g.openChildWindow("external-page-loader-app.html#/rewards-portal","app_rewards",o,a,!0,Y),Te.info("New browser window should have opened with url: ",e)}function Z(n,i){k(!0),l.trigger(s.COUPON_INPUT.BLUR),ie(),ce.couponCode=n;var o;return o=i===R.COUPON,e.redeemEntitlement(n,i).then((function(e){if(Ae=e,se=e.campaign.uuid,he=e.entitlementId,ce.campaignName=se,be=!1,o){var n=t("translate")("l10n.codeVerified");Q(e.entitlementUrl,n)}else i===R.AVAILABLE_REWARD&&function(e){le.unRedeemedList.map((function(t){return t.entitlementId===e.entitlementId?e:t})),l.trigger(I.REMOVE_NOTIFICATION,[{callbackData:e.campaign.uuid}]),H(),J()}(Ae),Q(e.entitlementUrl,"");l.on(c.CHILD_WINDOW_CLOSED,z),k(!1),ye=!0})).catch((function(e){Te.error("Redemption for "+n+" failed with error: "+e.message),k(!1),e.message&&e.message===r.VALIDATION_ERRORS.COUPONS.NOT_FOUND?l.trigger(s.COUPON_INPUT.INVALIDATE_CODE):q({nvRedemptionError:e},!0)}))}function X(e,n){return t("filter")(e,(function(e){return e.status===r.REDEMPTION_STATES[n]}))}function J(){le.filteredUnRedeemedList=le.unRedeemedList,le.filteredRedeemedOrExpiredList=le.redeemedOrExpiredList,de?de.rewardsFilters?de.rewardsFilters.available?le.isFilterButtonDisabled("available")?(Te.info("No unredeemed items available, reverting filter to all state"),le.setFilter("all")):le.filteredUnRedeemedList=X(le.filteredUnRedeemedList,r.REDEMPTION_STATES.AVAILABLE):de.rewardsFilters.expired?le.isFilterButtonDisabled("expired")?(Te.info("No expired items available, reverting filter to all state"),le.setFilter("all")):le.filteredRedeemedOrExpiredList=X(le.filteredRedeemedOrExpiredList,r.REDEMPTION_STATES.EXPIRED):de.rewardsFilters.redeemed?le.isFilterButtonDisabled("redeemed")?(Te.info("No redeemed items available, reverting filter to all state"),le.setFilter("all")):le.filteredRedeemedOrExpiredList=X(le.filteredRedeemedOrExpiredList,r.REDEMPTION_STATES.REDEEMED):Te.info("Rewards filters set to show all, no specifics applied"):(Te.info("Setting default filter to show all Rewards"),le.setFilter("all")):Te.error("Rewards view state not available to persist filters"),le.unRedeemedListLimitTo<le.filteredUnRedeemedList.length&&!pe?pe=A((function(){le.unRedeemedListLimitTo+=r.LIMIT_TO_FILTER.ITEMS_AT_ONCE,le.unRedeemedListLimitTo>=le.filteredUnRedeemedList.length&&(le.unRedeemedListLimitTo=le.filteredUnRedeemedList.length,A.cancel(pe),pe=null)}),r.LIMIT_TO_FILTER.INTERVAL_LENGTH):le.unRedeemedListLimitTo>le.filteredUnRedeemedList.length&&(le.unRedeemedListLimitTo=le.filteredUnRedeemedList.length),le.redeemedOrExpiredListLimitTo<le.filteredRedeemedOrExpiredList.length&&!ge?ge=A((function(){le.redeemedOrExpiredListLimitTo+=r.LIMIT_TO_FILTER.ITEMS_AT_ONCE,le.redeemedOrExpiredListLimitTo>=le.filteredRedeemedOrExpiredList.length&&(le.redeemedOrExpiredListLimitTo=le.filteredRedeemedOrExpiredList.length,A.cancel(ge),ge=null)}),r.LIMIT_TO_FILTER.INTERVAL_LENGTH):le.redeemedOrExpiredListLimitTo>le.filteredRedeemedOrExpiredList.length&&(le.redeemedOrExpiredListLimitTo=le.filteredRedeemedOrExpiredList.length)}function ee(e){Ae=e,e.redemptionStatus===r.REDEMPTION_STATES.LOCKED?q({perkDetails:e},!1):e.status===r.REDEMPTION_STATES.AVAILABLE?e.campaign.type===r.REWARD_PACKAGE_TYPES.SWEEPSTAKE?x.getGeolocation().then((function(t){t.countryCode===D.CANADA?q({sweepDetails:e}).then((function(){G(Z,e.campaign.uuid,R.AVAILABLE_REWARD)}),!1):G(Z,e.campaign.uuid,R.AVAILABLE_REWARD)})):e.state&&e.state===r.REDEMPTION_STATES.CLAIMABLE?G(te,e):G(Z,e.campaign.uuid,R.AVAILABLE_REWARD):G(re,e)}function te(t){ie(),se=t.campaign.uuid,ne(t)&&(e.clearCachedRewards(),ye=!0),he=t.entitlementId,Q(t.entitlementUrl,""),l.on(c.CHILD_WINDOW_CLOSED,z)}function ne(e){var t=e.campaign.rules.maxselect;return!!(t&&parseInt(t,10)>1)}function re(e){e.redemptionStatus===r.REDEMPTION_STATES.REDEEMED&&(Ee=!0),ie(),se=e.campaign.uuid,Q(e.entitlementUrl,"")}function ie(){ce=e.getRedeemRequestData()}function oe(e){j().then((function(){G(Z,e,R.AVAILABLE_REWARD)}))}function ae(e){le.userProfileEnabled=e}var le=this,se=null,ce=null,ue=null,de=null,fe=null,me=h.getLoggedInUser(),pe=null,ge=null,ve=E.params,he=null,be=!1,ye=!1,Ee=!1,Se=!1,_e=null,we=null,Ae={},Te=n.getInstance("main.rewards/RewardsCenterController");le.requestInProgress=!1,le.redeemButtonDisabled=!0,le.couponBannerExpanded=!1,le.perksSectionExpanded=!0,le.redeemedOrExpiredListLimitTo=le.unRedeemedListLimitTo=r.LIMIT_TO_FILTER.ITEMS_AT_ONCE,le.couponsLearnMoreMessages=["l10n.checkCouponRetailer","l10n.gfeGiveaway"],le.rewardsTrackBy=function(e){return e.uID||W(e)},le.redeemedOrExpiredItemsExist=function(){return le.redeemedOrExpiredList.length>0},le.unRedeemedItemsExist=function(){return le.unRedeemedList.length>0},le.showPerksSection=function(){return le.userProfileEnabled&&le.lockedPerksList.length>0},le.showAvailableCards=function(){return le.matchFilter("all")||le.matchFilter("available")},le.showNoRedeemedItemsMessage=function(){return!le.redeemedOrExpiredItemsExist()&&le.matchFilter("all")},le.backToPreviousState=function(){fe&&fe.lastRouterFromState?E.go(fe.lastRouterFromState,fe.lastRouterFromStateParams,{location:"replace"}):(Te.error("Unable to go back to previous state, local view state unavailable"),E.go(w.HOME_STATE,{},{location:"replace"}))},le.redeemCoupon=function(e){le.couponCode=e,m.push(p.REWARDS_REDEEM_CODE,{couponCode:le.couponCode||""}),G(Z,e,R.COUPON)},le.isFilterButtonDisabled=function(e){switch(e){case"all":return 0===le.getRewardsCount("all");case"available":return 0===le.getRewardsCount("available");case"redeemed":return 0===le.getRewardsCount("redeemed");case"expired":return 0===le.getRewardsCount("expired");default:return!1}},le.setFilter=function(e){de?(de.rewardsFilters={all:!1,available:!1,redeemed:!1,expired:!1},de.rewardsFilters[e]=!0,de.persist_(),"available"===e?m.push(p.REWARDS_TOOLBAR_FILTER_AVAILABLE):"redeemed"===e?m.push(p.REWARDS_TOOLBAR_FILTER_REDEEMED):"expired"===e?m.push(p.REWARDS_TOOLBAR_FILTER_EXPIRED):m.push(p.REWARDS_TOOLBAR_FILTER_ALL),J(),l.trigger(s.RESET_SCROLL_POSITION)):Te.error("Unable to set filter, rewards view state unavailable")},le.matchFilter=function(e){return de&&de.rewardsFilters&&de.rewardsFilters[e]||!1},le.getRewardsCount=function(e){switch(e){case"all":return _.size(le.redeemedOrExpiredList)+_.size(le.unRedeemedList);case"available":return _.size(X(le.unRedeemedList,r.REDEMPTION_STATES.AVAILABLE));case"redeemed":return _.size(X(le.redeemedOrExpiredList,r.REDEMPTION_STATES.REDEEMED));case"expired":return _.size(X(le.redeemedOrExpiredList,r.REDEMPTION_STATES.EXPIRED));default:return 0}},le.toggleCouponBannerExpansionState=function(){le.couponBannerExpanded=!le.couponBannerExpanded,le.couponBannerExpanded&&m.push(p.REWARDS_REDEEM_COUPON_BANNER_EXPANDED)},le.togglePerksSectionExpansionState=function(){le.perksSectionExpanded=!le.perksSectionExpanded},P(),fe=b.getCachedUserItem(me.userId,y.VIEW_STORE,y.VIEW_STATE),(de=b.getCachedUserItem(me.userId,y.JARVIS_GFE_STORE,y.REWARDS_VIEW_STATE))&&(de.dbUpdatedForVrs?(le.redeemedOrExpiredList=de.redeemedOrExpiredList||[],le.unRedeemedList=de.unRedeemedList||[],le.lockedPerksList=de.lockedPerksList||[]):(le.redeemedOrExpiredList=[],le.unRedeemedList=[],le.lockedPerksList=[],de.dbUpdatedForVrs=!0),J(),0===le.unRedeemedList.length&&0===le.redeemedOrExpiredList.length&&(le.couponBannerExpanded=!0)),l.on(s.REWARD_REDEEM_CLICKED,ee),l.on(s.REWARDS_UPDATED,j),l.on(s.REWARD_NOTIFICATION_CLICKED,oe),l.on(c.USER_PROFILE_STATUS_UPDATED,ae),l.on(M.PROFILE_TAB_CHANGED,B),f.$on("$destroy",(function(){l.off(c.CHILD_WINDOW_CLOSED,z),l.off(s.REWARD_REDEEM_CLICKED,ee),l.off(s.REWARDS_UPDATED,j),l.off(s.REWARD_NOTIFICATION_CLICKED,oe),l.off(c.USER_PROFILE_STATUS_UPDATED,ae),l.off(M.PROFILE_TAB_CHANGED,B),pe&&(A.cancel(pe),pe=null),ge&&(A.cancel(ge),ge=null)})),le.translatedInputPlaceholder=t("translate")("l10n.enterCouponCode"),le.nvCouponInputButton={text:"l10n.redeem",action:le.redeemCoupon},le.userProfileEnabled=!1,C.getUserProfileEnabled().then(ae),ie(),ve&&ve.rewardPackageId?oe(ve.rewardPackageId):G(j)}]);t.rewardsCenterController=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.searchController=void 0;var r=n(190),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),o=r.ngSearchModule.controller("SearchController",["$scope","$log","$state","$timeout","jarvisService","eventAggregator","gfeSearchService","DB_NAMES","dbCacheService","gamesService","COMMON_EVENTS","$document","KEYBOARD_EVENT_KEYCODE","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_SCREENS","TELEMETRY_SEARCH_TYPE","TELEMETRY_ONOFF_STATE",function(e,t,n,r,o,a,l,s,c,u,d,f,m,p,g,v,h){function b(){y.searchInputVisble=!1,y.query="",(w=o.getLoggedInUser())?(_=c.getCachedUserItem(w.userId,s.JARVIS_GFE_STORE,s.JARVIS_SEARCH_STATE))&&_.wait_().then((function(){y.recentSearchesCache=_.recentSearches,y.recentSearchesCache.length>0?y.searchResult="recentQueries":y.searchResult=""})):(w=null,_=null)}var y=this,E=t.getInstance("main.searchsearchController"),S=null,_=null,w=null,A=!1;y.query="",y.searchInputVisble=!1,y.searchInputFocused=!1,y.browsingResult=!1,y.categorizedResult=null,y.recentSearchesAvailable=!1,y.searchResult="",y.selectedSearchResultIndex=0,y.selectedCategoryIndex=0,y.selectedRecentSearchIndex=-1,y.currentCategory="",y.searchCategories={"main.auth.rewards":"l10n.rewards","main.auth.home.gamesAndFriends.gameDetails":"l10n.games","main.auth.updates":"l10n.drivers","main.auth.preferences":"l10n.settings"},y.recentSearchesCache=[];var T={"main.auth.home.gamesAndFriends.gameDetails":g.SCREEN_GAMES,"main.auth.home.gamesAndFriends":g.SCREEN_HOME,"main.auth.updates":g.SCREEN_DRIVERS,"main.auth.rewards":g.SCREEN_REWARDS,"main.auth.preferences.general":g.SCREEN_PREFERENCES_GENERAL,"main.auth.preferences.accounts":g.SCREEN_PREFERENCES_ACCOUNT,"main.auth.preferences.games":g.SCREEN_PREFERENCES_GAMES,"main.auth.preferences.shield":g.SCREEN_PREFERENCES_SHIELD};y.setInputElement=function(e){S||(S=e)},y.focusSearchInput=function(){y.searchInputVisble=!0,r((function(){S[0].focus()}),210),l.pushTelemetry(p.SEARCH_INPUT_TOGGLE,{currentScreen:T[n.current.name],settingName:p.SEARCH_INPUT_TOGGLE.enumId,settingValue:h.ON})},y.neglectSearchInput=function(){y.searchInputVisble=!1,y.query="",y.categorizedResult=null,y.searchInputFocused=!1,y.browsingResult=!1,y.searchResult="",l.pushTelemetry(p.SEARCH_INPUT_TOGGLE,{currentScreen:T[n.current.name],settingName:p.SEARCH_INPUT_TOGGLE.enumId,settingValue:h.OFF})},y.toggleSearchInput=function(){y.searchInputVisble=!y.searchInputVisble,y.searchInputVisble?y.focusSearchInput():y.neglectSearchInput()},y.showRecentSearches=function(){y.searchInputFocused=!0,y.categorizedResult||0!=y.query.length||y.performSearch(y.query)},y.resultsShouldBeVisible=function(){return!!(y.searchInputVisble&&y.searchInputFocused||y.browsingResult)},y.performSearch=function(e){if(0==e.length)y.recentSearchesCache.length>0?y.searchResult="recentQueries":y.searchResult="",y.selectedRecentSearchIndex=-1;else{var t=0,r={},o={"main.auth.rewards":{hasIcon:!0,icon:"card_giftcard"},"main.auth.updates":{hasIcon:!0,icon:"archive"},"main.auth.preferences":{hasIcon:!0,icon:"settings"}},a=l.searchDoc(e);i.forEach(a,(function(e,t){var n=e;i.size(n)&&(r[t]=[]),i.forEach(n,(function(e){if(o[t])i.extend(e,o[t]);else if(e.hasThumbnail=!0,e.param){var n=parseInt(e.param);e.thumbnail=u.getSystemGame(n).tvBannerImage}e.title=e.title.charAt(0).toUpperCase()+e.title.slice(1);var a=i.clone(e);a.preview="",i.forEach(i.first(e.preview,3),(function(e){e.toLowerCase()!==a.title.toLowerCase()&&(a.preview+=e.charAt(0).toUpperCase()+e.slice(1)+", ")})),a.preview=a.preview.slice(0,-2),r[t].push(a)}))}));var s=n.current.name;if(s.includes("main.auth.preferences")?s="main.auth.preferences":s.includes("main.auth.home.gamesAndFriends")&&(s="main.auth.home.gamesAndFriends.gameDetails"),i.has(r,s)){var c={};c[s]=r[s],i.forEach(r,(function(e,t,n){t!==s&&(c[t]=e)})),r=c}i.forEach(r,(function(e){t+=e.length})),E.info("PerformSearch"),i.keys(r).forEach((function(e){r[e]=i.first(r[e],5)})),t>0?(y.categorizedResult=r,y.searchResult="resultAvailable",y.initializeSearchResultListIndices(),y.initializeScroll()):(y.categorizedResult=null,y.searchResult="resultNotAvailable")}},y.initializeSearchResultListIndices=function(){y.selectedCategoryIndex=0,y.selectedSearchResultIndex=0;var e=i.keys(y.categorizedResult);y.currentCategory=e[y.selectedCategoryIndex]},y.addQuery=function(e){l.pushTelemetry(p.SEARCH_RECENT_RESULT_CLICK,{searchType:v.RECENT_SEARCH_RESULT,searchQuery:"",searchPreview:"",selectedResult:e.title}),A=!0,y.redirect(e)},y.redirect=function(e){y.browsingResult=!1;var t=e;e.param?n.go(e.path,{userGameId:e.param}):n.go(e.path),A||l.pushTelemetry(p.SEARCH_NEW_RESULT_CLICK,{searchType:v.NEW_SEARCH_RESULT,searchQuery:y.query,searchPreview:e.preview,selectedResult:e.title}),A=!1,y.recentSearchesCache=i.without(y.recentSearchesCache,i.findWhere(y.recentSearchesCache,{title:t.title})),_&&(y.recentSearchesCache.unshift(t),y.recentSearchesCache.length>5&&y.recentSearchesCache.pop(),_.recentSearches=y.recentSearchesCache,_.persist_())},y.initializeScroll=function(){r((function(){y.searchResultListElement=angular.element(f[0].querySelector("#search-result-list")),y.searchResultListElement&&y.searchResultListElement[0]&&y.searchResultListElement[0].scrollHeight>y.searchResultListElement[0].offsetHeight&&(y.searchResultListElement[0].scrollTop=0)}))},y.updateScroll=function(e){y.searchResultListElement&&y.searchResultListElement[0]&&y.searchResultListElement[0].scrollHeight>y.searchResultListElement[0].offsetHeight&&(y.searchResultListElement[0].scrollTop+=e)},y.isSearchItemSelected=function(e,t){return y.selectedSearchResultIndex===e&&y.currentCategory===t},y.keydownevt=function(e){switch(e.keyCode){case m.KEY_DOWN:if(e.stopPropagation(),e.preventDefault(),"recentQueries"!==y.searchResult){var t=i.keys(y.categorizedResult);y.selectedSearchResultIndex<y.categorizedResult[y.currentCategory].length-1?y.selectedSearchResultIndex=y.selectedSearchResultIndex+1:y.selectedCategoryIndex<t.length-1&&(y.selectedCategoryIndex=y.selectedCategoryIndex+1,y.currentCategory=t[y.selectedCategoryIndex],y.selectedSearchResultIndex=0),y.updateScroll(74)}else y.selectedRecentSearchIndex<y.recentSearchesCache.length-1&&(y.selectedRecentSearchIndex=y.selectedRecentSearchIndex+1);break;case m.KEY_UP:if(e.stopPropagation(),e.preventDefault(),"recentQueries"!==y.searchResult){t=i.keys(y.categorizedResult);y.selectedSearchResultIndex>0?y.selectedSearchResultIndex=y.selectedSearchResultIndex-1:y.selectedCategoryIndex>0&&(y.selectedCategoryIndex=y.selectedCategoryIndex-1,y.currentCategory=t[y.selectedCategoryIndex],y.selectedSearchResultIndex=y.categorizedResult[y.currentCategory].length-1),y.updateScroll(-74)}else y.selectedRecentSearchIndex>0&&(y.selectedRecentSearchIndex=y.selectedRecentSearchIndex-1);break;case m.KEY_ENTER:var n;if("recentQueries"!==y.searchResult)(n=y.categorizedResult[y.currentCategory][y.selectedSearchResultIndex])&&(y.redirect(n),S[0].blur());else(n=y.recentSearchesCache[y.selectedRecentSearchIndex])&&(y.addQuery(n),S[0].blur());break;case m.KEY_ESCAPE:y.neglectSearchInput()}},e.$on("$destroy",(function(){a.off(d.LOGIN_STATUS_CHANGE,b),y.categorizedResult=null,w=null,_=null,y.query="",y.searchResult=""})),a.on(d.LOGIN_STATUS_CHANGE,b),b()}]);t.searchController=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvSearch=void 0;var r=n(190),i=function(e){return e&&e.__esModule?e:{default:e}}(n(893));n(614),n(42),n(707);var o=r.ngSearchModule.directive("nvSearch",["hotkeys",function(e){return{restrict:"E",template:i.default,controller:"SearchController",controllerAs:"searchCtrl",link:function(t,n,r,i){function o(){i.browsingResult=!0}function a(){i.browsingResult=!1}function l(){i.performSearch(i.query)}var s=null,c=null;i.showTooltip=function(e,t){var r=angular.element(n[0].querySelector("#"+t+e));return!(!r||!r[0])&&r[0].scrollWidth>r[0].offsetWidth},s=angular.element(n[0].querySelector(".search-input")),i.setInputElement(s),(c=angular.element(n[0].querySelector(".search-result-container"))).on("mouseenter",o),c.on("mouseleave",a),s.on("focusin",l),e.add({combo:"ctrl+f",description:"listening to ctrl+f key press for focusing search bar",callback:function(e,t){i.focusSearchInput(),s[0].setSelectionRange(0,i.query.length)}}),e.add({combo:"esc",description:"listening to esc key press for neglecting search bar",callback:function(e,t){i.neglectSearchInput()}}),t.$on("$destroy",(function(){c.off("mouseenter",o),c.off("mouseleave",a),s.off("focusin",l),s=null,c=null,e.del("ctrl+f"),e.del("esc")})),n.on("$destroy",(function(){t.$destroy()}))}}}]);t.nvSearch=o},,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.httpTelemetryService=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(12)),i=n(26),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),a=i.ngTelemetryModule.service("httpTelemetryService",["$log","$http","$q","TELEMETRY_STATUS","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_PRODUCT_COMPONENT","cefService","TELEMETRY_API_SUB_USECASES","DEFAULT_DESTINATION_IPS","TELEMETRY_ORIGINAL_SERVICE_NAME",function(e,t,n,i,a,l,s,c,u,d,f){function m(e,t,n,i,o,a,l,s,c,u){if(e){var d="";(o<200||o>=300)&&l&&(d=(d=l&&(0,r.default)(l)||"").substring(0,1024)),p(t,n,i,o,a,d,s,c,u)}}function p(e,t,n,r,i,o,c,u,d){g(e,c).then((function(e){t=e})).finally((function(){a.push(l.GFE_HTTPSUCCESS,{sourceComponent:s.GFE_UI,originalService:c,serviceUseCase:u,serviceSubUseCase:d,url:i,httpStatus:r,durationMs:n,responseData:o,destinationIp:t})}))}function g(e,t){var r=y[t]||"";if(r)return n.resolve(r);if(!e)return y.LOCAL_HOST;var i=o.first(e.replace(/^(http|https):\/\//gi,"").split("/"));return c.dnsLookup(i).then((function(e){if(e){var n=JSON.parse(e);r=o.has(n,"hostname")?n.hostname:""}else r="";return y[t]=r,r}))}function v(e,t,n,i,o,a,l,s,c,u){e&&(o&&o>0?p(t,n,i,o,a,l=l&&(0,r.default)(l)||"",s,c,u):h(t,n,""+o,a,s,c,u))}function h(e,t,n,r,i,o,c){g(e,i).then((function(e){t=e})).finally((function(){a.push(l.GFE_HTTPFAILURE,{sourceComponent:s.GFE_UI,originalService:i,serviceUseCase:o,serviceSubUseCase:c,url:r,networkErrorCode:n,destinationIp:t})}))}var b=(e.getInstance("main.telemetry/httpTelemetryService"),this),y={};y[f.LOCALHOST]=d.LOCALHOST,b.endpointHttpCallback=function(e,r,o,a){var l=e.headers.telemetry||i.OTHER,s=e.headers.telemetrySubUseCase||u.NA,c=Date.now(),d=y[a]||"";return t(e).then((function(e){var t=Date.now()-c,n=e.status,i=e&&e.config&&e.config.url?e.config.url:"";return m(r,o,d,t,n,i,e.data,a,l,s),e})).catch((function(e){var t=Date.now()-c,i=e&&e.config&&e.config.url?e.config.url:"";return v(r,o,d,t,e.status,i,e.data,a,l,s),n.reject(e)}))},b.sendSdkHttpTelemetry=function(e,t,n,r,o,a,l,s){var c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:i.OTHER,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:u.NA,f=c||i.OTHER,p=d||u.NA,g=y[s]||"";e?m(t,n,g,r,o,a,l,s,f,p):v(t,n,g,r,o,a,l,s,f,p)}}]);t.httpTelemetryService=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gfeUpdatesService=void 0;var r=n(10);n(51),n(18),n(77);var i=r.ngUpdatesModule.service("gfeUpdatesService",["socketService","GFE_SOCK_MESSAGE","gfeUpdatesEndpoints","$log",function(e,t,n,r){var i=r.getInstance("main.updates/gfeUpdatesService");this.initialize=function(){e.register("/autoGFEdownload/newversion",t.NEW_VERSION_AVAIL),n.forceCheckUpdate().then((function(e){}),(function(e){i.error("GFE update check failed "+e)}))}}]);t.gfeUpdatesService=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gfwslDriverInformationService=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),i=n(10);n(52),n(29),n(121),n(23);var o=i.ngUpdatesModule.service("gfwslDriverInformationService",["$log","gfwslEndpoints","$q","eventAggregator","COMMON_EVENTS","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","gfwslArticleEndpoints","settingsEndpoints","hardwareService","gfeGeolocationService",function(e,t,n,i,o,a,l,s,c,u,d){function f(e){var t="";return e&&e.status&&(t=e.status.toString()),t}function m(e,t,n,r){var i={};i.version=n,i.driverTypePreference=r,i.data=t,e.push(i)}function p(){return t.hasHardwareInfo()?n.when(!0):u.getSystemInfo().then((function(e){return t.updateHardwareInfo(e),!0}))}function g(e,t){return T&&T.DriverVersion===e&&T.DriverType===t.toString()?"1":"0"}function v(e,i){var o="US",s=n.defer();return r.isUndefined(i)||i.toString(),d.getGeolocation().then((function(e){o=e.countryCode})).finally((function(){I.info("call GFWSL with driver type preference",i);var n=g(e,i);t.driver.getDriverInformation({gfwslParams:{GFPV:e,prvMd:E,go:o,isInst:n}}).then((function(e){a.push(l.UPDATES_GRD_CONTENT_SUCCESS),s.resolve(e)})).catch((function(e){a.push(l.UPDATES_GRD_CONTENT_FAILURE,f(e)),s.reject(e)}))})),s.promise}function h(e,i){return p().then((function(o){return t.getParams().dIDa?(r.isUndefined(E)?S?(I.info("request for editorPreviewMode is in progress.."),S):S=c.getEditorPreviewMode().then((function(e){return I.info("getEditorPreviewMode status:",e),E=e&&e.data?e.data.enabled:"0"})).catch((function(e){return I.error("failed to getEditorPreviewMode, set it to 0",e),E="0"})).finally((function(){S=null})):(I.info("Returning cached value for editorPreviewMode",E),n.when(E))).then((function(t){return I.info("getEditorPreviewMode response:",t),v(e,i)})).catch((function(e){return I.error("failed to getEditorPreviewMode",e),n.reject(e)})):(I.error("hardware system info provided insufficient primary gpu information"),n.reject())}))}function b(e,r,i){return t.getParams().dIDa?p().then((function(e){var o=g(i,r);return t.installer.getInstallationDriverData({gfwslParams:{isInst:o}}).then((function(e){return a.push(l.UPDATES_INSTALL_BB_HTML_SUCCESS),I.info("response from server to installation information ",e),e})).catch((function(e){return a.push(l.UPDATES_INSTALL_BB_HTML_FAILURE,f(e)),I.error("request to get driver installation content failed with : ",e),n.reject("gfwslEndpoints error")}))})):(I.error("hardware system info provided insufficient primary gpu information"),n.reject())}function y(e){T=e,w.resetDriverInformation()}var E,S,_=[],w=this,A=[],T=null,I=e.getInstance("main.updates/gfwlsDriverInformationService");w.resetDriverInformation=function(){r.each(_,(function(e){t.driver.getDriverInformation.cancel(e.data)})),_=[],A=[],I.debug("reset driver information cache to empty")},w.initialize=function(){u.getSystemInfo().then((function(e){T=e})),i.on(o.SYSTEMINFO_UPDATED,y),i.on(o.LOCALE_CHANGED,w.resetDriverInformation),i.on(o.LOGIN_STATUS_CHANGE,w.resetDriverInformation)},w.getDriverInformation=function(e,t){var i=r.find(A,(function(n){return n.version===e&&n.driverTypePreference===t}));return i?(I.debug("Driver information from cache for driver version:",e),n.when(i.data)):function(e,t){var i=r.find(_,(function(n){return n.version===e&&n.driverTypePreference===t}));if(!i&&!A.data){var o=h(e,t).then((function(n){return n&&n.data?(m(A,n.data,e,t),n.data):(I.error("gfwsl driver information returned null data for driver version",e),null)})).catch((function(e){return n.reject()})).finally((function(){var n=r.find(_,(function(n){return n.version===e&&n.driverTypePreference===t}));_.splice(_.indexOf(n),1)}));return m(_,o,e,t),o}return i.data}(e,t)},w.getInstallationDriverData=function(e,t,r){return b(0,t,r).then((function(e){if(e&&e.data&&e.data.html&&e.data.html.head&&e.data.html.head.response&&e.data.html.head.response.url){var t={};return t.billboardURL=e.data.html.head.response.url,t}return I.error("gfwsl driver installation content returned null data"),n.reject()})).catch((function(e){return n.reject()}))},w.getArticleInformation=function(e,r,i){return t.getParams().dIDa?(r.GFPV=i,r.jUid=t.getParams().jUid||"",s.getArticle({articleUrl:e,gfwslParams:r})):(I.error("hardware system info provided insufficient primary gpu information"),n.reject())}}]);t.gfwslDriverInformationService=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.highlightTileController=void 0;var r=n(10);n(208),n(124);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(194)),o=r.ngUpdatesModule.controller("HighlightTileController",["$scope","$mdDialog","DRIVER_TYPE","updatesService","$q","$log","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","gfeService","VIDEO_TYPE","mediaDialogService","toastService","$filter","TELEMETRY_GRD_CONTENT_TYPE","TELEMETRY_GRD_DISPLAY_SECTION",function(e,t,n,r,o,a,l,s,c,u,d,f,m,p,g){function v(){if(b&&b.gfeLoadUrl){var e=b.gfeLoadUrl,t=(e=e.replace(/\\/g,"")).split("{");if(2!==t.length)return S.error("Cannot request for article as gfeloadUrl is incorrect ",b.gfeLoadUrl),o.reject();t[1]="{"+t[1];var n=function(e){try{return JSON.parse(e)}catch(t){return S.error("Json parsing exception for ",e),null}}(t[1]);return n?r.getDriverArticle(t[0],n,E).then((function(e){if(l.push(s.UPDATES_GRD_ARTICLE_SUCCESS),e&&e.data&&e.data.gfcontent){S.debug("get driver article returns content");var t={},n=e.data.gfcontent;return t.title=n.title,t.subTitle=n.author_date?n.author_date.by_on_date:null,t.body=n.body,t.style="article-content",t}return S.debug("get driver article returns null content"),null})).catch((function(e){return l.push(s.UPDATES_GRD_ARTICLE_FAILURE,e&&e.status&&e.status.toString()||""),o.reject(e)})):(S.error("Cannot request for article as gfeloadUrl has incorrect json ",b.gfeLoadUrl),o.reject())}return S.error("article url empty for ",b.gfeLoadUrl),o.reject("no article url")}var h=this,b=e.nvContent,y=e.nvDriverType,E=e.nvDriverVersion,S=a.getInstance("main.updates/HighlightTileController");h.showDetails=function(e){h.isVideoAvailable(b)?(b.video.type=function(e){return-1!==e.indexOf("youtu.be")?u.YOUTUBE:-1!==e.indexOf(".mp4")?u.LOCAL:""}(b.video.url),function(e,t){if(c.onlineState&&!0===c.onlineState.online){var n=t.video.type!==u.YOUTUBE;S.info("video type",t.video.type,"defaultVideoControl",n);var r=d.customPreset().event(e);r=r.video({source:t.video.url,type:t.video.type,defaultVideoControl:n}),d.show(r)}else{var i=m("translate")("l10n.unableToFetchVideo");f.show({textContent:i,icon:"cloud off"})}}(e,b)):t.show({controller:"ArticleInformationController",controllerAs:"vm",template:i.default,disableParentScroll:!1,locals:{getArticleCallback:v},bindToController:!0})},h.isVideoAvailable=function(e){return e.video&&!_.isEmpty(e.video)&&e.video.url&&!_.isEmpty(e.video.url)},h.getTelemetryEventInfo=function(){var e={contentType:"",displaySection:"",url:""};return e.contentType=h.isVideoAvailable(b)?p.VIDEO:p.ARTICLE,e.displaySection=g.CONTENT,e.url=b.linksTo||"",e},h.getTelemetryEventName=function(){var e=b.featureId||!this.isContentGame()?s.UPDATES_VIEW_AVAILABLE_DRIVER_FEATURE:s.UPDATES_VIEW_AVAILABLE_DRIVER_GAME;return y===n.CURRENT&&(e=b.featureId||!this.isContentGame()?s.UPDATES_VIEW_CURRENT_DRIVER_FEATURE:s.UPDATES_VIEW_CURRENT_DRIVER_GAME),e},h.isContentGame=function(){return b&&"true"===b.isGfeSupportedGame}}]);t.highlightTileController=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvHighlightTile=void 0;var r=n(10);n(15),n(142),n(35),n(42);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(897));n(626);var o=r.ngUpdatesModule.directive("nvHighlightTile",(function(){return{restrict:"E",scope:{nvContent:"=",nvDriverType:"=",nvDriverVersion:"@"},template:i.default,controller:"HighlightTileController",controllerAs:"highlightTile",link:function(e,t){e.$on("$destroy",(function(){t.empty(),t.remove(),t=null})),t.on("$destroy",(function(){e.$destroy()}))}}}));t.nvHighlightTile=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateDetailsController=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(12)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),o=n(10);n(124);var a=o.ngUpdatesModule.controller("UpdateDetailsController",["$scope","updatesService","$log","$sce",function(e,t,n,o){function a(){t.getDriverInformation(l.driverVersion,l.isCRD).then((function(e){e&&e.DriverAttributes?(l.driverInformation=e.DriverAttributes,e.DriverAttributes.ReleaseNotes&&(l.driverInformation.releaseNotes=o.trustAsHtml(e.DriverAttributes.ReleaseNotes))):s.error("No content avaliable for GRD version: ",l.driverVersion)})).catch((function(e){s.error("getDriverInformation failed with error: ",e),l.driverInformation=null,t.setServerWarn(!0)})).finally((function(){l.showLoadingIndicator=!1}))}var l=this;l.showLoadingIndicator=!0,l.driverInformation=null,l.isCRD=e.nvIsCrd;var s=n.getInstance("main.updates/UpdateDetailsController");l.driverVersion=e.nvDriverVersion,l.driverType=e.nvDriverType;var c=e.$watchGroup(["nvDriverVersion","nvIsCrd"],(function(e,t){(0,r.default)(e)!==(0,r.default)(t)&&(l.driverVersion=e[0],l.isCRD=e[1],a())}));a(),l.showHighLights=function(){return!(!l.driverInformation||i.isEmpty(l.driverInformation.ReleaseNotesAbstract)&&(!l.driverInformation.highlightGfeNg||i.isEmpty(l.driverInformation.highlightGfeNg.tiles)))},l.showDefaultBanner=function(){return!1===l.showLoadingIndicator&&!i.isNull(l.driverInformation)&&i.isNull(l.driverInformation.bannerGfeNg)},l.showDefaultContentImage=function(){return!1===l.showLoadingIndicator&&i.isNull(l.driverInformation)},e.$on("$destroy",(function(){c()}))}]);t.updateDetailsController=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvUpdateDetails=void 0;var r=n(10);n(134),n(636),n(634);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(898));n(628);var o=r.ngUpdatesModule.directive("nvUpdateDetails",(function(){return{restrict:"E",scope:{nvDriverVersion:"@",nvDriverType:"=",nvIsCrd:"="},template:i.default,controller:"UpdateDetailsController",controllerAs:"updateDetails",link:function(e,t){e.$on("$destroy",(function(){t.empty(),t.remove(),t=null})),t.on("$destroy",(function(){e.$destroy()}))}}}));t.nvUpdateDetails=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvUpdates=void 0;var r=n(10);n(632);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(899)),o=r.ngUpdatesModule.directive("nvUpdates",(function(){return{restrict:"E",scope:{},template:i.default,link:function(e,t){e.$on("$destroy",(function(){t.empty(),t.remove(),t=null})),t.on("$destroy",(function(){e.$destroy()}))}}}));t.nvUpdates=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.updatesDriverController=void 0;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),o=n(10);n(124),n(333),n(17),n(11),n(19),n(29);var a=r(n(316)),l=r(n(317)),s=o.ngUpdatesModule.controller("UpdatesDriverController",["$scope","$log","TASK_STATUS","$filter","$timeout","updatesService","$state","CHECK_FOR_UPDATE","COMMON_EVENTS","eventAggregator","UPDATE_EVENTS","DOWNLOAD_PROGRESS_STATUS","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","DRIVER_TYPE","dbService","DB_NAMES","INSTALLER_EVENTS","toastService","gfeService","dbCacheService","jarvisService","SOCKETIO_EVENTS","DOWNLOAD_TYPE","DRIVERTYPE","$templateCache","productTourService","PRODUCT_TOUR_NAMES","PRODUCT_TOUR_EVENTS","uiTourService","$document","$interval","CRD_STATE_EVENT",function(e,t,n,r,o,s,c,u,d,f,m,p,g,v,h,b,y,E,S,_,w,A,T,I,C,x,D,M,O,R,N,L,P){function k(e,t){var n={state:t,version:e};te.setItem(y.DRIVER_DOWNLOAD_STATE,n)}function G(){if(oe.info("check for auto download Driver"),ee.driverUpdateList&&(!J&&i.isNull(ce)&&!de||ue)){var e,t=ee.driverUpdateList;if(ee.driverUpdateList.length>1&&(t=r("filter")(ee.driverUpdateList,{isBeta:!1})),t&&t[0]&&(ee.isStatusPending(t[0].downloadStatus.status)||ee.isStatusPaused(t[0].downloadStatus.status))&&t[0].downloadStatus.failureCount<3)oe.info("autodownloadDriver for driver updates",t),te.getItem(y.DRIVER_DOWNLOAD_STATE).then((function(t){e=t}),(function(e){oe.error("failed to read driverDownloadState key in database: ",e)})).finally((function(){var n=!0;!e||e.version!==t[0].version||"paused"!==e.state&&"stop"!==e.state||(n=!1),n&&ee.startDownload(t[0])}))}}function F(e){s.getUpdateDetails().then((function(e){if(he&&(!ee.driverUpdateList||e&&e[0]&&ee.driverUpdateList[0]&&(ee.driverUpdateList[0].isCRD!==e[0].isCRD||ee.driverUpdateList[0].version!==e[0].version))){var t=JSON.parse(ee.currentlySelectedDriver)===ee.driverType.GRD?"l10n.newGRDDriverAvailable":"l10n.newCRDDriverAvailable";S.show({textContent:r("translate")(t),icon:"file_download"})}else S.isOpen()&&S.cancel();oe.debug("driver updates list is: ",e,ee.driverUpdateList),ee.driverUpdateList=e,G()})).catch((function(e){if(ee.installedDriver&&he){var t=JSON.parse(ee.currentlySelectedDriver)===ee.driverType.GRD?"l10n.latestGeforceUpdate":"l10n.latestGeforceCRDUpdate";S.show({textContent:r("translate")(t),icon:"check"})}else S.isOpen()&&S.cancel();ee.driverUpdateList=null,oe.error("getUpdates failed with error: ",e)})).finally((function(){oe.info("refreshAvailableUpdates finally IN"),function(){if(!i.isNull(ce)&&!i.isUndefined(ce)&&!i.isUndefined(ce.version)){var e=r("filter")(ee.driverUpdateList,{version:ce.version,isCRD:ce.isCRD});e&&e.length>0?(oe.info("resume installation for recommended driver",ce.version),s.beginInstallation(e[0],ce.isCustomInstall,!0)):(oe.info("resume installation for installed driver",ce.version),s.beginInstallation(ce,ce.isCustomInstall,!0))}ce=null}(),ee.installedDriver=J,e&&(oe.info("call cb",e),e()),ee.anydriverInfoOrUpdatesFound=!(!ee.driverUpdateList&&!ee.installedDriver),function(){if(J){if(ge===fe.FAILED||ee.driverUpdateList&&ee.driverUpdateList.length>0)ee.installedDriverHeaderText=ie("l10n.currentlyInstalled");else{var e=JSON.parse(ee.currentlySelectedDriver)===ee.driverType.GRD?"l10n.latestGeforceUpdate":"l10n.latestGeforceCRDUpdate";ee.installedDriverHeaderText=ie(e)}ee.installedDriverHeaderText=ee.installedDriverHeaderText.toUpperCase()}else ee.installedDriverHeaderText=""}(),re=!0,he=!1,oe.info("refreshAvailableUpdates finally OUT")}))}function U(e){S.show({textContent:e,icon:"error_outline"})}function V(e){if(e)switch(e.status){case n.TASK_FAILED_UNABLE_TO_REACH_SERVER:case n.TASK_CHECK_SUM_ERROR:case n.TASK_DISK_WRITE_FAIL:case n.TASK_SIGNATURE_VERIFICATION_FAILS:case n.TASK_COMPLETED:case n.TASK_DOWNLOAD_ERROR:f.off(T.CONNECT,z),f.off(p.PROGRESS,V)}}function z(){oe.info("downloader update last state on reconnect"),ee.refreshUI()}function B(){oe.info("showProductTour drivers initiated"),L.cancel(ve);var e=0;ve=L((function(){angular.element(N[0].getElementById("driver-icon"))[0]?(oe.info("driver tour element found"),D.startDriverTour(),L.cancel(ve),ve=null):(oe.info("check for Driver product tour html element",e),e++),e>=me&&(L.cancel(ve),ve=null,oe.info("Driver product tour id not found"))}),pe)}function $(e){e!==M.DRIVER&&(W(),oe.info("other tour closed, show driver product tour"),B())}function W(){f.off(O.PAUSED,$),f.off(O.END,$)}function H(){ee.installedDriver=null,J=null,s.getInstalledDriver().then((function(e){(J=e).isExpanded=!1,J.reInstalledDriver=J.downloadStatus&&ee.isDownloadStarted(J.downloadStatus.status)||J.reInstalledDriver||!1,oe.info("getInstalledDriver get called",e)})).catch((function(e){oe.error("getInstalledDriver failed with error: ",e)})).finally((function(){ee.refreshUI(),o.cancel(se),se=o((function(){ee.updateState===u&&s.canCheckForUpdate()&&i.isNull(ce)?s.checkForUpdates():s.scanCompleted&&i.isNull(ce)?(oe.info("scan completed, refreshing state"),F()):s.manualCheckForUpdate&&!s.scanCompleted&&i.isNull(ce)&&(S.showProgress({textContent:r("translate")("l10n.checkingforUpdates")}),he=!0)}))}))}function j(e){oe.info("crd state updated by event",e),ee.CRDSupported=e,!0===ee.CRDSupported&&(D.isTourRunning()?(oe.info("register tour listener"),f.on(O.PAUSED,$),f.on(O.END,$)):(oe.info("show driver tour"),B()))}function q(){ge=fe.SCANNING}function Y(){he=!1,U(ie("l10n.unableToConnectToNvidia")),ge=fe.FAILED}function K(){ge=fe.FINISHED}function Q(e){var t=ee.installedDriver&&ee.installedDriver.downloadStatus.taskId==e.taskId;if(t&&(ee.installedDriver.reInstalledDriver=!1),e.status===n.TASK_PAUSED_UNABLE_TO_REACH_SERVER)U(ie("l10n.downloadPausedUnableToReachNvidia")),t&&(ee.installedDriver.reInstalledDriver=!0);else if(e.status===n.TASK_CHECK_SUM_ERROR||e.status===n.TASK_SIGNATURE_VERIFICATION_FAILS)U(ie("l10n.driverDownloadFailed"));else if(e.status===n.TASK_FAILED_UNABLE_TO_REACH_SERVER)U(ie("l10n.unableToConnectToNvidia"));else if(e.status===n.TASK_DISK_WRITE_FAIL){var i=r("convertBytesToKBMBGB")(e.totalBytes);if(e.downloadedLocation.length>0){var o=e.downloadedLocation.split(":")[0];o=o.toUpperCase(),U(ie("l10n.downloadDiskSpace",{value:i,drive:o}))}}}function Z(){oe.info("got online event"),H()}function X(){s.getDriverTypePreference().then((function(e){oe.info("getDriverTypePreference is",e),ee.currentlySelectedDriver=e})).catch((function(e){oe.error("getDriverTypePreference failed with error: ",e),ee.currentlySelectedDriver=ee.driverType.GRD}))}var J,ee=this,te=b.getGlobalStore(y.GLOBAL_STORE),ne=Date.now(),re=!1;ee.driverUpdateList=null,ee.installedDriver=null,ee.taskStatus=n;var ie=r("translate"),oe=t.getInstance("main.updates/updatesdrivercontroller");ee.driverTypeConstant=h;var ae,le,se,ce=null,ue=!1,de=!1;oe.info("controller created"),ee.installedDriverHeaderText="";var fe={NOT_STARTED:"NOT_STARTED",FAILED:"FAILED",FINISHED:"FINISHED",SCANNING:"SCANNING"};ee.driverType=C;var me=3,pe=1e3;x.put("tour-step-popup.html",a.default),x.put("tour-step-template.html",l.default);var ge=fe.NOT_STARTED;ee.user=A.getLoggedInUser(),ee.viewState=w.getCachedUserItem(ee.user.userId,y.VIEW_STORE,y.VIEW_STATE),ee.anydriverInfoOrUpdatesFound=!0;var ve,he=!1;ee.CRDSupported=!1,ee.currentlySelectedDriver=ee.driverType.GRD,ee.getProgressString=function(e){var t="";if(e&&e.downloadStatus){var n=r("convertBytesToKBMBGB")(e.downloadStatus.totalBytes);t=r("convertBytesToKBMBGB")(e.downloadStatus.bytesDone)+"/"+n}return t},ee.startDownload=function(e){if(_.onlineState&&!1===_.onlineState.online)S.showOffline();else{var t=e.isCRD===ee.driverType.CRD?I.CRD_DRIVER_DOWNLOAD:I.GRD_DRIVER_DOWNLOAD;s.startDownload(e.version,e.downloadURL,t).then((function(t){oe.info("download started",t.data),f.on(T.CONNECT,z),f.on(p.PROGRESS,V),k(e.version,"start"),e.downloadStatus=t.data})).catch((function(t){oe.error("download failed to start",t),U(ie("l10n.driverDownloadFailed")),ee.installedDriver&&ee.installedDriver.version===e.version&&(ee.installedDriver.reInstalledDriver=!1),null===e.version&&(e.version="unknown"),g.push(v.UPDATES_DOWNLOAD_DRIVER_FAILED,e.version)}))}},ee.pauseDownload=function(e){s.pauseDownload(e.downloadStatus.taskId).then((function(t){k(e.version,"paused"),e.downloadStatus=t.data,oe.info("download paused",e.downloadStatus)})).catch((function(e){oe.error("download failed to pause with error",e)}))},ee.resumeDownload=function(e){s.resumeDownload(e.downloadStatus.taskId).then((function(t){e.downloadStatus=t.data,k(e.version,"resume"),oe.info("download resume",e.downloadStatus)})).catch((function(e){oe.error("download failed to resume with error",e)}))},ee.stopDownload=function(e,t){t&&(ee.installedDriver.reInstalledDriver=!1),s.stopDownload(e.downloadStatus.taskId).then((function(t){f.off(T.CONNECT,z),f.off(p.PROGRESS,V),e.downloadStatus=t.data,k(e.version,"stop"),oe.info("download stoped",e.downloadStatus)})).catch((function(e){oe.error("download failed to stop with error",e)}))},ee.startInstall=function(e,t){s.beginInstallation(e,t,!1)},ee.isDownloadStarted=function(e){return e===n.TASK_PAUSED||e===n.TASK_RUNNING||e===n.TASK_RETRY||e===n.TASK_PAUSED_UNABLE_TO_REACH_SERVER},ee.isExtractionStarted=function(e){return e===n.TASK_EXTRACTING},ee.isStatusPaused=function(e){return e===n.TASK_PAUSED||e===n.TASK_PAUSED_UNABLE_TO_REACH_SERVER},ee.isStatusCompleted=function(e){return e===n.TASK_COMPLETED},ee.isStatusPending=function(e){return e===n.TASK_NOT_STARTED||e===n.TASK_CHECK_SUM_ERROR||e===n.TASK_FAILED_UNABLE_TO_REACH_SERVER||e===n.TASK_SIGNATURE_VERIFICATION_FAILS||e===n.TASK_DISK_WRITE_FAIL},ee.updateDriverExpandedState=function(){var e=ee.viewState.driverExpandState||{};oe.debug("driverExpandState IN",e),J&&(angular.isDefined(e[ee.installedDriver.version])?J.isExpanded=e[ee.installedDriver.version]:ee.driverUpdateList||(ee.installedDriver.isExpanded=J.isExpanded=!0),e[ee.installedDriver.version]=J.isExpanded),ee.driverUpdateList&&1===ee.driverUpdateList.length&&(ee.driverUpdateList[0].isExpanded=!1!==e[ee.driverUpdateList[0].version],e[ee.driverUpdateList[0].version]=ee.driverUpdateList[0].isExpanded),ee.viewState.driverExpandState=e,ee.viewState.persist_(),oe.debug("driverExpandState OUT",e)},ee.isScanCompleted=function(){return s.scanCompleted},ee.onExpand=function(e){o.cancel(ae),ae=o((function(){e.isExpanded=!0,ee.viewState.driverExpandState&&(ee.viewState.driverExpandState[e.version]=!0,ee.viewState.persist_())}))},ee.onCollapse=function(e){o.cancel(le),le=o((function(){e.isExpanded=!1,ee.viewState.driverExpandState&&(ee.viewState.driverExpandState[e.version]=!1,ee.viewState.persist_())}))},ee.refreshUI=function(){F(ee.updateDriverExpandedState)},ee.updateState=c.params.updateState,ce=c.params.resumeDriverInstallation,ue=c.params.startDriverDownload,ce&&te.setItem(y.DRIVER_INSTALL_STATE,null),ee.isCheckForUpdateDisabled=function(){return!s.canCheckForUpdate()||ge===fe.SCANNING},ee.isInstallDisabled=function(){return he},ee.onCheckForUpdate=function(){_.onlineState&&!1===_.onlineState.online?S.showOffline():s.canCheckForUpdate()&&(S.showProgress({textContent:r("translate")("l10n.checkingforUpdates")}),s.checkForUpdates(!0),he=!0)},X(),H(),s.setUpdatesListener(ee.refreshUI),f.on(P.CRD_STATE_UPDATED,j),s.isCRDFeatureSupported(),ee.getDownloadStatusMessage=function(e){var t="";return e===n.TASK_EXTRACTING?t=r("translate")("l10n.preparingPackage"):e===n.TASK_RUNNING?t=ie("l10n.downloading"):ee.isStatusPaused(e)?t=ie("l10n.paused"):e===n.TASK_RETRY&&(t=ie("l10n.retrying")),t},ee.getAvlDriverTelemetryEventName=function(t){return t?e.$root.telemetryEventNames.UPDATES_VIEW_AVAILABLE_BETA_DRIVER:e.$root.telemetryEventNames.UPDATES_VIEW_AVAILABLE_DRIVER},ee.getAvlDriverType=function(e){return e?h.AVAILABLE_BETA:h.AVAILABLE},ee.canToggleDownload=function(e,t){var n=[],r=ee.isStatusPending(e);if(r){if(J&&J.downloadStatus&&J.version!==t&&ee.isDownloadStarted(J.downloadStatus.status))return!1;ee.driverUpdateList&&(n=i.filter(ee.driverUpdateList,(function(e){return!(e.version===t||!ee.isDownloadStarted(e.downloadStatus.status))})))}return 0===n.length&&r&&!he},ee.reInstalledDriverMenuItemDisabled=function(){return J&&J.downloadStatus&&ee.isStatusPending(J.downloadStatus.status)&&!ee.canToggleDownload(J.downloadStatus.status,J.version)},ee.performReinstalledDriver=function(){ee.installedDriver&&(ee.installedDriver.reInstalledDriver=!0,ee.isStatusPending(J.downloadStatus.status)&&ee.startDownload(J))},ee.showReInstallButtons=function(){return ee.installedDriver.reInstalledDriver},ee.showLoadingIndicator=function(){return!1===re&&Date.now()-ne>500},ee.onRecommendedDriverTypeChanged=function(e){ee.currentlySelectedDriver!=e&&(ee.currentlySelectedDriver=e,de=!0,oe.info("onRecommendedDriverTypeChanged ",ee.currentlySelectedDriver),s.setDriverTypePreference(e).then((function(){ee.onCheckForUpdate()})))},ee.onTourStepShown=function(){D.onStepShown()},f.on(E.INSTALL_DONE,H),f.on(p.FAILED,Q),f.on(m.SCAN_STARTED,q),f.on(m.SCAN_FAILED,Y),f.on(d.ONLINE,Z),f.on(m.SCAN_FINISHED,K),f.on(m.INSTALLED_DRIVER_UPDATE,H),f.on(d.DRIVER_PREFERENCE_UPDATED,X),e.$on("$destroy",(function(){if(ve&&(oe.info("cancle tour interval"),L.cancel(ve)),D.isTourRunning(M.DRIVER)){var e=R.getTourByName(M.DRIVER);e?(oe.info("close driver tour before moving to other page"),e.end().catch((function(e){oe.error("failed to end driver tour",e)}))):oe.error("Failed to find driver tour element")}W(),f.off(E.INSTALL_DONE,H),f.off(m.SCAN_STARTED,q),f.off(m.SCAN_FAILED,Y),f.off(m.SCAN_FINISHED,K),f.off(p.FAILED,Q),f.off(d.ONLINE,Z),f.off(m.INSTALLED_DRIVER_UPDATE,H),f.off(P.CRD_STATE_UPDATED,j),f.off(d.DRIVER_PREFERENCE_UPDATED,X),o.cancel(le),o.cancel(ae),o.cancel(se),le=null,ae=null,s.removeUpdatesListener(ee.refreshUI)}))}]);t.updatesDriverController=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvUpdatesDriver=void 0;var r=n(10);n(313),n(312),n(207),n(142),n(629),n(115),n(219);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(901));n(631);var o=r.ngUpdatesModule.directive("nvUpdatesDriver",[function(){return{restrict:"E",scope:{},template:i.default,controller:"UpdatesDriverController",controllerAs:"updatesDriver",link:function(e,t,n,r){e.$on("$destroy",(function(){t.empty(),t.remove(),t=null})),t.on("$destroy",(function(){e.$destroy()}))}}}]);t.nvUpdatesDriver=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updatesDriverHighlightsController=void 0;var r=n(10).ngUpdatesModule.controller("UpdatesDriverHighlightsController",["$scope","$log",function(e,t){var n=this;n.driverHighlights=null,n.driverOverview=null,n.driverType=e.nvDriverType,n.driverVersion=e.nvDriverVersion;var r=t.getInstance("main.updates/UpdatesDriverHighlightsController"),i=e.$watch("nvDriverHighlight",(function(){e.nvDriverHighlight?n.driverHighlights=e.nvDriverHighlight:(r.error(" driver highlights is null"),n.driverHighlights=null)}));e.$on("$destroy",(function(){i()}))}]);t.updatesDriverHighlightsController=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvUpdatesDriverHighlights=void 0;var r=n(10);n(627);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(902));n(633);var o=r.ngUpdatesModule.directive("nvUpdatesDriverHighlights",(function(){return{restrict:"E",scope:{nvDriverHighlight:"=",nvDriverType:"=",nvDriverVersion:"@"},template:i.default,controller:"UpdatesDriverHighlightsController",controllerAs:"updatesDriverHighlights",link:function(e,t){e.$on("$destroy",(function(){t.empty(),t.remove(),t=null})),t.on("$destroy",(function(){e.$destroy()}))}}}));t.nvUpdatesDriverHighlights=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updatesHighlightsBannerController=void 0;var r=n(10).ngUpdatesModule.controller("UpdatesHighlightsBannerController",["$scope","DRIVER_TYPE","VIDEO_TYPE","$window","$document","DRIVER_UPDATE","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_GRD_CONTENT_TYPE","TELEMETRY_GRD_DISPLAY_SECTION",function(e,t,n,r,i,o,a,l,s){function c(e,t){return r.getComputedStyle(e[0]).getPropertyValue(t)}function u(){if(!_.isEmpty(f.bannerCarousel)){var e=c(f.bannerCarousel,"width"),t=parseInt(e.substring(0,e.lastIndexOf("px")))*(o.BANNER_IMAGE_HEIGHT/o.BANNER_IMAGE_WIDTH);f.bannerCarousel.css({height:t+"px"})}}function d(){return m===t.CURRENT?a.UPDATES_VIEW_CURRENT_DRIVER_BANNER_AD:a.UPDATES_VIEW_AVAILABLE_DRIVER_BANNER_AD}var f=this;f.videoBanner=null;var m=e.nvDriverType,p=e.nvDriverVersion;i.ready((function(){f.bannerCarousel=angular.element(i[0].querySelectorAll(".common-carousel")),u()})),r.addEventListener("resize",u),f.isVideoAvailable=function(e){return e.video&&!_.isEmpty(e.video)&&e.video.url&&!_.isEmpty(e.video.url)};var g=e.$watch("nvDriverBanner",(function(){f.videoBanner=e.nvDriverBanner,_.each(e.nvDriverBanner,(function(e){f.isVideoAvailable(e)?e.video.type=function(e){return-1!==e.indexOf("youtu.be")?n.YOUTUBE:-1!==e.indexOf(".mp4")?n.LOCAL:""}(e.video.url):e.driverVersion=p}))}));f.getTelemetryEventInfo=function(){var e={eventName:{},info:{}};e.eventName=d();var t={contentType:"",displaySection:"",url:""};return t.contentType=l.VIDEO,t.displaySection=s.HEADER,e.info=t,e},e.$on("$destroy",(function(){g(),r.removeEventListener("resize",u)}))}]);t.updatesHighlightsBannerController=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvUpdatesHighlightsBanner=void 0;var r=n(10);n(281);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(903));n(635);var o=r.ngUpdatesModule.directive("nvUpdatesHighlightsBanner",(function(){return{restrict:"E",scope:{nvDriverBanner:"=",nvDriverType:"=",nvDriverVersion:"@"},template:i.default,controller:"UpdatesHighlightsBannerController",controllerAs:"updatesHighlightsBanner",link:function(e,t){e.$on("$destroy",(function(){t.empty(),t.remove(),t=null})),t.on("$destroy",(function(){e.$destroy()}))}}}));t.nvUpdatesHighlightsBanner=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updatesInstallationCustomController=void 0;var r=n(10).ngUpdatesModule.controller("UpdatesInstallationCustomController",["$filter","updatesInstallerDialogService",function(e,t){var n=this;n.cleanInstall=!1;var r=t.getDialogModel().installablePackagesData();n.showPackageSelectionUI=r[0],n.packages=r[1];var i=!0,o=e("translate");n.showPackageSelectionUI?n.cleanInstall=r[2]:i=r[2],n.getStatusText=function(e){return e&&e.length?e:o(i?"l10n.notSelected":"l10n.failed")},n.getUserSelectedCustomDetailsCallback=function(){var e=[];return n.showPackageSelectionUI&&(e.push(n.cleanInstall),e.push(n.packages)),e},t.getUserSelectedCustomDetailsRegister(n.getUserSelectedCustomDetailsCallback)}]);t.updatesInstallationCustomController=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvUpdatesInstallationCustom=void 0;var r=n(10),i=function(e){return e&&e.__esModule?e:{default:e}}(n(904));n(637);var o=r.ngUpdatesModule.component("nvUpdatesInstallationCustom",{template:i.default,controller:"UpdatesInstallationCustomController",controllerAs:"updatesInstallationCustom"});t.nvUpdatesInstallationCustom=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateInstallationProgressController=void 0;var r=n(10);n(29);var i=r.ngUpdatesModule.controller("UpdateInstallationProgressController",["$log","updatesService","$sce","updatesInstallerDialogService",function(e,t,n,r){var i=this;i.status="",i.progressValue=0;var o=e.getInstance("main.updates/UpdateInstallationProgressController");i.model=r.getDialogModel(),i.isPreparingInstall=i.model.isExpressInstall();var a=i.model.driverType(),l=i.model.driverVersion();i.isInstalling=!1,i.progressTitle="",i.installationDriverData=null,t.getInstallationDriverData(a,l).then((function(e){i.installationDriverData=e})).catch((function(e){o.error("getInstallationDriverData failed: "+e+". Returning static content."),i.showFallbackImage=!0})),i.refreshInstallingCallback=function(e){i.isPreparingInstall=e},i.progressTitleCallback=function(e){i.progressTitle=e},i.progressSetTotalCallback=function(e,t){i.progressValue=e/t*100},i.updateIsInstallingCallback=function(e){i.progressValue=0,i.isInstalling=e},i.getBillboardUrl=function(){var e="";return i.installationDriverData&&(e=n.trustAsResourceUrl(i.installationDriverData.billboardURL)),e},i.canShowUninstallProgress=function(){return!i.isPreparingInstall&&!i.isInstalling},i.canShowInstallProgress=function(){return!i.isPreparingInstall&&i.isInstalling},r.updateRefreshInstallingRegister(i.refreshInstallingCallback),r.updateProgressTitleRegister(i.progressTitleCallback),r.updateProgressSetTotalRegister(i.progressSetTotalCallback),r.updateIsInstallingRegister(i.updateIsInstallingCallback)}]);t.updateInstallationProgressController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvUpdatesInstallationProgress=void 0;var r=n(10),i=function(e){return e&&e.__esModule?e:{default:e}}(n(905));n(639);var o=r.ngUpdatesModule.component("nvUpdatesInstallationProgress",{template:i.default,controller:"UpdateInstallationProgressController",controllerAs:"updateInstallationProgress"});t.nvUpdatesInstallationProgress=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updatesInstallationRebootController=void 0;var r=n(10).ngUpdatesModule.controller("UpdatesInstallationRebootController",["$scope","$interval","updatesInstallerDialogService",function(e,t,n){var r,i=this;i.interval=60,r=t((function(){i.interval<=1?(t.cancel(r),r=void 0,n.cancel(),n.rebootSystem()):i.interval--}),1e3),e.$on("$destroy",(function(){angular.isDefined(r)&&(t.cancel(r),r=void 0)}))}]);t.updatesInstallationRebootController=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvUpdatesInstallationReboot=void 0;var r=n(10),i=function(e){return e&&e.__esModule?e:{default:e}}(n(906));n(641);var o=r.ngUpdatesModule.directive("nvUpdatesInstallationReboot",(function(){return{restrict:"E",template:i.default,controller:"UpdatesInstallationRebootController",controllerAs:"updatesInstallationReboot",link:function(e,t){function n(){e.$destroy()}e.$on("$destroy",(function(){t&&(t.off("$destroy",n),t.empty(),t.remove(),t=null)})),t.on("$destroy",n)}}}));t.nvUpdatesInstallationReboot=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvUpdatesInstallerDialogInstallationComplete=void 0;var r=n(10),i=function(e){return e&&e.__esModule?e:{default:e}}(n(907)),o=r.ngUpdatesModule.directive("nvUpdatesInstallerDialogInstallationComplete",[function(){return{restrict:"E",template:i.default}}]);t.nvUpdatesInstallerDialogInstallationComplete=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ngUpdatesModule=void 0;var r=n(10),i=function(e){return e&&e.__esModule?e:{default:e}}(n(908));r.ngUpdatesModule.directive("nvUpdatesInstallerDialogInstallationError",[function(){return{restrict:"E",template:i.default}}]),t.ngUpdatesModule=r.ngUpdatesModule},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updatesInstallerDialogController=void 0;var r=n(10).ngUpdatesModule.controller("UpdatesInstallerDialogController",["updatesInstallerDialogService","cefService","$scope",function(e,t,n){var r=this;r.model=e.getDialogModel(),t.enableCloseButton(!1),r.showTitleContainer=function(){return!(!r.model.title()&&!r.model.subtitle())},r.showActionContainer=function(){return!(!r.model.button2()&&!r.model.button1())},r.refreshDialogData=function(){r.model=e.getDialogModel()},e.refreshDialogDataRegister(r.refreshDialogData),n.$on("$destroy",(function(){t.enableCloseButton(!0)}))}]);t.updatesInstallerDialogController=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updatesInstallerDialogService=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),i=n(10);n(11),n(643),n(644),n(638),n(642),n(640),n(647);var o=i.ngUpdatesModule.service("updatesInstallerDialogService",["$mdDialog","$rootElement","INSTALLER_PAGE","eventAggregator","INSTALLER_EVENTS","$log","INSTALLER_ACTION","INSTALLER_FORM_EVENT","RESPONSE_TO_INSTALLER","dbService","DB_NAMES","DRIVER_INSTALLATION_FAILED_CONSTRAINT","$filter","INSTALLER_ERROR_CODE","DRIVERTYPE",function(e,t,n,i,o,a,l,s,c,u,d,f,m,p,g){function v(e){return y.preset().html('<nv-updates-installation-progress class="updates-updates-intstallation-progress"></nv-updates-installation-progress>').details(S.name).isExpressInstall(e).driverType(S.isCRD).driverVersion(S.version)}function h(e){var t="";if(e&&e.constraintFailText&&e.constraintFailText[0]&&(t=e.constraintFailText[0],e.failedConstraintId&&e.failedConstraintId[0])){var n=r.findWhere(f,{failedConstraintId:e.failedConstraintId[0]});if(null!=n)if("SetupNeedsDiskSpaceCheck"===e.failedConstraintId[0]){t=e.constraintFailText[0];var i=e.constraintFailText[0].match(/\d+/g);i=i?i.join("."):"";var o=t.substring(t.lastIndexOf("(")-1,t.lastIndexOf(")")+1);t=m("translate")(n.constrainTextId,{value:i,drive:o})}else t=n.constrainTextId}return t}function b(e,t,n,r){return y.preset().title(S.name).html('<nv-updates-installer-dialog-installation-error class="updates-installer-dialog-installation-error"></nv-updates-installer-dialog-installation-error>').details(t).bullets(Array.isArray(r)?r:[]).showBullets(Array.isArray(r)&&r.length>0).button1({text:e,action:function(){y.cancel(),y.sendResponseToInstaller(y.installerStatus,l.ACTION_CANCEL),i.trigger(o.INSTALL_CANCEL)}}).icon("warning").subtitle("l10n.installationCanNotContinue").showLink(n)}var y=this,E={};y.packages=[];var S,_=!1,w=!1,A=!1,T=a.getInstance("main.updates/updatesInstallerDialogService"),I=function(){function e(e){t[e]=function(r){return null!=r?(n[e]=r,t):n[e]}}var t=this,n={};e("showLink"),e("html"),e("title"),e("icon"),e("subtitle"),e("details"),e("button1"),e("button2"),e("installablePackagesData"),e("isExpressInstall"),e("showBullets"),e("bullets"),e("driverType"),e("driverVersion")};y.show=function(n){e.show({template:'<md-dialog style="min-width: fit-content;"><nv-updates-installer-dialog class="updates-updates-installer-dialog"layout="column"></nv-updates-installer-dialog></md-dialog>',parent:t.find("nv-window"),escapeToClose:!1}),y.setDialogModel(n),i.trigger(o.INSTALL_STARTED)},y.cancel=function(t){T.info("updates installer dialogue cancelled"),e.cancel(),_=!1,w=!1,y.unsubScribeDriverInstallationNotification()},y.setDialogModel=function(e){E=e,y.refreshDialogData()},y.getDialogModel=function(){return E},y.preset=function(){return new I},y.rebootSystem=function(){var e={isCustomInstall:_,version:S.version,name:S.name,downloadStatus:S.downloadStatus,isCRD:S.isCRD};u.getGlobalStore(d.GLOBAL_STORE).setItem(d.DRIVER_INSTALL_STATE,e).then((function(){T.debug("persist driver installation entry in database",e),y.sendResponseToInstaller(y.installerStatus,l.ACTION_RESTART_NOW)}))},y.showInstallationForm=function(e,t,n){A=!1,_=t,w=n,S=e,y.show(v(!0))};var C=null;y.sendResponseToInstaller=function(e,t){var n={};(n=r.extend(n,e)).nextAction=function(e){var t;switch(e){case l.ACTION_CANCEL:case l.ACTION_RESTART_LATER:case l.ACTION_CLOSE:t=c.ACTION_CANCEL;break;case l.ACTION_TRYAGAIN:case l.ACTION_INSTALL:case l.ACTION_RESTART_NOW:case l.ACTION_NEXT:t=c.ACTION_NEXT;break;default:t=c.ACTION_CANCEL}return t}(t),T.debug("send response to installer",n),"function"==typeof C&&C(n)},y.showInstallerForm=function(e){var t;if(y.installerStatus=e,e.method===s.SHOW_FORM)switch(e.form){case n.NVIFORM_PRE_INSTALL_CHECK:y.sendResponseToInstaller(e,l.ACTION_NEXT);break;case n.NVIFORM_INSTALL_INITIAL:case n.NVIFORM_INSTALL_CHECKING:case n.NVIFORM_EULA:case n.NVIFORM_INSTALL_CHECK_WARNINGS:case n.NVIFORM_PRE_REBOOT_INSTALL:var r=y.getDialogModel();r&&r.html&&-1!=r.html().indexOf("nv-updates-installation-progress")||(T.debug("show progress dialog"),y.setDialogModel(v(!0))),y.updateRefreshInstalling(!0),y.sendResponseToInstaller(e,l.ACTION_INSTALL);break;case n.NVIFORM_INSTALL_REMOVE_PROGRESS:y.updateRefreshInstalling(!1);break;case n.NVIFORM_INSTALL_PROGRESS:y.setProgressTitle(""),y.updateRefreshInstalling(!1),y.updateIsInstalling(!0);break;case n.NVIFORM_INSTALL_FINISHED_NO_SUMMARY:y.showInstallationComplete();break;case n.NVIFORM_INSTALL_FINISHED:y.showInstallationCompleteWithSummary(e.packages);break;case n.NVIFORM_INSTALL_CHECK_WAIT:t=!(!e.failedConstraintId||"AllowInstallCheck"!==e.failedConstraintId[0]),y.showInstallationCanNotStartWithCancelBtn(h(e),t),y.sendResponseToInstaller(e,l.ACTION_NEXT);break;case n.NVIPROP_CUSTOM_INSTALL:y.showCustomInstallSelect(e.packages,e.cleanInstall);break;case n.NVIFORM_INSTALL_REMOVE_REBOOT:y.showInstallationContinueRebootRequired();break;case n.NVIFORM_INSTALL_FAILED:y.showInstallationFail(e.packages);break;case n.NVIFORM_INSTALL_REBOOT:y.showInstallationRebootWithSummary(e.packages);break;case n.NVIFORM_INSTALL_CHECK_FAILED:t=!(!e.failedConstraintId||"AllowInstallCheck"!==e.failedConstraintId[0]),y.showInstallationCanNotStartWithCloseBtn(h(e),t);break;case n.NVIFORM_PRE_INSTALL_CHECK_RETRY:t=!(!e.failedConstraintId||"AllowInstallCheck"!==e.failedConstraintId[0]),y.showInstallationCanNotContinueWithTryAgainBtn(h(e),!1,t);break;case n.NVIFORM_INSTALL_START_FAILED:w=(!0!==w||p.NV_INSTALLER_RESUME_CANCLE!==e.errorCode||!S||!S.downloadStatus)&&w,y.showInstallationCanNotContinueWithTryAgainBtn(e.constraintFailText[0],!0,!1,e.bullets);break;default:T.debug("un-handled installer forms",e)}else y.setProgressTitle(e.progressTitle),y.updateInstallProgress(e.currentProgress,e.totalProgress);return!0};var x=null,D=null,M=null,O=null,R=null,N=null,L=null,P=null;y.updateRefreshInstallingRegister=function(e){x=e},y.unsubScribeDriverInstallationNotificationRegister=function(e){P=e},y.updateProgressTitleRegister=function(e){D=e},y.updateProgressSetTotalRegister=function(e){M=e},y.updateIsInstallingRegister=function(e){O=e},y.refreshDialogDataRegister=function(e){R=e},y.setSendResponseToInstallerRegister=function(e){C=e},y.setInvokeInstallationCallbackRegister=function(e){N=e},y.getUserSelectedCustomDetailsRegister=function(e){L=e},y.updateRefreshInstalling=function(e){"function"==typeof x&&x(e)},y.unsubScribeDriverInstallationNotification=function(){"function"==typeof P&&P()},y.setProgressTitle=function(e){"function"==typeof D&&D(e)},y.updateInstallProgress=function(e,t){"function"==typeof M&&M(e,t)},y.updateIsInstalling=function(e){"function"==typeof O&&O(e)},y.refreshDialogData=function(){"function"==typeof R&&R()},y.updateUserSelectedCustomDetails=function(){if("function"==typeof L){var e=L();r.isNull(e)||2!==e.length||(y.installerStatus.packages=e[1],y.installerStatus.cleanInstall=e[0],A=e[0])}},y.showInstallationComplete=function(){y.setDialogModel(y.preset().title(S.name).html('<nv-updates-installer-dialog-installation-complete class="updates-installer-dialog-installation-complete"></nv-updates-installer-dialog-installation-complete>').details("l10n.installationComplete").button1({text:"l10n.close",action:function(){y.cancel();var e={isCleanInstallSelected:A,isGRDInstalled:S.isCRD!==g.CRD};T.info("Installation complete ",e),i.trigger(o.INSTALL_DONE,e),y.sendResponseToInstaller(y.installerStatus,l.ACTION_CLOSE)}}))},y.showInstallationCanNotContinueWithTryAgainBtn=function(e,t,n,r){y.setDialogModel(b("l10n.close",e,n,r).button2({text:"l10n.tryAgain",action:function(){y.setDialogModel(v(!0)),t?"function"==typeof N?N(S,_,w):T.error("setInvokeInstallationCallback is not a function"):y.sendResponseToInstaller(y.installerStatus,l.ACTION_TRYAGAIN)}}))},y.showCustomInstallSelect=function(e,t){var n=[];n.push(!0),n.push(e),n.push(t),A=t,y.setDialogModel(y.preset().title(S.name).html('<nv-updates-installation-custom class="updates-installation-custom-container"> </nv-updates-installation-custom>').subtitle("l10n.installationOption").button1({text:"l10n.install",action:function(){y.setDialogModel(v(!1)),y.updateUserSelectedCustomDetails(),y.sendResponseToInstaller(y.installerStatus,l.ACTION_INSTALL)}}).button2({text:"l10n.cancel",action:function(){y.cancel(),y.sendResponseToInstaller(y.installerStatus,l.ACTION_CANCEL),i.trigger(o.INSTALL_CANCEL)}}).installablePackagesData(n))},y.showInstallationCompleteWithSummary=function(e){var t=[];t.push(!1),t.push(e),t.push(!0),y.setDialogModel(y.preset().title(S.name).html('<nv-updates-installation-custom class="updates-installation-custom-container"> </nv-updates-installation-custom>').subtitle("l10n.installationHasFinished").button1({text:"l10n.close",action:function(){y.cancel();var e={isCleanInstallSelected:A,isGRDInstalled:S.isCRD!==g.CRD};T.info("Installation complete with summary ",e),i.trigger(o.INSTALL_DONE,e),y.sendResponseToInstaller(y.installerStatus,l.ACTION_CLOSE)}}).installablePackagesData(t).icon("check"))},y.showInstallationFail=function(e){var t=[];t.push(!1),t.push(e),t.push(!1),y.setDialogModel(y.preset().title(S.name).icon("error").html('<nv-updates-installation-custom class="updates-installation-custom-container"> </nv-updates-installation-custom>').subtitle("l10n.installationFail").button1({text:"l10n.close",action:function(){y.cancel(),y.sendResponseToInstaller(y.installerStatus,l.ACTION_CLOSE),i.trigger(o.INSTALL_CANCEL)}}).installablePackagesData(t))},y.showInstallationRebootWithSummary=function(e){var t=[];t.push(!1),t.push(e),t.push(!0),y.setDialogModel(y.preset().title(S.name).icon("warning").html('<nv-updates-installation-custom class="updates-installation-custom-container"> </nv-updates-installation-custom>').subtitle("l10n.installationCompleteRestart").button1({text:"l10n.restartNow",action:function(){y.cancel(),y.sendResponseToInstaller(y.installerStatus,l.ACTION_RESTART_NOW)}}).button2({text:"l10n.restartLater",action:function(){y.sendResponseToInstaller(y.installerStatus,l.ACTION_CANCEL),y.cancel(),i.trigger(o.INSTALL_CANCEL)}}).installablePackagesData(t))},y.showInstallationContinueRebootRequired=function(){y.setDialogModel(y.preset().title(S.name).html('<nv-updates-installation-reboot class="updates-updates-installation-reboot"></nv-updates-installation-reboot>').button1({text:"l10n.restartNow",action:function(){y.cancel(),y.rebootSystem()}}))},y.showInstallationCanNotStartWithCloseBtn=function(e,t){y.setDialogModel(b("l10n.close",e,t))},y.showInstallationCanNotStartWithCancelBtn=function(e,t){y.setDialogModel(b("l10n.cancel",e,t))}}]);t.updatesInstallerDialogService=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvUpdatesInstallerDialog=void 0;var r=n(10);n(164);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(909));n(645);var o=r.ngUpdatesModule.directive("nvUpdatesInstallerDialog",(function(){return{restrict:"E",scope:{subview:"@"},template:i.default,controller:"UpdatesInstallerDialogController",controllerAs:"updatesInstallerDialog",link:function(e,t){e.$on("$destroy",(function(){t.empty(),t.remove(),t=null})),t.on("$destroy",(function(){e.$destroy()}))}}}));t.nvUpdatesInstallerDialog=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updatesNotificationsController=void 0;var r=n(10);n(124);var i=r.ngUpdatesModule.controller("UpdatesNotificationsController",["$log","$state","updatesService","TASK_STATUS","CHECK_FOR_UPDATE",function(e,t,n,r,i){function o(){n.getInstalledDriver().then((function(e){a.installedDriver=e})).catch((function(e){l.error("getInstalledDriver failed: "+e)}))}var a=this;a.updatesList=[],a.installedDriver=null,a.driverUpdatesCount=0,a.taskStatus=r,a.checkForUpdate=i;var l=e.getInstance("main.updates/UpdatesNotificationsController");a.launchUpdateTab=function(e){t.go("main.auth.updates",{updateState:e})},a.isDownloadStarted=function(e){return e===r.TASK_PAUSED||e===r.TASK_RUNNING},a.progressBarValue=function(e){return e.downloadStatus?e.downloadStatus.bytesDone/e.downloadStatus.totalBytes*100:0},a.refreshUI=function(){o(),a.updatesList=null,a.driverUpdatesCount=0,n.getUpdateDetails().then((function(e){a.updatesList=e,a.driverUpdatesCount=a.updatesList?a.updatesList.length:0})).catch((function(e){l.error("getUpdates failed: "+e)}))},o(),n.checkForUpdates(),n.setUpdatesListener(a.refreshUI)}]);t.updatesNotificationsController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvUpdatesNotification=void 0;var r=n(10);n(280),n(313),n(312);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(911));n(648);var o=r.ngUpdatesModule.directive("nvUpdatesNotification",(function(){return{restrict:"E",scope:{},template:i.default,controller:"UpdatesNotificationsController",controllerAs:"updatesNotifications",link:function(e,t){e.$on("$destroy",(function(){t.empty(),t.remove(),t=null})),t.on("$destroy",(function(){e.$destroy()}))}}}));t.nvUpdatesNotification=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.editBadgesController=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(27)),i=n(8);n(387);var o=i.ngUserProfileModule.controller("EditBadgesController",["$scope","$log","$mdDialog","gfeService","telemetryService","eventAggregator","PROFILE_EVENTS","TELEMETRY_AFFINITY_ACTION","TELEMETRY_AFFINITY_ELEMENT","TELEMETRY_CRIMSON_EVENT_NAMES",function(e,t,n,i,o,a,l,s,c,u){function d(e){f.groupedAchievements.title.id===e.id&&(f.groupedAchievements.title.isFeatured=null,e.isFeatured=null,f.groupedAchievements.title={id:null})}var f=this,m=null,p=!1,g=!1,v=!1;t.getInstance("main.userProfile/editBadgesController"),f.showcase=[],f.groupedAchievements={},f.afterDragStarted=function(e){return!!m&&m.id===e.id},f.onDragStart=function(){return function(t,n,r){r.isDragging=!0,m=r,e.$apply()}},f.onDragEnd=function(){return function(t,n,r){r.isDragging=!1,m=null,e.$apply()}},f.onDrop=function(){return function(t,n,r,i){var o=n.data("dragData");o.isDropping=!1;for(var a=0;a<f.showcase.length;a++)f.showcase[a].id===m.id?f.showcase[a]=o:f.showcase[a].id===o.id&&(f.showcase[a]=m);m=null,e.$apply()}},f.onDragLeave=function(){return function(t,n,r,i){var o=n.data("dragData");i.id!=o.id&&(o.isDropping=!1,e.$apply())}},f.onDragOver=function(){return function(t,n,r,i){var o=n.data("dragData");i.id!==o.id&&(o.isDropping=!0,e.$apply())}},f.mouseDown=function(e){e.isDragging=!0},f.mouseUp=function(e){e.isDragging=!1},f.save=function(){n.hide();var e=f.showcase.map((function(e){return e.id})),t=f.currentShowcase.map((function(e){return e.id}));if(!1===f.groupedAchievements.title.inShowcase&&d(f.groupedAchievements.title),p=!_.isEqual(e,t),(g=f.titleBadge.id!==f.groupedAchievements.title.id)||p){var r={badgesChanged:p,showcase:f.showcase,titleChanged:g,titleBadge:f.groupedAchievements.title};a.trigger(l.BADGES_UPDATED,r)}},f.cancel=function(){n.cancel()},f.isOnline=function(){return i.onlineState.online},f.selectDisabled=function(e){return!e.inShowcase&&5===f.showcase.length},f.toggleTitle=function(e,t){e.stopPropagation(),t.isFeatured?(d(t),v=!1):(v=!0,function(e){v&&e.id!==f.groupedAchievements.title.id&&(d(f.groupedAchievements.title),e.isFeatured=!0,f.groupedAchievements.title=e)}(t),o.push(u.USER_CUSTOMIZE_PROFILE,{customizedResource:c.USER_TITLE,action:s.BOOKMARKED,description:t.title?t.title:""}))},f.achievementSelectChanged=function(e){e.inShowcase&&f.showcase.push(e),f.showcase=f.showcase.filter((function(e){return e.inShowcase}))},function(){f.groupedAchievements=function(e){var t={shown:[],hidden:[],pending:[],locked:[],unlocked:[],all:[],title:{id:null}};return e.forEach((function(e){(e=(0,r.default)({},e)).isUnlocked?t.unlocked.push(e):t.locked.push(e),"shown"===e.visibility?t.shown.push(e):"hidden"===e.visibility?t.hidden.push(e):t.pending.push(e),e.isFeatured&&(t.title=e),t.all.push(e)})),t}(f.achievements),f.groupedAchievements.shown.length>0?f.showcase=f.groupedAchievements.shown:f.groupedAchievements.hidden.length>0?f.showcase=[]:f.showcase=_.first(_.sortBy(f.groupedAchievements.unlocked,"earnedStampMicro"),5),f.showcase.forEach((function(e){return e.inShowcase=!0}));var e=_.sortBy(f.groupedAchievements.unlocked,"title"),t=_.sortBy(f.groupedAchievements.locked,"title");f.groupedAchievements.all=e.concat(t),null!==f.groupedAchievements.title.id&&(v=!0)}()}]);t.editBadgesController=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.editUserDescriptionController=void 0;var r=n(8).ngUserProfileModule.controller("EditUserDescriptionController",["$log","mdPanelRef",function(e,t){var n=this;e.getInstance("main.userProfile/editUserDescriptionController"),n.isValidDescription=function(){return!!n.nvDescription&&n.nvDescription.trim().length>0&&n.nvDescription.trim().length<=250},n.commitUpdate=function(){t.close().then((function(){n.isValidDescription()&&n.nvUpdateDescription(n.nvDescription.trim()),t.destroy()}))},n.cancelUpdate=function(){t.close().then((function(){t.destroy()}))}}]);t.editUserDescriptionController=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.featuredRewardController=void 0;var i=r(n(248)),o=n(8),a=r(n(920));n(662);var l=o.ngUserProfileModule.controller("FeaturedRewardController",["$scope","$log","$filter","$mdDialog","$state","cevoService","gfeService","toastService","eventAggregator","telemetryService","USER_PROFILE_EVENTS","SWEEPSTAKE_EVENTS","USER_PROFILE_DIALOG_NAMES","PROFILE_EVENTS","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_AFFINITY_ELEMENT","TELEMETRY_AFFINITY_ACTION","TELEMETRY_STATUS","TELEMETRY_SCREENS","USER_PROFILE_ERRORS",function(e,t,n,r,o,l,s,c,u,d,f,m,p,g,v,h,b,y,E,S){function w(e){e&&e.errorType==S.CURRENT_GIVEAWAY_EXPIRED&&(P=!0)}function A(e){e&&e.name===p.SWEEPSTAKES_DIALOG&&(M.openSweepstakesDialog(),e.name=null,e.id=null)}function T(e){d.push(v.USER_AFFINITY_EMPTY_STATE,{action:b.LOAD_VIEW,useCase:h.SWEEPSTAKE,status:y.FAILURE,currentScreen:E.SCREEN_WIDGET,additionalMessage:e.toString().substring(0,1024)})}function I(e){M.tokensEntered=e.tokensEntered,M.tokensAvailable=e.availableTokens,O=e.timestamp}function C(e){M.tokensAvailable=e.rewardTokens}function x(e){_.isEmpty(e)||(M.giveaway=L,M.giveawayEntryDetails=e,M.tokensAvailable=+e.tokenBalance,M.giveawayEntryDetails.tokens&&(O=+M.giveawayEntryDetails.enteredStampMicro,M.tokensEntered=M.giveawayEntryDetails.tokens),A(o.params.showDialog))}function D(e){L=e[0];try{M.previewArtwork=L.assets.preview.file.url}catch(e){M.previewArtwork="#",R.error("exception while getting image",e.message,L)}return l.getGiveawayEntryDetails(L.id).then(x).catch((function(e){R.error("getGiveawayEntryDetails failed",e),T(e)}))}var M=this,O=null,R=t.getInstance("main.userProfile/FeaturedRewardController"),N=!0,L=null,P=!1;M.tokensAvailable=null,M.tokensEntered=0,M.giveaway=null,M.giveawayEntryDetails=null,M.STATE={NORMAL:"normal",ERROR:"error",EXPIRED:"expired"},M.refreshGiveaway=function(e){R.info("Countdown ended with state-"+e+". Refreshing..."),l.getCurrentGiveaway(!0).catch((function(e){M.giveaway=null,M.giveawayEntryDetails=null,w(e)}))},M.openSweepstakesDialog=function(){var e;return s.onlineState.online?(d.push(v.USER_AFFINITY_READ_MORE,{action:b.READ_INFO,useCase:h.SWEEPSTAKE,description:M.giveaway&&M.giveaway.title?M.giveaway.title:""}),void r.show((e={template:a.default,controller:"SweepstakesDialogController",controllerAs:"sweepstakeCtrl",bindToController:!0,disableParentScroll:!0},(0,i.default)(e,"bindToController",!0),(0,i.default)(e,"locals",{giveaway:M.giveaway,tokens:{available:M.tokensAvailable||0,entered:M.tokensEntered||0}}),e))):(R.error("Offline. Ignoring sweepstake open request"),void c.showOffline())},M.updatedMoment=function(){return n("convertUTCToTimeAgo")(O)},M.tokensNotEntered=function(){return!N&&0===M.tokensEntered},M.tokensAlreadyEntered=function(){return!N&&M.tokensEntered>0},M.tokensEnteredStr=function(){return 1===M.tokensEntered?"l10n.tokenEntered":"l10n.tokensEntered"},M.getCurrentState=function(){return M.giveaway&&M.giveawayEntryDetails?M.STATE.NORMAL:P?M.STATE.EXPIRED:M.STATE.ERROR},e.$on("$destroy",(function(){u.off(f.OPEN_DIALOG,A),u.off(f.EXTENDED_PROFILE_REFRESH,C),u.off(m.TOKENS_ENTERED_CHANGED,I),u.off(g.CURRENT_GIVEAWAY_REFRESHED,D),u.off(g.GIVEAWAY_ENTRY_DETAILS_REFRESHED,x)})),l.getCurrentGiveaway().then(D).catch((function(e){R.error("getCurrentGiveaway failed",e),T(e),w(e)})).finally((function(){N=!1})),u.on(f.OPEN_DIALOG,A),u.on(f.EXTENDED_PROFILE_REFRESH,C),u.on(m.TOKENS_ENTERED_CHANGED,I),u.on(g.CURRENT_GIVEAWAY_REFRESHED,D),u.on(g.GIVEAWAY_ENTRY_DETAILS_REFRESHED,x)}]);t.featuredRewardController=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvFeaturedReward=void 0;var r=n(8);n(652);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(914));n(283),n(42);var o=r.ngUserProfileModule.component("nvFeaturedReward",{controller:"FeaturedRewardController",controllerAs:"featuredRewardCtrl",template:i.default});t.nvFeaturedReward=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.levelDetailsController=void 0;var r=n(8).ngUserProfileModule.controller("LevelDetailsController",["$log","$filter",function(e,t){var n=this;e.getInstance("main.userProfile/levelDetailsController"),n.xpRangeString="-",n.nvLevel.ubound=+n.nvLevel.ubound,n.nvLevel.lbound=+n.nvLevel.lbound,0===n.nvLevel.lbound?n.xpRangeString=t("translate")("l10n.uptoXp",{value:n.nvLevel.ubound}):99999999===n.nvLevel.ubound?n.xpRangeString=t("translate")("l10n.xpMax",{number:n.nvLevel.lbound}):n.xpRangeString=t("translate")("l10n.xpRange",{lower:n.nvLevel.lbound,upper:n.nvLevel.ubound})}]);t.levelDetailsController=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvLevelDetails=void 0;var r=n(8),i=function(e){return e&&e.__esModule?e:{default:e}}(n(915));n(654);var o=r.ngUserProfileModule.component("nvLevelDetails",{bindings:{nvLevel:"=",nvUserLevel:"=",nvHideProgress:"<"},template:i.default,controller:"LevelDetailsController",controllerAs:"levelDetails"});t.nvLevelDetails=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.levelsDialogController=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(248)),i=n(8);n(655);var o=i.ngUserProfileModule.controller("LevelsDialogController",["$log","$mdDialog","LEVELS",function(e,t,n){var i,o=this,a=(e.getInstance("main.userProfile/LevelsDialogController"),i={},(0,r.default)(i,n.SILVER,["l10n.tokensPerWeekOne"]),(0,r.default)(i,n.GOLD,["l10n.tokensPerWeekThree"]),(0,r.default)(i,n.TITANIUM,["l10n.tokensPerWeekEight"]),i);o.maxLevel=n.MAX_LEVEL,o.nvLevels.forEach((function(e){_.isEmpty(e.perks)&&(e.perks=a[e.level])})),1===o.nvUserLevel.rewardTokens?o.tokenString="l10n.tokenCount":o.tokenString="l10n.tokensCount",o.closeDialog=function(){t.cancel()}}]);t.levelsDialogController=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.missionDetailsController=void 0;var r=n(8).ngUserProfileModule.controller("MissionDetailsController",["$mdDialog","telemetryService","MISSION_TYPE","MISSION_CONSTANTS","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_AFFINITY_ACTION","TELEMETRY_AFFINITY_ELEMENT","TELEMETRY_STATUS","TELEMETRY_SCREENS",function(e,t,n,r,i,o,a,l,s){var c=this;c.isCollapsed=!1,c.showCta=!_.isEmpty(c.mission.cta),c.missionExpires=function(){return c.mission.missionType===n.FEATURED_MISSION||c.mission.repeatable===r.TRUE},c.closeDialog=function(){e.cancel()},c.ctaClicked=function(){var e=a.MISSION;c.mission.missionType===n.FEATURED_MISSION&&(e=a.FEATURED_MISSION),t.push(i.USER_AFFINITY_CTA_CLICKED,{action:o.CALL_TO_ACTION,useCase:e,status:l.SUCCESS,currentScreen:s.SCREEN_MISSIONS,additionalMessage:c.mission.id.toString()}),c.closeDialog()},c.collapseToggle=_.debounce((function(){c.isCollapsed=!c.isCollapsed}),400,!0)}]);t.missionDetailsController=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.missionProgressController=void 0;var r=n(8).ngUserProfileModule.controller("MissionProgressController",["MISSION_TYPE",function(e){function t(){return r.nvMission.completionStatus.mission.tokensEarned/+r.nvMission.tokens+"/"+i}function n(){return r.nvMission.completionStatus.mission.xpEarned/+r.nvMission.xp+"/"+i}var r=this,i=+r.nvMission.repeatNumber;r.showProgress=i>1,r.getProgress=angular.noop,r.isCompleted=1==r.nvMission.completionStatus.mission.isComplete,r.nvMission.missionType===e.TOKEN_MISSION?(r.icon="icon-ranking-token",r.missionValue=r.nvMission.tokens,r.getProgress=t):(r.icon="icon-ranking-XP",r.missionValue=r.nvMission.xp,r.getProgress=n)}]);t.missionProgressController=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvMissionProgress=void 0;var r=n(8),i=function(e){return e&&e.__esModule?e:{default:e}}(n(918));n(658);var o=r.ngUserProfileModule.component("nvMissionProgress",{bindings:{nvMission:"="},controller:"MissionProgressController",controllerAs:"missionProgressCtrl",template:i.default});t.nvMissionProgress=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.missionTileController=void 0;var r=n(8);n(657);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(917)),o=r.ngUserProfileModule.controller("MissionTileController",["$scope","$state","$mdDialog","telemetryService","eventAggregator","MISSION_TYPE","USER_PROFILE_EVENTS","USER_PROFILE_DIALOG_NAMES","TELEMETRY_AFFINITY_ACTION","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_AFFINITY_ELEMENT",function(e,t,n,r,o,a,l,s,c,u,d){function f(e){e&&e.name===s.MISSION_DETAILS_DIALOG&&e.id===m.nvMission.id&&(m.showDetails(),e.name=null,e.id=null)}var m=this,p=null;m.showDetails=function(e){n.show({template:i.default,controller:"MissionDetailsController",controllerAs:"missionDetailsCtrl",bindToController:!0,disableParentScroll:!0,locals:{mission:m.nvMission}}),r.push(u.USER_AFFINITY_READ_MORE,{action:c.READ_INFO,useCase:p,description:m.nvMission.name})},e.$on("$destroy",(function(){m.isFeatured&&o.off(l.OPEN_DIALOG,f)})),m.isFeatured=m.nvMission.missionType===a.FEATURED_MISSION,p=m.isFeatured?d.FEATURED_MISSION:d.MISSION,m.isFeatured&&(f(t.params.showDialog),o.on(l.OPEN_DIALOG,f))}]);t.missionTileController=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvMissionTile=void 0;var r=n(8),i=function(e){return e&&e.__esModule?e:{default:e}}(n(919));n(660),n(659),n(336);var o=r.ngUserProfileModule.component("nvMissionTile",{bindings:{nvMission:"="},controller:"MissionTileController",controllerAs:"missionTileCtrl",template:i.default});t.nvMissionTile=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sweepstakesDialogController=void 0;var r=n(8);n(164),n(283),n(42),n(209);var i=r.ngUserProfileModule.controller("SweepstakesDialogController",["$scope","$log","$mdDialog","$timeout","$filter","cevoService","gfeService","eventAggregator","telemetryService","SWEEPSTAKE_EVENTS","SWEEPSTAKE_DIALOG_STATES","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_AFFINITY_ELEMENT","TELEMETRY_AFFINITY_ACTION","rewardsService","TELEMETRY_STATUS","TELEMETRY_SCREENS",function(e,t,n,r,i,o,a,l,s,c,u,d,f,m,p,g,v){function h(){S.remainingTokens=S.availableTokens-(S.tokensEntered-_)}function b(){h(),S.validInput=S.tokensEntered>S.minRequiredTokens&&S.remainingTokens>=0,S.sweepstakeForm.tokens.$setValidity("required",S.validInput)}function y(e,t){S.messageOverlayVisible=!0,S.overlayState=e,t&&(w||(w=r((function(){S.messageOverlayVisible=!1,E()}),x)))}function E(){w&&(r.cancel(w),w=null)}var S=this,_=0,w=null,A=null,T=i("translate")("l10n.errorSubmittingTokens"),I=i("translate")("l10n.errorTryAgain"),C=t.getInstance("main.userProfile/sweepstakesDialogController"),x=2500;S.dialogState=u.GIVEAWAY_DETAILS,S.overlayState=u.OVERLAY_LOADING,S.tokensEnteredViewState=u.EDIT_STAKES,S.tncAgreed=!1,S.boxArt=null,S.validInput=!0,S.minRequiredTokens=0,S.tokensInputMax=Math.pow(10,3)-1,S.tokensInputMin=0,S.tokensEntered=0,S.messageOverlayVisible=!1,S.termsAlreadyAgreed=!1,S.sweepstakeForm={},S.closeDialog=function(){return n.cancel()},S.tokensSubmitMoment=function(){return i("convertUTCToTimeAgo")(A)},S.goBack=function(e){S.dialogState=u.GIVEAWAY_DETAILS},S.showRules=function(e){s.push(d.USER_AFFINITY_READ_MORE,{action:m.READ_OFFICIAL_RULES,useCase:f.SWEEPSTAKE,description:S.giveaway&&S.giveaway.title?S.giveaway.title:""}),S.dialogState=u.OFFICIAL_RULES},S.isOnline=function(){return a.onlineState.online},S.showRemainingTokens=function(){return S.validInput},S.showInvalidTokensError=function(){return!S.validInput},S.increaseButtonDisabled=function(){return S.remainingTokens<=0},S.decreaseButtonDisabled=function(){return S.tokensEntered<=S.minRequiredTokens},S.submitDisabled=function(){return!S.tncAgreed||!S.validInput||!S.isOnline()||S.availableTokens<=0},S.tncCheckboxDisabled=function(){return!S.isOnline()||S.availableTokens<=0},S.increaseTokens=function(){S.tokensEntered+=1,b()},S.decreaseTokens=function(){S.tokensEntered-=1,b()},S.tokensInputKeypress=function(e){(["+","-","e",".","enter"].includes(e.key.toLowerCase())||e.currentTarget.value.length>=3)&&e.preventDefault()},S.tokensInputDisabled=function(){return S.availableTokens<=0},S.tokensInputBlur=b,S.tokensRemainingStr=function(){return 0===S.availableTokens?"l10n.noTokensAvailable":1===S.remainingTokens?"l10n.tokenRemaining":"l10n.tokensRemaining"},S.tokensEnteredSuccessStr=function(){return 1===S.tokensEntered?"l10n.tokenEnteredSuccessfully":"l10n.tokensEnteredSuccessfully"},S.inputErrorStr=function(){return 0===S.tokensEntered?"l10n.errorOneOrMoreTokens":S.tokensEntered>0&&S.tokensEntered<=S.minRequiredTokens?"l10n.errorAddMoreTokens":S.tokensEntered>S.remainingTokens?"l10n.errorTooManyTokens":void 0},S.submitTokens=function(){b(),S.validInput&&(y(u.OVERLAY_LOADING,!1),S.giveaway.deltaTokens=S.tokensEntered-_,p.trySweepstakeEntry(S.giveaway).then((function(e){if(e.success){(function(e){y(u.OVERLAY_SUCCESS,!0),A=+e.updatedStampMicro,S.tokensEntered=+e.tokens,S.availableTokens=+e.tokenBalance,S.giveaway.tokensEntered=e.giveawayTokens,S.termsAlreadyAgreed=!0,S.tokensEnteredViewState=u.REVIEW_STAKES,l.trigger(c.TOKENS_ENTERED_CHANGED,{tokensEntered:S.tokensEntered,availableTokens:S.availableTokens,timestamp:+e.enteredStampMicro})})(e),s.push(d.USER_ENTER_SWEEPSTAKE_SUCCESS,{action:m.ENTERED,useCase:f.SWEEPSTAKE,status:g.SUCCESS,currentScreen:v.SCREEN_SWEEPSTAKE,additionalMessage:"GPU Sweepstake entry success"})}else(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T;C.error("addTokensToGiveaway failed",e),S.errorMessage=t,y(u.OVERLAY_ERROR,!0)})(e,e.errorMessage||I),s.push(d.USER_ENTER_SWEEPSTAKE_FAILURE,{action:m.ENTERED,useCase:f.SWEEPSTAKE,status:g.ENTRYRESTRICTED,currentScreen:v.SCREEN_SWEEPSTAKE,additionalMessage:e.errorMessage||e.errorDetails||""})})))},S.addMoreTokens=function(){S.minRequiredTokens=S.tokensEntered,_=S.tokensEntered,h(),S.tokensEnteredViewState=u.EDIT_STAKES},S.reviewDone=S.closeDialog,e.$on("$destroy",(function(){E()})),function(){o.getCurrentGiveaway().then((function(e){S.giveaway=e[0]})).catch((function(e){C.error("getCurrentGiveaway failed",e)}));try{S.boxArt=S.giveaway.assets.hero.file.url}catch(e){S.boxArt="#",C.error("exception while getting image",e.message,S.giveaway)}S.agreeToElementHtml="<span>"+i("translate")("l10n.agreeToRules")+"</span>",S.availableTokens=S.tokens.available,S.tokens.entered>0&&(S.tncAgreed=!0,S.termsAlreadyAgreed=!0,_=S.tokens.entered,S.minRequiredTokens=S.tokens.entered,S.tokensEntered=S.minRequiredTokens),h()}()}]);t.sweepstakesDialogController=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.userAchievementsController=void 0;var i=r(n(27)),o=n(8),a=r(n(912));n(650);var l=o.ngUserProfileModule.controller("UserAchievementsController",["$scope","$state","$log","$mdDialog","$q","$filter","cevoService","eventAggregator","telemetryService","toastService","PROFILE_EVENTS","USER_PROFILE_DIALOG_NAMES","USER_PROFILE_EVENTS","TELEMETRY_AFFINITY_ACTION","TELEMETRY_AFFINITY_ELEMENT","TELEMETRY_CRIMSON_EVENT_NAMES",function(e,t,n,r,o,l,s,c,u,d,f,m,p,g,v,h){function b(e){e&&e.name===m.BADGES_DIALOG&&(w.viewAll(),e.name=null,e.id=null)}function y(e){d.showError({textContent:l("translate")(e)})}function E(e){var t=w.showcase,n=w.titleBadge;return w.showcase=e.showcase,w.titleBadge=e.titleBadge,w.viewAllDisabled=!0,o.when().then((function(r){if(e.badgesChanged)return function(e,t,n){var r=e.map((function(e){return e.id}));return s.setBadges(r).then((function(e){A.info("successfully updated badges",e),e.forEach((function(e){return e.isUnlocked=!0}));var t=w.achievements.filter((function(e){return!e.isUnlocked}));w.achievements=e.concat(t)})).catch((function(e){return A.error("failed to update badges with error",e),w.showcase=t,w.titleBadge=n,y("l10n.errorAchievements"),o.reject()}))}(e.showcase,t,n)})).then((function(){if(e.titleChanged)return function(e,t){return s.setAchievementsTitle(e.id).then((function(e){A.info("successfully updated title",e)})).catch((function(e){A.error("failed to update title",e),w.titleBadge=t,y("l10n.errorUserTitle")}))}(e.titleBadge,n)})).catch((function(){A.info("subsequent request cancelled")})).finally((function(){w.viewAllDisabled=!1,t=null,n=null}))}function S(e){var n={shown:[],hidden:[],pending:[]};w.achievements=e,w.unlocked=w.achievements.filter((function(e){return e.isUnlocked})),(n=(0,i.default)(n,_.groupBy(w.achievements,"visibility"))).shown.length>0?w.showcase=n.shown:n.hidden.length>0?w.showcase=[]:w.showcase=_.first(_.sortBy(w.unlocked,"earnedStampMicro"),5),w.titleBadge=_.find(w.showcase,(function(e){return e.isFeatured}))||T,b(t.params.showDialog)}var w=this,A=n.getInstance("main.userProfile/userAchievementsController"),T={id:null};w.viewAllDisabled=!1,w.achievements=void 0,w.placeholderList=[1,2,3],w.viewAll=function(){return w.viewAllDisabled?void A.info("information is being updated..."):(u.push(h.USER_AFFINITY_READ_MORE,{action:g.READ_INFO,useCase:v.ACHIEVEMENT,description:(w.achievements,"")}),void r.show({clickOutsideToClose:!1,controller:"EditBadgesController",controllerAs:"editBadgesCtrl",template:a.default,locals:{currentShowcase:w.showcase,achievements:w.achievements,titleBadge:w.titleBadge},bindToController:!0}))},w.loading=function(){return void 0===w.achievements},s.getAllUserAchievements().then(S).catch((function(e){A.error("get all user achievements failed",e),y("l10n.someInfoMissing")})),c.on(p.OPEN_DIALOG,b),c.on(f.BADGES_UPDATED,E),c.on(f.ALL_USER_ACHIEVEMENTS_REFRESHED,S),e.$on("$destroy",(function(){c.off(p.OPEN_DIALOG,b),c.off(f.BADGES_UPDATED,E),c.off(f.ALL_USER_ACHIEVEMENTS_REFRESHED,S)}))}]);t.userAchievementsController=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvUserAchievements=void 0;var r=n(8),i=function(e){return e&&e.__esModule?e:{default:e}}(n(921));n(663);var o=r.ngUserProfileModule.component("nvUserAchievements",{controller:"UserAchievementsController",controllerAs:"userAchievements",template:i.default});t.nvUserAchievements=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userActivityLogController=void 0;var r=n(8),i=function(e){return e&&e.__esModule?e:{default:e}}(n(201)),o=r.ngUserProfileModule.controller("UserActivityLogController",["$scope","$log","$filter","cevoService","preferencesService","eventAggregator","telemetryService","COMMON_EVENTS","PROFILE_EVENTS","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_AFFINITY_ACTION","TELEMETRY_AFFINITY_ELEMENT","TELEMETRY_STATUS","TELEMETRY_SCREENS",function(e,t,n,r,o,a,l,s,c,u,d,f,m,p){function g(e){l.push(u.USER_AFFINITY_EMPTY_STATE,{action:d.LOAD_VIEW,useCase:f.ACTIVITY_LOG,status:m.FAILURE,currentScreen:p.SCREEN_ACTIVITY_LOG,additionalMessage:e.toString().substring(0,1024)})}function v(){return o.getShareRunningStatus().then((function(e){I=e})).catch((function(e){I=!1,C.error("getShareRunningStatus failed.")}))}function h(e){return 0===e?n("translate")("l10n.today"):1===e?n("translate")("l10n.yesterday"):(0,i.default)().subtract(e,"days").format("dddd, MMMM DD")}function b(e){try{E.activityLog=function(e){var t=(0,i.default)().startOf("day");return _.groupBy(e,(function(e){var n=(0,i.default)(+e.stampMicro).startOf("day"),r=i.default.duration(t.diff(n)).asDays();return S[r.toString()]=h(r),r.toString()}))}(e.data.data.activity)}catch(e){C.error("Failed to get activities",e.message),g(e.message.substring(0,1024))}}function y(){return w||A}var E=this,S={},w=!1,A=!1,T=!1,I=!1,C=t.getInstance("main.userProfile/userActivityLogController");E.activityItemLimitTo=7,E.activityLog=null,E.headerDate=function(e){return S[e]},E.openOSCGallery=function(){l.push(u.ACTIVITY_LOG_VIEW_GALLERY),o.openOscGallery()},E.shareDisabledFallback=function(){return!y()&&!I},E.shareReady=function(){return!y()&&I},E.shareSupported=function(){return!y()&&T},E.emptyState=function(){return!(y()||I&&E.activityLog)},E.activityMoment=function(e){var t=new Date(+e.stampMicro);return n("convertUTCToTimeAgo")(t)},E.showTokensEarned=function(e){return e.tokens>0},E.showXpEarned=function(e){return e.xp>0},A=!0,r.getActivityLog().then(b).catch((function(e){C.error("getActivityLog failed",e),g(e.toString().substring(0,1024))})).finally((function(){A=!1})),w=!0,o.isShareFeatureSupportedOnSystem().then((function(e){if(T=e)return v()})).catch((function(e){C.error("isShareFeatureSupported failed",e),g("Failed to get share supported information"),T=!1})).finally((function(){w=!1})),a.on(s.SHARE_STATUS_CHANGED,v),a.on(c.ACTIVITY_LOG_REFRESHED,b),e.$on("$destroy",(function(){a.off(s.SHARE_STATUS_CHANGED,v),a.off(c.ACTIVITY_LOG_REFRESHED,b)}))}]);t.userActivityLogController=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvUserActivityLog=void 0;var r=n(8),i=function(e){return e&&e.__esModule?e:{default:e}}(n(922));n(665),n(670);var o=r.ngUserProfileModule.component("nvUserActivityLog",{controller:"UserActivityLogController",controllerAs:"userActivityLog",template:i.default});t.nvUserActivityLog=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userGalleryDetailsController=void 0;var r=n(8).ngUserProfileModule.controller("UserGalleryDetailsController",["$scope","preferencesService","navigationalDialogService","eventAggregator","NAVIGATIONAL_DIALOG_EVENTS","GALLERY_TYPES",function(e,t,n,r,i,o){function a(){l.mediaItem=n.getCurrentItem()}var l=this;l.isVideo=function(){return l.mediaItem.file.type==o.VIDEO},l.isImage=function(){return l.mediaItem.file.type==o.IMAGE},l.upload=function(){t.openOscUpload(l.mediaItem)},a(),r.on(i.CURRENT_ITEM_UPDATED,a),e.$on("$destroy",(function(){r.off(i.CURRENT_ITEM_UPDATED,a)}))}]);t.userGalleryDetailsController=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userGalleryDetails=void 0;var r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(3)),n(8)),i=function(e){return e&&e.__esModule?e:{default:e}}(n(923));n(667);var o=r.ngUserProfileModule.component("nvUserGalleryDetails",{template:i.default,controller:"UserGalleryDetailsController",controllerAs:"userGalleryDetails"});t.userGalleryDetails=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userGalleryController=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(12)),i=n(8);n(278),n(120);var o=i.ngUserProfileModule.controller("UserGalleryController",["$log","$q","$scope","eventAggregator","galleryService","gfeService","nvSpCapsEndpoints","COMMON_EVENTS","TELEMETRY_AFFINITY_API_NAME","TELEMETRY_ORIGINAL_SERVICE_NAME","USER_PROFILE_EVENTS","USER_PROFILE_TAB_NAMES","GALLERY_SUBTYPES","httpTelemetryService",function(e,t,n,i,o,a,l,s,c,u,d,f,m,p){function g(e,t,n,r,i){var o=u.LOCALHOST,l=n&&n.config&&n.config.url?n.config.url:"",s=n&&n.status?n.status:0;p.sendSdkHttpTelemetry(e,a.onlineState.online,"",r,s,l,i,o,t)}function v(){if(S)return S;o.thumbSizes=w;var e=new Date;return S=l.getRecordingPaths().catch((function(n){return e=new Date-e,g(!!(n&&n.status>0),c.GET_SHADOWPLAY_RECORDS_PATH,n,e,E),t.reject(n)})).then((function(t){return e=new Date-e,(t.status<200||t.status>=300)&&t.data&&(E=(0,r.default)(t.data)),g(!0,c.GET_SHADOWPLAY_RECORDS_PATH,t,e,E),o.setRecordingPaths(t.data)})).then((function(){return o.getRecentFiles()})).then((function(){return o.checkCachedData()})).then((function(){b.recentlyCaptured=o.populatedRecentFilesFolder.slice(),b.recentlyCaptured=_.filter(o.populatedRecentFilesFolder,(function(e){return function(e){return e.subtype!==m.EXR}(e.file)}))})).finally((function(){S=null}))}function h(e){e===f.ACTIVITY_TAB?(v(),i.on(s.WINDOW_FOCUS,v)):i.off(s.WINDOW_FOCUS,v)}var b=this,y=e.getInstance("main.userProfile/userGalleryController"),E="",S=null,w={width:240,height:135};b.recentlyCaptured=[],b.fallbackState=function(){return!b.loading&&b.recentlyCaptured&&!b.recentlyCaptured.length},n.$on("$destroy",(function(){i.off(d.PROFILE_TAB_CHANGED,h),i.off(s.WINDOW_FOCUS,v),o.active(!1)})),b.loading=!0,v().then(angular.noop).catch((function(e){y.error("could not fetch recent items",e)})).finally((function(){b.loading=!1})),o.active(!0),i.on(d.PROFILE_TAB_CHANGED,h)}]);t.userGalleryController=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvUserGallery=void 0;var r=n(8);n(669);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(924));n(672),n(380);var o=r.ngUserProfileModule.component("nvUserGallery",{controller:"UserGalleryController",controllerAs:"userGallery",template:i.default});t.nvUserGallery=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userGalleryTileController=void 0;var r=n(8);n(668),n(372);var i=r.ngUserProfileModule.controller("UserGalleryTileController",["$log","navigationalDialogService","GALLERY_AUDIOTYPES","preferencesService","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","GALLERY_TYPES",function(e,t,n,r,i,o,a){var l=this;e.getInstance("main.userProfile/userGalleryTileController"),l.Item=l.nvFile,l.List=l.nvFileList,l.previewMedia=function(e,n){l.nvFile.file.type===a.VIDEO&&i.push(o.ACTIVITY_LOG_LAUNCH_VIDEO),t.show("<nv-user-gallery-details></nv-user-gallery-details>",{currentItem:l.Item,itemsList:l.List,parent:angular.element(document.querySelector("#DialogContainerParent")),class:"user-gallery-details-dialog"})},l.upload=function(e){i.push(o.ACTIVITY_LOG_SHARE_CAPTURE),e.stopPropagation(),r.openOscUpload(l.nvFile)},l.isFileMultiTrackAudio=function(e){return e===n.SEPARATE}}]);t.userGalleryTileController=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvUserGalleryTile=void 0;var r=n(8);n(671);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(925)),o=r.ngUserProfileModule.component("nvUserGalleryTile",{bindings:{nvFile:"=",nvFileList:"="},controller:"UserGalleryTileController",controllerAs:"userGalleryTile",template:i.default});t.nvUserGalleryTile=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userMissionsController=void 0;var r=n(8).ngUserProfileModule.controller("UserMissionsController",["$scope","$log","cevoService","telemetryService","eventAggregator","PROFILE_EVENTS","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_AFFINITY_ELEMENT","TELEMETRY_AFFINITY_ACTION","TELEMETRY_STATUS","TELEMETRY_SCREENS",function(e,t,n,r,i,o,a,l,s,c,u){function d(e){var t=function(e){var t=(new Date).getTime(),n={};return t<e.startStampAdjusted?(n.header="l10n.featuredMissionStartCountdown",n.ts=e.startStampAdjusted):t>e.endStampAdjusted?(n.header="l10n.featuredMissionEnded",n.ts=null):(n.header="l10n.featuredMissionEndCountdown",n.ts=e.endStampAdjusted),n}(e);m.featuredCtaHeader=t.header,m.featuredCtaTs=t.ts}function f(e){p.info("getUserMissions refresh"),m.featuredMissions=e.featuredMissions,m.repeatableMissions=e.repeatableMissions,m.timelessMissions=e.timelessMissions;try{var t=e.featuredMissions[0],n=t.cta;_.isEmpty(n)||!n.startStampAdjusted?(m.isFeaturedCtaMission=!1,m.featuredMissionEndTs=t.endStampAdjusted,m.ctaMission=null):(m.isFeaturedCtaMission=!0,m.ctaMission=m.featuredMissions[0],d(n))}catch(e){p.error("failed to extract featured mission timestamp information")}try{m.weeklyMissionEndTs=e.repeatableMissions[0].endStampAdjusted}catch(e){p.error("failed to extract weekly mission timestamp information")}g=!1}var m=this,p=t.getInstance("main.userProfile/userMissionsController"),g=void 0;m.featuredCtaHeader="",m.featuredCtaTs=0,m.isFeaturedCtaMission=!1,m.ctaMission=null,m.refreshMission=function(e){p.info("Countdown ended with state-"+e+". Refreshing..."),n.getUserMissions(!0)},m.emptyState=function(){return g},m.featuredCtaMissionActive=function(){return m.isFeaturedCtaMission&&!!m.featuredCtaTs},m.featuredCtaMissionEnded=function(){return m.isFeaturedCtaMission&&!m.featuredCtaTs},m.ctaStateChanged=function(e){p.info("CTA countdown ended with state-"+e),d(m.ctaMission.cta),m.featuredCtaTs||m.refreshMission()},n.getUserMissions().then(f).catch((function(e){p.error("getUserMissions failed",e),g=!0,r.push(a.USER_AFFINITY_EMPTY_STATE,{action:s.LOAD_VIEW,useCase:l.MISSION,status:c.FAILURE,currentScreen:u.SCREEN_MISSIONS,additionalMessage:e.toString().substring(0,1024)})})),i.on(o.MISSIONS_REFRESHED,f),e.$on("$destroy",(function(){i.off(o.MISSIONS_REFRESHED,f)}))}]);t.userMissionsController=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvUserMissions=void 0;var r=n(8),i=function(e){return e&&e.__esModule?e:{default:e}}(n(926));n(673),n(661);var o=r.ngUserProfileModule.component("nvUserMissions",{controller:"UserMissionsController",controllerAs:"userMissionsCtrl",template:i.default});t.nvUserMissions=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.userProfileController=void 0;var i=n(8);n(122),n(311),n(22),n(307),n(651);var o=r(n(913));n(314);var a=r(n(319)),l=i.ngUserProfileModule.controller("UserProfileController",["$scope","$document","$log","$mdDialog","$mdPanel","$state","$timeout","dbCacheService","dialogService","eventAggregator","cevoService","jarvisService","rewardsService","COMMON_EVENTS","DB_NAMES","USER_PROFILE_EVENTS","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_AFFINITY_ELEMENT","TELEMETRY_AFFINITY_ACTION","USER_PROFILE_TAB_NAMES","REWARDS_EVENTS","IMAGE_UPDATE_STATE","toastService","$filter",function(e,t,n,r,i,l,s,c,u,d,f,m,p,g,v,h,b,y,E,S,w,A,T,I,C){function x(e){var t,n=0;return t=e.destination?function(e){return P.profileTabs.findIndex((function(t){return t.name===e}))}(e.destination):P.selectedTab,t<0?void V.error("got invalid tab destination",e):(P.selectedTab!==t&&(s((function(){P.selectedTab=t})),n=z),void(_.isFunction(e.callback)&&s(e.callback,n)))}function D(e){(G=e)&&p.triggerGpuAchievement()}function M(e,t,n){if(V.error("onUpdate got error",e.error),-1!==e.error.status&&-100!==e.error.status){var r="";try{r=e.error.data.errors.global[0].message}catch(e){r=C("translate")("l10n.errorTryAgain")}I.show({textContentUseTranslate:r,icon:"error",button:{text:C("translate")("l10n.tryAnother"),action:function(){b.push(n),t()}}})}}function O(e){I.cancel(),M(e,P.updateAvatar,y.TOAST_CLICKED_REUPLOAD_AVATAR)}function R(e){I.cancel(),M(e,P.updateCover,y.TOAST_CLICKED_REUPLOAD_COVER)}function N(e){U&&(I.cancel(),U=!1,I.show({icon:"check_circle",textContent:C("translate")("l10n.verificationSuccessfull")}))}function L(e){F&&(I.cancel(),F=!1,I.show({icon:"check_circle",textContent:C("translate")("l10n.verificationSuccessfull")}))}var P=this,k=m.getLoggedInUser(),G=!1,F=!1,U=!1,V=n.getInstance("main.userProfile/userProfileController"),z=500,B={name:w.DEFAULT_TAB,isVisible:function(){return f.getFeatureEnabled("missions")},header:"l10n.missions",directive:"<nv-user-missions flex></nv-user-missions>",active:l.params.startWithTab===w.DEFAULT_TAB},$={name:w.ACTIVITY_TAB,isVisible:function(){return f.getFeatureEnabled("activityLog")},header:"l10n.activityFeed",directive:"<nv-user-activity-log flex></nv-user-activity-log>",telemetryTarconId:y.VIEW_ACTIVITY_LOG,active:l.params.startWithTab===w.ACTIVITY_TAB},W={name:w.REWARDS_TAB,isVisible:function(){return G},header:"l10n.myRewards",directive:"<nv-rewards-center flex></nv-rewards-center>",telemetryTarconId:y.VIEW_MY_REWARDS,active:l.params.startWithTab===w.REWARDS_TAB},H={w:1280,h:400};P.isAvatarMouseHover=!1,P.isCoverMouseHover=!1,P.isDescriptionMouseHover=!1,P.profileDetail={},P.selectedTab=0,P.profileTabs=[B,$,W],P.updateAvatar=function(){return f.getAvatarUploadInProgress()?(I.showProgress({textContent:C("translate")("l10n.verificationOfUploadInProgress")}),void(U=!0)):void u.show("nv-edit-avatar")},P.getFeatureEnabled=f.getFeatureEnabled,P.updateCoverImage=function(e){V.info("Saving profile cover image"),P.profileDetail.coverImageUrl.url=e,P.profileDetail.coverImageUrl.persist_(),V.info("Saving profile cover image done")},P.isEditCoverButtonVisible=function(){return P.isCoverMouseHover&&!P.isAvatarMouseHover&&!P.isDescriptionMouseHover},P.updateCover=function(){return f.getCoverUploadInProgress()?(I.showProgress({textContent:C("translate")("l10n.verificationOfUploadInProgress")}),void(F=!0)):r.show({controller:"EditProfileCoverController",controllerAs:"editProfileCover",template:a.default,bindToController:!0,locals:{title:"l10n.uploadProfileCover",subTitle:C("translate")("l10n.minimumRequiredSize",H),showRecentlyCaptured:!0,image:P.profileDetail.coverImageUrl.url,updateImageCallback:P.updateCoverImage,dialogClass:"edit-profile-cover-container",outputFormat:{maxSize:{w:2400,h:1200},minSize:H}},escapeToClose:!0,disableParentScroll:!0})},P.updateDescription=function(e){P.profileDetail.description.bio={value:e,ts:Date.now()},P.profileDetail.description.persist_(),b.push(y.USER_CUSTOMIZE_PROFILE,{customizedResource:E.BIO_DESCRIPTION,action:S.UPDATED,description:e}),s((function(){f.refresh()}),7e3)},P.editUserDescription=function(e){var n=i.newPanelPosition().relativeTo(".desc-edit-button").addPanelPosition(i.xPosition.ALIGN_END,i.yPosition.BELOW);return i.open({controller:"EditUserDescriptionController",controllerAs:"editUserDescription",locals:{nvDescription:P.profileDetail.description.bio.value,nvUpdateDescription:P.updateDescription},template:o.default,attachTo:t[0].getElementById("panel-container"),position:n,hasBackdrop:!0,bindToController:!0})},P.avatarMouseHover=function(e){P.isAvatarMouseHover=e},P.descriptionMouseHover=function(e){P.isDescriptionMouseHover=e},P.coverMouseHover=function(e){P.isCoverMouseHover=e},P.onTabChanged=function(e){p.setRewardsTabSelected(e.name===w.REWARDS_TAB),d.trigger(h.PROFILE_TAB_CHANGED,e.name),e.telemetryTarconId&&b.push(e.telemetryTarconId)},P.refreshProfile=function(){f.refresh()},e.$on("$destroy",(function(){d.off(h.SWITCH_TAB,x),d.off(g.WINDOW_FOCUS,f.refresh),d.off(A.FEATURE_STATUS_UPDATED,D),d.off(T.AVATAR_UPDATE_FAILED,O),d.off(T.COVER_UPDATE_FAILED,R),d.off(T.AVATAR_UPDATE_SUCCESSFULL,N),d.off(T.COVER_UPDATE_SUCCESSFULL,L),I.cancel()})),p.getRewardsEnabled().then(D),P.profileDetail.avatar=c.getCachedUserItem(k.userId,v.CEVO_GFE_STORE,v.AVATAR),P.profileDetail.displayName=k.core.displayName,P.profileDetail.description=c.getCachedUserItem(k.userId,v.JARVIS_COMMON_STORE,v.PERSONALIZATION),P.profileDetail.coverImageUrl=c.getCachedUserItem(k.userId,v.CEVO_GFE_STORE,v.COVER),f.refresh(),d.on(h.SWITCH_TAB,x),d.on(g.WINDOW_FOCUS,f.refresh),d.on(A.FEATURE_STATUS_UPDATED,D),d.on(T.AVATAR_UPDATE_FAILED,O),d.on(T.COVER_UPDATE_FAILED,R),d.on(T.AVATAR_UPDATE_SUCCESSFULL,N),d.on(T.COVER_UPDATE_SUCCESSFULL,L)}]);t.userProfileController=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvUserProfile=void 0;var r=n(8);n(675);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(927));n(680),n(678),n(653),n(682),n(666),n(674),n(664),n(684);var o=r.ngUserProfileModule.component("nvUserProfile",{controller:"UserProfileController",controllerAs:"userProfile",template:i.default});t.nvUserProfile=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.userProfileStatusController=void 0;var i=r(n(27)),o=n(8);n(656);var a=r(n(916));n(142);var l=o.ngUserProfileModule.controller("UserProfileStatusController",["$scope","$log","$mdDialog","cevoService","eventAggregator","telemetryService","USER_PROFILE_EVENTS","PROFILE_EVENTS","SWEEPSTAKE_EVENTS","LEVELS","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_AFFINITY_ACTION","TELEMETRY_AFFINITY_ELEMENT","TELEMETRY_SCREENS","TELEMETRY_STATUS",function(e,t,n,r,o,l,s,c,u,d,f,m,p,g,v){function h(e){E.profileStatus.rewardTokens=e.availableTokens}function b(e){E.profileStatus=e,E.profileStatus.progress=100*function(e,t,n){return(e-t)/(n-t)}(E.profileStatus.xp,E.profileStatus.xplevel.lbound,E.profileStatus.xplevel.ubound);var t=r.getLevelDetails(E.profileStatus.xplevel.level);E.profileStatus.levelIcon=t.icon,E.profileStatus.levelName=t.name,1==E.profileStatus.rewardTokens?E.tokenString="l10n.token":E.tokenString="l10n.tokens",S=!0}function y(e){try{var t=(0,i.default)({},e.data.data.levels);E.levelsDescription=e.data.data.description,E.xpLevels=_.map(t,(function(e,t){var n=r.getLevelDetails(e.level);return(0,i.default)(e,{icon:n.icon,name:n.name,tokenValue:{value:e.tokensAwarded}})}))}catch(t){A.error("getXpLevel exception",t.message,e)}}var E=this,S=!1,w=!0,A=t.getInstance("main.userProfile/userProfileStatusController");E.maxLevel=d.MAX_LEVEL,E.xpLevelProgress=0,E.profileStatus={xp:"─ ─",rewardTokens:"─ ─",xplevel:{name:"─ ─",lbound:"─ ─",ubound:"─ ─"}},E.tokenString="l10n.tokens",E.openLevelsDialog=function(){w||(l.push(f.USER_AFFINITY_READ_MORE,{action:m.READ_INFO,useCase:p.LEVEL,description:E.profileStatus.xplevel.name}),n.show({template:a.default,locals:{nvUserLevel:E.profileStatus,nvLevels:E.xpLevels,description:E.levelsDescription},autoWrap:!1,bindToController:!0,clickOutsideToClose:!0,controller:"LevelsDialogController",controllerAs:"levelsDialog"}))},E.emptyState=function(){return!w&&!S},r.getExtendedProfile().then(b).catch((function(e){S=!1,l.push(f.USER_AFFINITY_EMPTY_STATE,{action:m.LOAD_VIEW,useCase:p.USER_PROFILE,status:v.FAILURE,currentScreen:g.SCREEN_WIDGET,additionalMessage:e.toString().substring(0,1024)})})).finally((function(){w=!1})),r.getXpLevel().then(y).catch((function(e){A.error("getXpLevels failed",e),l.push(f.USER_AFFINITY_EMPTY_STATE,{action:m.LOAD_VIEW,useCase:p.LEVEL,status:v.FAILURE,currentScreen:g.SCREEN_WIDGET,additionalMessage:e.toString().substring(0,1024)})})),o.on(u.TOKENS_ENTERED_CHANGED,h),o.on(s.EXTENDED_PROFILE_REFRESH,b),o.on(c.XP_LEVEL_REFRESHED,y),e.$on("$destroy",(function(){o.off(u.TOKENS_ENTERED_CHANGED,h),o.off(s.EXTENDED_PROFILE_REFRESH,b),o.off(c.XP_LEVEL_REFRESHED,y)}))}]);t.userProfileStatusController=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvUserProfileStatus=void 0;var r=n(8);n(677);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(928)),o=r.ngUserProfileModule.component("nvUserProfileStatus",{controller:"UserProfileStatusController",controllerAs:"ctrl",template:i.default});t.nvUserProfileStatus=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userProfileSummaryController=void 0;var r=n(8).ngUserProfileModule.controller("UserProfileSummaryController",["$log","gamesService","preferencesService",function(e,t,n){var r=this,i=e.getInstance("main.userProfile/userProfileSummaryController");r.isGSSupported=!1,n.getGameStreamFeature().then((function(e){r.isGSSupported="true"==e.overallState})),t.getCachedGames().then((function(e){r.totalGamesCount=_.size(e),r.anselSupportedGamesCnt="03",r.optimizedGamesCnt=t.optimizedGamesCount(e),r.gsSupportedGamesCount=_.size(_.filter(e,(function(e){return!0===e.streamingSupported})))})).catch((function(e){i.error("Error getting cached games!",e)}))}]);t.userProfileSummaryController=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvUserProfileSummary=void 0;var r=n(8);n(679);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(929)),o=r.ngUserProfileModule.component("nvUserProfileSummary",{controller:"UserProfileSummaryController",controllerAs:"userProfileSummary",template:i.default});t.nvUserProfileSummary=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userRigController=void 0;var r=n(8);n(23),n(386),n(314);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(319)),o=r.ngUserProfileModule.controller("UserRigController",["$scope","$log","$mdDialog","hardwareService","rigService","dbCacheService","jarvisService","eventAggregator","COMMON_EVENTS","DB_NAMES",function(e,t,n,r,o,a,l,s,c,u){function d(e){return o.processSystemInfo(e).then((function(e){g.systemInfoItems=e}))}function f(e){v.info("sysinfo updated"),d(e).catch((function(e){v.error("failed to update system info",e)}))}var m,p,g=this,v=t.getInstance("main.userProfile/userRigController");g.updateRigCoverImage=function(e){m.url=e,m.persist_(),m=a.getCachedUserItem(p.userId,u.CEVO_GFE_STORE,u.MY_RIG),g.rigCoverImageUrl=m.url},g.updateRigCover=function(){var e={w:600,h:400};return n.show({controller:"EditProfileCoverController",controllerAs:"editProfileCover",template:i.default,bindToController:!0,locals:{title:"Upload Rig Cover",showRecentlyCaptured:!1,image:g.rigCoverImageUrl,updateImageCallback:g.updateRigCoverImage,dialogClass:"edit-rig-image-container",viewport:e,boundary:{w:e.w,h:e.h+6},outputFormat:{maxSize:e,minSize:{w:160,h:160}}},escapeToClose:!0,disableParentScroll:!0})},e.$on("$destroy",(function(){s.off(c.SYSTEMINFO_UPDATED,f)})),r.getSystemInfo().then(d).catch((function(e){v.error("failed to init system info",e)})),p=l.getLoggedInUser(),m=a.getCachedUserItem(p.userId,u.CEVO_GFE_STORE,u.MY_RIG),g.rigCoverImageUrl=m.url,s.on(c.SYSTEMINFO_UPDATED,f)}]);t.userRigController=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvUserRig=void 0;var r=n(8);n(681);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(930));n(142);var o=r.ngUserProfileModule.component("nvUserRig",{controller:"UserRigController",controllerAs:"userRig",template:i.default});t.nvUserRig=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.winnersController=void 0;var r=n(8).ngUserProfileModule.controller("WinnersController",["$log","$window",function(e,t){var n=e.getInstance("main.userProfile/WinnersController");this.showWinners=function(){n.info("winners list url opened"),t.open("https://www.nvidia.com/en-us/geforce/contests/winners/")}}]);t.winnersController=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvWinners=void 0;var r=n(8);n(683);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(931)),o=r.ngUserProfileModule.component("nvWinners",{controller:"WinnersController",controllerAs:"winnersCtrl",template:i.default});t.nvWinners=o},function(e,t,n){(e.exports=n(6)()).push([e.id,'input[type=range]{width:300px}ul[rn-carousel]{overflow:hidden;padding:0;white-space:nowrap;position:relative;-webkit-perspective:1000px;-ms-perspective:1000px;perspective:1000px;-ms-touch-action:pan-y;touch-action:pan-y}ul[rn-carousel]>li{color:#000;-webkit-backface-visibility:hidden;-ms-backface-visibility:hidden;backface-visibility:hidden;overflow:visible;vertical-align:top;position:absolute;left:0;right:0;white-space:normal;padding:0;margin:0;list-style-type:none;width:100%;height:100%;display:inline-block}ul[rn-carousel-buffered]>li{display:none}ul[rn-carousel-transition=hexagon]{overflow:visible}div.rn-carousel-indicator span{cursor:pointer;color:#666}div.rn-carousel-indicator span.active{color:#fff}.rn-carousel-control{-webkit-transition:opacity .2s ease-out;transition:opacity .2s ease-out;font-size:2rem;position:absolute;top:40%;opacity:.75;cursor:pointer}.rn-carousel-control:hover{opacity:1}.rn-carousel-control.rn-carousel-control-prev{left:.5em}.rn-carousel-control.rn-carousel-control-prev:before{content:"<"}.rn-carousel-control.rn-carousel-control-next{right:.5em}.rn-carousel-control.rn-carousel-control-next:before{content:">"}',""])},function(e,t,n){(e.exports=n(6)()).push([e.id,".croppie-container{width:100%;height:100%}.croppie-container .cr-image{z-index:-1;position:absolute;top:0;left:0;transform-origin:0 0;max-height:none;max-width:none}.croppie-container .cr-boundary{position:relative;overflow:hidden;margin:0 auto;z-index:1;width:100%;height:100%}.croppie-container .cr-viewport{position:absolute;border:2px solid #fff;margin:auto;top:0;bottom:0;right:0;left:0;box-shadow:0 0 2000px 2000px rgba(0,0,0,.5);z-index:0}.croppie-container .cr-original-image{display:none}.croppie-container .cr-vp-circle{border-radius:50%}.croppie-container .cr-overlay{z-index:1;position:absolute;cursor:move}.croppie-container .cr-slider-wrap{width:75%;margin:15px auto;text-align:center}.croppie-result{position:relative;overflow:hidden}.croppie-result img{position:absolute}.croppie-container .cr-image,.croppie-container .cr-overlay,.croppie-container .cr-viewport{-webkit-transform:translateZ(0);-moz-transform:translateZ(0);-ms-transform:translateZ(0);transform:translateZ(0)}.cr-slider{-webkit-appearance:none;width:300px;max-width:100%}.cr-slider::-webkit-slider-runnable-track{width:100%;height:3px;background:rgba(0,0,0,.5);border:0;border-radius:3px}.cr-slider::-webkit-slider-thumb{-webkit-appearance:none;border:none;height:16px;width:16px;border-radius:50%;background:#ddd;margin-top:-6px}.cr-slider:focus{outline:0}.cr-slider::-moz-range-track{width:100%;height:3px;background:rgba(0,0,0,.5);border:0;border-radius:3px}.cr-slider::-moz-range-thumb{border:none;height:16px;width:16px;border-radius:50%;background:#ddd;margin-top:-6px}.cr-slider:-moz-focusring{outline:#fff solid 1px;outline-offset:-1px}.cr-slider::-ms-track{width:100%;height:5px;background:0 0;border-color:transparent;border-width:6px 0;color:transparent}.cr-slider::-ms-fill-lower{background:rgba(0,0,0,.5);border-radius:10px}.cr-slider::-ms-fill-upper{background:rgba(0,0,0,.5);border-radius:10px}.cr-slider::-ms-thumb{border:none;height:16px;width:16px;border-radius:50%;background:#ddd;margin-top:1px}.cr-slider:focus::-ms-fill-lower{background:rgba(0,0,0,.5)}.cr-slider:focus::-ms-fill-upper{background:rgba(0,0,0,.5)}.cr-rotate-controls{position:absolute;bottom:5px;left:5px;z-index:1}.cr-rotate-controls button{border:0;background:0 0}.cr-rotate-controls i:before{display:inline-block;font-style:normal;font-weight:900;font-size:22px}.cr-rotate-l i:before{content:'↺'}.cr-rotate-r i:before{content:'↻'}",""])},function(e,t,n){(e.exports=n(6)()).push([e.id,".ui-splitbar-icon-down,.ui-splitbar-icon-up{border-left:.45em solid transparent;border-right:.45em solid transparent}.stretch{position:absolute;top:0;left:0;right:0;bottom:0;overflow:auto}.animate-row{-webkit-transition:top .8s cubic-bezier(0,1.05,0,1);-moz-transition:top .8s cubic-bezier(0,1.05,0,1);-ms-transition:top .8s cubic-bezier(0,1.05,0,1);-o-transition:top .8s cubic-bezier(0,1.05,0,1);transition:top .8s cubic-bezier(0,1.05,0,1)}.animate-column{-webkit-transition:left .8s cubic-bezier(0,1.05,0,1);-moz-transition:left .8s cubic-bezier(0,1.05,0,1);-ms-transition:left .8s cubic-bezier(0,1.05,0,1);-o-transition:left .8s cubic-bezier(0,1.05,0,1);transition:left .8s cubic-bezier(0,1.05,0,1)}.ui-splitbar{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-justify-content:center;justify-content:center;background-color:#fff;right:auto;position:absolute;z-index:1}.ui-layout-row>.ui-splitbar{height:8px;width:100%;cursor:row-resize;text-align:center;justify-content:center;align-items:center;background:linear-gradient(to bottom,#fff 0,#eee 100%);overflow-y:hidden}.ui-layout-column>.ui-splitbar{width:8px;height:100%;cursor:col-resize;-webkit-flex-direction:column;flex-direction:column;background:linear-gradient(to right,#fff 0,#eee 100%);overflow-x:hidden}.ui-layout-column>.ui-splitbar>a,.ui-layout-row>.ui-splitbar>a{cursor:pointer;text-align:center;font-size:16px;color:#aaa}.ui-layout-column>.ui-splitbar>a:nth-child(2){margin-top:.35rem}.ui-layout-row>.ui-splitbar>a:nth-child(2){margin-left:.35rem}.ui-splitbar-icon{width:0;height:0;display:inline-block}.no-toggle .ui-splitbar-icon,.ui-layout-hidden{display:none}.ui-splitbar-icon-up{border-bottom:.45em solid}.ui-splitbar-icon-down{border-top:.45em solid;margin-right:.45em}.ui-splitbar-icon-left,.ui-splitbar-icon-right{border-top:.45em solid transparent;border-bottom:.45em solid transparent}.ui-splitbar-icon-right{border-left:.45em solid}.ui-splitbar-icon-left{border-right:.45em solid;margin-top:.45em}@media only screen and (max-device-width:480px){.no-mobile-toggle .ui-splitbar-icon{display:none}}@media print{.ui-splitbar{display:none}.stretch{position:relative}.stretch.ui-layout-container:last-child{position:static;overflow:visible}}",""])},function(e,t,n){(e.exports=n(6)()).push([e.id,"canvas{z-index:2}canvas.hidden{z-index:-1;visibility:hidden}.annotorious-annotationlayer{position:relative}.annotorious-opacity-fade{-moz-transition-property:opacity;-moz-transition-duration:.5s;-moz-transition-delay:0s;-webkit-transition-property:opacity;-webkit-transition-duration:.5s;-webkit-transition-delay:0s;-o-transition-property:opacity;-o-transition-duration:.5s;-o-transition-delay:0s;transition-property:opacity;transition-duration:.5s;transition-delay:0s}.annotorious-canvas{position:absolute;top:0;left:0}.annotorious-popup{line-height:135%;font-family:Arial,Verdana,Sans;font-size:12px;color:#000;background-color:#fff;border:1px solid #ccc;padding:9px 8px;word-wrap:break-word;width:180px;border-radius:3px;box-sizing:border-box;-moz-border-radius:3px;-webkit-border-radius:3px;-khtml-border-radius:3px;-moz-box-shadow:0 5px 15px #111;-webkit-box-shadow:0 5px 15px #111;box-shadow:0 5px 15px #111;-moz-transition-property:opacity;-moz-transition-duration:.5s;-moz-transition-delay:0s;-webkit-transition-property:opacity;-webkit-transition-duration:.5s;-webkit-transition-delay:0s;-o-transition-property:opacity;-o-transition-duration:.5s;-o-transition-delay:0s;transition-property:opacity;transition-duration:.5s;transition-delay:0s;position:absolute;z-index:1}.annotorious-popup-hide{opacity:0}.annotorious-popup-show{opacity:1}",""])},function(e,t,n){(e.exports=n(6)()).push([e.id,".nv-croppie-slider{max-width:300px}.nv-croppie-slider .md-thumb:after{border-width:0}md-slider:not([md-discrete]):not([disabled]).md-active .md-slider-wrapper .md-thumb.nv-croppie-thumb{transform:scale(.8)}",""])},function(e,t,n){(e.exports=n(6)()).push([e.id,"",""])},690,function(e,t,n){(e.exports=n(6)()).push([e.id,".nv-ui-tour-popup:focus{outline:0;display:block}.nv-ui-tour-popup-orphan{position:fixed;top:50%;left:50%;margin:0;transform:translateX(-50%) translateY(-50%)}.nv-ui-tour-popup.nv-popover.bottom-left>.arrow,.nv-ui-tour-popup.nv-popover.top-left>.arrow{left:25px}.nv-ui-tour-popup.nv-popover.bottom-right>.arrow,.nv-ui-tour-popup.nv-popover.top-right>.arrow{left:auto;right:25px}.nv-ui-tour-popup.nv-popover.left-top>.arrow,.nv-ui-tour-popup.nv-popover.right-top>.arrow{top:25px}.nv-ui-tour-popup.nv-popover.left-bottom>.arrow,.nv-ui-tour-popup.nv-popover.right-bottom>.arrow{top:auto;bottom:25px}.nv-popover{position:absolute;top:0;left:0;z-index:20!important;display:none;width:400px;max-width:400px;padding:1px;font-size:14px;font-style:normal;font-weight:400;line-height:1.42857143;text-align:left;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;word-spacing:normal;word-wrap:normal;white-space:normal;background-color:#363636;-webkit-background-clip:padding-box;background-clip:padding-box;box-shadow:0 5px 10px rgba(0,0,0,.2)}.nv-popover-inner{min-width:400px;min-height:100px}.nv-popover.top{margin-top:-10px}.nv-popover.right{margin-left:10px}.nv-popover.bottom{margin-top:10px}.nv-popover.left{margin-left:-10px}.nv-popover-close-button{height:16px!important;width:16px!important;line-height:16px!important;font-size:16px!important;min-height:16px!important;min-width:16px!important}.nv-popover-content{padding:8px 16px}.nv-popover>.arrow,.nv-popover>.arrow:after{position:absolute;display:block;width:0;height:0;border-color:transparent;border-style:solid}.nv-popover>.arrow{border-width:11px}.nv-popover>.arrow:after{content:'';border-width:10px}.nv-popover.bottom>.arrow:after,.nv-popover.left>.arrow:after,.nv-popover.right>.arrow:after,.nv-popover.top>.arrow:after{content:' '}.nv-popover.top>.arrow{bottom:-11px;left:50%;margin-left:-11px;border-top-color:#46505a;border-bottom-width:0}.nv-popover.top>.arrow:after{bottom:1px;margin-left:-10px;border-top-color:#46505a;border-bottom-width:0}.nv-popover.right>.arrow{top:50%;left:-11px;margin-top:-11px;border-right-color:#46505a;border-left-width:0}.nv-popover.right>.arrow:after{bottom:-10px;left:1px;border-right-color:#46505a;border-left-width:0}.nv-popover.bottom>.arrow{top:-11px;left:50%;margin-left:-11px;border-top-width:0;border-bottom-color:#46505a}.nv-popover.bottom>.arrow:after{top:1px;margin-left:-10px;border-top-width:0;border-bottom-color:#46505a}.nv-popover.left>.arrow{top:50%;right:-11px;margin-top:-11px;border-right-width:0;border-left-color:#46505a}.nv-popover.left>.arrow:after{right:1px;bottom:-10px;border-right-width:0;border-left-color:#46505a}.nv-popover-navigation{width:100%;height:52px}.nv-popover-step-indicator-container{padding:0 2px}.nv-popover-step-indicator{width:12px;height:4px}.ui-tour-backdrop{background-color:rgba(0,0,0,.5)}",""])},,,,,function(e,t,n){(e.exports=n(6)()).push([e.id,".small-notification-height{height:100px}.small-notification-image-width{width:178px}.small-notification-details{max-width:230px}.big-notification-header,.small-notification-header{pointer-events:auto}.large-notification-height{height:361px}.large-notification-image-height{height:253px}.notification-badge-container{width:24px;height:24px;left:-2px;top:6px}.md-button.md-icon-button.notification-menu-button{width:36px;margin-right:8px;margin-left:-8px}.notifications-menu-width{width:456px}.notifications-menu-height{height:500px}.notifications-menu-left-outline-width{width:1px}.notification-color-bar-width{width:4px}.notifications-md-menu-content{max-width:456px!important;max-height:500px!important;box-shadow:3px 3px 16px 0 rgba(0,0,0,.8)}.notifications-md-menu-content .notification-direction{top:-13px}.notifications-md-menu-content .notifications-md-list md-divider{border-top-width:2px;border-top-color:#0e0e0e}.notifications-md-menu-content .notifications-md-list .notification-item:hover{background-color:rgba(255,255,255,.1)!important}.notifications-ellipsis{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;line-height:20px;max-height:40px;-webkit-line-clamp:2;-moz-box-orient:vertical;-ms-box-orient:vertical;-webkit-box-orient:vertical}",""])},function(e,t,n){(e.exports=n(6)()).push([e.id,"div.nv-custom-date-ctrl{padding-top:24px;padding-bottom:24px}div.nv-custom-date-ctrl h1{margin:0;padding-left:2px;font-size:12px;color:rgba(255,255,255,.45)!important}div.nv-custom-date-ctrl nv-date-field{padding-right:20px}div.nv-custom-date-ctrl nv-date-field input{border-bottom-color:#363636}div.nv-custom-date-ctrl input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;-moz-appearance:none;margin:0}div.nv-custom-date-ctrl nv-date-field md-select{width:auto;min-width:100px}div.nv-custom-date-ctrl .is-year-field{width:50px}div.nv-custom-date-ctrl .is-day-field{width:40px}div.nv-custom-date-ctrl nv-date-field label{text-transform:capitalize;color:rgba(255,255,255,.3)!important}div.nv-custom-date-ctrl nv-date-field md-select-value{text-transform:capitalize}div.nv-custom-date-ctrl nv-date-field .md-select-value{color:rgba(255,255,255,.45)}div.nv-custom-date-ctrl nv-date-field md-select.ng-valid .md-select-value,div.nv-custom-date-ctrl nv-date-field md-select.ng-valid.ng-pristine .md-select-value{color:#fff}div.nv-custom-date-ctrl nv-date-field md-select:not([disabled]):focus .md-select-value{border-bottom-color:#76b900!important}div.nv-custom-date-ctrl nv-date-field md-input-container.md-input-invalid .md-input:focus{border-bottom-color:#76b900}div.nv-custom-date-ctrl nv-date-field md-select.ng-invalid.ng-touched .md-select-value{border-color:#b5291c!important}div.nv-custom-date-ctrl nv-date-field md-select.ng-invalid .md-select-value,div.nv-custom-date-ctrl nv-date-field md-select.ng-invalid.ng-pristine .md-select-value{color:rgba(255,255,255,.3)!important}div.nv-custom-date-ctrl .error-message{color:#b5291c}md-option{color:#ccc!important}div.nv-custom-date-ctrl nv-date-field md-input-container{padding:0}",""])},function(e,t,n){(e.exports=n(6)()).push([e.id,".oobe-dialog,.oobe-oauth-login-pane{-webkit-backface-visibility:hidden;-webkit-user-drag:none}.oobe-dialog{width:790px;height:498px;-webkit-user-select:text;-khtml-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.oobe-dialog .title{padding-top:24px;position:relative}.oobe-dialog .title h1{margin:0 24px;font-family:Roboto-Light;font-size:24px;font-weight:300;-webkit-font-smoothing:antialiased;color:#fff;color:rgba(255,255,255,.9)}.oobe-dialog .subtitle{margin:8px 0 0 24px;font-size:10px;font-weight:400}.oobe-dialog form{position:relative}.oobe-dialog waiting-overlay{position:absolute;min-width:100%;min-height:100%;background-color:rgba(14,14,14,.7);z-index:5}.oobe-oauth-blocker-overlay{position:fixed;width:100%;height:100%;top:0;left:0;z-index:1000}.oobe-link-icon{position:relative}.oobe-link-icon .md-button{height:auto}.oobe-link-icon .md-button>img{position:absolute;right:12px;width:20px;height:auto;top:42px}.oobe-link-icon md-card{background-color:transparent;box-shadow:none;margin:5px auto auto;width:54px}.oobe-link-icon md-card:hover{box-shadow:none}.oobe-link-icon p{text-align:center;font-size:10px;margin:0}.oobe-dialog-scan .text-bottom-margin{margin-bottom:0}.oobe-dialog-scan .scan-top-margin{margin-top:8px}.oobe-loading-data{padding-top:60px}.oobe-loading-data>md-progress-circular{margin-top:38px}.oobe-login-pointer{cursor:pointer}.oobe-dialog-logo-margin{margin-top:150px;margin-left:190px;margin-bottom:40px;padding-left:0}.oobe-welcome-dialog{font-family:Roboto-Light!important;-webkit-font-smoothing:antialiased}.oobe-welcome-dialog-header{height:64px}.oobe-welcome-dialog-header p{color:rgba(255,255,255,.45);margin:3px 24px 0}.oobe-welcome-dialog .md-actions{margin-bottom:2px}.oobe-welcome-card-holder{width:263px;height:329px;position:relative}.oobe-welcome-card-holder img{height:100%;width:100%}.oobe-welcome-card-holder .oobe-welcome-overlay{position:absolute;height:80px;background-image:url("+n(715)+");width:100%;bottom:0}.oobe-welcome-overlay .overlay-grouper{width:60%;margin-left:20%;height:100%;line-height:80px;text-align:center}.oobe-welcome-overlay .overlay-text{font-size:12px;color:rgba(255,255,255,.9);display:inline-block;vertical-align:middle;line-height:normal}.oobe-login-left-side{width:320px;height:497px;background-image:url("+n(713)+");bottom:0}.oobe-blocked-message,.oobe-side-text{width:100%;height:165px;color:rgba(255,255,255,.75);font-family:Roboto!important;-webkit-font-smoothing:antialiased}.oobe-side-text{font-size:16px}.oobe-side-text p{padding-left:140px;padding-right:50px}.oobe-blocked-message{font-size:18px;text-align:center}.oobe-blocked-message p{padding-left:60px;padding-right:60px}.oobe-blocked-link{color:rgba(255,255,255,.75);font-family:Roboto!important;-webkit-font-smoothing:antialiased}.oobe-dialog-left-pane{width:320px;height:497px;overflow:hidden}.oobe-dialog-left-pane img{width:100%;height:100%}.oobe-dialog-right-pane .title h1{margin-top:0}.oobe-dialog-right-pane .title .title-logo{position:absolute;top:18px;left:24px;width:48px;height:48px;font-size:48px;line-height:48px}.oobe-dialog-right-pane .title .title-logo+h1{padding-left:64px}.oobe-dialog-right-pane .title button{width:auto;padding:0;margin:0}.oobe-dialog-right-pane .title .title-close{margin:12px 24px 0 0}.oobe-dialog-right-pane .title .button-close{width:auto;height:24px;font-size:24px}.oobe-dialog-right-pane .secondary-title{font-size:12px;margin:44px 0 16px;color:#a9a9a9;color:rgba(255,255,255,.45)}.oobe-dialog-right-pane .secondary-title+.secondary-title{font-size:12px;margin:0 0 16px;color:#a9a9a9;color:rgba(255,255,255,.45)}.oobe-dialog-right-pane .title.large{min-height:96px}.oobe-dialog-right-pane .title.blank{min-height:60px}.oobe-dialog-right-pane .content{margin:24px 0 0;padding:0 24px}.oobe-dialog-right-pane .login-content{margin:0;padding:0 24px}.oobe-dialog-right-pane .message-banner{margin-top:24px;height:50px;line-height:50px;background-color:#303030;padding-left:24px;padding-right:24px;box-shadow:inset 0 8px 8px -10px #000,inset 0 -8px 8px -10px #000}.oobe-dialog-right-pane .message-banner span{display:inline-block;vertical-align:middle;line-height:normal;font-size:11px;color:#a9a9a9;color:rgba(255,255,255,.45)}.oobe-dialog-right-pane .md-actions{position:relative;padding:20px 8px 8px}.oobe-dialog-right-pane .md-actions button{margin:0}.oobe-dialog-right-pane .md-actions .button-helper{position:absolute;top:0;left:24px;font-size:11px;color:#a9a9a9;color:rgba(255,255,255,.45)}.oobe-dialog-right-pane .input-helper{font-size:11px;color:#a9a9a9;color:rgba(255,255,255,.45);padding-left:2px;padding-top:4px}.oobe-dialog-right-pane .login-button{padding:4px 4px 2px;margin-bottom:4px;position:relative}.oobe-dialog-right-pane .login-button img{width:318px;height:62px}.oobe-dialog-right-pane .login-button[disabled]{cursor:default;-webkit-filter:grayscale(100%) opacity(30%)}.oobe-dialog-right-pane .login-text{left:60px;position:absolute;font-size:18px;top:50%;width:250px;-ms-transform:translateY(-50%);-webkit-transform:translateY(-50%);transform:translateY(-50%)}.oobe-dialog-right-pane .login-button:not([disabled]):hover{background-color:rgba(55,90,162,.5)}.oobe-dialog-right-pane .login-button:not([disabled]):focus{background-color:rgba(55,90,162,.5);outline:0}.oobe-dialog-progress-bar{height:8px;position:absolute;width:100%;z-index:101;color:#363636!important;background:#363636!important}.oobe-dialog-progress-bar .md-accent.foreground{color:#76b900!important}.oobe-dialog-progress-bar .md-accent.background{background-color:#76b900!important}.oobe-dialog-done-pane-content{margin-top:152px}.oobe-dialog-done-first-text-margin{margin-top:24px;margin-bottom:16px}.oobe-dialog-done-second-text-margin{margin-top:0;margin-bottom:5px}.oobe-dialog-done-third-text-margin{margin-top:0;margin-bottom:0}.oobe-dialog-done-nogames-icon{opacity:.45}.oobe-dialog-done-scan-text-margin{margin-top:10px;margin-bottom:16px}.oobe-dialog-right-pane md-input-container.md-icon-right .md-errors-spacer+md-icon{margin-top:18px!important;color:#a9a9a9;color:rgba(255,255,255,.75)}.oobe-dialog-right-pane md-input-container+md-input-container.md-icon-right .md-errors-spacer+md-icon{margin-top:32px!important;color:#a9a9a9;color:rgba(255,255,255,.45)}.oobe-dialog-right-pane md-icon.icon-eye{line-height:20px;min-height:20px;min-width:20px}.oobe-dialog-right-pane md-checkbox.md-checked .md-icon:after{left:6.67px;top:2.22px}.oobe-dialog-right-pane md-input-container.md-input-invalid label{color:gray;color:rgba(255,255,255,.3)}.oobe-dialog-right-pane md-input-container+md-input-container{padding-top:18px}.oobe-dialog-right-pane nv-custom-date{padding-bottom:14px}.forgot-password{position:absolute;left:10px;padding-left:8px!important;padding-right:8px!important;margin-top:0!important}.oobe-dialog a.in-app-link{color:#76b900;text-decoration:none}.oobe-panel{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 13px 19px 2px rgba(0,0,0,.14),0 5px 24px 4px rgba(0,0,0,.12)}.shadow-top{box-shadow:0 -10px 30px -5px rgba(0,0,0,.75)}.oobe-share-text-list{margin-top:0!important;padding-left:0!important}.oobe-done-qr-code{width:200px;height:320px;position:absolute;right:0;top:0;left:0;bottom:0;margin:auto}.oobe-done-qr-code-description{font-size:10px;margin-bottom:10px}.oobe-done-qr-code-scan{padding:10px;margin:0 0 12px}.oobe-oauth-login-pane{width:424px;height:608px}.oobe-oauth-login-image{background-image:url("+n(712)+")}.oobe-oauth-login-text{font-size:16px;height:144px;width:100%;display:flex;padding-left:144px;padding-right:48px;align-items:center;margin-top:10px;color:rgba(255,255,255,.75)}.oobe-oauth-login-top-filler{height:94px}.oobe-oauth-login-scrim{position:absolute;top:104px;height:452px;width:424px;background-color:rgba(0,0,0,.6)}.oobe-oauth-message-banner{margin:0 24px;background-color:#2e2e2e;padding:24px}",""])},function(e,t,n){(e.exports=n(6)()).push([e.id,".preferences-sidebar-container button,.preferences-sidebar-container md-list-item .md-no-style.md-button{min-height:48px}#overlay,.preferences-shield-edit-dialog .image-container,.preferences-shield-edit-dialog .image-container md-icon,md-switch .md-container{cursor:pointer}.preferences-sidebar-container{width:186px}.preferences-sidebar-container .md-button-selected{background-color:#191919}.preferences-sidebar-container md-list-item .md-list-item-inner{padding-left:20px}.preferences-sidebar-container md-list-item div.md-no-style.md-button{display:inline-block}.preferences-items-container{padding:24px 12px 0}.preferences-preference-section{padding:10px 16px 16px;margin:0 12px 24px}.preferences-overlay{width:calc(100% - 24px);left:12px;height:calc(100% - 24px)}.preferences-preference-section .margin-zero,.preferences-preference-section h3{margin:0}.preferences-preference-section h3.feature-title{margin:0 0 0 32px;font-weight:400}.preferences-preference-section h4{margin:0;font-weight:400;text-transform:uppercase}.preferences-preference-section h5{margin-top:11px;margin-bottom:0;font-weight:400}.preferences-preference-section .md-list-item-text p{margin:4px 0 0 32px;font-weight:400}.preferences-preference-section .scan-location-content .md-list-item-text p{margin:0}.preferences-preference-section .md-3-line p{margin-top:8px;margin-bottom:8px;margin-left:8px;font-weight:400}.preferences-preference-section .md-3-line md-icon,.preferences-preference-section .md-3-line svg{margin:8px 0 8px 48px;line-height:16px;height:16px;width:16px}.preferences-preference-section .preferences-feature-header-section{margin:24px 0 24px 32px}.preferences-preference-section .preferences-feature-description-section{padding:0 0 24px;margin:0}.preferences-preference-section .preferences-feature-description-section .preferences-feature-requirement{padding-left:64px;padding-right:16px;margin-bottom:16px}.preferences-preference-section .preferences-feature-description-section .preferences-feature-requirement .md-16{min-height:16px;min-width:16px;height:16px;width:16px;line-height:16px;font-size:16px!important}.preferences-preference-section .preferences-feature-description-section .preferences-feature-requirement .requirement-recommendation-icon-container{min-width:16px;min-height:16px}.preferences-preference-section .preferences-feature-description-section .preferences-feature-requirement .requirement-recommendation-icon-container .recommendation-circle{width:10px;height:10px;background-color:rgba(255,255,255,.45);border-radius:50%}.common-accordion-hover nv-accordion-pane-content,.common-accordion-hover nv-accordion-pane.collapsed nv-accordion-pane-header-wrapper:hover{background-color:transparent!important}.preferences-preference-section .preferences-feature-description-section .preferences-feature-requirement .feature-driver-update-button{min-width:120px}.preferences-preference-section .requirement-link-container{padding:8px 0 0;margin:0}.preferences-preference-section .top-margin-checkboxes{margin-bottom:16px}.preferences-preference-section .margin-mid-checkbox{margin-bottom:16px;margin-top:0}.preferences-preference-section md-switch{float:right;margin-top:-8px;margin-right:-8px;padding:0}.preferences-preference-section md-switch .md-thumb{height:16px;width:16px}.preferences-preference-section md-switch .md-bar{height:12px;width:27px;left:2px;top:4px}.preferences-preference-section md-checkbox{line-height:normal;margin:0;padding:4pt 0}.preferences-preference-section md-icon.feature-notready-overlay{margin-left:16px}.preferences-preference-section .feature-readiness-content{margin-left:-16px;margin-right:-16px}.preferences-preference-section .preferences-section-content .feature-readiness-content a{margin-left:32px}.preferences-preference-section .language-section p{line-height:36px}.preferences-preference-section .language-section md-input-container{margin-bottom:8px}.preferences-preference-section .language-section .md-select-value{flex-grow:0}.preferences-preference-section .language-section .language-section-button{display:inline-block;text-align:right}.preferences-preference-section .about-section img{width:170px;height:40px}.preferences-preference-section .about-section .gfe-version-container p{margin-left:0;margin-bottom:0}.preferences-preference-section .about-section .gfe-version-container{margin:20px 0 0}.preferences-preference-section .download-progress p{margin-left:0}.preferences-preference-section .about-section .margin-between-links{margin-top:8px}.preferences-preference-section .about-section .links-top-margin{margin-top:16px}.preferences-preference-section .policy-section .margin-zero{margin:0}.preferences-preference-section .gfe-partner-section{margin-bottom:-8px}.common-accordion-hover nv-accordion-pane-content-wrapper,.common-accordion-hover nv-accordion-pane-header-wrapper{background-color:transparent!important;opacity:1!important}.common-accordion-hover md-icon{padding-top:8px;color:#76b900}.common-accordion-hover nv-accordion-pane-header div{padding-top:8px}.preferences-preference-section .about-section md-divider{border-top-color:#111}.preferences-preference-section .about-section md-divider.color-black-hue-2{border-top-color:#3a3a3a}.preferences-preference-section .about-section .title-content-top-margin{margin-top:2px}.preferences-preference-section .about-section .title-content-right-margin{margin-right:4px}.preferences-preference-section .preferences-section-header,.preferences-preference-section .preferences-section-header-button,.preferences-preference-section .preferences-section-header-description,.preferences-preference-section .preferences-section-header-description-switch,.preferences-preference-section .preferences-section-header-switch{margin:0 0 12px}.preferences-preference-section .preferences-section-content{padding:8px 0 12px}.preferences-preference-section .preferences-about-section-content{padding:12px 0}.preferences-preference-section .preferences-section-header-description p,.preferences-preference-section .preferences-section-header-description-switch p{line-height:1.64;margin-top:8px;margin-bottom:-3.5px}.preferences-preference-section .preferences-section-header-description md-switch,.preferences-preference-section .preferences-section-header-description-switch md-switch,.preferences-preference-section .preferences-section-header-switch md-switch{margin-bottom:0}.preferences-accounts-edit-avatar .avatar-image{min-height:110px}.preferences-accounts-edit-avatar .avatar-image-error{height:150px}.preferences-accounts-edit-avatar .avatar-image-error p{width:60%;text-align:center}.preferences-accounts-edit-avatar .avatar-list-item{float:left}.preferences-system-info{padding-bottom:4px}.preferences-preference-section .preferences-system-info .margin-between-links{margin-bottom:12px}.preferences-preference-section .preferences-system-info .span-align-vertical{display:inline-block;vertical-align:middle;margin-left:5px}.preferences-preference-section .preferences-system-info .subitem-margin{margin-top:5px;margin-left:26px}.preferences-preference-section .feature-readiness-container .state-info-content-height,.preferences-preference-section .preferences-system-info .state-info-content-height{height:300px}.preferences-preference-section .language-section md-icon,.preferences-preference-section .preferences-system-info md-icon{min-height:18px;min-width:18px;height:18px;width:18px;line-height:18px;font-size:18px}.range-slider-left md-slider,.range-slider-right md-slider{min-width:0}.preferences-preference-section .preferences-section-content .games-scan-container{height:112px;margin-top:24px;margin-bottom:32px}.preferences-preference-section .preferences-section-content .games-scan-container h4:first-child{padding-top:10px}.preferences-preference-section .preferences-section-content .games-scan-container h4:nth-child(2){padding:16px 0}.preferences-preference-section .preferences-section-content .games-scan-divider{display:inline-block;width:1px;height:100%}.preferences-preference-section .preferences-section-content .scan-location-section{max-height:98px;height:98px}.preferences-preference-section .scan-location-content md-list{padding:0;height:98px}.preferences-preference-section .scan-location-content md-list-item{min-height:24px;height:24px}.preferences-preference-section .scan-location-content .scan-location-md-list-item-button .md-button{height:24px;min-height:11px;line-height:24px;text-align:left}.preferences-preference-section .scan-location-content md-list-item .md-list-item-inner{margin-right:0;min-height:24px;height:24px;padding:0}.preferences-preference-section .scan-location-content md-list-item p{padding-left:8px;padding-right:8px}.preferences-preference-section .preferences-section-content .accounts-section-button,.preferences-preference-section .preferences-section-content .language-section-button,.preferences-preference-section .preferences-section-content .scan-location-content-margin,.preferences-preference-section .preferences-section-content .shield-section-button{margin-left:-16px;margin-right:-16px;margin-top:16px;height:36px}.preferences-preference-section .share-section-button{height:36px;margin-bottom:-28px;margin-left:-16px;margin-right:-16px}.preferences-preference-section .preferences-section-content .accounts-section-button md-button,.preferences-preference-section .preferences-section-content .language-section-button .md-button,.preferences-preference-section .preferences-section-content .scan-location-content-margin .md-button,.preferences-preference-section .preferences-section-content .shield-section-button .md-button,.preferences-preference-section .share-section-button .md-button{margin:8px}.preferences-preference-section .scan-location-section button.md-no-style{background:0 0}.preferences-preference-section .scan-location-content .scan-location-md-list-item-button .md-button:hover{background-color:rgba(91,91,91,.5);box-shadow:0 4px 5px -2px rgba(0,0,0,.75)}.preferences-preference-section .preferences-md-icon .md-container{height:16px;width:16px}.preferences-preference-section .download-progress .md-container{height:3px;width:100%}.preferences-preference-section .download-details-status-container p{margin-top:6px;margin-bottom:0;margin-left:0}.preferences-preference-section .preferences-md-icon md-checkbox div{line-height:1.64}.preferences-preference-section .preferences-md-icon md-checkbox{min-height:16px;line-height:1.64;padding:0}.preferences-preference-section .preferences-md-icon .md-icon,.preferences-preference-section .preferences-md-icon md-icon,.preferences-preference-section .preferences-section-header-button md-icon{height:16px;width:16px;line-height:16px;font-size:16px}.preferences-preference-section .preferences-section-header-button .md-icon-button{min-height:16px;height:16px;width:16px;line-height:0;font-size:16px;margin-top:-4px;margin-right:-2px}.preferences-preference-section .preferences-md-icon .md-label{margin-left:22px}.preferences-preference-section .preferences-md-icon .external-link-icon{font-size:10px}.preferences-accounts-section .accounts-section-personal-info .md-errors-spacer{min-height:0}.preferences-accounts-section .accounts-section-avatar img{width:80px;height:80px;margin:0 24px 24px}.preferences-accounts-section .accounts-section-avatar img+p{padding-bottom:16px}.preferences-accounts-section .accounts-section-personalInfo p{margin-bottom:8px}.preferences-accounts-section .accounts-section-personalInfo .header{min-height:36px}.preferences-accounts-section .accounts-section-personalInfo input:disabled{background-image:none}.preferences-accounts-section .accounts-section-personalInfo .details-spacing,.preferences-accounts-section .accounts-section-personalInfo md-input-container{margin-bottom:16px}.preferences-accounts-section .accounts-section-personalInfo md-input-container .md-input{margin-bottom:0;margin-top:0;padding:0 0 8px;max-height:22px;line-height:12px}.preferences-accounts-section .accounts-section-security p{margin-bottom:8px}.preferences-accounts-section .accounts-section-security md-checkbox{margin-top:8px}.preferences-accounts-section .preferences-accounts-devices button{margin:0}.preferences-accounts-section .accounts-section-newsletter md-progress-circular{margin:0 auto}.preferences-shield-tile{margin:0 8px 8px 0}.preferences-shield-tile md-card-content:focus,.preferences-shield-tile:focus{outline:-webkit-focus-ring-color auto 5px;outline-color:transparent!important}.preferences-shield-tile .item-container .shield-tile-content-outline:focus,.preferences-shield-tile.shield-tile-content-outline md-card,.preferences-shield-tile.shield-tile-content-outline:focus md-card{outline:-webkit-focus-ring-color auto 5px;outline-color:#76b900!important}.preferences-shield-tile md-card:focus md-card-content,.preferences-shield-tile md-card:hover md-card-content{background-color:#414141!important}.preferences-shield-tile.shield-tile-content-outline md-card-content{background-color:#2d2d2d!important}.preferences-preference-section .shield-section h4{margin-bottom:8px}.preferences-preference-section .shield-section md-content{padding:1px 0 0 1px}.preferences-preference-section .shield-section .appcollector-content-height{height:357px}.preferences-preference-section .shield-section .empty-app-list{height:348px;border-style:solid;border-width:1px;border-color:#3c3c3c;margin-bottom:8px;width:100%}.preferences-preference-section .button-text-padding .md-button:not(.md-icon-button){padding-left:16px;padding-right:16px}.preferences-shield-tile .item-container{width:94px;height:170px;display:block}.preferences-shield-tile .item-container img{width:94px;height:134px;display:block}.preferences-shield-tile .item-container .shield-tile-img-border{border:1px solid transparent}.preferences-shield-tile .item-container md-card-content{width:94px;height:36px;display:block;padding:0}.preferences-shield-tile .item-container p{font-size:10px;padding:5px}.preferences-preference-section .preferences-games-battery-boost .battery-boost-content-title,.preferences-preference-section .preferences-games-quiet-mode .quiet-mode-content-title{height:16px;line-height:16px}.preferences-shield-edit-dialog{width:425px;height:270px}.preferences-shield-edit-dialog img{width:94px;min-height:134px;display:block}.preferences-shield-edit-dialog .container{margin:24px}.preferences-shield-edit-dialog md-input-container{margin:0}.preferences-shield-edit-dialog .boxart{margin-left:16px}.preferences-shield-edit-dialog .custom-label-heading{font-size:10px;font-weight:400;text-shadow:none;bottom:inherit;color:rgba(255,255,255,.7);padding-left:3px}.preferences-shield-edit-dialog .custom-label-content{font-size:12px;font-weight:400;text-shadow:none;bottom:inherit;color:#fff;padding-left:3px;margin-top:8px;margin-bottom:8px}.preferences-shield-edit-dialog md-icon:focus{outline:0;border:none}.preferences-shield-edit-dialog .image-container>img{display:block;width:94px;height:134px}.preferences-shield-edit-dialog .image-container:hover{box-shadow:0 3px 15px 1px rgba(0,0,0,.75);color:rgba(0,0,0,.75);opacity:.75}.preferences-shield-edit-dialog .image-container:hover md-icon{color:#fff!important}.preferences-shield-edit-dialog .image-container md-icon[selected],.preferences-shield-edit-dialog .image-container:active,.preferences-shield-edit-dialog .image-container:focus{outline-color:transparent!important}.preferences-preference-section .share-section p{line-height:1.64;margin-top:8px;margin-bottom:-3.5px}.preferences-preference-section .share-section md-icon{margin:0}.preferences-preference-section .share-section .share-hotkey-info{padding-top:24px;padding-bottom:24px}.preferences-preference-section .share-section .share-hotkey-info p{margin-top:3px!important;margin-bottom:0!important;margin-left:6px;font-size:10px}.preferences-share-alert-icon{margin-left:5px!important;line-height:10px!important}.preferences-col-1,.preferences-col-2{float:left;width:90%}@media only screen and (min-width:900px){.preferences-col-1,.preferences-col-2{width:50%}.preferences-sidebar-container{width:236px}}.preference-gfeCheckForUpdate-container,.preferences-preference-section .download-details-container,.preferences-preference-section .download-progress{width:100%}.preferences-preference-section .preference-gfe-check-for-update-container .md-container{width:100%;height:3px}.preferences-preference-section .preference-gfe-check-for-update-container md-progress-linear{margin-left:0}.preferences-preference-section .about-section md-checkbox{margin-bottom:12px}.shield-troubleshooting-link{margin-top:12px}.preferences-functional-data-consent-dialog{min-height:445px;width:528px}.preferences-functional-data-consent-dialog .dialog-service-dialog-contents-footer{min-height:50px!important}.preferences-licence-agreement{min-height:445px;width:528px}.preferences-led .picker{float:left;border:0}.preferences-led .controls{float:right;margin:10px}.preferences-led .controls>div{padding:5px}.preferences-led .controls label{margin-right:10px}.preferences-led .preview,.preferences-led .secondPreview{cursor:pointer;height:30px;width:50px}preferences-led .cancel-apply-container{height:52px}preferences-led .cancel-apply-container button{margin-top:8px;margin-bottom:8px}.preferences-led .preferences-preference-section .preferences-led-switch md-switch{margin-top:7px;margin-bottom:0;margin-left:8px}.preferences-led .preferences-preference-section .led-input-container-position{width:150px;height:50px;margin-top:0;margin-bottom:50px}.preferences-led .preferences-preference-section .section-divider{display:inline-block;width:1px;height:auto;margin:10px}.preferences-open-source-licence{min-height:445px;width:528px}#overlay{display:block;z-index:0;position:absolute;width:100%;height:100%;background-color:transparent;opacity:.5;filter:alpha(opacity=0)}.range-slider-container{position:relative;width:100%;height:48px}.range-slider-left{position:absolute;top:0;width:100%}.range-slider-left md-slider .md-thumb-container{z-index:10}.range-slider-left md-slider .md-track{background-color:#76b900}.range-slider-left md-slider .md-track.md-track-fill,.range-slider-right md-slider .md-track-container .md-track{background-color:#9e9e9e}.range-slider-right{position:absolute;top:0;right:0}.range-slider-right md-slider .md-thumb-container{transition:-webkit-transform 0s linear;transition:transform 0s linear}.range-slider-right md-slider .md-track-container .md-track.md-track-fill{background-color:#76b900;transition:none}md-slider .md-slider-wrapper{width:100%}.fps-control-slider md-slider .md-track-container{height:1px}.common-window .optimized-slider-container.battery-boost{margin-top:-8px}.common-window .optimized-slider-container .optimized-slider-lables{margin-top:-15px}.common-window .optimized-slider-container .optimal-button-container.battery-boost{margin-top:-23px}.performance-mode md-radio-button .md-off,.performance-mode md-radio-button .md-on{width:20px;height:20px}.performance-mode md-radio-button .md-container{top:12px;width:20px;height:20px}.nis-container .sharpen-label-text{min-width:97px}.nis-container .quality-resolution-button{height:auto;padding:0}.nis-container .quality-resolution-button .quality-resolution-button-content{font-size:10px;line-height:19px}.nis-container .quality-resolution-button .quality-resolution-button-content .resolution-button-text{font-size:10px;width:100%}.nis-container .sharpen-slider-width{min-width:auto}",""])},function(e,t,n){(e.exports=n(6)()).push([e.id,".rewards-dialog.rewards-external-page-container,.rewards-dialog.rewards-redeem-reward{background-image:none;min-height:497px;max-height:497px;min-width:789px;max-width:789px;position:relative;border-radius:0}.rewards-redeem-reward .rewards-dialog-image-container,.rewards-redeem-reward img{width:320px;height:497px}.rewards-redeem-reward .coupon-redemption-header{height:78px}.rewards-redeem-reward .coupon-redemption-header .md-subheader{margin:36px 24px 24px;font-size:18px;font-weight:300}.rewards-redeem-reward .coupon-redemption-header .md-subheader-inner{padding:0}.rewards-external-page-container .iframe-top-toolbar .close-button,.rewards-redeem-reward .coupon-redemption-header .close-button{position:absolute;left:auto;right:8px;top:8px;min-height:24px;max-height:24px}.rewards-redeem-reward .coupon-redemption-block-error-container{height:367px}.rewards-redeem-reward .coupon-redemption-block-error-container .block-error-base-icon{height:32px;line-height:32px;font-size:32px;width:32px}.rewards-redeem-reward .coupon-redemption-block-error-container nv-overlay{height:16px;width:16px;top:155px;left:235px;opacity:1}.rewards-redeem-reward .coupon-redemption-block-error-container .block-error-overlay-icon{height:16px;line-height:16px;width:16px;font-size:16px;opacity:1}.rewards-redeem-reward .coupon-redemption-block-error-container .block-error-message{margin-top:18px}.rewards-redeem-reward .coupon-redemption-block-error-container a{margin-top:12px}.rewards-redeem-reward .coupon-redemption-error-actions{height:52px}.rewards-external-page-container .iframe-top-toolbar{height:48px}.rewards-external-page-container .iframe-scrollbar-spacer{height:24px}.coupon-validation-container{height:56px;margin-top:30px;margin-bottom:10px}.coupon-validation-container .coupon-code-input,.coupon-validation-container .coupon-code-input:focus{height:36px;width:400px;outline:0;border:none}.coupon-validation-container .coupon-code-input::-webkit-input-placeholder{color:rgba(255,255,255,.3)}.coupon-validation-container .coupon-input-error-message{margin-top:8px;width:400px}.rewards-reward-card{width:376px;height:230px}.reward-card:focus,.rewards-feature-card:focus,.rewards-redeem-reward .redeem-details-container .math-answer-input,.rewards-redeem-reward .redeem-details-container .math-answer-input:focus,.rewards-reward-card:focus{outline:0;border:none}.rewards-reward-card .reward-card{width:360px;height:214px;margin:0 16px 16px 0}.rewards-reward-card .reward-card .reward-card-image-container,.rewards-reward-card .reward-card .reward-card-image-container img{width:100%;height:154px}.rewards-feature-card .reward-card .reward-card-image-container,.rewards-feature-card .reward-card .reward-card-image-container img{width:100%;height:240px}.rewards-reward-card .reward-card .reward-card-image-container .reward-card-overlay .reward-status-icon{font-size:16px;line-height:16px;height:16px;width:16px}.rewards-feature-card .reward-card .reward-card-details-container .reward-date,.rewards-feature-card .reward-card .reward-card-details-container .rewards-details-left-message,.rewards-reward-card .reward-card .reward-card-details-container .reward-date,.rewards-reward-card .reward-card .reward-card-details-container .rewards-details-left-message{margin-top:6px}.rewards-reward-card .reward-card .reward-card-details-container .rewards-details-left-message+.reward-date{margin-left:30px}.rewards-reward-card .reward-card.md-accent.background-on-hover:hover .reward-card-details-container .reward-date,.rewards-reward-card .reward-card.md-accent.background-on-hover:hover .reward-card-title{color:#fff!important}.rewards-feature-card .reward-card .reward-card-details-container .rewards-details-left-message+.reward-date{margin-left:70px}.rewards-reward-card .reward-card .rewards-feature-card{width:532px;height:332px}.rewards-feature-card .reward-card{width:500px;height:300px;margin:16px 0 16px 16px;background-color:#464646}.rewards-feature-card .reward-card md-card-content,.rewards-reward-card .reward-card md-card-content{height:60px}.rewards-reward-card .reward-card .new-item-icon-wrapper{position:absolute;z-index:1;width:0;height:0;border-style:solid;border-width:36px 36px 0 0;border-color:rgba(0,0,0,.85) transparent transparent;text-align:center;line-height:30px}.rewards-reward-card .reward-card .new-item-icon-wrapper md-icon{transform:translate(-1px,-41px)}.rewards-center-items-container .rewards-center-section-title{font-weight:400;margin:24px 24px 8px 0}.rewards-center-items-container .rewards-center-top-toolbar{height:56px}.rewards-center-items-container .rewards-center-top-toolbar .back-button{min-height:24px;margin:16px 12px 16px 36px!important}.rewards-center-items-container .rewards-center-top-toolbar .rewards-center-title{margin:22px 0}.rewards-center-items-container .rewards-center-top-toolbar nv-select-menu{margin-right:36px}.rewards-center-items-container .rewards-center-top-toolbar nv-select-menu .common-green-dot{bottom:9px;right:2px}.rewards-center-items-container .featured-reward-container .reward-tag-image{width:112px;height:187px}.rewards-center-items-container .featured-reward-container .featured-reward-details-container .featured-reward-details-description{margin-top:32px}.rewards-center-items-container .rewards-center-top-banner{min-height:150px;max-height:150px}.rewards-center-items-container .rewards-center-top-banner .reward-tag-image-sm{width:56px;height:94px}.rewards-center-items-container .rewards-center-top-banner .reward-banner-details-container .reward-banner-details-description{width:70%}.rewards-center-items-container .rewards-center-coupon-code-banner{height:132px;max-height:132px;transition:height .3s,max-height .3s}.rewards-center-items-container .section-separator-horizontal,.rewards-center-items-container .section-separator-horizontal-center{height:1px}.rewards-center-items-container .section-separator-vertical{width:1px;height:100%}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-header,.rewards-center-items-container .section-separator-horizontal{width:100%}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-header,.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-header-button{height:35px}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-header-button:hover{background-color:#303030!important;opacity:1}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-header-button:active md-icon,.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-header-button:active p{color:rgba(255,255,255,.45)!important}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content{height:0;margin:0 auto;transition:height .3s}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content .reward-cards-container{height:100%;clip-path:polygon(0 0,100% 0,100% 0,0 0);transition:clip-path .3s}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content .learn-more-bullet{width:4px;height:7px}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content .learn-more-text-container{right:50%;clip-path:polygon(0 0,100% 0,100% 0,0 0);transition:clip-path .3s}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content img{top:132px;height:224px;clip-path:polygon(0 0,100% 0,100% 0,0 0);transition:clip-path .3s}.rewards-center-items-container .rewards-center-coupon-code-banner.expanded-state .learn-more-expandable-content .learn-more-text-container,.rewards-center-items-container .rewards-center-coupon-code-banner.expanded-state .learn-more-expandable-content img{clip-path:polygon(0 0,100% 0,100% 100%,0 100%)}.rewards-center-items-container .rewards-center-coupon-code-banner.expanded-state .learn-more-expandable-content .reward-cards-container{clip-path:polygon(0 0,100% 0,100% 100%,0 100%);transition:clip-path .3s}.rewards-center-items-container .rewards-center-coupon-code-banner md-icon.toggle-icon{height:16px;width:16px;min-height:16px;min-width:16px}.rewards-center-items-container .rewards-center-coupon-code-banner.expanded-state md-icon.toggle-icon{-moz-transform:rotateX(180deg);-o-transform:rotateX(180deg);-ms-transform:rotateX(180deg);-webkit-transform:rotateX(180deg);transform:rotateX(180deg)}.rewards-center-items-container .rewards-center-coupon-code-banner h2,.rewards-center-items-container .rewards-center-coupon-code-banner h2:hover{height:56px;line-height:36px;cursor:default;margin-top:48px;margin-bottom:28px}.rewards-center-items-container .reward-cards-container{margin:0 auto}.rewards-redeem-reward .redeem-details-container{height:366px}.rewards-redeem-reward .redeem-details-container .math-answer-input{height:36px;width:200px}.rewards-redeem-reward .redeem-details-container .math-incorrect-answer-placeholder{height:20px}@media (min-width:1200px){.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content,.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content img,.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-header-button,.rewards-center-items-container.user-profile-disabled .reward-cards-container{width:1128px}.rewards-center-items-container .section-separator-horizontal-center{width:1130px}.rewards-center-items-container .rewards-center-coupon-code-banner.expanded-state{height:356px;max-height:356px}.rewards-center-items-container .rewards-center-coupon-code-banner.expanded-state .learn-more-expandable-content{height:224px}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content .learn-more-text-container{top:180px;margin-right:-500px}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content .learn-more-text-container .learn-more-message{width:450px}}@media (min-width:1528px){.rewards-center-items-container .reward-cards-container{width:1128px}}@media (max-width:1199px){.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content,.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content img,.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-header-button,.rewards-center-items-container.user-profile-disabled .reward-cards-container{width:752px}.rewards-center-items-container .section-separator-horizontal-center{width:754px}.rewards-center-items-container .rewards-center-coupon-code-banner.expanded-state{height:282px;max-height:282px}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content img,.rewards-center-items-container .rewards-center-coupon-code-banner.expanded-state .learn-more-expandable-content{height:150px}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content .learn-more-text-container{top:164px;margin-right:-350px}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content .learn-more-text-container .learn-more-message{width:300px}}@media (max-width:1523px){.rewards-center-items-container .reward-cards-container{width:752px}}.rewards-center-items-container .filtered-list-separator{height:44px}",""])},function(e,t,n){(e.exports=n(6)()).push([e.id,".updates-updates-driver nv-accordion-pane-content,.updates-updates-driver nv-accordion-pane-header-wrapper{min-width:768px}.driver-type-selection-container{width:296px}.driver-type-selection-container md-radio-button:focus{outline:0;border:0}.driver-type-selection-container md-radio-button .md-label{margin-left:39px}.updates-updates-driver .md-button,.updates-updates-driver-item{margin:0}.driver-type-selection-container md-radio-button .md-off,.driver-type-selection-container md-radio-button .md-on{width:24px;height:24px}.driver-type-selection-container md-radio-button .md-container{top:27%;width:24px;height:24px}.driver-type-selection-container md-menu-item{height:100%}.driver-type-selection-container .driver-type-title{opacity:.9!important;color:#fff;line-height:24px}.driver-type-selection-container .driver-type-heading2{opacity:.45!important;color:#fff}.driver-type-selection-container .driver-type-heading1{opacity:.75!important;color:#fff;line-height:20px}.updates-updates-driver-item div{padding-left:16px;padding-right:16px}.updates-updates-driver-item md-icon{font-size:32px;line-height:32px;height:32px}.updates-updates-driver-item h3{margin-bottom:6px;margin-top:0;line-height:normal;text-transform:none;text-align:left;font-weight:400}.updates-updates-driver-item p{margin:0;line-height:normal;color:#9f9f9f;text-transform:none;text-align:left}.updates-updates-driver nv-accordion-pane{margin-bottom:1px}.updates-updates-driver nv-accordion-pane-header{height:80px}.updates-reinstall-driver{min-width:184px}.updates-reinstall-driver .updates-reinstall-driver-icon{margin:auto 16px auto 0!important;width:16px!important;height:16px;line-height:16px;min-height:16px;min-width:16px}.updates-updates-notification-md-menu-content .progress-container p{margin:0;line-height:normal;font-size:10px;color:#9f9f9f}.updates-updates-notification-md-menu-content .progress-container{margin-left:10px;margin-bottom:15px;margin-right:10px;line-height:normal}.updates-updates-notification-md-menu-content .notification-header{margin:10px 0 3px 15px;font-size:9px}.updates-updates-notification-md-menu-content .md-button{margin:0;padding:0;width:100%;height:inherit}.updates-updates-notification-md-menu-content md-list-item.md-2-line button.md-button{padding:0;margin:0}.updates-updates-notification-md-menu-content{padding:0;margin-top:-8px;margin-bottom:-8px;max-height:none}.updates-updates-details .highlight-container{height:406px}.updates-updates-notification-md-menu-content .checkforupdate-container{min-height:49px}.updates-updates-notification-md-menu-content .checkforupdate-container p{text-align:center}.updates-updates-details .highlight-container md-list-item{background-color:rgba(51,51,51,.5);margin-bottom:1px;padding:0;height:80px}.updates-updates-details{margin:24px 16px 10px}.updates-updates-container h4{margin-top:24px;margin-bottom:8px;font-weight:400}.updates-updates-details md-list-item img{margin-right:10px}.updates-updates-container md-list-item.md-2-line .md-list-item-text h3{line-height:normal;margin:0}.updates-updates-details md-list-item.md-2-line .md-list-item-text{padding:0}.updates-updates-container .updates-updates-driver-container{width:100%;max-width:100%;font-size:14px}.updates-updates-container .updates-updates-driver-container .checkforupdate-button{margin-top:14px;margin-bottom:-36px}.updates-updates-details .highlight-container md-list-item img{width:60px;height:60px}.updates-updates-details .highlight-container md-list{padding:0;margin:0}.updates-updates-details .highlight-container md-list-item{margin:10px}.updates-updates-container md-list md-list-item.md-2-line .md-list-item-text p,.updates-updates-container p,md-list md-list-item.md-3-line .md-list-item-text p{color:#9f9f9f}.download-progress md-progress-linear{margin-top:6px}.download-install-controls{margin-right:32px}.rollback-install-controls{min-width:fit-content;margin-right:56px}.updates-updates-driver .download-install-controls .expressInstall{margin-right:10px}.updates-updates-installer-dialog{width:790px;height:442px;background-image:url("+n(735)+")}.updates-updates-installer-dialog md-dialog-content{padding:0;overflow:hidden}.updates-updates-intstallation-progress iframe{width:790px;height:376px;border:0}.updates-updates-intstallation-progress .updates-installlation-progress-fallbackImage{width:790px}.updates-updates-intstallation-progress .progress-status-container{margin:10px 15px 5px}.updates-updates-intstallation-progress p{margin:4px 0 0;line-height:10px}.updates-updates-intstallation-progress h4{margin:0 0 4px}.updates-updates-installer-dialog h4{line-height:17px;font-weight:400;margin-top:0}.updates-updates-installer-dialog .updates-updates-installer-dialog-title{margin-bottom:8px}.updates-installer-dialog-installation-complete md-icon{width:48px;height:48px;line-height:normal;font-size:48px;font-weight:700}.updates-installer-dialog-installation-complete div{margin-top:100px}.updates-installer-dialog-installation-error div{margin-left:20px;margin-right:20px}.updates-installer-dialog-installation-error a{margin-top:14px;margin-left:5px;text-decoration:none;height:12px}.updates-installation-custom-container .package-group-table{margin-left:4px;margin-right:4px;height:234px}.updates-installation-custom-container .package-group-header{height:28px;padding-left:20px;margin:0}.updates-installation-custom-container .md-divider{border-top-width:1px;border-bottom-width:1px;border-top-color:#000;border-bottom-color:#1e1e1e}.updates-installation-custom-container md-checkbox,.updates-installation-custom-container p{line-height:normal;margin:0}.updates-installation-custom-container md-divider+div{margin-left:24px;margin-top:16px}.updates-installation-custom-container .warning-clean-install{margin-left:30px}.updates-updates-installer-dialog .updates-installer-dialog-header{margin:24px}.updates-updates-installer-dialog md-icon{margin:0 4px 0 0}.updates-installer-dialog-header:first-child md-icon+p{margin-top:5px}.updates-installer-dialog-header:first-child p{margin:0}.updates-updates-installation-reboot h4,.updates-updates-installation-reboot p{margin:6px 0 0}.updates-updates-installation-reboot div{margin-top:100px}.updates-game-list{padding-left:20px}.updates-game-list .updates-tile-repeater{min-height:232px;max-height:232px}.updates-highlight-tile{width:360px;height:250px;margin:0 16px 16px 0}@media only screen and (min-width:1196px){.updates-highlight-tile:nth-child(3n+0){margin-right:0}}@media only screen and (max-width:1195px){.updates-highlight-tile:nth-child(2n+0){margin-right:0}}.updates-highlight-tile .image-container>img{width:360px;height:154px;display:block}.updates-highlight-tile .image-container .optimal-settings-icon-overlay{width:24px;height:24px;background-color:transparent;top:16px;left:312px}.updates-highlight-tile md-card,.updates-highlight-tile md-card-content{margin:0}.updates-highlight-tile md-card-content>p:last-child{margin-top:4px;margin-bottom:0}.updates-highlight-tile p{line-height:normal;margin:0}.updates-highlight-tile md-card-content .opsTitle{margin-top:3px}.updates-highlight-tile .common-container-gradient{margin:0 16px}.updates-highlight-tile:hover .color-black-hue-1{background-color:#76b900!important}.updates-highlight-tile:hover .color-white-hue-3,.updates-highlight-tile:hover .color-white-hue-4{color:#fff!important}.updates-highlight-tile:hover .common-container-gradient{opacity:0}.updates-updates-details-overlay{margin:0;height:56px;opacity:.45;top:auto;bottom:-10px;position:absolute;width:100%}.updates-updates-details-overlay p{margin:16px}.updates-highlight-tile md-card-content{height:72px;padding-top:12px;padding-bottom:12px}.updates-server-warn{background:#191919;height:56px;border-top:1px solid rgba(255,255,255,.25)}.updates-server-warn .md-button{padding:0 16px!important;color:#fff!important}.updates-server-warn-text{font-size:14px;font-family:Roboto,sans-serif;letter-spacing:.25px;line-height:20px;opacity:.7;color:#fff}.rollback-progress{display:flex;align-items:center;justify-content:center;height:100%;width:100%}.rollback-progress-row{width:auto;background:#393939;text-align:center;padding:24px 48px}.rollback-progress-item{display:inline-block}.updates-updates-driver{max-width:1196px;margin:auto;padding-left:26px;padding-right:26px}.updates-updates-details-releaseAbstract{margin-bottom:24px;color:rgba(255,255,255,.75);line-height:1.67}.updates-highlight-tile .highlight-tile-overlay .md-button.md-icon-button{width:50px;height:50px}.updates-highlight-tile .highlight-tile-overlay .md-button.md-icon-button md-icon{width:auto;height:auto;font-size:50px;line-height:50px;margin:0}",""])},function(e,t,n){(e.exports=n(6)()).push([e.id,"nv-user-profile .md-dialog-container{padding:0!important}nv-user-profile .help-tooltip{width:320px;margin-left:-20px;pointer-events:auto;cursor:default}nv-user-profile .help-tooltip .tooltip-arrow-up{position:absolute;margin-left:24px;z-index:4;width:0;height:0;border-left:8px solid transparent;border-right:8px solid transparent;border-bottom:8px solid #272727}nv-user-profile .help-tooltip .help-tooltip-container{position:absolute;z-index:3;top:8px;box-shadow:2px 2px 20px #0c0c0c}nv-user-profile .help-tooltip .help-tooltip-container img{width:24px;height:24px}nv-user-profile .help-tooltip .help-tooltip-container .tokens-table .tokens-table-header{margin-bottom:6px;padding-bottom:6px;border-bottom:1px solid rgba(255,255,255,.2)}nv-user-profile .help-tooltip .help-tooltip-container .tokens-table .tokens-level-column span{min-width:60px}nv-user-profile .help-tooltip .help-tooltip-container .tokens-table .tokens-value-column span{padding-left:16px}nv-user-profile .material-icons.md-11{width:11px;height:11px;line-height:11px;font-size:11px}nv-user-profile .material-icons.md-36{width:36px;height:36px;line-height:36px}nv-user-profile .material-icons.md-48{width:48px;height:48px;line-height:48px}.user-profile-container{max-width:2560px;margin:0 auto}.user-profile{position:relative;z-index:1;padding:0 36px}.user-profile .user-profile-content .md-tab.md-active{color:rgba(255,255,255,.9)}.user-profile .user-profile-content md-tabs{background-color:#242424}.user-profile .user-profile-content md-tabs md-tabs-wrapper{background-color:#191919}.user-profile .link-disabled{opacity:.45;pointer-events:none}.user-profile .profile-section-header{margin-bottom:12px;padding-bottom:12px;border-bottom:1px solid rgba(255,255,255,.2)}.level-icon-gradient.icon-ranking-silver{background:-moz-linear-gradient(top,#dce6f0 33.33%,#b8c2ce 58.33%);background:-webkit-linear-gradient(top,#dce6f0 33.33%,#b8c2ce 58.33%);background:-o-linear-gradient(top,#dce6f0 33.33%,#b8c2ce 58.33%);background:-ms-linear-gradient(top,#dce6f0 33.33%,#b8c2ce 58.33%);background:linear-gradient(to bottom,top,#dce6f0 33.33%,#b8c2ce 58.33%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;display:initial}.level-icon-gradient.icon-ranking-gold{background:-moz-linear-gradient(top,#fff5b5 33.33%,#ffc142 58.33%);background:-webkit-linear-gradient(top,#fff5b5 33.33%,#ffc142 58.33%);background:-o-linear-gradient(top,#fff5b5 33.33%,#ffc142 58.33%);background:-ms-linear-gradient(top,#fff5b5 33.33%,#ffc142 58.33%);background:linear-gradient(to bottom,#fff5b5 33.33%,#ffc142 58.33%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;display:initial}.level-icon-gradient.icon-ranking-titanium{background:-moz-linear-gradient(top,#cee6eb 33.33%,#75a7b8 58.33%);background:-webkit-linear-gradient(top,#cee6eb 33.33%,#75a7b8 58.33%);background:-o-linear-gradient(top,#cee6eb 33.33%,#75a7b8 58.33%);background:-ms-linear-gradient(top,#cee6eb 33.33%,#75a7b8 58.33%);background:linear-gradient(to bottom,#cee6eb 33.33%,#75a7b8 58.33%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;display:initial}.sweepstakes-dialog{min-height:498px;max-height:498px;min-width:790px;max-width:790px;border-radius:0}.sweepstakes-dialog .input-error-container{margin-left:78px;line-height:1em}.sweepstakes-dialog .line-height-18{line-height:18px}.sweepstakes-dialog .line-height-26{line-height:26px}.sweepstakes-dialog .md-32{width:32px;height:32px;line-height:32px}.sweepstakes-dialog .md-48{width:48px;height:48px;line-height:48px;font-size:48px}.sweepstakes-dialog .md-62{width:62px;height:62px;line-height:62px;font-size:62px}.sweepstakes-dialog .md-button.md-fab-24{padding:0!important;width:24px!important;min-width:24px!important;height:24px!important;min-height:24px!important;line-height:24px!important;border-radius:50%!important}.sweepstakes-dialog .width-100{width:100%}.sweepstakes-dialog .message-banner-container{margin-top:20px;height:40px}.sweepstakes-dialog .message-banner-container .message-banner{position:absolute;left:0;width:100%;height:40px;line-height:40px;background-color:#303030;padding-left:24px;padding-right:24px}.sweepstakes-dialog .message-banner-container .message-banner span{line-height:normal;color:rgba(255,255,255,.45)}.sweepstakes-dialog .animate-show-hide.ng-hide{opacity:0}.sweepstakes-dialog .animate-show-hide.ng-hide-add,.sweepstakes-dialog .animate-show-hide.ng-hide-remove{transition:all ease-in-out .2s}.sweepstakes-dialog .md-icon-button.close-button{position:absolute;top:12px;right:12px;z-index:3}.sweepstakes-dialog .giveaway-subview{position:relative;padding:24px 8px 12px 24px}.sweepstakes-dialog .giveaway-subview .giveaway-subview-header{min-height:24px;margin-bottom:24px}.sweepstakes-dialog .giveaway-subview .giveaway-subview-header .md-button{min-height:24px}.sweepstakes-dialog .giveaway-subview .giveaway-subview-content{padding-right:32px}.sweepstakes-dialog .giveaway-subview .giveaway-subview-content-overlay{height:48px;margin:0 24px 12px;background:linear-gradient(transparent,rgba(25,25,25,.9))}.sweepstakes-dialog .giveaway-rules-container p{margin:0}.sweepstakes-dialog .giveaway-rules-container .header{margin:12px 0}.sweepstakes-dialog .message-overlay{position:absolute;opacity:1;z-index:2;background:rgba(0,0,0,.85)}.sweepstakes-dialog .giveaway-details-container .giveaway-info-section{max-height:180px}.sweepstakes-dialog .giveaway-details-container .giveaway-details-description{margin-bottom:24px;margin-top:22px}.sweepstakes-dialog .giveaway-details-container .giveaway-tokens-section{padding:24px 0;border-top:1px solid #5e5e5e;border-bottom:1px solid #5e5e5e}.sweepstakes-dialog .giveaway-details-container .giveaway-box-art{width:352px}.sweepstakes-dialog .giveaway-details-container .giveaway-box-art img{width:100%;height:auto}.sweepstakes-dialog .giveaway-details-container .giveaway-form input[type=number]::-webkit-inner-spin-button,.sweepstakes-dialog .giveaway-details-container .giveaway-form input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.sweepstakes-dialog .giveaway-details-container .giveaway-form .tokens-input-container{width:48px}.sweepstakes-dialog .giveaway-details-container .giveaway-form .tokens-input-container input{font-size:14px!important;color:rgba(255,255,255,.45)}.mission-details-dialog{width:790px;height:501px;border-radius:0}.mission-details-dialog .close-button{position:absolute;top:12px;right:12px;z-index:2}.mission-details-dialog .slideshow-container{height:444px;width:790px;z-index:1}.mission-details-dialog .gradient-overlay{z-index:1}.mission-details-dialog .gradient-overlay .left{top:0;left:0;width:80px;height:444px;background-image:url("+n(728)+");background-repeat:repeat-y}.mission-details-dialog .gradient-overlay .right{top:0;right:0;width:80px;height:444px;background-image:url("+n(729)+");background-repeat:repeat-y}.mission-details-dialog .gradient-overlay .top{top:0;left:0;width:100%;height:36px;background-image:url("+n(730)+");background-repeat:repeat-x}.mission-details-dialog .details-container{bottom:0;z-index:2;width:100%}.mission-details-dialog .details-container .toggle-button{position:absolute;top:-12px;left:50%;transform:translateX(-50%);width:36px;background-color:#191919!important}.mission-details-dialog .details-container .title-container{height:176px;padding-left:24px;padding-right:34px;padding-bottom:12px;background-image:url("+n(727)+");background-repeat:repeat-x}.mission-details-dialog .details-container .collapsable-container{padding:20px 34px 12px 24px;background-color:#191919}.mission-details-dialog .details-container .collapsable-container .collapse-icon{transform:rotate(0)}.mission-details-dialog .details-container .collapsable-container .collapse-icon.rotate{transform:rotate(-180deg)}.mission-details-dialog .details-container .collapsable-container .subtitle{margin-bottom:8px}.mission-details-dialog .details-container .collapsable-container .content{overflow:hidden;-webkit-transition:max-height .4s;-moz-transition:max-height .4s;-ms-transition:max-height .4s;-o-transition:max-height .4s;transition:max-height .4s;max-height:501px}.mission-details-dialog .details-container .collapsable-container .content.collapsed{max-height:0}.featured-reward{min-height:440px}.featured-reward .title-container{height:38px;margin:10px 0}.featured-reward .artwork-container{height:185px;margin-bottom:20px}.featured-reward .artwork-container .drawdate-overlay{position:absolute;background:rgba(0,0,0,.75);z-index:2;padding:16px}.user-profile-cover-container{position:absolute;overflow:hidden;z-index:0;padding-bottom:31.25%;width:100%}.user-profile-cover-container .cover-gradient{position:absolute;z-index:3;background:-moz-linear-gradient(top,transparent 96px,#141414 95%);background:-webkit-linear-gradient(top,transparent 96px,#141414 95%);background:linear-gradient(to bottom,transparent 96px,#141414 95%)}.user-profile-cover-container .cover-dark-overlay{background:rgba(0,0,0,.4);z-index:2}.user-profile-cover-container img{position:absolute;top:0;left:0;width:100%;object-fit:cover;z-index:1}.croppie-dialog{max-width:705px;min-width:408px;overflow-x:hidden;border-radius:0}.croppie-dialog .md-32{width:32px;height:32px;line-height:32px}.croppie-dialog .title{font-size:20px;margin:24px 0 0 24px}.croppie-dialog .subtitle{margin:8px 0 0 24px}.croppie-dialog .gallery-tile-container{max-height:134px}.croppie-dialog .gallery-tile{float:left;padding:0 8px 8px 0}.croppie-dialog .gallery-tile img{width:208px}.croppie-dialog .cover-image-preview p{width:60%;text-align:center}.croppie-dialog.edit-profile-cover-container{max-height:620px}.croppie-dialog.edit-profile-cover-container .cover-image-preview{overflow:hidden;min-height:248px;max-height:248px}.croppie-dialog.edit-rig-image-container{max-height:615px}.croppie-dialog.edit-rig-image-container .cover-image-preview{overflow:hidden;min-height:448px;max-height:448px}.user-profile-bio-container{margin-top:-72px;z-index:2;padding-bottom:31.25%;width:100%}.user-profile-bio-container .user-profile-bio{top:0;left:0;right:0;bottom:0}.user-profile-bio-container .cover-edit-button{top:96px;z-index:2}.user-profile-bio-container .more-options{top:96px;z-index:2;right:20px}.user-profile-bio-container .user-profile-avatar-container{position:relative;width:312px;height:200px;margin-right:24px;top:48px}.user-profile-bio-container .user-profile-avatar-container .avatar-edit-button{right:0;top:0;z-index:2}.user-profile-bio-container .user-profile-avatar-container .profile-avatar-overlay{position:absolute;padding:6px 12px}.user-profile-bio-container .user-profile-avatar-container .md-avatar{height:200px;width:200px;border-radius:50%;box-shadow:2px 2px 6px rgba(25,25,25,.75)}.user-profile-bio-container .user-profile-details{max-width:70%}.user-profile-bio-container .user-profile-details .desc-edit-button{right:0;z-index:2}.edit-user-description-container{width:500px}.edit-user-description-container .buttons-container,.edit-user-description-container .description-input-container{width:100%}.user-profile-widgets-container{width:312px;margin-right:24px}.user-profile-widgets-container .profile-status-placeholder{margin-top:80px}.user-profile-widget{width:100%;margin-bottom:12px;background-color:#242424}.user-profile-widget .user-profile-widget-title{padding-bottom:10px;border-bottom:1px solid rgba(255,255,255,.2)}.user-profile-widget .winners-widget{margin:12px 24px}.user-profile-status{padding-top:62px}.user-profile-status .margin-top-7{margin-top:7px}.user-profile-status .margin-right-10{margin-right:10px}.user-profile-status .level-badge{right:64px;top:4px;z-index:2;width:56px}.user-profile-status .level-badge .icon-level-bg{z-index:1;top:0;color:#000;transform:scale(1.11)}.user-profile-status .level-badge .nv-custom-icons.level-icon-gradient{z-index:2}.user-profile-status .xp-container{max-width:160px}.user-profile-status .xp-container .current-xp{color:rgba(255,255,255,.75)}.user-profile-status .xp-container .xp-progress{width:120px;margin:5px 0!important}.user-profile-status .xp-container .xp-progress .md-container.md-mode-determinate{background-color:rgba(255,255,255,.3);height:5px}.user-profile-status .tokens-container{max-width:80px}.user-profile-status .empty-state{min-height:106px}.user-profile-giveaway p{margin:0}.user-profile-games-summary{margin-bottom:16px;padding:16px}.user-profile-games-summary .games-summary-item{margin-top:16px;margin-bottom:16px}.user-profile-games-summary .games-summary-item.first{margin-top:0!important}.user-profile-games-summary .games-summary-item.last{margin-bottom:0!important}.user-profile-games-summary .games-summary-value{font-size:24px;color:#76b900!important;margin-right:8px}.user-missions{min-height:600px}.user-missions .profile-section-header .countdown{color:rgba(255,255,255,.8)}.user-missions .mission-tile{background-color:#1a1a1a}.user-missions .mission-tile .mission-title{margin-bottom:8px;padding-bottom:8px;border-bottom:1px solid #4d4d4d}.user-missions .mission-tile .artwork-container{width:116px;height:164px}.user-missions .mission-tile .details-container{padding-top:24px;padding-left:16px;padding-bottom:16px}.user-missions .mission-tile .mission-progress-container{padding:18px 20px}.user-missions .mission-tile-margin{margin-bottom:16px}.user-missions .mission-tile-margin:last-child{margin-bottom:0!important}.mission-progress-container .md-30{width:30px;height:30px;font-size:30px;line-height:30px}.mission-progress-container .title{color:rgba(255,255,255,.6)}.mission-progress-container .progress-capsule{width:54px;text-align:center;border:1px solid;border-radius:10px;color:rgba(255,255,255,.45)}.mission-progress-container.completed .nv-custom-icons,.mission-progress-container.completed .title{color:#76b900!important}.mission-progress-container.completed .progress-capsule{color:#76b900;border-color:#76b900}.mission-progress-container .mission-value-container{margin-bottom:6px}.activity-log-empty-state-separator{border-top:1px solid rgba(255,255,255,.2)}.activity-log-empty-state{height:360px}.activity-log-container .activity-log-group{margin-top:30px}.activity-log-container .activity-log-group:first-child{margin-top:6px}.activity-log-container .activity-log{margin-bottom:24px;background-color:#1a1a1a}.activity-log-container .activity-log .activity-log-thumbnail{width:160px;height:90px}.activity-log-container .activity-log .activity-log-details{margin:12px;height:66px}.activity-log-container .activity-log .nv-custom-icons{margin-left:6px}.activity-log-container .activity-log em{color:#fff;font-style:normal;font-weight:700}.activity-log-container .activity-log:last-child{margin-bottom:0}.user-gallery-container{min-height:200px}.user-gallery-container .gallery-carousel{width:100%}.user-gallery-tile{margin:0 12px 0 0}.user-gallery-tile .gallery-video-div{position:relative;width:240px;height:135px}.user-gallery-tile .gallery-video-div-mta{filter:grayscale(100%)}.user-gallery-tile .gallery-text-mta{color:#919191!important}.user-gallery-tile .gallery-text-footer-mta{color:#919191}.user-gallery-tile .gallery-video-duration{box-sizing:border-box;position:absolute;display:block;bottom:0;right:0;padding:0 4px;font-size:10px;margin:0;color:#fff;background-color:#000}.user-gallery-tile .gallery-video-overlay-play-button{box-sizing:border-box;position:absolute;top:0;left:0;height:100%;width:100%;display:flex;align-items:center;justify-content:center}.user-gallery-tile .gallery-video-overlay-play-button-icon{width:33px;height:33px;font-size:33px;margin:0;opacity:.95}.user-gallery-tile .gallery-card-footer{color:#fff;font-size:12px;margin:0;padding:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}nv-user-gallery-details{height:100%;width:100%}.user-gallery-details-controller .gallery-detail-image,.user-gallery-details-controller .gallery-detail-video{object-fit:contain;width:100%;height:100%}.user-rig-info-container .user-rig-image-container img{width:100%;max-width:800px}.user-rig-info-container .user-rig-info-list .user-rig-info-item{padding:12px;min-width:100px;max-width:200px;text-align:center}nv-user-achievements .achievements-container{min-height:16px}nv-user-achievements .achievements-loading-container{min-height:24px}nv-user-achievements .achievements-loading-container .loading-icon{height:12px;width:12px;border-radius:50%;background-color:rgba(255,255,255,.2)}.cevo-icons{font-family:Nvidia;width:auto!important}.edit-badges-dialog{width:720px;height:640px;background-color:#2e2e2e;border-radius:0}.edit-badges-dialog .edit-badges-container{padding:24px 24px 0}.edit-badges-dialog .width-100{width:100%}.edit-badges-dialog .md-56{width:56px;height:56px;line-height:56px;font-size:56px}.edit-badges-dialog .checkbox-16{width:16px;height:16px;min-width:16px;min-height:16px}.edit-badges-dialog .checkbox-16 .md-container{width:16px;height:16px}.edit-badges-dialog .checkbox-16 .md-icon{width:16px;height:16px;line-height:16px}.edit-badges-dialog .showcase-section{min-height:144px}.edit-badges-dialog .badge-tile-container{background-color:#212121}.edit-badges-dialog .badge-tile-container .action-elements-container{left:0;top:0;z-index:2}.edit-badges-dialog .showcase-badge-tile{width:120px;height:144px;margin-right:16px}.edit-badges-dialog .showcase-badge-tile .action-elements-container{top:4px;left:4px}.edit-badges-dialog .showcase-badge-tile .title-toggle-button{width:24px;height:24px;min-height:24px}.edit-badges-dialog .showcase-badge-tile .tile-content{padding:24px 10px 10px;background-color:#212121}.edit-badges-dialog .showcase-badge-tile:last-child{margin-right:0!important}.edit-badges-dialog .showcase-badge-tile.dragging .tile-content{background-color:#76b900}.edit-badges-dialog .showcase-badge-tile.dragging .badge-icon-container{background-color:transparent}.edit-badges-dialog .showcase-badge-tile.dropping .tile-content{box-shadow:inset 0 0 0 2px #76b900}.edit-badges-dialog .badge-tile{width:322px;height:114px;margin-right:16px;margin-top:16px}.edit-badges-dialog .badge-tile .tile-content{padding-left:16px}.edit-badges-dialog .badge-tile .badge-icon-container{min-width:80px;max-width:80px}.edit-badges-dialog .badge-tile .action-elements-container{top:8px;left:8px}.edit-badges-dialog .badge-tile:nth-child(2n){margin-right:0!important}.edit-badges-dialog .badge-tile:nth-child(-n+2){margin-top:0!important}.levels-dialog{width:827px;max-width:827px;max-height:606px;border-radius:0;background-color:#252525}.levels-dialog .font-size-18{font-size:18px}.levels-dialog .md-8{width:8px;height:8px;min-width:8px;min-height:8px;line-height:20px}.levels-dialog .md-42{width:42px;height:42px;line-height:42px;font-size:42px}.levels-dialog .md-64{width:64px;height:64px;line-height:64px;font-size:64px}.levels-dialog .margin-right-15{margin-right:15px}.levels-dialog .margin-top-6{margin-top:6px}.levels-dialog .margin-top-18{margin-top:18px}.levels-dialog .margin-top-20{margin-top:20px}.levels-dialog .line-height-20{line-height:20px}.levels-dialog .width-200{width:200px}.levels-dialog .close-button{right:16px;top:16px;z-index:2}.levels-dialog .profile-status{min-height:160px;background-color:#343434}.levels-dialog .profile-status .polygon-clip{width:260px;background-color:#1a1a1a;-webkit-clip-path:polygon(0 0,100% 0,70% 100%,0 100%);clip-path:polygon(0 0,100% 0,70% 100%,0 100%)}.levels-dialog .profile-status .progress-bar-container{margin-right:80px}.levels-dialog .profile-status .level-badge-container{width:182px}.levels-dialog .profile-status .xp-progress-container{min-width:198px}.levels-dialog .profile-status .xp-progress{width:198px;margin-top:10px;height:7px}.levels-dialog .profile-status .xp-progress .md-container{background-color:#252525;height:7px}.levels-dialog .profile-status .xp-progress .md-container .md-bar{height:7px}.levels-dialog .nv-level-details{margin-right:35px}.levels-dialog .nv-level-details:last-child{margin-right:0}.levels-dialog .nv-level-details .perk-item{margin-left:33px}",""])},function(e,t,n){e.exports=n.p+"defaultRig.jpg"},function(e,t,n){e.exports=n.p+"gold.svg"},function(e,t,n){e.exports=n.p+"gray.svg"},function(e,t,n){e.exports=n.p+"DefaultGameArt.png"},,,function(e,t,n){e.exports=n.p+"nvidia-gf-experience-logo.svg"},function(e,t,n){e.exports=n.p+"lineBeak.png"},function(e,t,n){e.exports=n.p+"GDPR_login_bkgrnd.png"},function(e,t,n){e.exports=n.p+"login_left_background.png"},,function(e,t,n){e.exports=n.p+"overlay_bg.png"},,,,,,,,function(e,t,n){e.exports=n.p+"color_selector.png"},function(e,t,n){e.exports=n.p+"wechat.png"},function(e,t,n){e.exports=n.p+"wm-off.svg"},function(e,t,n){e.exports=n.p+"wm-on.svg"},function(e,t,n){e.exports=n.p+"bg-gradient-bottom.png"},function(e,t,n){e.exports=n.p+"bg-gradient-left.png"},function(e,t,n){e.exports=n.p+"bg-gradient-right.png"},function(e,t,n){e.exports=n.p+"bg-gradient-top.png"},function(e,t,n){e.exports=n.p+"bullet_green_arrow.png"},function(e,t,n){e.exports=n.p+"coupons_expandable_banner.png"},function(e,t,n){e.exports=n.p+"redeem_reward_default.png"},function(e,t,n){e.exports=n.p+"default_banner.png"},function(e,t,n){e.exports=n.p+"installer-dialog-background.png"},function(e,t,n){e.exports=n.p+"installer_banner.png"},function(e,t,n){e.exports=n.p+"gfn-background.jpg"},,function(e,t){e.exports=' <div ng-if=ctaCtrl.nvCtaData layout=column layout-align="start center" class=nv-cta> <md-button class="md-accent md-raised color-white-important margin-zero" ng-disabled=ctaCtrl.isDisabled ng-click=ctaCtrl.onClick() translate="{{ ctaCtrl.nvCtaData.text }}" aria-label=ctaCtrl-buttton></md-button> <div ng-if=ctaCtrl.nvCtaData.startStampAdjusted ng-switch=ctaCtrl.ctaCountdownState class="cta-countdown font-size-sm color-white-hue-4 font-uppercase"> <nv-countdown-timer ng-switch-when=pending nv-translate=l10n.ctaStartCountdown nv-end-timestamp="{{ ctaCtrl.nvCtaData.startStampAdjusted }}" nv-format=shortTime nv-callback=ctaCtrl.updateCtaState(state)></nv-countdown-timer> <nv-countdown-timer ng-switch-when=active nv-translate=l10n.ctaEndCountdown nv-end-timestamp="{{ ctaCtrl.nvCtaData.endStampAdjusted }}" nv-format=shortTime nv-callback=ctaCtrl.updateCtaState(state)></nv-countdown-timer> <span ng-switch-when=expired translate=l10n.ctaEnded></span> </div> </div> '},function(e,t){e.exports="<div class=common-carousel-indicator-dimensions> </div> "},function(e,t){e.exports=' <span ng-repeat="slide in ::carouselIndicators.slides" ng-click=carouselIndicators.setIndex($index) tabindex=-1 aria-label="\'carousel-indicators-index-\' + $index"> <nv-carousel-indicator nv-is-selected=carouselIndicators.isSelected($index) class="common-carousel-indicator common-carousel-indicator-dimensions" aria-label="\'carousel-selected-index-\' + $index"></nv-carousel-indicator> </span> '},function(e,t){e.exports=' <div class=common-carousel flex layout=column> <div ng-if=!carousel.isBanner flex layout=column> <ul rn-carousel rn-carousel-buffered rn-carousel-index=carousel.selectedIndex rn-swipe-disabled=true layout-fill flex> <li ng-repeat="image in carousel.slides"> <nv-image-annotation nv-image-src={{::image.image}} nv-image-alt={{::image.image}} nv-annotation=image.annotation layout-fill class=common-container-overflow></nv-image-annotation> </li> </ul> <nv-overlay class="common-overlay no-background mouse-event-passthrough" nv-position=bottom ng-style=carousel.centerIndicators() ng-if=carousel.isIndicatorsVisible()> <nv-carousel-indicators nv-slides=carousel.slides nv-selected-index=carousel.selectedIndex class="rn-carousel-indicator custom-indicator common-carousel-indicators" layout=row layout-align="center end" flex></nv-carousel-indicators> </nv-overlay> </div> <div ng-if=carousel.isBanner class=banner-carousel rn-carousel-controls-allow-loop> <ul rn-carousel rn-carousel-index=carousel.selectedIndex rn-carousel-auto-slide rn-carousel-transition=zoom layout-fill> <li ng-repeat="image in carousel.slides"> <img ng-src={{image.image}} alt={{image.name}} layout-fill nv-image-fallback ng-class="{pointerCursor: carousel.isArticleAvailable(image)}" ng-click=carousel.previewMedia($event,image) /> <nv-overlay layout-fill class="common-overlay no-background" ng-if=carousel.isVideoAvailable(image)> <div layout=column layout-align="center center" flex> <md-button class=md-icon-button ng-click=carousel.previewMedia($event,image) aria-label=carousel-media-buttton> <md-icon md-font-set=material-icons class="md-18 color-white-hue-1" aria-label=outlinePlayCircleIcon aria-hidden=true>play_circle_outline</md-icon> </md-button> </div> </nv-overlay> </li> </ul> <nv-overlay class="common-overlay no-background" nv-position=bottom ng-if=carousel.isIndicatorsVisible()> <nv-carousel-indicators nv-slides=carousel.slides nv-selected-index=carousel.selectedIndex class="rn-carousel-indicator custom-indicator common-carousel-indicators" layout=row layout-align="center end" flex></nv-carousel-indicators> </nv-overlay> </div> </div> '},function(e,t){e.exports='<ng-form name=nvCtrl> <div class=nv-custom-date-ctrl> <h1 class=md-title>{{titleString}}</h1> <div layout=row> <nv-date-field> <md-input-container layout-fill md-no-float> </md-input-container> </nv-date-field> <nv-date-field> <md-input-container layout-fill md-no-float> </md-input-container> </nv-date-field> <nv-date-field> <md-input-container layout-fill md-no-float> </md-input-container> </nv-date-field> </div> <div class="error-message font-size-xxs" ng-messages=errors ng-if="((nvCtrl.year.$touched && !focus) || ((nvCtrl.day.$touched && !focus) && (!nvCtrl.month.$touched && !focus)))"> <div ng-message=pattern> <div translate=l10n.invalidYear></div> </div> <div ng-message="required, min, max, invalid"> <div translate=l10n.invalidDate></div> </div> </div> </div> </ng-form> '},function(e,t){e.exports='<ng-form autocomplete=off flex layout-align="start start" layout=column name=editEmailCtrl.emailForm novalidate> <p class="md-primary md-hue-2 foreground" translate=l10n.enterYourInformation></p> <md-input-container layout-fill ng-if=!editEmailCtrl.nvDialogModel.is2FactorAuthentication> <label translate=l10n.currentPassword></label> <input nv-input name=password ng-model=editEmailCtrl.password ng-change=editEmailCtrl.passwordChanged() ng-required=!editEmailCtrl.nvDialogModel.is2FactorAuthentication tabindex=1 type=password md-no-asterisk/> <div class=error-message ng-messages=editEmailCtrl.emailForm.password.$error ng-show=editEmailCtrl.emailForm.password.$touched md-auto-hide=false> <div ng-message=required> <div translate=l10n.required></div> </div> <div ng-message=invalidPassword> <div translate=l10n.incorrectPassword></div> </div> </div> </md-input-container> <md-input-container layout-fill> <label translate=l10n.newEmailAddress></label> <input nv-input name=email ng-model=editEmailCtrl.email ng-change=editEmailCtrl.emailChanged() required tabindex=2 type=email md-no-asterisk/> <div class=error-message ng-messages=editEmailCtrl.emailForm.email.$error ng-show=editEmailCtrl.emailForm.email.$touched md-auto-hide=false> <div ng-message=email> <div translate=l10n.invalidEmail></div> </div> <div ng-message=required> <div translate=l10n.required></div> </div> <div ng-message=notAvailable> <div translate=l10n.emailAddressInUse></div> </div> </div> </md-input-container> <md-input-container layout-fill> <label translate=l10n.reEnterEmailAddress></label> <input nv-input name=reEnterEmail ng-model=editEmailCtrl.reEnterEmail required nv-fields-match={{editEmailCtrl.emailForm.email.$viewValue}} test=editEmailCtrl.email tabindex=3 type=email md-no-asterisk/> <div class=error-message ng-messages=editEmailCtrl.emailForm.reEnterEmail.$error ng-show=editEmailCtrl.emailForm.reEnterEmail.$touched md-auto-hide=false> <div ng-message=email> <div translate=l10n.invalidEmail></div> </div> <div ng-message=required> <div translate=l10n.required></div> </div> <div ng-message=fieldsMatch> <div translate=l10n.emailAddressesDoNotMatch></div> </div> </div> </md-input-container> </ng-form> '},function(e,t){e.exports=' <div class=dialog-email-verification ng-if=!emailVerificationCtrl.nvDialogModel.isAuthentication> <div class=dialog-email-verification-email flex layout layout-align="center center"> <span>{{emailVerificationCtrl.nvDialogModel.translateValues.email}}</span> <md-button ng-if=emailVerificationCtrl.nvDialogModel.hasPassword class=md-icon-button ng-click=emailVerificationCtrl.nvDialogModel.editMailAddress() aria-label=edit-mail-address-buttton> <md-icon md-font-set=material-icons class=md-18 aria-label="edit password" aria-hidden=true>edit</md-icon> </md-button> </div> <p class="md-primary md-hue-2 foreground" translate-values={{emailVerificationCtrl.nvDialogModel.translateValues}} translate=l10n.verficationEmailHasBeenSent></p> <p class="md-primary md-hue-2 foreground" translate=l10n.clickContinueAfter></p> </div> <div ng-if=emailVerificationCtrl.nvDialogModel.isAuthentication> <p class="md-primary md-hue-2 foreground" translate-values={{emailVerificationCtrl.nvDialogModel.translateValues}} translate=l10n.verficationEmailHasBeenSent></p> <p class="md-primary md-hue-2 foreground" translate=l10n.clickContinueAfter></p> </div> '},function(e,t){e.exports='<div class="md-primary md-hue-2 foreground" ng-bind-html=dialogHtmlCtrl.nvDialogModel.html></div> '},function(e,t){e.exports=' <div class=dialog-message layout-align="start start" layout=column> <div layout=row> <md-icon material-icons class="md-32 font-size-32 margin-top-zero" color-white-hue-4 aria-label=dialogMessage aria-hidden=true>error</md-icon> <div layout=column class=margin-left-20> <span class="md-primary foreground" color-white-hue-4 translate=l10n.somethingWrong></span> <span class="md-primary foreground" color-white-hue-4 translate={{dialogMessageCtrl.nvDialogModel.text}}></span> <div layout=row class=margin-top-20> <span class="md-primary foreground" color-white-hue-4 translate=l10n.errorCode></span> <span>&nbsp;</span> <span class="md-primary foreground" color-white-hue-4>{{dialogMessageCtrl.nvDialogModel.errorCode}}</span> </div> </div> </div> </div> '},function(e,t){e.exports='<p class="md-primary md-hue-2 foreground" translate={{dialogTextCtrl.nvDialogModel.text}} translate-values={{dialogTextCtrl.nvDialogModel.translateValues}}></p> '},function(e,t){e.exports=' <div class="bg-grey-im-hue-3 md-right-section constants-z-layers-modal-minus-one" layout=row ng-class="feedbackFloatCtrl.viewState.feedbackFloatShowState ? \'feedbackfloat-animate\' : \'\'" ng-if=feedbackFloatCtrl.showFeedbackButton()> <div ng-mouseleave=feedbackFloatCtrl.onMouseLeave() ng-mouseenter=feedbackFloatCtrl.onMouseEnter() aria-label=feedback-float-buttton> <md-button class="md-icon-button feedback-button" ng-click=feedbackFloatCtrl.onOpenFeedbackDialog() aria-label=openFeedbackDialog> <md-icon class="md-16 feedback-icon" md-font-set=material-icons aria-label=message aria-hidden=true>message</md-icon> </md-button> <a ng-click=feedbackFloatCtrl.onOpenFeedbackDialog() class="feedbackfloat-state3-margin md-default-theme font-size-sm md-accent foreground feedback-link" ng-show=feedbackFloatCtrl.showFloatStateOpen()>{{\'l10n.sendfeedback\' | translate | uppercase}}</a> </div> <md-button class="md-icon-button feedback-button" ng-click=feedbackFloatCtrl.disableFeedbackFloat() ng-show=feedbackFloatCtrl.viewState.feedbackFloatOverlayEnabled aria-label=disableFeedbackFloat aria-label=feedback-close-dialog-buttton> <md-icon class="md-16 feedback-icon color-white-hue-5" md-font-set=material-icons aria-label=close aria-hidden=true>close</md-icon> </md-button> </div> '},,,,,function(e,t){e.exports="<div layout=row layout-fill> <img class=nv-annotation-image ng-src={{::nvImageSrc}} alt={{::nvImageAlt}} nv-image-fallback/> </div> "},function(e,t,n){e.exports='<div layout=row layout-align="center center" class=constants-position-relative layout-fill flex> <img src='+n(38)+' class=common-image-fallback /> <nv-overlay class="common-overlay constants-z-layers-zero" layout-fill> <span layout-fill layout-align="center center" layout=column> <md-progress-circular id=progressIndicator class=md-accent md-diameter=15 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> </div> '},function(e,t){e.exports="<input class=ng-hide id=input-file-id type=file accept=image/* /> <label for=input-file-id class=margin-zero> <ng-transclude></ng-transclude> </label> "},function(e,t){e.exports=" <md-dialog flex class=common-media-dialog-service-media-dialog> <img ng-if=mediaDialog.model.image() ng-src={{mediaDialog.model.image()}} alt={{galleryImagePreview.image}} ng-mouseenter=mediaDialog.setShowOverlay(true) /> <nv-overlay class=\"common-overlay no-background\" ng-if=mediaDialog.model.image() ng-show=mediaDialog.showOverlay ng-mouseleave=mediaDialog.setShowOverlay(false)> <div layout=column layout-fill> <md-toolbar> <div class=md-toolbar-tools> <span flex></span> <div ng-if=mediaDialog.model.toolbarHtml() nv-bind-html-compile={{mediaDialog.model.toolbarHtml()}}></div> <md-button class=md-icon-button ng-click=mediaDialog.close() aria-label=media-dialog-close-buttton> <md-icon class=material-icons aria-label=close aria-hidden=true>close</md-icon> <md-tooltip> {{'l10n.close' | translate }} </md-tooltip> </md-button> </div> </md-toolbar> </div> </nv-overlay> <nv-video nv-default-video-control={{mediaDialog.model.video().defaultVideoControl}} ng-if=mediaDialog.model.video() nv-src={{mediaDialog.model.video().source}} nv-video-loaded=mediaDialog.setVideoLoaded(value) nv-video-close=mediaDialog.close() nv-video-type={{mediaDialog.model.video().type}}> <md-toolbar> <div class=md-toolbar-tools> <div ng-if=mediaDialog.model.toolbarHtml() nv-bind-html-compile={{mediaDialog.model.toolbarHtml()}}></div> <md-button class=md-icon-button ng-click=mediaDialog.close() aria-label=close-iframe-video-buttton> <md-icon class=material-icons aria-label=close aria-hidden=true>close</md-icon> <md-tooltip> {{'l10n.close' | translate }} </md-tooltip> </md-button> </div> </md-toolbar> </nv-video> </md-dialog> "},function(e,t){e.exports=' <div class=constants-position-relative ng-click=mediaTile.previewMedia($event) layout-fill> <img ng-src={{mediaTile.mediaItem.thumbnail}} alt={{mediaTile.mediaItem.alt}} nv-image-fallback=nv-no-loading-indicator /> <nv-overlay layout-fill class=common-overlay ng-if=mediaTile.isVideo()> <div layout=column layout-align="center center" flex> <md-button class="md-icon-button video-play-btn" aria-label=play-iframe-video-buttton> <md-tooltip> {{\'l10n.play\' | translate}} </md-tooltip> <md-icon md-font-set=material-icons class=material-icons aria-label=playCircleOutline aria-hidden=true>play_circle_outline</md-icon> </md-button> </div> </nv-overlay> </div> '},function(e,t){e.exports=' <div class=navigational-dialog-container layout=row layout-align="center center"> <md-button ng-if=dialogCtrl.showButtons class="md-icon-button dialog-button margin-8" ng-click=dialogCtrl.backward() aria-label=keyboard-left-arrow-buttton> <md-icon md-font-set=material-icons class=md-48 aria-hidden=true aria-label=arrowLeft>keyboard_arrow_left</md-icon> </md-button> <md-dialog class=navigational-dialog ng-class=dialogCtrl.model.class()> <md-button class="md-icon-button navigational-dialog-close-button" ng-click=dialogCtrl.close() aria-label=hide-navigational-dialog-buttton> <md-icon md-font-set=material-icons class=md-24 aria-label=close aria-hidden=true>close</md-icon> </md-button> <md-dialog-content layout=column layout-fill flex class=constants-position-relative nv-bind-html-compile={{dialogCtrl.model.html()}}> </md-dialog-content> </md-dialog> <md-button ng-if=dialogCtrl.showButtons class="md-icon-button dialog-button margin-8" ng-click=dialogCtrl.forward() aria-label=keyboard-right-arrow-button> <md-icon md-font-set=material-icons class=md-48 aria-label=rightArrow aria-hidden=true>keyboard_arrow_right</md-icon> </md-button> </div> '},function(e,t){e.exports=' <md-list-item class="md-3-line bg-dark-hv" layout=row layout-align="start start"> <img ng-src={{$ctrl.nvNews.img}} alt={{$ctrl.nvNews.title}} /> <div class=md-list-item-text> <a href=# nv-ellipsis-lines=2>{{$ctrl.nvNews.title}}</a> <p nv-ellipsis-lines=2>{{$ctrl.nvNews.text}}</p> <a href=# class="hyperlink-no-decorate md-accent foreground">{{\'l10n.readMore\' | translate}}</a> </div> </md-list-item> '},function(e,t){e.exports='<md-content> <md-list> <nv-news-item ng-repeat="newsItem in news.newsList" nv-news=newsItem class=common-news-item></nv-news-item> </md-list> </md-content> '},function(e,t,n){e.exports=' <div layout=column layout-align="center center" flex layout-fill class=common-nv-no-content-fallback> <img ng-src='+n(38)+' ng-hide=nvImageSrc /> <md-icon md-font-set=material-icons class="font-size-100 material-icons margin-zero color-dark-gray" ng-show=nvImageSrc aria-label=contentFallback aria-hidden=true>{{$ctrl.nvImageSrc}}</md-icon> <p class="color-dark-gray common-nv-no-content-fallback-tip" translate={{$ctrl.nvTip}}></p> <ng-transclude></ng-transclude> </div> '},function(e,t){e.exports=' <div class=nv-slider-container> <md-slider md-discrete flex ng-model=sliderCtrl.sliderIndex min="{{ sliderCtrl.nvMinIndex }}" max="{{ sliderCtrl.nvMaxIndex }}" step="{{ sliderCtrl.nvStep }}" ng-change=sliderCtrl.sliderChanged() ng-disabled=sliderCtrl.nvIsDisabled aria-label=slider aria-hidden=true> </md-slider> </div> '},function(e,t){e.exports=' <div flex layout=row class=tile-carousel-container> <div layout=row ng-style=tileCarousel.translateStyle() style="transition:all ease .5s"> <ng-transclude layout=row></ng-transclude> </div> <md-button class="md-raised md-secondary carousel-button carousel-button-prev" ng-click=tileCarousel.moveLeft($event) ng-class="{\'hidden\': !tileCarousel.showLeftCarouselButton}" aria-label=carousel-prev-button> <md-icon md-font-set=material-icons class="carousel-button-icon color-white-hue-1" aria-label=arrowLeft aria-hidden=true>keyboard_arrow_left</md-icon> </md-button> <md-button class="md-raised md-secondary carousel-button carousel-button-next" ng-click=tileCarousel.moveRight($event) ng-class="{\'hidden\': !tileCarousel.showRightCarouselButton}" aria-label=carousel-next-button> <md-icon md-font-set=material-icons class="carousel-button-icon color-white-hue-1" aria-label=arrowRight aria-hidden=true>keyboard_arrow_right</md-icon> </md-button> </div> '},function(e,t){e.exports=' <div class=range-slider-container> <div class=range-slider-left> <md-slider aria-label=upperValue step={{step}} mingap={{minGap}} ng-model=lowerValue min={{minimum}} max={{lowerMax}} ng-change=rangeSliderCtrl.currentSliderPositionChanged() ng-disabled=nvDisabled aria-hidden=true></md-slider> </div> <div class=range-slider-right ng-style="{width: upperWidth}"> <md-slider aria-label=upperValue ng-model=upperValue step={{step}} mingap={{minGap}} min={{upperMin}} max={{maximum}} ng-change=rangeSliderCtrl.currentSliderPositionChanged() ng-disabled=nvDisabled aria-hidden=true></md-slider> </div> <div layout=row layout-align=space-between> <div>{{lowerValue}}</div> <div>{{upperValue}}</div> </div> </div> '},function(e,t){e.exports=' <md-menu-item> <md-button aria-label="" ng-click=selectMenuItem.handleClick() ng-disabled=selectMenuItem.disabled aria-label=select-menu-item-button> <p ng-style=selectMenuItem.itemStyle> <ng-transclude></ng-transclude> </p> </md-button> </md-menu-item> '},function(e,t){e.exports=' <div ng-if=nvFiltered class=common-green-dot></div> <md-menu md-offset="10 36" md-position-mode={{::nvPositionMode}}> <md-button class=md-icon-button ng-click=$mdOpenMenu($event) aria-label=open-menu-button> <md-tooltip> <span translate={{::nvLabel}}></span> </md-tooltip> <md-icon md-font-set=material-icons class=color-white-hue-2 ng-hide={{::nvCustomIcon}} aria-label=select aria-hidden=true>{{::nvMdIcon}}</md-icon> <md-icon class="nv-custom-icons color-white-hue-2" ng-show={{::nvCustomIcon}} md-font-icon={{::nvMdIcon}} aria-label=select aria-hidden=true></md-icon> </md-button> <md-menu-content md-menu-align-target md-menu-origin class="md-primary md-hue-1" aria-label=menu-content> <ng-transclude></ng-transclude> </md-menu-content> </md-menu> '},,,function(e,t){e.exports=" <div class=common-video-directive> <video ng-if=!videoCtrl.isVideoTypeYoutube() autoplay ng-mouseenter=videoCtrl.setShowOverlay(true) ng-mouseleave=videoCtrl.setShowOverlay(false) ng-show=videoCtrl.videoLoaded> <source ng-src={{videoCtrl.nvSrc}} type=video/mp4> </video> <div class=youtube-video-container ng-if=videoCtrl.isVideoTypeYoutube() ng-mouseenter=videoCtrl.setShowOverlay(true) ng-mouseleave=videoCtrl.setShowOverlay(false)> <iframe id=ytPlayer frameborder=0 ng-src={{videoCtrl.nvSrc}} allowfullscreen></iframe> </div> <nv-overlay ng-if=videoCtrl.showDefaultOverlay() class=youtube-overlay ng-show=videoCtrl.showOverlay ng-mouseenter=videoCtrl.setShowOverlay(true) ng-mouseleave=videoCtrl.setShowOverlay(false)> <div layout=row layout-fill> <div flex></div> <ng-transclude></ng-transclude> </div> </nv-overlay> <nv-overlay layout ng-if=!videoCtrl.showDefaultOverlay() class=\"common-overlay no-background\" ng-show=videoCtrl.showOverlay ng-mouseleave=videoCtrl.setShowOverlay(false)> <div layout=column flex layout-align=\"center center\"> <div layout=row layout-fill> <div flex></div> <ng-transclude></ng-transclude> </div> <div layout-fill flex layout-align=\"center center\" layout=column ng-mousedown=videoCtrl.toggleMediaPlay()> <input ng-show=videoCtrl.showPlaybutton() type=image src=../../../assets/main/img/play_btn70.png /> </div> <md-toolbar> <div class=md-toolbar-tools> <md-button ng-if=videoCtrl.showPlaybutton() class=md-icon-button ng-click=videoCtrl.toggleMediaPlay() aria-label=media-play-button> <md-icon class=material-icons aria-label=playArrowIcon aria-hidden=true>play_arrow</md-icon> <md-tooltip> {{'l10n.play' | translate }} </md-tooltip> </md-button> <md-button ng-if=!videoCtrl.showPlaybutton() class=md-icon-button ng-click=videoCtrl.toggleMediaPlay() aria-label=media-pause-button> <md-icon class=material-icons aria-label=pauseIcon aria-hidden=true>pause</md-icon> <md-tooltip> {{'l10n.pause' | translate }} </md-tooltip> </md-button> <md-slider flex min=0 max=100 ng-model=videoCtrl.sliderPosition aria-label=video-control-slider aria-hidden=true></md-slider> <span>&nbsp; &nbsp;{{videoCtrl.currentVideoTime}}</span> <md-button class=md-icon-button ng-if=!videoCtrl.muted() ng-click=videoCtrl.muteUnmute() aria-label=media-volume-button> <md-icon class=material-icons aria-label=volumeUpIcon aria-hidden=true>volume_up</md-icon> <md-tooltip> {{'l10n.volume' | translate }} </md-tooltip> </md-button> <md-button class=md-icon-button ng-if=videoCtrl.muted() ng-click=videoCtrl.muteUnmute() aria-label=media-mute-button> <md-icon class=material-icons aria-label=VolumeOFFIcon aria-hidden=true>volume_off</md-icon> <md-tooltip> {{'l10n.volume' | translate }} </md-tooltip> </md-button> <md-button class=md-icon-button aria-label=media-fullscreen-button> <md-icon class=material-icons aria-label=fullscreenIcon aria-hidden=true>fullscreen</md-icon> <md-tooltip> {{'l10n.fullscreen' | translate }} </md-tooltip> </md-button> </div> </md-toolbar> </div> </nv-overlay> <md-progress-circular md-mode=indeterminate ng-show=videoCtrl.videoWaiting class=\"md-accent progress-circular\" md-diameter=25></md-progress-circular> </div> "},,,,function(e,t){e.exports="<div flex layout=row id=toast-container> <nv-game-list ng-if=!homeCtrl.synchedViewState.classicViewEnabled class=games-game-list nv-user-id={{::homeCtrl.user.userId}} nv-selected-game-id=homeCtrl.selectedGameId flex layout=column></nv-game-list> <nv-classic-game-list ng-if=homeCtrl.synchedViewState.classicViewEnabled class=games-classic-game-list nv-user-id={{::homeCtrl.user.userId}} nv-selected-game-id=homeCtrl.viewState.selectedGameId flex layout=column></nv-classic-game-list> </div> "},function(e,t){e.exports=' <md-button ng-disabled={{nvDisabled}}> <md-icon md-font-set=material-icons aria-label=mainTabIcon aria-hidden=true>{{::nvMdIcon}}</md-icon> <span class="color-medium-gray-hue-2 font-size-lg" translate={{::nvLabel}} aria-label=main-tab-label></span> </md-button> '},function(e,t){e.exports=' <md-button aria-label=mainTab class="md-icon-button md-button md-ink-ripple" ng-disabled={{nvDisabled}}> <md-tooltip md-autohide><span translate={{::nvToolTip}}></span></md-tooltip> <md-icon md-font-set=material-icons class="md-18 ng-binding ng-scope ng-isolate-scope material-icons" ng-hide={{::nvCustomIcon}} aria-label=mainTabIcon aria-hidden=true>{{::nvMdIcon}}</md-icon> <div layout=column class="image-container constants-position-relative" ng-show={{nvCustomIcon}}> <nv-overlay layout-fill class="common-overlay no-background" ng-hide=nvShareAddonLoaded> <md-icon class="nv-custom-icons md-12 feature-notready-toolbar-overlay nv-custom-alert-icon-color" md-font-icon=icon-alert aria-label=mainTabAlertIcon aria-hidden=true></md-icon> </nv-overlay> <md-icon class="nv-custom-icons md-18" md-font-icon={{::nvMdIcon}} aria-label=mainTabIcon aria-label=toolbarIcon aria-hidden=true></md-icon> </div> </md-button> '},function(e,t,n){e.exports=" <div class=main-toolbar-top-dividers flex layout=column> <div class=bg-dark-eh-hue-1></div> <div class=bg-dark-im-hue-6></div> </div> <md-toolbar layout=column class=bg-dark-vh-hue-1 ui-tour=oobeTour ui-tour-on-shown=mainToolbarCtrl.onTourStepShown()> <div class=md-toolbar-tools flex layout=row> <div tour-step=oobe-home tour-step-title=\"{{'l10n.launchYourGames' | translate}}\" tour-step-placement=bottom-left tour-step-order=0> <nv-main-tab-button nv-md-icon=home nv-label=l10n.home nv-telemetry='{\"tarconID\":{{::$root.telemetryEventNames.HOME_VIEW_GAMES_AND_FRIENDS}}}' nv-disabled={{mainToolbarCtrl.driverless}} nv-state=main.auth.home.gamesAndFriends aria-label=home-button></nv-main-tab-button> </div> <img src="+n(97)+" alt=toolbar-divider> <div tour-step=oobe-drivers tour-step-title=\"{{'l10n.getTheLatestGrds' | translate}}\" tour-step-placement=bottom-left tour-step-order=1> <nv-main-tab-button nv-md-icon=archive nv-label=l10n.drivers nv-telemetry='{\"tarconID\":{{::$root.telemetryEventNames.UPDATES_VIEW_UPDATES}}}' nv-state=main.auth.updates aria-label=drivers-button></nv-main-tab-button> </div> <div class=md-toolbar-tools flex layout=row ng-if=::mainToolbarCtrl.devFeatures.experimental> <img src="+n(97)+" alt=toolbar-divider> <nv-main-tab-button nv-md-icon=video_library nv-label=l10n.gallery nv-state=main.auth.gallery nv-disabled={{mainToolbarCtrl.driverless}} aria-label=video-button></nv-main-tab-button> <img src="+n(97)+' alt=toolbar-divider> <nv-main-tab-button nv-md-icon=shopping_basket nv-label=l10n.gfn nv-state=main.auth.gfn nv-disabled={{mainToolbarCtrl.driverless}}></nv-main-tab-button> </div> <span flex></span> <div ng-if=mainToolbarCtrl.searchEnabled> <nv-search></nv-search> </div> <nv-notifications class=notifications nv-disabled=mainToolbarCtrl.driverless></nv-notifications> <div ng-if=::mainToolbarCtrl.devFeatures.experimental> <nv-updates-notification class=updates-updates-notification></nv-updates-notification> </div> <nv-main-tab-icon id=main-share-icon class=margin-right-16 nv-md-icon=icon-share nv-custom-icon=true nv-tab-icon-clicked=mainToolbarCtrl.enableAndLaunchShare() nv-tool-tip=l10n.openGfeInGame ng-if=mainToolbarCtrl.canShowShareIcon() nv-disabled={{mainToolbarCtrl.isShareButtonDisabled}} nv-change-icon-color-green={{mainToolbarCtrl.isShareRunning}} nv-share-addon-loaded=mainToolbarCtrl.shareLoaded></nv-main-tab-icon> <div class="settings-icon-container margin-right-16" tour-step=oobe-settings tour-step-title="{{\'l10n.configureOptions\' | translate}}" tour-step-placement=bottom-right tour-step-order=3> <nv-main-tab-icon class=margin-right-16 nv-md-icon=settings nv-custom-icon=false nv-tool-tip=" l10n.settings" nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.PREFERENCES_VIEW_PREFERENCES}}}\' nv-state=main.auth.preferences nv-disabled={{mainToolbarCtrl.driverless}}></nv-main-tab-icon> </div> <img src='+n(97)+' alt=toolbar-divider> <md-button id=main-user-profile class=user-profile-button layout=row layout-align="start center" nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.USER_VIEW_PROFILE_FROM_AVATAR}}}\' ng-show=mainToolbarCtrl.userProfileEnabled ng-click="mainToolbarCtrl.displayUserProfile(\'DEFAULT_TAB\')" ng-disabled=mainToolbarCtrl.driverless aria-label=user-default-profile-button> <div class=avatar-container layout=column layout-align="center center"> <img nv-circle ng-src={{mainToolbarCtrl.avatar.url}} alt={{::mainToolbarCtrl.displayName}} class=md-avatar nv-fallback-src={{mainToolbarCtrl.defaultAvatarUrl}} alt=circle-avatar /> </div> <h3 class="font-size-lg clickable-element" nv-ellipsis-lines=1 ng-class="{\'color-green\': mainToolbarCtrl.userProfileActive, \'display-name\': mainToolbarCtrl.userProfileEnabled}">{{mainToolbarCtrl.displayName}}</h3> <md-tooltip md-autohide ng-if=mainToolbarCtrl.showTooltip>{{mainToolbarCtrl.displayName}}</md-tooltip> </md-button> <img ng-if=mainToolbarCtrl.userProfileEnabled src='+n(97)+' alt=toolbar-divider> <nv-inline-dropdown nv-collapse-after="{{ mainToolbarCtrl.dropdownCollapseTimeout }}" nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.OOBE_CLICK_USERNAME}}}\' layout-fill ng-class="{\'main-toolbar-compact-dropdown layout-align-start-end\': mainToolbarCtrl.userProfileEnabled, \'constants-friend-list-width\': !mainToolbarCtrl.userProfileEnabled}"> <nv-inline-dropdown-header id=main-user-profile-container> <div ng-if=!mainToolbarCtrl.userProfileEnabled layout=row layout-align="center center"> <img nv-circle ng-src={{mainToolbarCtrl.avatar.url}} alt={{::mainToolbarCtrl.displayName}} class=md-avatar nv-fallback-src={{mainToolbarCtrl.defaultAvatarUrl}} alt=circle-avatar /> <h3 class="display-name font-size-lg" nv-ellipsis-lines=1>{{mainToolbarCtrl.displayName}}</h3> <md-tooltip md-autohide ng-if=mainToolbarCtrl.showTooltip>{{mainToolbarCtrl.displayName}}</md-tooltip> </div> </nv-inline-dropdown-header> <md-list> <md-list-item nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.USER_VIEW_PROFILE_FROM_DROPDOWN}}}\' ng-click="mainToolbarCtrl.displayUserProfile(\'DEFAULT_TAB\')" ng-disabled=mainToolbarCtrl.driverless ng-if=mainToolbarCtrl.userProfileEnabled> <p class=font-size-lg translate=l10n.myProfile></p> </md-list-item> <md-list-item ng-click=mainToolbarCtrl.onClickRedeem($event) ng-disabled=mainToolbarCtrl.driverless nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.HOME_VIEW_REWARDS}}}\'> <p class=font-size-lg translate=l10n.redeem></p> </md-list-item> <md-list-item ng-click="$state.go(\'main.auth.preferences.accounts\')" ng-disabled=mainToolbarCtrl.driverless> <p class=font-size-lg translate=l10n.account></p> </md-list-item> <md-list-item ng-click=mainToolbarCtrl.logout(false,true) nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.OOBE_LOGOUT}}}\'> <p class=font-size-lg translate=l10n.logOut></p> </md-list-item> </md-list> </nv-inline-dropdown> </div> <div class=updates-server-warn ng-if=mainToolbarCtrl.showServerWarn() layout=row layout-align="space-between center"> <div layout=row layout-align=start> <svg width=20px height=20px viewbox="0 0 1 1" style="margin:0 18px"> <circle cx=50% cy=50% r=49% fill=#393939 /> <line x1=50% y1=20% x2=50% y2=65% style=stroke:#191919;stroke-width:10% /> <line x1=50% y1=75% x2=50% y2=85% style=stroke:#191919;stroke-width:10% /> </svg> <span class=updates-server-warn-text>{{\'l10n.serverTrouble\' | translate}}</span> </div> <md-button ng-click=mainToolbarCtrl.dismissServerWarn() aria-label=hide-server-notification-button>{{\'l10n.dismiss\' | translate | uppercase}}</md-button> </div> </md-toolbar> '},function(e,t){e.exports=' <nv-window class=common-window nv-resizable=main.isWindowsOS() nv-movable=main.isWindowsOS() nv-controllable=main.isWindowsOS() flex layout=column> <div layout=column flex aria-label=common-window-section aria-hidden=true> <nv-main-toolbar class=common-main-toolbar aria-label=common-window-toolbar-section></nv-main-toolbar> <md-toolbar class="md-toolbar-tools padding-top-4 padding-left-36 padding-right-28 bg-grey-im" ng-if=main.showTopToolbar() aria-label=toolbar-section> <div layout=row layout-align=end ng-if=main.newVersionAvailable class=highlight aria-label=common-window-newVersionAvailable-section> <md-button ng-click=main.install() ng-disabled=!main.newVersionAvailable aria-label=install-new-version-button> <md-tooltip md-direction=left> <span translate=l10n.installNewVersion></span> </md-tooltip> <span ng-class="{\'md-accent foreground\': main.newVersionAvailable}" translate=l10n.updateNow></span> </md-button> </div> <div layout=row layout-align="space-between center" ng-if=main.driverUpdateRequired flex aria-label=driverUpdateRequired-section> <div layout=row> <md-icon class="material-icons md-24 color-white-hue-3" aria-label=downloadIcon aria-hidden=true>file_download</md-icon> <div layout=row class=margin-left-8 aria-label=driverUpdateText-header-section> <p class="margin-zero line-height-36" translate=l10n.driverUpdateRequired></p> <p class="margin-top-zero margin-bottom-zero margin-right-left-4 line-height-36">&#124;</p> <p class="margin-zero line-height-36">{{main.driverUpdateText}}</p> </div> </div> <div layout=row aria-label=resetDriverUpdateRequired-section> <md-button class=margin-zero ng-click=main.resetDriverUpdateRequired() aria-label=reset-driver-update-button> <p class="margin-zero line-height-36 color-white-hue-3" translate=l10n.later></p> </md-button> <md-button class="margin-zero margin-left-16" ng-click=main.onClickUpdateDriver() aria-label=update-driver-button> <p class="margin-zero line-height-36 color-white-hue-3" translate=l10n.updateDriver></p> </md-button> </div> </div> </md-toolbar> <md-toolbar class="md-toolbar-tools padding-top-4 padding-left-36 padding-right-28 bg-grey-im" ng-if=main.successfulPostprocessing> <div layout=row layout-align="space-between center" flex> <div layout=row> <md-icon class="material-icons md-24 color-white-hue-3">info</md-icon> <div layout=row class=margin-left-8> <p class="margin-zero line-height-36 color-white-hue-3" translate=l10n.relaunchRequired></p> </div> </div> <div layout=row> <md-button class="margin-zero margin-left-16" ng-click=main.onRelaunchRequied()> <p class="margin-zero line-height-36 color-white-hue-3" translate=l10n.relaunchNow> </p> </md-button> </div> </div> </md-toolbar> <div layout flex ui-view> </div> </div> <nv-feedback-float></nv-feedback-float> </nv-window> <nv-prefetch-directive></nv-prefetch-directive> '},,,,,,,,,,function(e,t){e.exports=' <div class=friends-friend-about> <div class=content-container flex=100> <div class="left-column bg-dark-hv"> <div class="left-content color-dark-gray font-size-lg"> {{\'l10n.realName\' | translate}}: {{friendAbout.userAboutGeneral.realName}} </div> <div class="left-content color-dark-gray font-size-lg"> {{\'l10n.lastSeen\' | translate}}: {{friendAbout.userAboutGeneral.lastSeen}} </div> <div class="left-content color-dark-gray font-size-lg"> {{\'l10n.memberSince\' | translate}}: {{friendAbout.userAboutGeneral.memberSince}} </div> <div class="left-content color-dark-gray font-size-lg"> {{\'l10n.reputation\' | translate}}: </div> <div class=star-rating> <div ng-repeat="item in friendAbout.getArray() track by $index"> <div name=rating-item class=rating> <img ng-src={{friendAbout.loadRatingImage(item)}} class=golden-star /> </div> </div> </div> </div> <div class="right-column bg-dark-hv"> <div class="right-content color-light-gray"> <md-icon class="material-icons md-default-theme" md-font-set=material-icons aria-label=movieCreation aria-hidden=true>movie_creation</md-icon> {{friendAbout.userAboutSpecification.graphicsHardware}} </div> <div class="right-content color-light-gray"> <md-icon class="material-icons md-default-theme" md-font-set=material-icons aria-label=visibility aria-hidden=true>visibility</md-icon> {{friendAbout.userAboutSpecification.driverVersion}} </div> <div class="right-content color-light-gray"> <md-icon class="material-icons md-default-theme" md-font-set=material-icons aria-label=selectAll aria-hidden=true>select_all</md-icon> {{friendAbout.userAboutSpecification.CPU}} </div> <div class="right-content color-light-gray"> <md-icon class="material-icons md-default-theme" md-font-set=material-icons aria-label=memory aria-hidden=true>memory</md-icon> {{friendAbout.userAboutSpecification.RAM}} </div> <div class="right-content color-light-gray"> <md-icon class="material-icons md-default-theme" md-font-set=material-icons aria-label=desktopWindows aria-hidden=true>desktop_windows</md-icon> {{friendAbout.userAboutSpecification.displayResolution}} </div> <div class="right-content color-light-gray"> <md-icon class="material-icons md-default-theme" md-font-set=material-icons aria-label=favorite aria-hidden=true>favorite</md-icon> {{friendAbout.userAboutSpecification.OS}} </div> <div class="right-content color-light-gray"> <md-icon class="material-icons md-default-theme" md-font-set=material-icons aria-label=mouse aria-hidden=true>mouse</md-icon> {{friendAbout.userAboutSpecification.interface.pointingDevice}} </div> <div class="right-content color-light-gray"> <md-icon class="material-icons md-default-theme" md-font-set=material-icons aria-label=keyboard aria-hidden=true>keyboard</md-icon> {{friendAbout.userAboutSpecification.interface.textInput}} </div> <div class="right-content color-light-gray"> <md-icon class="material-icons md-default-theme" md-font-set=material-icons aria-label=gamepad aria-hidden=true>gamepad</md-icon> {{friendAbout.userAboutSpecification.interface.gameController}} </div> <div class="right-content color-light-gray"> <md-icon class="material-icons md-default-theme" md-font-set=material-icons aria-label=naturePeople aria-hidden=true>nature_people</md-icon> {{friendAbout.userAboutSpecification.interface.augmentedRealityHardware}} </div> </div> </div> </div> '},function(e,t){e.exports='<div class="friends-friend-achievements tile-layout" ng-controller=FriendAchievementsController> <md-content> <div layout=row layout-wrap> <div ng-repeat="achievement in vm.userAchievements" flex=50 class=friends-friend-tile-layout> <div nv-achievement-tile></div> </div> </div> </md-content> </div> '},function(e,t){e.exports="<md-content class=md-padding> </md-content> "},function(e,t,n){e.exports=" <div layout=column class=friends-friend-broadcast> <div flex layout=column class=image-position ng-switch on=friendBroadcast.view> <nv-broadcast-viewer ng-switch-when=broadcast layout=column flex portal={{friendBroadcast.broadcastStatus.data.portal}} channel={{friendBroadcast.broadcastStatus.data.channel}}></nv-broadcast-viewer> <img ng-switch-when=image ng-src="+n(315)+' alt="{{\'l10n.alt.background\' | translate}}" layout-fill="" class=ng-scope src='+n(315)+' /> <nv-overlay nv-position=bottom class=common-overlay> <div layout=row layout-align="start center" class=overlay-width> <div flex=10 class=md-padding> <img ng-src={{friendBroadcast.selectedUser.avatar}} class=rounded-image alt={{friendBroadcast.selectedUser.name}} layout-fill/> </div> <div flex layout=column> <div class="font-size-xxxl line-height-md">{{friendBroadcast.selectedUser.core.displayName}}</div> <span class="font-size-xl color-medium-gray">{{\'l10n.broadcasting\' | translate:friendBroadcast.translateInterpolation}} {{}}</span> </div> <md-button ng-click=friendBroadcast.watchBroadcast() ng-if="friendBroadcast.view === \'broadcast\'" class="md-accent md-raised watch-broadcast-button" aria-label=watch-friend-broadcast-button>{{\'l10n.watchBroadcast\' | translate}}</md-button> </div> </nv-overlay> <div class=label> <div> <div>{{l10n.placeholderText | translate}}</div> </div> </div> </div> </div> '},function(e,t){e.exports='<md-content class="md-padding friend-compare-games-holder"> </md-content> '},function(e,t){e.exports='<md-content flex class="md-padding friends-friend-details"> <p>{{friendDetails.user.core.displayName}}</p> <div layout=column> <div layout=row> <nv-friend-broadcast layout></nv-friend-broadcast> <div flex layout=column class=summary-compare> <md-tabs flex layout=column> <md-tab flex layout label="{{\'l10n.gameSummary\' | translate}}"> <md-tab-body flex layout> <nv-friend-game-summary class="md-primary md-hue-3 background" flex layout=column></nv-friend-game-summary> </md-tab-body> </md-tab> <md-tab label="{{\'l10n.compareGames\' | translate}}"> <md-content class=md-padding> <nv-friend-compare-games></nv-friend-compare-games> </md-content> </md-tab> </md-tabs> </div> </div> <div flex layout=row> <div class=friend-info> <md-tabs md-border-bottom> <md-tab label=Achievements> <nv-friend-achievements></nv-friend-achievements> </md-tab> <md-tab label="Activity Feed"> <nv-friend-activity-feed></nv-friend-activity-feed> </md-tab> <md-tab label="{{\'about\' | translate | uppercase}}"> <nv-friend-about></nv-friend-about> </md-tab> </md-tabs> </div> <div flex class=friends-groups> <md-tabs md-border-bottom> <md-tab label=Friends class=friends-friend-details> <md-content class="md-padding list-layout" flex layout> <nv-friend-list class=friends-friend-list nv-type=grid nv-user-id={{friendDetails.user.userId}} flex layout></nv-friend-list> </md-content> </md-tab> <md-tab label=Groups> <md-content class=md-padding> <nv-friend-group-list nv-type=grid class=friends-friend-group-list nv-user-id={{friendDetails.user.userId}}></nv-friend-group-list> </md-content> </md-tab> </md-tabs> </div> </div> </div> </md-content> '},function(e,t){e.exports='<md-content class=friends-friend-game-summary flex layout=column> <nv-accordion nv-accordion-mode=alwaysOne flex layout=column> <nv-accordion-pane nv-start-expanded=true> <nv-accordion-pane-header flex layout=row layout-align="start center"> <span flex>{{\'l10n.gameSummary\' | translate}}</span> </nv-accordion-pane-header> <nv-accordion-pane-content id=donut-chart layout=column> <style>.friends-friend-game-summary .nvd3.nv-pie path{stroke-width:0}</style> <svg flex ng-show=friendGameSummary.showChart()></svg> <div class=overlay-text layout-align="center center" layout=column> {{\'l10n.numGames\' | translate:friendGameSummary.translateInterpolation()}} </div> </nv-accordion-pane-content> </nv-accordion-pane> <nv-accordion-pane ng-repeat="genreEntry in friendGameSummary.data track by $index"> <nv-accordion-pane-header flex layout=row layout-align="start center"> <md-content flex layout-align="start center" layout=row> <div class=rectangle-bullet ng-style=friendGameSummary.rectColor($index)> &nbsp; </div> {{genreEntry.label | translate}} </md-content> </nv-accordion-pane-header> <nv-accordion-pane-content layout=column> <md-content flex> <div ng-repeat="gameEntry in genreEntry.data"> <img ng-src={{gameEntry.infoImage}} style=width:200px;height:100px /> <p> {{gameEntry.displayName}} </p> </div> </md-content> </nv-accordion-pane-content> </nv-accordion-pane> </nv-accordion> </md-content> '},function(e,t){e.exports='<md-content class="md-primary md-hue-3" flex> <div flex layout=row layout-wrap flex=100 md-cols=2> <div class="md-2-line constants-position-relative" ng-repeat="group in groups.groupList" flex=25 material-card id={{group.displayName}}> <div class=grid-card> <md-list-item layout-margin> <img ng-src={{group.avatar}} class="md-avatar image-align-center margin" alt={{group.displayName}} /> </md-list-item> <div class=friend-name> <h4 nv-ellipsis-lines=1>{{group.displayName}}</h4> </div> </div> </div> </div> </md-content> '},function(e,t){e.exports=' <md-content layout=column class="md-primary md-hue-3"> <md-list flex> <md-subheader class="md-no-sticky md-primary md-hue-3" aria-label=friend-group-list-title>{{\'l10n.friendGroupListTitle\' | translate}}</md-subheader> <md-menu md-align-target md-offset="0 70" ng-repeat="group in groups.groupList"> <md-list-item class=md-2-line flex ng-click=$mdOpenMenu()> <img alt={{group.displayName}} class=md-avatar ng-src={{group.avatar}} /> <div class=md-list-item-text> <h3>{{group.displayName}}</h3> <p nv-ellipsis-lines=1> <span ng-repeat="user in group.users"> {{(!$first ? \', \': \'\') + user.core.displayName}} </span> </p> </div> </md-list-item> <md-menu-content class="md-primary md-hue-2 md-whiteframe-z2" width=4> <md-menu-item> <md-button md-menu-align-target aria-label=menu-item-button> Not Spec\'d </md-button> </md-menu-item> </md-menu-content> </md-menu> </md-list> </md-content> '},function(e,t){e.exports=' <md-content flex layout class="md-primary md-hue-3"> <nv-virtual-grid-list flex layout> <div class=grid-card nv-virtual-grid-list-repeat="friend in friends.friendList track by $index" nv-on-demand> <md-menu md-position-mode="target-right target" md-offset=65,0 id=""> <md-button aria-label=photo class=md-icon-button ng-click=$mdOpenMenu()> <md-icon material-icons class=md-18 aria-label=expandMore aria-hidden=true>expand_more</md-icon> </md-button> <md-menu-content class="md-primary md-hue-2 md-whitframe-z2" width=4> <md-menu-item ng-if=friends.showWatchBroadcast(friend.status.activity)> <md-button md-menu-align-target ng-click=friends.watchBroadcast(friend.userId) aria-label=watch-broadcast-button> {{\'l10n.watchBroadcast\' | translate}} </md-button> </md-menu-item> <md-menu-item ng-if=friends.showAskToPlay(friend.status.activity)> <md-button ng-click=friends.askToPlay(friend.userId) aria-label=ask-to-play-button> {{\'l10n.askToPlay\' | translate}} </md-button> </md-menu-item> <md-menu-divider ng-if=friends.showAskToPlay(friend.status.activity)></md-menu-divider> <md-menu-item> <md-button ng-click="$state.go(\'main.auth.home.gamesAndFriends.friendDetails\', {userId: friend.userId})" aria-label=view-profile-button> {{\'l10n.viewProfile\' | translate}} </md-button> </md-menu-item> <md-menu-item ng-if=friends.showChat(friend.status.activity)> <md-button ng-click="$state.go(\'main.auth.home.gamesAndFriends.friendDetails\', {userId: friend.userId})" aria-label=chat-button> {{\'l10n.chat\' | translate}} </md-button> </md-menu-item> </md-menu-content> </md-menu> <div ng-click="$state.go(\'main.auth.home.gamesAndFriends.friendDetails\', {userId: friend.userId})" aria-label=friend-details-section> <md-list-item layout-margin> <img ng-src={{friend.core.avatar}} class="md-avatar image-align-center margin" alt={{friend.core.displayName}} /> </md-list-item> <div class=friend-name> <h4 nv-ellipsis-lines=1>{{friend.core.displayName}}</h4> </div> </div> </div> </nv-virtual-grid-list> </md-content> '},function(e,t){e.exports=" <md-toolbar class=md-hue-3> <div class=md-toolbar-tools> <h1>{{'l10n.friendListTitle' | translate | uppercase}}</h1> <span flex></span> <nv-select-menu nv-md-icon=sort nv-label=\"{{'l10n.sort' | translate}}\"> <nv-select-menu-item nv-action=\"friends.setSort('activity')\" nv-selected-test=\"friends.matchSort('activity')\"> {{'l10n.activity' | translate}} </nv-select-menu-item> <nv-select-menu-item nv-action=\"friends.setSort('alphabetical')\" nv-selected-test=\"friends.matchSort('alphabetical')\"> {{'l10n.alphabetical' | translate}} </nv-select-menu-item> </nv-select-menu> <nv-select-menu nv-md-icon=filter_list nv-label=\"{{'l10n.filter' | translate}}\"> <nv-select-menu-item nv-action=\"friends.setFilter('all')\" nv-selected-test=\"friends.matchFilter('all')\"> {{'l10n.all' | translate}} </nv-select-menu-item> <nv-select-menu-item nv-action=\"friends.setFilter('online')\" nv-selected-test=\"friends.matchFilter('online')\"> {{'l10n.online' | translate}} </nv-select-menu-item> <nv-select-menu-item nv-action=\"friends.setFilter('broadcasting')\" nv-selected-test=\"friends.matchFilter('broadcasting')\"> {{'l10n.broadcasting' | translate}} </nv-select-menu-item> </nv-select-menu> <nv-select-menu nv-md-icon=more_horiz nv-label=\"{{'l10n.moreDots' | translate}}\"> <nv-select-menu-item> {{'l10n.friendListTitle' | translate}} </nv-select-menu-item> </nv-select-menu> </div> </md-toolbar> <md-content layout=column class=\"md-primary md-hue-3\" flex> <md-list flex layout=column> <md-subheader class=\"md-no-sticky md-primary md-hue-3\">{{'l10n.' + friends.filterType | translate}}</md-subheader> <md-virtual-repeat-container flex layout> <div md-virtual-repeat=\"friend in friends.friendList | filter: friends.filter | orderBy: friends.sort\" flex layout> <md-menu md-align-target md-offset=\"0 70\" flex layout> <md-list-item class=md-2-line ng-class=friends.offlineClass(friend) flex id={{friend.core.displayName}} ng-click=$mdOpenMenu()> <img alt={{friend.displayName}} class=md-avatar ng-src={{friend.core.avatar}} /> <div class=md-list-item-text> <h3>{{friend.core.displayName}}</h3> <p translate={{friends.getActivityString(friend)}} translate-values={{friends.getActivityDynamicValues(friend)}}> </p> </div> </md-list-item> <md-menu-content class=\"md-primary md-hue-2 md-whitframe-z2\" width=4> <md-menu-item ng-if=friends.showWatchBroadcast(friend)> <md-button md-menu-align-target ng-click=friends.watchBroadcast(friend.userId) aria-label=watchBroadcast-button> {{'l10n.watchBroadcast' | translate}} </md-button> </md-menu-item> <md-menu-item ng-if=friends.showAskToPlay(friend)> <md-button ng-click=friends.askToPlay(friend.userId) aria-label=askToPlay-button> {{'l10n.askToPlay' | translate}} </md-button> </md-menu-item> <md-menu-divider ng-if=friends.showAskToPlay(friend)></md-menu-divider> <md-menu-item> <md-button ng-click=\"$state.go('main.auth.home.gamesAndFriends.friendDetails', {userId: friend.userId})\" aria-label=view-profile-button> {{'l10n.viewProfile' | translate}} </md-button> </md-menu-item> <md-menu-item ng-if=friends.showChat(friend)> <md-button ng-click=\"$state.go('main.auth.home.gamesAndFriends.friendDetails', {userId: friend.userId})\" aria-label=friendChat-button> {{'l10n.chat' | translate}} </md-button> </md-menu-item> </md-menu-content> </md-menu> </div> </md-virtual-repeat-container> </md-list> </md-content> "},,,function(e,t){e.exports='<md-content> <div ng-repeat="galleryFolder in galleryMoments.galleryList"> <nv-gallery-panel nv-gallery-folder=galleryFolder nv-filter-object=galleryMoments.filterObj class=gallery-gallery-panel></nv-gallery-panel> </div> </md-content> '},function(e,t){e.exports=" <md-tabs flex class=gallery-container> <md-tab label=\"{{'l10n.moments' | translate | uppercase}}\"> <nv-gallery-moments layout=column flex></nv-gallery-moments> </md-tab> <md-tab label=\"{{'l10n.showcase' | translate | uppercase}}\"> <nv-gallery-showcase layout=column flex></nv-gallery-showcase> </md-tab> </md-tabs> "},function(e,t){e.exports="<md-toolbar class=md-toolbar-tools> <span flex></span> <nv-select-menu nv-md-icon=sort nv-label=\"{{'l10n.sort' | translate}}\"> <nv-select-menu-item nv-action=\"galleryMoments.sortGalleryList('folderName', false)\" nv-selected-test=\"galleryMoments.isSortType('folderName')\"> {{'l10n.alphabetical' | translate}} </nv-select-menu-item> <nv-select-menu-item nv-action=\"galleryMoments.sortGalleryList('modifiedTime', true)\" nv-selected-test=\"galleryMoments.isSortType('modifiedTime')\"> {{'l10n.recentActivity' | translate}} </nv-select-menu-item> </nv-select-menu> <nv-select-menu nv-md-icon=filter_list nv-label=\"{{'l10n.filter' | translate}}\"> <nv-select-menu-item nv-action=galleryMoments.setFilterType({}) nv-selected-test=\"galleryMoments.isFilterType('all')\"> {{'l10n.all' | translate}} </nv-select-menu-item> <nv-select-menu-item nv-action=galleryMoments.setFilterType({fileType:galleryMoments.fileType.VIDEO}) nv-selected-test=\"galleryMoments.isFilterType('video')\"> {{'l10n.recordings' | translate}} </nv-select-menu-item> <nv-select-menu-item nv-action=galleryMoments.setFilterType({fileType:galleryMoments.fileType.IMAGE}) nv-selected-test=\"galleryMoments.isFilterType('screenshot')\"> {{'l10n.screenshots' | translate}} </nv-select-menu-item> </nv-select-menu> <nv-select-menu nv-md-icon=more_horiz nv-label=\"{{'l10n.moreDots' | translate}}\"> <nv-select-menu-item nv-action=\"\" nv-selected-test=\"\"> </nv-select-menu-item> </nv-select-menu> </md-toolbar> <div layout=column flex class=\"md-padding gallery-moments\"> <div layout=row flex> <nv-gallery-library flex=30></nv-gallery-library> <nv-gallery-preview flex></nv-gallery-preview> </div> <nv-gallery-timeline></nv-gallery-timeline> </div> "},function(e,t){e.exports=' <div layout=column ng-mouseenter=galleryPanel.setMediaInfoVisible(true) ng-mouseleave=galleryPanel.setMediaInfoVisible(false) ng-hide=galleryPanel.isFolderEmpty() class=panel-container> <div layout=row layout-align="space-between end"> <p>{{galleryPanel.galleryFolder.folderName}}</p> <div ng-show=galleryPanel.showExpandInfo() layout-align="end end"> <span ng-hide=galleryPanel.isExpanded class=color-light-gray> {{ galleryPanel.tilesRemaining() }} {{\'l10n.more\' | translate | lowercase }} <md-icon ng-click=galleryPanel.showMoreTiles() md-font-set=material-icons class=md-18 tabindex=-1 aria-label=arrowDown aria-hidden=true>keyboard_arrow_down</md-icon> </span> <md-icon ng-show=galleryPanel.isExpanded md-font-set=material-icons class=md-18 ng-click=galleryPanel.showMoreTiles() tabindex=-1 aria-label=arrowUp aria-hidden=true>keyboard_arrow_up</md-icon> </div> </div> <div layout=row layout-wrap> <div ng-repeat="file in galleryPanel.galleryFolder.files | filter: nvFilterObject | limitTo: galleryPanel.limitTo"> <nv-gallery-tile nv-gallery-file=file class=gallery-gallery-tile></nv-gallery-tile> </div> </div> </div> '},function(e,t){e.exports=" "},function(e,t){e.exports='<md-toolbar class=md-toolbar-tools> <span flex></span> <nv-select-menu nv-md-icon=sort nv-label="{{\'l10n.sort\' | translate}}"> <nv-select-menu-item nv-action="galleryShowcase.sortShowcaseList(\'snippet.title\', false)" nv-selected-test="galleryShowcase.isSortType(\'snippet.title\')"> {{\'l10n.alphabetical\' | translate}} </nv-select-menu-item> <nv-select-menu-item nv-action="galleryShowcase.sortShowcaseList(\'snippet.publishedAt\', true)" nv-selected-test="galleryShowcase.isSortType(\'snippet.publishedAt\')"> {{\'l10n.recentActivity\' | translate}} </nv-select-menu-item> </nv-select-menu> <nv-select-menu nv-md-icon=filter_list nv-label="{{\'l10n.filter\' | translate}}"> <nv-select-menu-item nv-action="" nv-selected-test=""> {{\'l10n.all\' | translate}} </nv-select-menu-item> <nv-select-menu-item nv-action="" nv-selected-test=""> {{\'l10n.recordings\' | translate}} </nv-select-menu-item> <nv-select-menu-item nv-action="" nv-selected-test=""> {{\'l10n.screenshots\' | translate}} </nv-select-menu-item> </nv-select-menu> <nv-select-menu nv-md-icon=more_horiz nv-label="{{\'l10n.moreDots\' | translate}}"> <nv-select-menu-item nv-action="" nv-selected-test=""> </nv-select-menu-item> </nv-select-menu> </md-toolbar> <md-content class=md-padding layout-fill layout=row layout-align="start start" layout-wrap> <nv-gallery-showcase-tile nv-gallery-showcase-item=showcaseTile ng-repeat="showcaseTile in galleryShowcase.galleryShowcaseList" class=gallery-showcase-tile></nv-gallery-showcase-tile> </md-content> '},function(e,t){e.exports=' <md-card ng-mouseenter=galleryShowcaseTile.mouseHover(true) ng-mouseleave=galleryShowcaseTile.mouseHover(false) ng-click=galleryShowcaseTile.previewMedia($event) tabindex=-1> <div class=constants-position-relative> <img ng-src={{galleryShowcaseTile.showcaseItem.snippet.thumbnails.default.url}} class=md-card-image alt={{galleryShowcaseTile.showcaseItem.snippet.title}}> <nv-overlay layout-fill ng-class=galleryShowcaseTile.showOverlay() class=common-overlay> <div layout=column layout-fill> <div layout=row> <span flex></span> <div ng-class=galleryShowcaseTile.showButtons()> <md-button class="md-icon-button more-button" ng-click="" aria-label=share-button> <md-tooltip> {{\'l10n.share\' | translate}} </md-tooltip> <md-icon md-font-set=material-icons class="material-icons color-white" aria-label=share aria-hidden=true>share</md-icon> </md-button> </div> </div> <div layout=column layout-align="center center" flex> <md-button class="md-icon-button video-play-btn" aria-label=play-video-button> <md-tooltip> {{\'l10n.play\' | translate}} </md-tooltip> <md-icon md-font-set=material-icons class=material-icons aria-label=playCircleOutline aria-hidden=true>play_circle_outline</md-icon> </md-button> </div> </div> </nv-overlay> </div> <md-card-content> <div layout=column layout-align="center start" class=showcase-item-info-block> <div nv-ellipsis-lines=1 class="color-light-gray showcase-item-title">{{galleryShowcaseTile.showcaseItem.snippet.title}}</div> <div class="color-dark-gray showcase-item-detail"> {{\'l10n.\' + galleryShowcaseTile.showcaseItem.origin | translate}} &middot; {{\'l10n.viewCount\' | translate:{num:galleryShowcaseTile.showcaseItem.statistics.viewCount} }} &middot; {{galleryShowcaseTile.showcaseItem.snippet.publishedAt | date:\'shortDate\'}} </div> </div> </md-card-content> </md-card> '},function(e,t){e.exports=' <md-card ng-mouseenter=galleryTile.mouseHover(true) ng-mouseleave=galleryTile.mouseHover(false) ng-click=galleryTile.previewMedia($event) tabindex=-1> <div class=constants-position-relative> <img ng-src={{galleryTile.galleryFile.fileThumbnail}} class=md-card-image alt={{galleryTile.galleryFile.fileType}}> <nv-overlay layout-fill ng-class=galleryTile.showOverlay() class=common-overlay> <div layout=column layout-fill> <div layout=row> <span flex></span> <div ng-class=galleryTile.showButtons()> <md-button class="md-icon-button edit-button" ng-click=galleryTile.editMedia($event) aria-label=edit-media-button> <md-tooltip> {{\'l10n.edit\' | translate}} </md-tooltip> <md-icon md-font-set=material-icons class="material-icons color-white" aria-label=create aria-hidden=true>create</md-icon> </md-button> <md-button class="md-icon-button more-button" ng-click=galleryTile.editMedia($event) aria-label=gallery-tile-more-button> <md-tooltip> {{\'l10n.moreDots\' | translate}} </md-tooltip> <md-icon md-font-set=material-icons class="material-icons color-white" aria-label=moreHoriz aria-hidden=true>more_horiz</md-icon> </md-button> </div> </div> <div ng-if=galleryTile.isVideo(galleryTile.galleryFile.fileType) layout=column layout-align="center center" flex> <md-button class="md-icon-button video-play-btn" aria-label=play-gallery-file-button> <md-tooltip> {{\'l10n.play\' | translate}} </md-tooltip> <md-icon md-font-set=material-icons aria-label=playCircleOutline aria-hidden=true>play_circle_outline</md-icon> </md-button> </div> <div ng-if=galleryTile.isVideo(galleryTile.galleryFile.fileType) layout-align="end center" layout=row> <span class="video-length-label color-light-gray bg-dark-hv-hue-1">{{ galleryTile.galleryFile.videoLength | convertSecondsToHHMMSS}}</span> </div> </div> </nv-overlay> </div> <md-card-content> <div layout=row layout-align="space-between center"> <div nv-ellipsis-lines=1 class=color-light-gray> {{galleryTile.galleryFile.creationTime | date:\'MM/dd/yyyy h:mma\'}} </div> <md-icon ng-show=galleryTile.isVideo(galleryTile.galleryFile.fileType) class=color-light-gray md-font-set=material-icons class=md-18 aria-label=videocam aria-hidden=true> videocam </md-icon> <md-icon ng-show=galleryTile.isImage(galleryTile.galleryFile.fileType) class=color-light-gray md-font-set=material-icons class=md-18 aria-label=image aria-hidden=true> image </md-icon> </div> </md-card-content> </md-card> '},805,function(e,t){e.exports=" <md-button class=md-icon-button aria-label=edit-button> <md-icon class=material-icons aria-label=\"edit button icon\" aria-hidden=true>edit</md-icon> <md-tooltip> {{'l10n.edit' | translate }} </md-tooltip> </md-button> <md-button class=md-icon-button aria-label=share-icon-button> <md-icon class=material-icons aria-label=\"share icon\" aria-hidden=true>share</md-icon> <md-tooltip> {{'l10n.share' | translate }} </md-tooltip> </md-button> <md-button class=md-icon-button aria-label=more-horiz-icon-button> <md-icon class=material-icons aria-label=\"moreHoriz icon\" aria-hidden=true>more_horiz</md-icon> <md-tooltip> {{'l10n.more' | translate }} </md-tooltip> </md-button> "},function(e,t){e.exports=' <md-toolbar> <div class="md-toolbar-tools font-size-xl classic-game-list-top-toolbar-tools" layout=row layout-align="space-between center"> <h4 class="color-white-hue-3 font-size-sm" translate=l10n.games></h4> <div layout=row> <md-button class=md-icon-button ng-click=games.changeView(false) nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.HOME_TOGGLE_TO_GAMES_LIST_VIEW}}}\' aria-label=toggle-list-view-button> <md-tooltip><span translate=l10n.tileView></span></md-tooltip> <md-icon md-font-set=nv-custom-icons md-font-icon=icon-view-module class="nv-custom-icons color-white-hue-2" aria-label=gameTileView aria-hidden=true></md-icon> </md-button> <nv-select-menu nv-md-icon=filter_list nv-label=l10n.filter class=constants-position-relative nv-filtered="!games.matchFilter(\'all\')"> <nv-select-menu-item ng-disabled="games.buttonDisabled(\'all\')" nv-action="games.setFilter(\'all\')" nv-selected-test="games.matchFilter(\'all\')" nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMETOOLBAR_FILTER_NONE}}}\'> <div translate=l10n.allNumber translate-value-number={{games.getGamesCount()}}></div> </nv-select-menu-item> <nv-select-menu-item ng-disabled="games.buttonDisabled(\'favorite\')" nv-action="games.setFilter(\'favorite\')" nv-selected-test="games.matchFilter(\'favorite\')" nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMETOOLBAR_FILTER_FAVORITES}}}\'> <span translate=l10n.favoritesNumber translate-value-number={{games.getFavoriteGamesCount()}}></span> </nv-select-menu-item> <nv-select-menu-item ng-disabled="games.buttonDisabled(\'optimized\')" nv-action="games.setFilter(\'optimized\')" nv-selected-test="games.matchFilter(\'optimized\')" nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMETOOLBAR_FILTER_OPTIMIZED}}}\'> <span translate=l10n.optimizedNumber translate-value-number={{games.getOptimizedGamesCount()}}></span> </nv-select-menu-item> <nv-select-menu-item ng-if=games.isAnselFeatureAvailable ng-disabled="games.buttonDisabled(\'anselReady\')" nv-action="games.setFilter(\'anselReady\')" nv-selected-test="games.matchFilter(\'anselReady\')" nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMETOOLBAR_FILTER_ANSELREADY}}}\'> <span translate=l10n.anselReadyNumber translate-value-number={{games.getAnselReadyGamesCount()}}></span> </nv-select-menu-item> <nv-select-menu-item ng-if=games.isFreestyleFeatureAvailable ng-disabled="games.buttonDisabled(\'freestyleReady\')" nv-action="games.setFilter(\'freestyleReady\')" nv-selected-test="games.matchFilter(\'freestyleReady\')" nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMETOOLBAR_FILTER_FREESTYLEREADY}}}\'> <span translate=l10n.freestyleReadyNumber translate-value-number={{games.getFreestyleReadyGamesCount()}}></span> </nv-select-menu-item> <md-divider></md-divider> <nv-select-menu-item ng-disabled="games.buttonDisabled(\'hidden\')" nv-action="games.setFilter(\'hidden\')" nv-selected-test="games.matchFilter(\'hidden\')"> <span translate=l10n.hiddenNumber translate-value-number={{games.getHiddenGamesCount()}}></span> </nv-select-menu-item> </nv-select-menu> <nv-select-menu nv-md-icon=more_vert nv-label=l10n.moreDots> <nv-select-menu-item ng-disabled="games.buttonDisabled(\'scanGames\')" nv-action=games.scanGames() nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMETOOLBAR_MORE_SCANGAMES}}}\'> <span translate={{games.scanText}}></span> </nv-select-menu-item> <nv-select-menu-item ng-show=games.isGameOpsSupported ng-disabled="games.buttonDisabled(\'optimizeAll\')" nv-action=games.optimizeGames() nv-telemetry=\'{ "tarconID":{{::$root.telemetryEventNames.GAMETOOLBAR_MORE_OPTIMIZE_ALL}}}\'> <span translate={{games.optimizeText}}></span> </nv-select-menu-item> </nv-select-menu> </div> </div> </md-toolbar> <div layout=row flex layout-fill> <div layout=column class="bg-grey-im-hue-3 games-classic-game-list-container constants-position-relative"> <div class="games-classic-game-list-items-container common-container-overflow" flex layout=column ng-onload={{games.onLoad()}}> <nv-overlay class="common-overlay classic-game-list-top-gradient margin-zero"></nv-overlay> <nv-no-content-fallback ng-if=games.showNoGameFallbackMessage() nv-tip=l10n.gamesYouPlay class=no-game-container flex layout-fill> <button ng-click=games.findAWayToPlay() class="font-size-sm md-button md-accent empty-state" translate=l10n.viewSupportedGames nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.HOME_FIND_A_WAY_TO_PLAY}},"url":"{{::games.findPlayUrl}}"}\' aria-label=viewSupportedGames-button></button> </nv-no-content-fallback> <nv-no-content-fallback ng-show=games.showFallbackMessage() nv-tip={{games.fallbackMessage()}} nv-image-src={{games.fallbackImage()}} class=no-game-container flex layout-fill> <button ng-click=games.setFallbackFilter() class="font-size-sm md-button md-accent empty-state" translate={{games.fallbackButtonText()}} aria-label=fallbackButtonText-button></button> </nv-no-content-fallback> <md-virtual-repeat-container flex layout-fill md-top-index=games.topIndex md-auto-shrink=false ng-show=games.gameListReady()> <div md-virtual-repeat="game in games.filteredGameList | limitTo: games.listLimitTo"> <div> <md-list-item ng-click=games.setSelectedGameId(game.id) nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.HOME_VIEW_GAME_INFO}},"url":"{{game.systemGame.shortName}}"}\' ng-class="{\'bg-black-hv-hue-2 md-accent foreground\': games.isSelected(game.id)}" aria-label=classicViewGame class="margin-zero padding-zero"> <div class=game-icon-container> <img ng-src={{games.getGameIconImage(game)}} alt={{::game.systemGame.displayName}} nv-image-fallback=nv-no-loading-indicator alt=gameIconImage /> <nv-overlay layout-fill class="common-overlay no-background mouse-event-passthrough" ng-if=games.isGameOpsSupported> <div class="game-not-optimized-icon-wrapper bg-black-hv"> <nv-optimized-icon nv-system-game=game.systemGame class="color-white-hue-1 game-not-optimized-icon"></nv-optimized-icon> </div> </nv-overlay> </div> <div class=game-name-container> <p id="{{\'classic-game-displayname\' + $index}}" class="font-size-sm display-name-game-classic" nv-ellipsis-lines=1 ng-class="{\'color-white-hue-3\': !games.isSelected(game.id)}">{{game.systemGame.displayName}}</p> </div> </md-list-item> <md-tooltip ng-if="games.showTooltip($index,\'classic-game-displayname\')" md-autohide>{{game.systemGame.displayName}}</md-tooltip> </div> </div> </md-virtual-repeat-container> </div> <nv-overlay class="common-overlay classic-game-list-bottom-gradient" nv-position=bottom></nv-overlay> </div> <div flex layout=column> <nv-game-details nv-selected-game-id=games.selectedGameId nv-classic-view-enabled={{true}} flex layout=column ng-if=games.gameListReady()></nv-game-details> </div> </div> '},function(e,t){e.exports=' <md-dialog class=games-custom-fps> <div layout=column class=games-custom-fps-container> <div layout=column ng-hide=fpsCtrl.showErrorMessage layout-fill> <h4 class="color-white-hue-1 font-size-sm line-height-sm1" translate={{::fpsCtrl.fpsDlgHeader}}></h4> <div layout=column class=fps-details-container> <div layout=row layout-align="space between"> <p class="color-white-hue-3 font-size-sm line-height-sm1" translate=l10n.maximumFramerate></p> <h4 class=color-white-hue-3> <span translate=l10n.fpsCount translate-value-number={{fpsCtrl.currentFpsSliderIndex}}></span> </h4> </div> <div layout=column class=fps-slider-container> <div layout=row layout-fill layout-align="center center"> <p class="slider-min-index-label margin-right-16">{{ fpsCtrl.minFpsIndex }}</p> <div class=constants-position-relative> <nv-slider nv-slider-index=fpsCtrl.currentFpsSliderIndex nv-min-index=fpsCtrl.minFpsIndex nv-max-index=fpsCtrl.maxFpsIndex nv-step=fpsCtrl.sliderStep nv-current-slider-changed=fpsCtrl.currentFpsSliderChanged() nv-is-disabled="fpsCtrl.controlDisabled || !fpsCtrl.maxFpsIndex"> </nv-slider> </div> <p class="slider-max-index-label margin-left-16">{{ fpsCtrl.maxFpsIndex }}</p> </div> <div class=optimal-button-container> <div class="optimal-line-indicator md-accent background" ng-disabled=fpsCtrl.controlDisabled></div> <md-button class="md-raised md-accent color-white-important optimal-value-button" ng-click=fpsCtrl.applyOptimalValue() ng-disabled=fpsCtrl.controlDisabled translate=l10n.recommendedFps aria-label=apply-optimal-fps-value-button></md-button> </div> </div> </div> </div> <div layout=column ng-show=fpsCtrl.showErrorMessage layout-align="center center" class=games-custom-fps-container layout-fill> <span translate=l10n.couldNotRetrieveWMFps ng-if=fpsCtrl.isCurrentSettingTypeAC()></span> <span translate=l10n.couldNotRetrieveBBFps ng-if=!fpsCtrl.isCurrentSettingTypeAC()></span> </div> </div> <div class=cancel-apply-container layout=row layout-align="end end"> <md-button ng-click=fpsCtrl.cancelCustomFps() translate=l10n.cancel aria-label=cancel-custom-fps-button></md-button> <md-button ng-hide=fpsCtrl.showErrorMessage class=md-accent ng-click=fpsCtrl.applyCustomFps() translate=l10n.apply ng-disabled="fpsCtrl.applyButtonDisabled || fpsCtrl.controlDisabled" aria-label=apply-custom-fps-button></md-button> </div> <nv-overlay class="common-overlay .constants-z-layers-one" layout-fill ng-show=fpsCtrl.showProgressIndicator> <span layout-fill layout-align="center center" layout=column aria-label=showProgressLabel> <md-progress-circular id=progressIndicator class=md-accent md-diameter=15 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> </md-dialog> '},function(e,t){e.exports=' <md-dialog class=games-custom-ops> <div layout=column class=games-custom-ops-container> <div layout=column ng-hide=opsCtrl.showErrorMessage layout-fill> <h4 class="color-white-hue-1 font-size-sm line-height-sm1" translate={{opsCtrl.getHeading()}}></h4> <div layout=row class=resolution-display-mode-container> <div flex> <md-input-container> <p class="font-size-xxs color-white-hue-4" translate=l10n.resolution></p> <md-select class=color-white-hue-3 ng-model=opsCtrl.selectedResolution ng-disabled=opsCtrl.isResolutionDisabled() ng-change=opsCtrl.resolutionOrDisplayModeChanged() md-container-class=resolution-container> <header class=resolution-header ng-repeat-start="resolution in opsCtrl.resolutions"> <p ng-disabled=true ng-if=opsCtrl.showResolutionHeader($index) translate={{opsCtrl.resolutionHeader(resolution)}}></p> </header> <md-option class=resolution-options ng-value=resolution>{{opsCtrl.getResolutionString(resolution)}}</md-option> <footer ng-repeat-end></footer> </md-select> </md-input-container> </div> <div class=resolution-display-mode-separator></div> <div flex> <md-input-container> <p class="font-size-xxs color-white-hue-4" translate=l10n.displayMode></p> <md-select class=color-white-hue-3 ng-model=opsCtrl.selectedDisplayMode ng-disabled=opsCtrl.isDisplayModeDisabled() ng-change=opsCtrl.resolutionOrDisplayModeChanged() md-container-class=display-mode-container> <md-option class=display-mode-options ng-value=displayMode ng-repeat="displayMode in opsCtrl.displayModes">{{opsCtrl.getDisplayModeString(displayMode)}}</md-option> </md-select> </md-input-container> </div> </div> <div layout=column class=optimize-for-container> <p class="color-white-hue-3 font-size-sm line-height-sm1" translate=l10n.optimizeFor></p> <div layout=row layout-align="space-between center" class="optimized-slider-items-header color-white-hue-3"> <p ng-show=opsCtrl.isCurrentSettingTypeAC() class="font-size-xxs line-height-sm1" translate=l10n.performance></p> <p ng-hide=opsCtrl.isCurrentSettingTypeAC() class="font-size-xxs line-height-sm1" translate=l10n.battery></p> <p class="font-size-xxs line-height-sm1" translate=l10n.quality></p> </div> <div layout=column class=optimized-slider-container> <div layout=row layout-fill layout-align="center center"> <md-icon ng-show=opsCtrl.isCurrentSettingTypeAC() class="nv-custom-icons md-18 performance-icon" md-font-icon=icon-speedometer aria-label=currentSettingSpeedometer aria-hidden=true> <md-tooltip> <span translate=l10n.higherPerformance></span> </md-tooltip> </md-icon> <md-icon ng-hide=opsCtrl.isCurrentSettingTypeAC() class="nv-custom-icons md-18 battery-icon" md-font-icon=icon-onbattery aria-label=batteryLife aria-hidden=true> <md-tooltip> <span translate=l10n.longerBatteryLife></span> </md-tooltip> </md-icon> <div class=constants-position-relative> <md-slider md-discrete flex ng-model=opsCtrl.currentSliderIndex min=0 max={{opsCtrl.maxIndex}} step=1 ng-change=opsCtrl.currentSliderChanged() ng-disabled="opsCtrl.controlDisabled || !opsCtrl.maxIndex" aria-label=games-custom-ops-slider aria-hidden=true> </md-slider> </div> <md-icon md-font-set=nv-custom-icons md-font-icon=icon-quality-high class="nv-custom-icons quality-icon" aria-label=betterQuality aria-hidden=true> <md-tooltip> <span translate=l10n.betterQuality></span> </md-tooltip> </md-icon> </div> <div class=optimal-button-container> <div class="optimal-line-indicator md-accent background" ng-disabled=opsCtrl.controlDisabled></div> <md-button class="md-raised md-accent color-white-important optimal-value-button" ng-click=opsCtrl.applyOptimalValue() ng-disabled=opsCtrl.controlDisabled translate=l10n.optimal aria-label=apply-optimal-value-button></md-button> </div> </div> </div> </div> <div layout=column ng-show=opsCtrl.showErrorMessage layout-align="center center" class=games-custom-ops-container layout-fill> <span translate=l10n.couldNotRetrieveCustomSettings></span> </div> </div> <div class=cancel-apply-container layout=row layout-align="end end"> <md-button ng-click=opsCtrl.cancelCustomSettings() translate=l10n.cancel aria-label=cancel-custom-settings-button></md-button> <md-button ng-hide=opsCtrl.showErrorMessage class=md-accent ng-click=opsCtrl.applyCustomSettings() translate=l10n.apply ng-disabled="opsCtrl.applyButtonDisabled || opsCtrl.controlDisabled" aria-label=apply-custom-settings-button></md-button> </div> <nv-overlay class="common-overlay constants-z-layers-zero" layout-fill ng-show=opsCtrl.showProgressIndicator> <span layout-fill layout-align="center center" layout=column> <md-progress-circular id=progressIndicator class=md-accent md-diameter=15 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> </md-dialog> '},function(e,t){e.exports=' <span translate=l10n.dsr></span> <md-tooltip><span translate=l10n.dsrInfo></span></md-tooltip> <md-icon md-font-set=material-icons class="material-icons color-inherit" aria-label=" gameInfo" aria-hidden=true>info_outline</md-icon> '},function(e,t){e.exports=" <md-toolbar> <div class=md-toolbar-tools> <span flex></span> <md-button class=md-icon-button ng-click=gameDetailPreview.toggleFavorite() nv-telemetry='{\"tarconID\":{{$root.telemetryEventNames.GAMEDETAILS_SET_GAME_FAVORITE}},\"url\":\"{{gameDetailPreview.userGame.systemGame.shortName}},{{gameDetailPreview.userGame.favorite}}\"}' aria-label=toggle-favorite-button> <div ng-show=gameDetailPreview.userGame.favorite> <md-icon class=material-icons aria-label=removeFavorite aria-hidden=true>star_rate</md-icon> <md-tooltip> {{'l10n.removeFavorite' | translate }} </md-tooltip> </div> <div ng-hide=gameDetailPreview.userGame.favorite> <md-icon class=material-icons aria-label=favorite aria-hidden=true>star_border</md-icon> <md-tooltip> {{'l10n.favorite' | translate }} </md-tooltip> </div> </md-button> <md-button class=md-icon-button ng-click=gameDetailPreview.showTagsModalDialog() ng-if=::gameDetailPreview.devFeatures.experimental aria-label=show-modal-dialog-button> <md-tooltip> {{'l10n.tags' | translate }} </md-tooltip> <md-icon class=material-icons aria-label=localOffer aria-hidden=true>local_offer</md-icon> </md-button> <md-button class=md-icon-button ng-click=gameDetailPreview.toggleVisibility() aria-label=toggle-visibility-button> <div ng-show=gameDetailPreview.userGame.hidden> <md-tooltip> {{'l10n.showGame' | translate }} </md-tooltip> <md-icon class=material-icons aria-label=visibilityOff aria-hidden=true>visibility_off</md-icon> </div> <div ng-hide=gameDetailPreview.userGame.hidden> <md-tooltip> {{'l10n.hideGame' | translate }} </md-tooltip> <md-icon class=material-icons aria-label=visibility aria-hidden=true>visibility</md-icon> </div> </md-button> <md-button class=md-icon-button ng-if=::gameDetailPreview.devFeatures.experimental aria-label=preview-button> <md-tooltip> {{'l10n.moreDots' | translate }} </md-tooltip> <md-icon class=material-icons aria-label=moreHoriz aria-hidden=true>more_horiz</md-icon> </md-button> </div> </md-toolbar> <md-card class=md-card-no-hover> <nv-optimized-icon nv-system-game=gameDetailPreview.userGame class=games-optimized-icon ng-if=gameDetailPreview.isGameOpsSupported></nv-optimized-icon> <img ng-src={{gameDetailPreview.userGame.systemGame.infoImage}} alt={{gameDetailPreview.userGame.systemGame.displayName}} class=games-info-image nv-image-fallback/> <md-card-content layout=row layout-align=\"start center\" flex class=games-game-detail-preview-description> <img ng-src={{gameDetailPreview.userGame.systemGame.iconFile}} alt={{gameDetailPreview.userGame.systemGame.displayName}} nv-image-fallback=nv-no-loading-indicator /> <div flex layout=column> <h1>{{gameDetailPreview.userGame.systemGame.displayName}}</h1> <span class=\"md-body-1 game-preview-information\">{{gameDetailPreview.userGame.systemGame.installDirectory}}</span> </div> <div layout=column layout-align=\"center end\" ng-if=gameDetailPreview.isPlayed()> <div class=md-caption> <span translate=l10n.lastPlayed></span>{{ gameDetailPreview.userGame.lastLaunchDate | convertUTCToTimeAgo}} </div> <div class=md-caption> {{'l10n.totalPlayed' | convertSecondsToRelativeDate:gameDetailPreview.userGame.playedTime}} </div> </div> <nv-play-game nv-local=true class=games-play-game nv-system-game=gameDetailPreview.userGame.systemGame nv-telemetry='{\"tarconID\":{{$root.telemetryEventNames.GAMEINFO_LAUNCH_LOCALGAME}},\"url\":\"{{gameDetailPreview.userGame.systemGame.shortName}}\"}'></nv-play-game> </md-card-content> </md-card> "},function(e,t,n){e.exports=' <div flex class=games-game-details layout=column> <div ng-if=::!gameDetails.devFeatures.experimental flex layout=column> <md-toolbar class=game-details-toolbar nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMEINFO_VIEW_GAME_OPTIMIZATIONS}},"url":"{{gameDetails.userGame.systemGame.shortName}}"}\'> <div class="md-toolbar-tools bg-black-hv-hue-1" layout=row layout-align="space-between center"> <div layout=row class=game-details-toolbar-left-container> <md-button class="md-icon-button game-details-back-button" ng-click="$state.go(\'main.auth.home.gamesAndFriends\')" ng-if=::!gameDetails.classicViewEnabled aria-label=arrow-back-button> <md-icon md-font-set=material-icons class="md-24 color-white-hue-1" aria-label=arrowBack aria-hidden=true>arrow_back</md-icon> <md-tooltip><span translate=l10n.back></span></md-tooltip> </md-button> <span class=game-details-game-icon-container> <img ng-src={{gameDetails.userGame.systemGame.iconImage36}} alt={{gameDetails.userGame.systemGame.iconImage36}} nv-image-fallback=nv-no-loading-indicator /> </span> <span layout=column> <h4 class="color-white-hue-1 font-size-lg">{{gameDetails.userGame.systemGame.displayName}}</h4> <p class="color-white-hue-4 font-size-sm selectable-text">{{gameDetails.userGame.systemGame.installDirectory}}</p> </span> </div> <div layout=row layout-align="center center" class=game-details-toolbar-right-container> <div class=padding-left-20> <md-button class=md-icon-button ng-click=gameDetails.toggleFavorite($event) aria-label=toggle-favoriteGame-button> <div ng-if=!gameDetails.userGame.favorite> <md-tooltip><span translate=l10n.markFavorite></span></md-tooltip> <md-icon md-font-set=material-icons class=md-18 aria-label=favorite aria-hidden=true>star_border</md-icon> </div> <div ng-if=gameDetails.userGame.favorite> <md-tooltip><span translate=l10n.removeFavorite></span></md-tooltip> <md-icon md-font-set=material-icons class="md-18 color-white-hue-2" aria-label=removefavorite aria-hidden=true>star_rate</md-icon> </div> </md-button> </div> <div class=padding-left-20> <md-button class=md-icon-button ng-click=gameDetails.toggleVisibility($event) aria-label=hide-game-button> <div ng-if=!gameDetails.userGame.hidden> <md-tooltip><span translate=l10n.hideGame></span></md-tooltip> <md-icon md-font-set=material-icons class="md-18 color-white-hue-2" aria-label=visibility aria-hidden=true>visibility</md-icon> </div> <div ng-if=gameDetails.userGame.hidden> <md-tooltip><span translate=l10n.showGame></span></md-tooltip> <md-icon md-font-set=material-icons class=md-18 aria-label=visibilityOff aria-hidden=true>visibility_off</md-icon> </div> </md-button> </div> <img class="padding-left-16 padding-right-16" src='+n(97)+'> <div layout=row class="color-white-hue-4 font-size-xxs" layout-align="center center" ng-if=gameDetails.isPlayed()> <span translate=l10n.lastPlayed></span> <span>&nbsp;{{gameDetails.userGame.lastLaunchDate | convertUTCToTimeAgo}}</span> </div> <nv-play-game nv-local=true class=games-play-game nv-system-game=gameDetails.userGame.systemGame nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMEINFO_LAUNCH_LOCALGAME}},"url":"{{gameDetails.userGame.systemGame.shortName}}"}\'></nv-play-game> <nv-play-game ng-if=gameDetails.userGame.systemGame.isGfnCloudGameSupported() nv-local=false class=games-play-game nv-system-game=gameDetails.userGame.systemGame nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMEINFO_LAUNCH_LOCALGAME}},"url":"{{gameDetails.userGame.systemGame.shortName}}"}\'></nv-play-game> </div> </div> </md-toolbar> <div class=games-game-optimization flex layout=column ng-if=gameDetails.doesSystemSupportOPS> <div class=constants-position-relative flex> <ui-layout options="::{disableToggle: true, disableMobileToggle: true, dividerSize: 3}" class=games-game-optimization-container> <div layout=row class="vops-image-container ui-splitbar-border" ui-layout-container min-size=249px size={{gameDetails.viewState.vopsImageContainerSize}}> <nv-vops nv-system-game=gameDetails.userGame.systemGame nv-classic-view-enabled={{::gameDetails.classicViewEnabled}} flex layout=column></nv-vops> </div> <div layout=column class=game-settings-table-container ui-layout-container min-size=210px> <nv-optimization nv-system-game=gameDetails.userGame.systemGame nv-classic-view-enabled={{::gameDetails.classicViewEnabled}} class=games-optimization layout=column flex></nv-optimization> </div> </ui-layout> </div> </div> <div layout=column class=game-system-ops-not-supported layout-align="center center" flex style=background-color:#000 ng-if=gameDetails.showOpsNotSupported()> <md-icon md-font-set=nv-custom-icons md-font-icon=icon-notoptimized_reg class="nv-custom-icons md-48 color-white-hue-3" aria-label=notSupportOps aria-hidden=true></md-icon> <p class="color-white-hue-3 font-size-12" translate=l10n.systemDoesNotSupportOps></p> <div layout=row layout-align="center center"> <p class="color-white-hue-3 font-size-12" translate=l10n.needToMeetSystemRequirement></p> <a ng-click=gameDetails.systemNoOpsRequirementLink() class="md-default-theme font-size-sm top-margin-linksection" flex>&nbsp;<span class=font-lowercase translate=l10n.systemRequirement></span> </a> </div> </div> <div layout=column class=game-system-ops-not-supported layout-align="center center" flex ng-if=gameDetails.opsNotDetermined> <md-icon class=md-48 md-font-set=material-icons aria-label=warning aria-hidden=true>warning</md-icon> <p class="color-white-hue-3 font-size-12" translate=l10n.unableToReachNvidiaServers></p> </div> <div layout=column layout-align="center center" flex ng-show=gameDetails.opsSupportedRequestInProgress> <md-progress-circular id=progressIndicator class=md-accent md-diameter=15 md-mode=indeterminate></md-progress-circular> </div> </div> <md-tabs md-dynamic-height ng-if=::gameDetails.devFeatures.experimental> <md-tab label="{{\'l10n.optimization\' | translate | uppercase}}" ng-if=gameDetails.userGame.systemGame.regularSupported nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMEINFO_VIEW_GAME_OPTIMIZATIONS}},"url":"{{gameDetails.userGame.systemGame.shortName}}"}\'> <div class="games-game-optimization constants-position-relative" layout=column> <div layout=row class=vops-image-container> <nv-vops nv-system-game=gameDetails.userGame.systemGame flex></nv-vops> </div> <div layout=row flex> <nv-optimization nv-system-game=gameDetails.userGame.systemGame nv-classic-view-enabled={{::gameDetails.classicViewEnabled}} flex class=games-optimization></nv-optimization> </div> </div> </md-tab> <md-tab label="{{\'l10n.gameInfo\' | translate | uppercase}}" nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMEINFO_VIEW_GAME_DETAILS}},"url":"{{gameDetails.userGame.systemGame.shortName}}"}\'> <div layout=column> <div layout=row class=top-container> <nv-game-detail-preview nv-user-game=gameDetails.userGame class=games-game-detail-preview nv-ops-supported=gameDetails.doesSystemSupportOPS></nv-game-detail-preview> <div flex class=top-right-container> <md-toolbar> <div class=md-toolbar-tools> {{\'l10n.news\' | translate | uppercase}} </div> </md-toolbar> <md-content class=news-container> <nv-news ng-if=gameDetails.userGame.systemGame.shortName nv-short-name={{gameDetails.userGame.systemGame.shortName}} class=games-news></nv-news> </md-content> </div> </div> <div flex layout=row> <div class=bottom-left-container> <md-tabs md-border-bottom md-dynamic-height> <md-tab label="{{\'l10n.screenshots\' | translate | uppercase}}"> <md-card class="md-card-no-hover game-detail-screenshots-container"> <div ng-if=gameDetails.hasScreenshots() layout=row layout-wrap> <nv-media-tile nv-media-thumbnail={{screenshot.thumbnail}} nv-media-original={{screenshot.original}} nv-media-type={{gameDetails.mediaFileType.IMAGE}} nv-media-alt={{gameDetails.userGame.systemGame.displayName}} ng-repeat="screenshot in gameDetails.screenShots track by $index" class="common-media-tile bg-dark-im"></nv-media-tile> </div> <nv-no-content-fallback ng-if=!gameDetails.hasScreenshots() nv-tip="{{\'l10n.noContent\' | translate}}" flex></nv-no-content-fallback> </md-card> </md-tab> <md-tab label="{{\'l10n.videos\' | translate | uppercase}}"> <md-card class="md-card-no-hover game-detail-videos-container"> <nv-no-content-fallback ng-if=true nv-tip="{{\'l10n.noContent\' | translate}}" flex></nv-no-content-fallback> </md-card> </md-tab> </md-tabs> </div> <div flex> <md-tabs md-border-bottom md-dynamic-height> <md-tab label="{{\'l10n.description\' | translate | uppercase}}"> <md-card class=md-card-no-hover> <md-card-content flex ng-if=gameDetails.userGame.systemGame.longDescription> {{gameDetails.userGame.systemGame.longDescription}} </md-card-content> <nv-no-content-fallback ng-if=!gameDetails.userGame.systemGame.longDescription nv-tip="{{\'l10n.noDescription\' | translate}}" flex></nv-no-content-fallback> </md-card> </md-tab> <md-tab label="{{\'l10n.systemRequirement\' | translate | uppercase}}"> <md-card class=md-card-no-hover> <md-card-content flex></md-card-content> </md-card> </md-tab> </md-tabs> </div> </div> </div> </md-tab> </md-tabs> </div> '},function(e,t){e.exports=' <md-toolbar> <div class="md-toolbar-tools font-size-xl" layout=row layout-align="space-between center"> <h4 class="color-white-hue-3 font-size-sm" translate=l10n.games></h4> <div layout=row> <md-button class=md-icon-button ng-click=games.changeView(true) nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.HOME_TOGGLE_TO_GAMES_CLASSIC_VIEW}}}\' aria-label=toggle-classic-game-view-button> <md-tooltip><span translate=l10n.detailsView></span></md-tooltip> <md-icon md-font-set=nv-custom-icons md-font-icon=icon-detailed_view class="nv-custom-icons color-white-hue-2" aria-label=iconDetailedView aria-hidden=true></md-icon> </md-button> <nv-select-menu nv-md-icon=filter_list nv-label=l10n.filter class=constants-position-relative nv-filtered="!games.matchFilter(\'all\')"> <nv-select-menu-item ng-disabled="games.buttonDisabled(\'all\')" nv-action="games.setFilter(\'all\')" nv-selected-test="games.matchFilter(\'all\')" nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMETOOLBAR_FILTER_NONE}}}\'> <div translate=l10n.allNumber translate-value-number={{games.getGamesCount()}}></div> </nv-select-menu-item> <nv-select-menu-item ng-disabled="games.buttonDisabled(\'favorite\')" nv-action="games.setFilter(\'favorite\')" nv-selected-test="games.matchFilter(\'favorite\')" nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMETOOLBAR_FILTER_FAVORITES}}}\'> <span translate=l10n.favoritesNumber translate-value-number={{games.getFavoriteGamesCount()}}></span> </nv-select-menu-item> <nv-select-menu-item ng-disabled="games.buttonDisabled(\'optimized\')" nv-action="games.setFilter(\'optimized\')" nv-selected-test="games.matchFilter(\'optimized\')" nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMETOOLBAR_FILTER_OPTIMIZED}}}\'> <span translate=l10n.optimizedNumber translate-value-number={{games.getOptimizedGamesCount()}}></span> </nv-select-menu-item> <nv-select-menu-item ng-if=games.isAnselFeatureAvailable ng-disabled="games.buttonDisabled(\'anselReady\')" nv-action="games.setFilter(\'anselReady\')" nv-selected-test="games.matchFilter(\'anselReady\')" nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMETOOLBAR_FILTER_ANSELREADY}}}\'> <span translate=l10n.anselReadyNumber translate-value-number={{games.getAnselReadyGamesCount()}}></span> </nv-select-menu-item> <nv-select-menu-item ng-if=games.isFreestyleFeatureAvailable ng-disabled="games.buttonDisabled(\'freestyleReady\')" nv-action="games.setFilter(\'freestyleReady\')" nv-selected-test="games.matchFilter(\'freestyleReady\')" nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMETOOLBAR_FILTER_FREESTYLEREADY}}}\'> <span translate=l10n.freestyleReadyNumber translate-value-number={{games.getFreestyleReadyGamesCount()}}></span> </nv-select-menu-item> <md-divider></md-divider> <nv-select-menu-item ng-disabled="games.buttonDisabled(\'hidden\')" nv-action="games.setFilter(\'hidden\')" nv-selected-test="games.matchFilter(\'hidden\')"> <span translate=l10n.hiddenNumber translate-value-number={{games.getHiddenGamesCount()}}></span> </nv-select-menu-item> </nv-select-menu> <nv-select-menu nv-md-icon=more_vert nv-label=l10n.moreDots> <nv-select-menu-item nv-action=games.scanGames() ng-disabled="games.buttonDisabled(\'scanGames\')" nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMETOOLBAR_MORE_SCANGAMES}}}\'> <span translate={{games.scanText}}></span> </nv-select-menu-item> <nv-select-menu-item ng-show=games.isGameOpsSupported ng-disabled="games.buttonDisabled(\'optimizeAll\')" nv-action=games.optimizeGames() nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMETOOLBAR_MORE_OPTIMIZE_ALL}}}\'> <span translate={{games.optimizeText}}></span> </nv-select-menu-item> </nv-select-menu> </div> </div> </md-toolbar> <div ng-if=games.gameListReady() layout-fill layout=column flex class="constants-position-relative game-list-container" ng-onload={{games.onLoad()}}> <nv-overlay class="common-overlay game-list-top-gradient constants-display-none"></nv-overlay> <nv-virtual-grid-list layout flex class=games-game-list-content> <div nv-virtual-grid-list-repeat="game in games.filteredGameList | limitTo: games.listLimitTo track by game.id" nv-top-index=games.topIndex nv-on-demand nv-repeat-item-class=games-game-tile class=games-game-tile> <nv-game-tile nv-game=game nv-game-selected=games.isGameSelected(game) nv-ops-supported=games.isGameOpsSupported nv-index=$index></nv-game-tile> </div> </nv-virtual-grid-list> <nv-overlay class="common-overlay common-container-gradient game-list-bottom-gradient" nv-position=bottom></nv-overlay> </div> <nv-no-content-fallback ng-if=games.showNoGameFallbackMessage() nv-tip=l10n.gamesYouPlay class=no-game-container flex> <button ng-click=games.findAWayToPlay() class="md-button md-accent" translate=l10n.viewSupportedGames nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.HOME_FIND_A_WAY_TO_PLAY}},"url":"{{::games.findPlayUrl}}"}\' aria-label=viewSupportedGames-button></button> </nv-no-content-fallback> <nv-no-content-fallback ng-show=games.showFallbackMessage() nv-tip="{{ games.fallbackMessage()}}" nv-image-src={{games.fallbackImage()}} class=no-game-container flex> <button ng-click=games.setFallbackFilter() class="font-size-sm md-button md-accent" translate={{games.fallbackButtonText()}} aria-label=fallbackFilter-button></button> </nv-no-content-fallback> '},function(e,t){e.exports=' <div layout=row layout-align="start center" class=game-ops-toolbar-tools> <md-icon md-font-set=nv-custom-icons md-font-icon=icon-notoptimized_reg class="nv-custom-icons game-optimization-state-icon" ng-if=gameSettings.showUnoptimizedIcon() aria-label=noOptimizedIcon aria-hidden=true></md-icon> <md-icon md-font-set=nv-custom-icons md-font-icon=icon-optimized_reg class="nv-custom-icons game-optimization-state-icon md-accent" ng-if=gameSettings.showOptimizedIcon() aria-label=optimizedIcon aria-hidden=true></md-icon> <md-icon md-font-set=nv-custom-icons md-font-icon=icon-alert-circle_reg class="nv-custom-icons game-optimization-state-icon" ng-if=gameSettings.showWarningIcon() aria-label=notSupportOps aria-hidden=true></md-icon> <span class="font-size-sm color-white-hue-3 game-ops-message" flex translate={{gameSettings.getMessage()}} translate-compile></span> <md-button ng-disabled=gameSettings.isOptimizeOrCustomOpsButtonDisabled() ng-if=gameSettings.showRevertButton() aria-label="Game Optimization Revert" class="md-raised md-secondary game-optimize-button line-height-sm1" ng-click=gameSettings.optimizeGame()> <span translate=l10n.revert></span> </md-button> <md-button ng-disabled=gameSettings.isOptimizeOrCustomOpsButtonDisabled() ng-if=gameSettings.showOptimizeButton() aria-label="Game Optimization" class="md-raised md-accent game-optimize-button line-height-sm1 color-white-important" ng-click=gameSettings.optimizeGame() ng-mouseenter=gameSettings.setShowBorder(true) ng-mouseleave=gameSettings.setShowBorder(false)> <span translate=l10n.optimize></span> </md-button> <md-button class=md-icon-button ng-hide=gameSettings.hideCustomization() ng-disabled=gameSettings.isOptimizeOrCustomOpsButtonDisabled() ng-click=gameSettings.openCustomOps() aria-label=open-custom-ops-button> <md-tooltip><span translate=l10n.customSettings></span></md-tooltip> <md-icon md-font-set=material-icons class=color-white-hue-3 aria-label=buildIcon aria-hidden=true>build</md-icon> </md-button> <md-button class="md-icon-button margin-left-16" ng-show=false ng-disabled=gameSettings.isOptimizeOrCustomOpsButtonDisabled() ng-click=gameSettings.openCustomFps() aria-label=open-custom-fps-button> <md-tooltip><span translate=l10n.quietModeFps></span></md-tooltip> <md-icon md-font-set=nv-custom-icons md-font-icon=icon-quiet-mode class="nv-custom-icons md-18" aria-label=quietMode aria-hidden=true></md-icon> </md-button> <md-button class="md-icon-button margin-left-16" ng-show=false ng-disabled=gameSettings.isOptimizeOrCustomOpsButtonDisabled() ng-click=gameSettings.openCustomFps() aria-label=battery-boost-fps-button> <md-tooltip><span translate=l10n.batteryBoostFps></span></md-tooltip> <md-icon md-font-set=nv-custom-icons md-font-icon=icon-batteryboost class="nv-custom-icons md-18" aria-label=" iconBatteryboost" aria-hidden=true></md-icon> </md-button> </div> <div class=game-setting-list-container flex layout=column> <settings-header-container layout=row class="font-size-lg color-white-hue-3 font-uppercase constants-position-relative"> <div flex=40 translate=l10n.setting class=bg-dark-im-hue-3></div> <div flex=30 translate={{gameSettings.currentSettingHeader}} class=bg-dark-im-hue-3></div> <div flex ng-hide=!gameSettings.showOptimalSettingsInColumn() translate={{gameSettings.getOptimalSettingHeader()}} class="bg-dark-im-hue-3 settings-header-container-optimal-row"></div> <div flex ng-show=!gameSettings.showOptimalSettingsInColumn() class="bg-grey-im-hue-6 settings-header-container-optimal-row"></div> <div flex=100 layout=row layout-fill ng-show=gameSettings.showOptimalBorder() class=games-optimal-settings-container layout-align="end center"> <optimal-settings-container flex=30 layout-fill></optimal-settings-container> </div> </settings-header-container> <div class="constants-position-relative font-size-sm game-setting-list-content" layout=column> <settings-container class="game-settings-container bg-grey-im-hue-6 common-container-overflow"> <nv-game-settings-item ng-repeat="setting in gameSettings.settings"> <header ng-if=gameSettings.showHeader($index) layout=row> <div translate={{gameSettings.headerValue(setting.type)}} class="font-uppercase bg-grey-im-hue-1 color-white-hue-3" flex=70></div> <div flex ng-hide=!gameSettings.showOptimalSettingsInColumn() class=bg-grey-im-hue-1></div> </header> <div layout=row class="game-settings-list color-white-hue-4" ng-mouseenter=gameSettings.mouseOver(setting.name) ng-mouseleave=gameSettings.mouseOver(null)> <div flex=40 ng-class="{\'bg-grey-im-hue-3\': $even, \'bg-grey-im-hue-2\': $odd,\'bg-green-hv-hue-1\': gameSettings.isMouseHover(setting.name)}">{{setting.name}}</div> <div flex=30 ng-class="{\'bg-grey-im-hue-3\': $even, \'bg-grey-im-hue-2\': $odd,\'bg-green-hv-hue-1\': gameSettings.isMouseHover(setting.name)}" nv-ellipsis-lines=1>{{setting.value}} <nv-dsr-info ng-if=setting.isCurrentDsrResolution></nv-dsr-info> </div> <div flex ng-if=gameSettings.showOptimalSettingsInColumn() ng-class="{\'md-accent foreground\': gameSettings.isOptimalSettingDifferent(setting.value, setting.optimalValue), \'bg-grey-im-hue-3\': $even ,\'bg-grey-im-hue-2\': $odd,\'bg-green-hv-hue-1\': gameSettings.isMouseHover(setting.name)}" class=optimal-settings-column nv-ellipsis-lines=1>{{setting.optimalValue}} <nv-dsr-info ng-if=setting.isOptimalDsrResolution></nv-dsr-info> </div> </div> </nv-game-settings-item> </settings-container> <div flex=100 layout=row layout-fill ng-show=gameSettings.showOptimalBorder() class=games-optimal-settings-container layout-align="end center"> <optimal-settings-container flex=30 layout-fill></optimal-settings-container> </div> <optimal-settings layout=row ng-show=gameSettings.showIconInColumn() class=games-optimal-settings layout-align="center center"> <div layout=column> <md-icon md-font-set=nv-custom-icons md-font-icon=icon-optimized_reg class="nv-custom-icons md-accent" aria-label=optimalMessage aria-hidden=true></md-icon> <p translate={{gameSettings.getOptimalMessage()}} class="tips color-white-hue-1" translate-compile></p> </div> </optimal-settings> </div> <nv-overlay class="common-overlay common-container-gradient margin-zero game-settings-list-gradient" nv-position=bottom></nv-overlay> </div> <nv-overlay class="common-overlay constants-z-layers-two" layout-fill ng-show=gameSettings.requestInProgress> <span layout-fill layout-align="center center" layout=column> <md-progress-circular id=progressIndicator class=md-accent md-diameter=15 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> '},function(e,t){e.exports=" <md-dialog flex=33 class=md-padding> <h3>{{'l10n.tags' | translate}}:{{tagsModal.gameDisplayName}}</h3> <md-dialog-content> <md-chips ng-model=tagsModal.gameTags readonly=false placeholder=\"{{ 'l10n.enterTag' | translate}}\" secondary-placeholder=\"{{ 'l10n.secondaryTag' | translate}}\"> </md-chips> </md-dialog-content> <div class=md-actions layout=row> <md-button ng-click=tagsModal.managetags() class=\"md-raised md-primary\" aria-label=manage-tag-button> {{'l10n.manageTags' | translate | uppercase}} </md-button> <span flex></span> <md-button ng-click=tagsModal.accept() class=\"md-raised md-primary\" aria-label=accept-button> {{'l10n.done' | translate | uppercase}} </md-button> <md-button ng-click=tagsModal.cancel() class=\"md-raised md-primary\" aria-label=cancel-button> {{'l10n.cancel' | translate | uppercase}} </md-button> </div> </md-dialog> "},function(e,t){e.exports=' <md-card layout=column class=game-tile-card ng-click=gameTile.detailsButtonClickHandler() ng-mouseenter=gameTile.showOverlay(true) ng-mouseleave=gameTile.showOverlay(false)> <div layout=column flex class="image-container constants-position-relative"> <nv-overlay layout=column flex layout-fill class="common-overlay light-background background-animated" ng-if=gameTile.overlayVisible> <div flex layout-fill> <div layout=row layout-align="end end"> <div class=padding-right-top-8> <md-button class="md-icon-button md-button no-size opacity-animated" ng-click=gameTile.toggleFavorite($event) aria-label=l10n.markFavorite> <div ng-if=!gameTile.userGame.favorite> <md-tooltip><span translate=l10n.markFavorite></span></md-tooltip> <md-icon md-font-set=material-icons class=md-16 aria-label=starBorder aria-hidden=true>star_border</md-icon> </div> <div ng-if=gameTile.userGame.favorite> <md-tooltip><span translate=l10n.removeFavorite></span></md-tooltip> <md-icon md-font-set=material-icons class="md-16 color-white-hue-2" aria-label=starRating aria-hidden=true>star_rate</md-icon> </div> </md-button> </div> <div class=padding-right-top-8> <md-button class="md-icon-button md-button no-size opacity-animated" ng-click=gameTile.toggleVisibility($event) aria-label=l10n.hideGame> <div ng-if=!gameTile.userGame.hidden> <md-tooltip><span translate=l10n.hideGame></span></md-tooltip> <md-icon md-font-set=material-icons class="md-16 color-white-hue-2" aria-label=visibility aria-hidden=true>visibility</md-icon> </div> <div ng-if=gameTile.userGame.hidden> <md-tooltip><span translate=l10n.showGame></span></md-tooltip> <md-icon md-font-set=material-icons class=md-16 aria-label=visibilityOff aria-hidden=true>visibility_off</md-icon> </div> </md-button> </div> </div> <div flex layout-fill layout-align="center center" layout=column class=position-play-detail-container> <span flex></span> <nv-play-game nv-local=true class="games-play-game opacity-animated" nv-system-game=nvGame.systemGame nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMELIST_LAUNCH_LOCALGAME}},"url":"{{::nvGame.systemGame.shortName}}"}\'></nv-play-game> <md-button class="md-raised md-secondary color-white-important opacity-animated" ng-click=gameTile.detailsButtonClickHandler() nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.HOME_VIEW_GAME_INFO}},"url":"{{::nvGame.systemGame.shortName}}"}\' aria-label=l10n.details> <span translate=l10n.details></span> </md-button> <span flex></span> </div> </div> </nv-overlay> <nv-optimized-icon nv-system-game=nvGame.systemGame class=games-optimized-icon ng-if=::gameTile.isGameOpsSupported></nv-optimized-icon> <img ng-src={{nvGame.systemGame.coverImage}} alt={{::nvGame.systemGame.displayName}} nv-image-fallback=nv-no-loading-indicator nv-image-format> </div> <md-card-content class=game-title> <p nv-ellipsis-lines=1 class="font-size-sm line-height-14 margin-zero color-white-hue-1">{{nvGame.systemGame.displayName}}</p> <md-tooltip md-autohide ng-if=gameTile.showTooltip>{{nvGame.systemGame.displayName}}</md-tooltip> </md-card-content> </md-card> '},function(e,t){e.exports=" <md-tabs md-dynamic-height flex layout=column ng-if=optimization.frlSupportAndEnabled() class=game-optimization-settings-tabs md-selected=optimization.selectedTab> <md-tab md-on-select=optimization.changeSelectedTab(optimization.opsTab.PLUGGED_IN)> <md-tab-label> <md-icon md-font-set=nv-custom-icons md-font-icon=icon-pluggedin class=nv-custom-icons aria-label=pluggedInIcon aria-hidden=true></md-icon> <span translate=l10n.pluggedIn></span> </md-tab-label> <md-tab-body> <nv-game-settings nv-system-game=optimization.systemGame nv-current-setting-type=optimization.settingType.SETTING_AC nv-classic-view-enabled={{::optimization.classicViewEnabled}} class=games-game-settings ng-if=optimization.systemGame nv-custom-ops-open=optimization.customOpsOpen flex layout=column></nv-game-settings> </md-tab-body> </md-tab> <md-tab flex md-on-select=optimization.changeSelectedTab(optimization.opsTab.ON_BATTERY)> <md-tab-label> <md-icon md-font-set=nv-custom-icons md-font-icon=icon-onbattery class=nv-custom-icons aria-label=onBatteryIcon aria-hidden=true></md-icon> <span translate=l10n.onBattery></span> </md-tab-label> <md-tab-body> <nv-game-settings nv-system-game=optimization.systemGame nv-current-setting-type=optimization.settingType.SETTING_DC nv-classic-view-enabled={{::optimization.classicViewEnabled}} class=games-game-settings ng-if=optimization.systemGame nv-custom-ops-open=optimization.customOpsOpen flex layout=column></nv-game-settings> </md-tab-body> </md-tab> </md-tabs> <div ng-if=!optimization.frlSupportAndEnabled() flex layout=column> <nv-game-settings nv-system-game=optimization.systemGame nv-current-setting-type=optimization.settingType.SETTING_AC nv-classic-view-enabled={{::optimization.classicViewEnabled}} class=games-game-settings ng-if=optimization.systemGame nv-custom-ops-open=optimization.customOpsOpen flex layout=column nv-desktop-mode=!optimization.frlSupportAndEnabled()></nv-game-settings> </div> "},function(e,t){e.exports=' <div class=games-optimized-icon-wrapper> <md-icon md-font-set=nv-custom-icons class="nv-custom-icons color-medium-gray-hue-1" ng-class=optimizedIcon.fontIconClass aria-label=optimizedIcon aria-hidden=true></md-icon> </div> '},function(e,t){e.exports='<md-button class="md-raised md-accent color-white-important" ng-click=vm.playLocalGame($event) aria-label=l10n.play> <span ng-if="vm.nvLocal===\'true\'" translate=l10n.play></span> <span ng-if="vm.nvLocal===\'false\'" translate=l10n.playCloud></span> </md-button> '},function(e,t){e.exports='<div class=vops-container ng-if=vops.showLoadingIndicator() layout=row layout-align="center center" flex> <md-progress-circular class=md-accent md-diameter=30 md-mode=indeterminate> </md-progress-circular> </div> <nv-no-content-fallback ng-if=vops.showUnavailable() nv-tip="{{\'l10n.noImagesAvailable\' | translate}}" flex></nv-no-content-fallback> <nv-no-content-fallback ng-if=vops.showVopsFailed() nv-tip="{{\'l10n.UnableToLoadImages\' | translate}}" flex></nv-no-content-fallback> <nv-carousel ng-if=vops.showVopsPreview() nv-slides=vops.gameVops nv-selected-index=0 flex layout=column /> '},function(e,t){e.exports="<md-content flex class=md-padding> <md-tabs flex md-border-bottom md-dynamic-height md-selected=gfn.pageNo> <md-tab label=\"{{'l10n.feature' | translate | uppercase }}\"> <nv-gfn-feature></nv-gfn-feature> </md-tab> <md-tab label=\"{{'l10n.freeForMembers' | translate}}\"> <nv-game-store nv-game-type=freeForMember></nv-game-store> </md-tab> <md-tab label=\"{{'l10n.buyAndPlay' | translate}}\"> <nv-game-store nv-game-type=buyAndPlay></nv-game-store> </md-tab> <md-tab label=\"{{'l10n.mostPopular' | translate}}\"> <nv-game-store nv-game-type=mostPopular></nv-game-store> </md-tab> <md-tab label={{gfn.labels.gameSeries1}}> <nv-game-store nv-game-type=gameSeries1></nv-game-store> </md-tab> <md-tab label={{gfn.labels.gameSeries2}}> <nv-game-store nv-game-type=gameSeries2></nv-game-store> </md-tab> <md-tab label=\"{{'l10n.genres' | translate}}\"> <nv-gfn-genres></nv-gfn-genres> </md-tab> </md-tabs> </md-content> "},function(e,t,n){e.exports="<div flex layout=row> <div layout=column> <div class=gfn-gfn-feature> <img src="+n(737)+" alt=\"{{'l10n.alt.background' | translate}}\" layout-fill=\"\" class=ng-scope /> <h1>{{ gfnFeature.bannerTexts.bannerPlayGame1 | uppercase}}</h1> <h1>{{ gfnFeature.bannerTexts.bannerPlayGame2| uppercase}}</h1> <h3 class=gfn-gfn-feature-subscribe> <a href=#>{{ gfnFeature.bannerTexts.bannerSubscribe }}</a> </h3> <div class=gfn-gfn-feature-pane> <h3>{{'l10n.news' | translate | uppercase}}</h3> <div flex> <nv-news nv-news-source=gfn></nv-news> </div> </div> </div> </div> <div flex layout=column class=gfn-gfn-feature-pane> <h3 class=md-flex>{{'l10n.latestGames' | translate | uppercase}}</h3> <div flex> <nv-latest-games></nv-latest-games> </div> </div> </div> "},function(e,t){e.exports=' <md-list-item layout=column layout-align="start start"> <md_button layout-align="start start" class=gfn-store-button ng-click=gameItem.onClickedGameItem()> <img ng-src={{gameItem.nvGame.infoImage}} alt=gameitem /> <div layout=column layout-align="start start" class=md-list-item-text> <p>{{gameItem.nvGame.displayName}}</p> <p ng-if=gameItem.nvGame.storeInfo.isPurchased> {{\'l10n.purchased\' | translate}} </p> <p ng-if=gameItem.isNeedPurchase()> ${{gameItem.nvGame.storeInfo.price}} </p> </div> </md_button> </md-list-item> '},function(e,t){e.exports='<md-content layout=row layout-align="start start" layout-wrap> <md-list layout=row layout-align="start start" layout-wrap> <nv-game-store-item ng-repeat="gameItem in games.gameStoreList" nv-game=gameItem nv-show-type=games.gameType class=gfn-games-item></nv-game-store-item> </md-list> </md-content> '},function(e,t){e.exports=' <md-content flex class="games-game-details md-padding"> <md-button ng-click="$state.go( \'main.auth.gfn\', {tabId: \'6\'}) " class=md-padding aria-label=go-back-button> &lt; {{gfnGenreGames.goBackString | translate}} </md-button> <nv-game-store nv-game-type="genre "></nv-game-store> </md-content> '},function(e,t){e.exports=' <md-list-item layout=column layout-align="start start"> <md-button layout=column layout-align="start start" class=gfn-store-button ng-click="$state.go(\'main.auth.gfn.genreGames\', {id: gfnGenreItem.id})" aria-label=gfn-store-button> <img ng-src={{gfnGenreItem.img}} alt=genreItem /> <div layout-align="start start" class=md-list-item-text> <p>{{gfnGenreItem.name | translate}}</p> </div> </md-button> </md-list-item> '},function(e,t){e.exports='<md-content layout=row layout-align="start start" layout-wrap> <md-list layout=row layout-align="start start" layout-wrap> <nv-genre-item ng-repeat="genre in gfnGenres.genreList" nv-genre=genre class=gfn-genre-games-item></nv-genre-item> </md-list> </md-content> '},function(e,t){e.exports=" <md-list-item layout=column layout-align=\"start start\" class=bg-dark-hv> <img ng-src={{nvGame.infoImage}} alt=gameitem /> <div style=width:inherit layout=row> <div class=md-list-item-text> <p>{{nvGame.displayName}}</p> <p class=color-light-gray> {{'l10n.releaseDate' | translate }} {{nvGame.releaseDate}} </p> </div> </div> </md-list-item> "},function(e,t){e.exports='<md-content layout=row layout-align="start start" layout-wrap> <md-list layout=row layout-align="start start" layout-wrap> <nv-latest-game-item ng-repeat="gameItem in games.latestGameList" nv-game=gameItem class=gfn-games-item></nv-latest-game-item> </md-list> </md-content> '},function(e,t){e.exports="<html> <head> <style>body{background-color:#1a1a1a;font-family:Roboto,sans-serif}.centered{position:absolute;top:50%;left:50%;margin-right:50%;transform:translate(-50%,-50%)}p{color:rgba(255,255,255,.3);width:410px;text-align:center}a{color:#76b900;text-transform:capitalize;text-decoration:none}</style> <script> function sendErrorMessage() {\r\n            let errorMessage = {\r\n                error: {\r\n                    errorCode: '?ERROR_CODE',\r\n                    errorText: '?ERROR_TEXT',\r\n                    failedUrl: '?FAILED_URL'\r\n                }\r\n            };\r\n            window.opener.postMessage(errorMessage, \"*\")\r\n        } <\/script> </head> <body onload=sendErrorMessage()> <div class=centered> <p aria-hidden=true> <img src=\"data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjNWE1YTVhIiBoZWlnaHQ9IjQ4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSI0OCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4gICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPiAgICA8cGF0aCBkPSJNMTIgMkM2LjQ4IDIgMiA2LjQ4IDIgMTJzNC40OCAxMCAxMCAxMCAxMC00LjQ4IDEwLTEwUzE3LjUyIDIgMTIgMnptMSAxNWgtMnYtNmgydjZ6bTAtOGgtMlY3aDJ2MnoiLz48L3N2Zz4=\"> </p> <p> {{errorMessage}} </p> <p> <a href=.>{{retry}}</a> </p> </div> </body> </html> "},function(e,t,n){e.exports=' <md-menu md-offset="210 25" md-position-mode="target-right target" data-ng-init=notifications.onInit($mdOpenMenu);> <div class=constants-position-relative> <div class="notification-badge-container text-align-center constants-position-absolute"> <div ng-hide=notifications.nvDisabled nv-badge={{notifications.getNotificationBadgeNumber()}}></div> </div> <md-button class="md-icon-button notification-menu-button" ng-click=notifications.showNotifications($mdMenu) aria-label=notificationButton> <md-tooltip><span translate=l10n.notifications></span></md-tooltip> <md-icon md-font-set=material-icons class=md-18 aria-label=notifications aria-hidden=true>notifications</md-icon> </md-button> </div> <md-menu-content md-menu-align-target md-menu-origin class="notifications-md-menu-content margin-zero padding-zero bg-dark-vh-hue-4 common-overflow-auto padding-bottom-3"> <img class="notification-direction notifications-menu-width constants-position-absolute" ng-src='+n(711)+' /> <md-list class="notifications-md-list margin-zero padding-zero"> <md-list-item class="no-focus-outline cursor-pointer-on-hover clickable-element notification-item padding-zero-important" ng-repeat="notification in notifications.notificationList"> <div class="no-focus-outline margin-left-4" ng-click=notifications.onNotificationClicked(notification); layout=column flex layout-fill> <div layout=column flex layout-fill ng-if="!notifications.showBigNotification($index, notification)"> <md-divider class="top-zero constants-position-relative"></md-divider> <div layout=row flex layout-fill> <div class="notification-color-bar-width small-notification-height bg-green-hv constants-position-absolute left-1"></div> <div class="small-notification-image-width small-notification-height"> <img ng-src={{notification.artWork}} flex=none layout-fill alt={{::notification.artWork}} nv-image-fallback=nv-no-loading-indicator /> </div> <div flex layout=column class="small-notification-height notifications-menu-width margin-left-36 margin-right-12 margin-top-zero"> <span class="color-white-hue-5 font-size-xxs line-height-12 constants-position-absolute right-12 top-8">{{ notification.readableTime }}</span> <div layout=column flex layout-align="center start"> <div class=small-notification-header> <p id="{{ \'small-notification-heading\' + $index }}" class="font-size-sm margin-zero padding-zero small-notification-details" nv-ellipsis-lines=1 translate={{notification.heading.text}} translate-values={{notification.heading.values}}></p> <md-tooltip ng-if="notifications.showTooltip($index,\'small-notification-heading\')" md-z-index=300 md-autohide><span translate={{notification.heading.text}} translate-values={{notification.heading.values}}></span></md-tooltip> </div> <p class="color-green font-size-xxs margin-zero padding-zero margin-top-4 notifications-ellipsis small-notification-details" translate={{notification.description.text}} translate-values={{notification.description.values}}></p> </div> </div> </div> </div> <div layout=row flex layout-fill ng-if="notifications.showBigNotification($index, notification)"> <div class="notification-color-bar-width bg-green-hv constants-position-absolute left-1 large-notification-height"></div> <div layout=column flex layout-fill> <div class="notifications-menu-width large-notification-image-height"> <img ng-src={{notification.artWorkHighRes}} flex=none layout-fill alt={{::notification.artWork}} nv-image-fallback=nv-no-loading-indicator /> </div> <div layout=column class="small-notification-height margin-top-8"> <span class="color-white-hue-5 font-size-xxs line-height-12 constants-position-absolute right-12">{{ notification.readableTime }}</span> <div layout=column flex layout-align="center center" class="margin-right-36 margin-left-36"> <div class=big-notification-header> <p id="{{ \'big-notification-heading\' + $index }}" class="font-size-xl1 margin-zero padding-zero" nv-ellipsis-lines=1 translate={{notification.heading.text}} translate-values={{notification.heading.values}}></p> <md-tooltip ng-if="notifications.showTooltip($index,\'big-notification-heading\')" md-z-index=300 md-autohide><span translate={{notification.heading.text}} translate-values={{notification.heading.values}}></span></md-tooltip> </div> <p class="color-green font-size-xl margin-zero padding-zero margin-top-4 notifications-ellipsis" translate={{notification.description.text}} translate-values={{notification.description.values}}></p> </div> </div> </div> </div> </div> </md-list-item> <md-list-item ng-if=!notifications.notificationList.length> <div layout=row flex layout-fill layout-align="center center" class="notifications-menu-width notifications-menu-height"> <div layout=column> <md-icon md-font-set=material-icons class=md-18 aria-label=notificationIcon aria-hidden=true>notifications</md-icon> <p translate=l10n.noNotifications></p> </div> </div> </md-list-item> </md-list> <div class="notifications-menu-left-outline-width constants-position-absolute bg-dark-eh left-zero top-zero" layout-fill></div> </md-menu-content> </md-menu> '},function(e,t){e.exports=' <div class=oobe-dialog-right-pane ng-class="{\'oobe-oauth-login-image\': !oobeAuthChooseCtrl.showLoadingIndicator }" layout=column layout-fill aria-label=oobe-image aria-hidden=true> <div ng-if=oobeAuthChooseCtrl.showLoadingIndicator layout=row layout-align="center center" flex aria-label=loadingIndicator-section> <md-progress-circular class=md-accent md-diameter=30 md-mode=indeterminate aria-label=oobe-loadingIndicator aria-hidden=true> </md-progress-circular> </div> <div ng-if=!oobeAuthChooseCtrl.showLoadingIndicator flex layout=column layout-align="start center" ng-show=oobeAuthChooseCtrl.showNvLogin aria-hidden=true aria-label=login-space-filler> <div class=oobe-oauth-login-top-filler aria-label=top-space-filler></div> <div class=oobe-oauth-login-scrim ng-if=oobeAuthChooseCtrl.messageBanner() layout=column layout-align=center aria-label=login-message> <div class=oobe-oauth-message-banner layout=row layout-align="start center" aria-label=alertIcon-section> <md-icon md-font-set=nv-custom-icons md-font-icon=icon-alert-circle_reg class="nv-custom-icons margin-zero md-32" aria-label=alertIcon aria-hidden=true></md-icon> <div class="color-white-hue-4 font-size-lg margin-left-16"> <span translate={{oobeAuthChooseCtrl.messageBanner()}} aria-label=banner-message></span> </div> </div> </div> <div class=oobe-oauth-login-text> <span translate=l10n.gameMaxPerformance aria-label=gameMaxPerformance-label></span> </div> <div class=oobe-oauth-login-text> <span translate=l10n.gameReadyDrivers aria-label=gameReadyDriver-label></span> </div> <div class=oobe-oauth-login-text> <span translate=l10n.shareGameMoments aria-label=shareGameMoments-label></span> </div> <div flex layout=row layout-align="end center" layout-fill aria-label=loginButtonLayout> <md-button class="md-accent color-white md-raised" ng-click=oobeAuthChooseCtrl.initLogin() ng-disabled=!oobeAuthChooseCtrl.onlineState.online translate=l10n.logIn aria-label=JarvisOAuthLoginButton aria-hidden=true> </md-button> </div> </div> </div> '},function(e,t){e.exports=' <form class=oobe-dialog-right-pane autocomplete=off flex layout=column name=oobeAuthEditEmailCtrl.emailForm ng-submit=oobeAuthEditEmailCtrl.onDone()> <waiting-overlay layout layout-align="center center" ng-if=oobeAuthEditEmailCtrl.waiting> <md-progress-circular class=md-accent md-mode=indeterminate md-diameter=35></md-progress-circular> </waiting-overlay> <div class=title layout=row layout-align="start center"> <h1 flex translate=l10n.editEmailAddress></h1> </div> <div class=message-banner ng-if=oobeAuthEditEmailCtrl.message translate={{oobeAuthEditEmailCtrl.message}}></div> <md-content flex layout=column class=content> <div class=secondary-title translate=l10n.enterYourInformation></div> <div layout=column layout-align="start start"> <md-input-container layout-fill class=md-icon-right ng-init="oobeAuthEditEmailCtrl.passwordBoxType = \'password\'"> <label translate=l10n.currentPassword></label> <input nv-input name=password ng-model=oobeAuthEditEmailCtrl.password ng-change=oobeAuthEditEmailCtrl.passwordChanged() required tabindex=1 type={{oobeAuthEditEmailCtrl.passwordBoxType}} md-no-asterisk/> <md-icon ng-if="oobeAuthEditEmailCtrl.passwordBoxType == \'password\'" class="nv-custom-icons oobe-login-pointer" md-font-icon=icon-eye ng-click="oobeAuthEditEmailCtrl.passwordBoxType = \'text\'" aria-label=eyeIcon aria-hidden=true></md-icon> <md-icon ng-if="oobeAuthEditEmailCtrl.passwordBoxType == \'text\'" class="nv-custom-icons oobe-login-pointer" md-font-icon=icon-eye-off ng-click="oobeAuthEditEmailCtrl.passwordBoxType = \'password\'" aria-label=eyeOffIcon aria-hidden=true></md-icon> <div class=error-message ng-messages=oobeAuthEditEmailCtrl.emailForm.password.$error ng-show=oobeAuthEditEmailCtrl.emailForm.password.$touched md-auto-hide=false> <div ng-message=required> <div translate=l10n.required></div> </div> <div ng-message=invalidPassword> <div translate=l10n.incorrectPassword></div> </div> </div> </md-input-container> <md-input-container layout-fill> <label translate=l10n.newEmailAddress></label> <input nv-input name=email ng-model=oobeAuthEditEmailCtrl.email ng-change=oobeAuthEditEmailCtrl.emailChanged() required tabindex=2 type=email md-no-asterisk/> <div class=error-message ng-messages=oobeAuthEditEmailCtrl.emailForm.email.$error ng-show=oobeAuthEditEmailCtrl.emailForm.email.$touched md-auto-hide=false> <div ng-message=email> <div translate=l10n.invalidEmail></div> </div> <div ng-message=required> <div translate=l10n.required></div> </div> <div ng-message=notAvailable> <div translate=l10n.emailAddressInUse></div> </div> </div> </md-input-container> <md-input-container layout-fill> <label translate=l10n.reEnterEmailAddress></label> <input nv-input name=reEnterEmail ng-model=oobeAuthEditEmailCtrl.reEnterEmail required nv-fields-match={{oobeAuthEditEmailCtrl.emailForm.email.$viewValue}} tabindex=3 type=email md-no-asterisk/> <div class=error-message ng-messages=oobeAuthEditEmailCtrl.emailForm.reEnterEmail.$error ng-show=oobeAuthEditEmailCtrl.emailForm.reEnterEmail.$touched md-auto-hide=false> <div ng-message=email> <div translate=l10n.invalidEmail></div> </div> <div ng-message=required> <div translate=l10n.required></div> </div> <div ng-message=fieldsMatch> <div translate=l10n.emailAddressesDoNotMatch></div> </div> </div> </md-input-container> </div> </md-content> <div class=md-actions layout=row dir=rtl> <md-button type=submit class=md-accent translate=l10n.done aria-label=submit-button></md-button> <md-button ng-click=oobeAuthEditEmailCtrl.onCancel() translate=l10n.cancel aria-label=cancel-button></md-button> <span flex></span> </div> </form> '},function(e,t){e.exports=' <form class=oobe-dialog-right-pane autocomplete=off flex layout=column name=oobeAuthForgotPasswordCtrl.forgotForm novalidate ng-submit=oobeAuthForgotPasswordCtrl.onSubmit()> <waiting-overlay layout layout-align="center center" ng-if=oobeAuthForgotPasswordCtrl.waiting> <md-progress-circular class=md-accent md-mode=indeterminate md-diameter=35></md-progress-circular> </waiting-overlay> <div class=title layout=row layout-align="start center"> <h1 flex translate=l10n.forgotPassword></h1> </div> <div class=message-banner ng-if=oobeAuthForgotPasswordCtrl.message translate={{oobeAuthForgotPasswordCtrl.message}}></div> <md-content flex layout=column class=content> <div ng-if=!oobeAuthForgotPasswordCtrl.sentView> <div class=secondary-title translate=l10n.forgotPasswordText></div> <md-input-container layout-fill> <label translate=l10n.emailAddress></label> <input nv-input name=email ng-model=oobeAuthForgotPasswordCtrl.email required tabindex=1 type=email md-no-asterisk/> <div class=error-message ng-messages=oobeAuthForgotPasswordCtrl.forgotForm.email.$error ng-show=oobeAuthForgotPasswordCtrl.forgotForm.email.$touched md-auto-hide=false> <div ng-message=email> <div translate=l10n.invalidEmail></div> </div> <div ng-message=required> <div translate=l10n.enterYourEmailAddress></div> </div> </div> </md-input-container> </div> <div ng-if=oobeAuthForgotPasswordCtrl.sentView> <div class=secondary-title translate-values={{oobeAuthForgotPasswordCtrl}} translate=l10n.forgotPasswordSentText></div> </div> </md-content> <div class=md-actions layout=row dir=rtl ng-if=!oobeAuthForgotPasswordCtrl.sentView> <md-button type=submit class=md-accent translate=l10n.submit aria-label=forgotPassword-submitButton> </md-button> <span flex></span> <md-button ng-click=oobeAuthForgotPasswordCtrl.onCancel() translate=l10n.cancel aria-label=forgotPassword-cancelButton> </md-button> </div> <div class=md-actions layout=row dir=rtl ng-if=oobeAuthForgotPasswordCtrl.sentView> <md-button type=submit class=md-accent ng-click=oobeAuthForgotPasswordCtrl.onDone() translate=l10n.done aria-label=forgotPassword-onDone-button> </md-button> <span flex></span> </div> </form> '},function(e,t){e.exports=' <form nv-input-autofocus nv-key-code=27 nv-key-action=oobeAuthNvLoginCtrl.onClickClose() class=oobe-dialog-right-pane autocomplete=off flex layout=column name=oobeAuthNvLoginCtrl.loginForm novalidate ng-submit=oobeAuthNvLoginCtrl.onSubmit()> <waiting-overlay layout layout-align="center center" ng-if=oobeAuthNvLoginCtrl.waiting> <md-progress-circular class=md-accent md-mode=indeterminate md-diameter=30></md-progress-circular> </waiting-overlay> <div class="title large" layout=column> <div class=logo-title layout=row layout-fill> <md-icon class="title-logo nv-custom-icons" md-font-icon=icon-nvlogo aria-label=nvlogo aria-hidden=true></md-icon> <h1 flex translate=l10n.logInWithNVIDIA></h1> </div> <div class=message-banner ng-if=oobeAuthNvLoginCtrl.messageBanner()> <span translate={{oobeAuthNvLoginCtrl.messageBanner()}} translate-values={{oobeAuthNvLoginCtrl.messageTranslateValues}}></span> </div> </div> <md-content class=content flex layout=column> <div layout=column layout-align="start start"> <md-input-container layout-fill> <label translate=l10n.emailAddress></label> <input nv-input name=email maxlength={{oobeAuthNvLoginCtrl.validationObject.email.maxsize}} ng-change=oobeAuthNvLoginCtrl.fieldsChanged() ng-model=oobeAuthNvLoginCtrl.email required type=email md-no-asterisk/> <div class=error-message ng-messages=oobeAuthNvLoginCtrl.loginForm.email.$error ng-show=oobeAuthNvLoginCtrl.loginForm.email.$touched md-auto-hide=false> <div ng-message=email> <div translate=l10n.invalidEmail></div> </div> <div ng-message=required> <div translate=l10n.enterYourEmailAddress></div> </div> </div> </md-input-container> <md-input-container layout-fill class=md-icon-right ng-init="oobeAuthNvLoginCtrl.passwordBoxType = \'password\'"> <label translate=l10n.password></label> <input nv-input name=password maxlength={{oobeAuthNvLoginCtrl.validationObject.password.maxsize}} ng-change=oobeAuthNvLoginCtrl.fieldsChanged() ng-model=oobeAuthNvLoginCtrl.password required type={{oobeAuthNvLoginCtrl.passwordBoxType}} md-no-asterisk/> <md-icon ng-if="oobeAuthNvLoginCtrl.passwordBoxType == \'password\'" class="nv-custom-icons oobe-login-pointer" md-font-icon=icon-eye ng-click="oobeAuthNvLoginCtrl.passwordBoxType = \'text\'" aria-label=eyeIcon aria-hidden=true></md-icon> <md-icon ng-if="oobeAuthNvLoginCtrl.passwordBoxType == \'text\'" class="nv-custom-icons oobe-login-pointer" md-font-icon=icon-eye-off ng-click="oobeAuthNvLoginCtrl.passwordBoxType = \'password\'" aria-label=eyeOffIcon aria-hidden=true></md-icon> <div class=error-message ng-messages=oobeAuthNvLoginCtrl.loginForm.password.$error ng-show=oobeAuthNvLoginCtrl.loginForm.password.$touched md-auto-hide=false> <div layout=row ng-message=required> <div translate=l10n.enterYourPassword></div> </div> </div> </md-input-container> </div> <div> <md-button class=forgot-password ng-click=oobeAuthNvLoginCtrl.onClickForgotPassword() translate=l10n.forgotPassword aria-label=forgotPasswordButton> </md-button> </div> </md-content> <div class=md-actions layout=row dir=rtl> <md-button class="md-raised md-accent color-white-important" ng-disabled=!oobeAuthNvLoginCtrl.onlineState.online type=submit translate=l10n.logIn aria-label=logInButtton></md-button> <md-button class=margin-right-8 ng-click=oobeAuthNvLoginCtrl.onClickBack() translate=l10n.back aria-label=back-Button></md-button> <span flex></span> <md-button ng-disabled=!oobeAuthNvLoginCtrl.onlineState.online ng-click=oobeAuthNvLoginCtrl.onClickRegister() translate=l10n.createNewAccount aria-label=create-newAccount-button></md-button> <span class=button-helper translate=l10n.dontHaveAnAccount dir=auto></span> </div> </form> '},function(e,t){e.exports=' <form nv-input-autofocus nv-key-code=27 nv-key-action=oobeAuthNvRegisterCtrl.onClickClose() class=oobe-dialog-right-pane autocomplete=off flex layout=column name=oobeAuthNvRegisterCtrl.regForm ng-submit=oobeAuthNvRegisterCtrl.onSubmit() novalidate> <waiting-overlay layout layout-align="center center" ng-if=oobeAuthNvRegisterCtrl.waiting> <md-progress-circular class=md-accent md-mode=indeterminate md-diameter=35></md-progress-circular> </waiting-overlay> <div class="title large" layout=column> <div class=logo-title layout=row layout-fill> <md-icon class="title-logo nv-custom-icons" md-font-icon=icon-nvlogo aria-label=nvlogo aria-hidden=true></md-icon> <h1 flex translate={{oobeAuthNvRegisterCtrl.title}} ng-if="oobeAuthNvRegisterCtrl.regView === \'register\'"></h1> <h1 flex translate=l10n.registrationFailed ng-if="oobeAuthNvRegisterCtrl.regView === \'coppa\'"></h1> </div> <div class=message-banner ng-if=oobeAuthNvRegisterCtrl.messageBanner()> <span translate={{oobeAuthNvRegisterCtrl.messageBanner()}}></span> </div> </div> <md-content class=content flex layout=column ng-show="oobeAuthNvRegisterCtrl.regView === \'register\'"> <div layout=column layout-align="start start"> <md-input-container layout-fill> <label translate=l10n.displayName></label> <input nv-input maxlength={{oobeAuthNvRegisterCtrl.validationObject.displayName.maxsize}} nv-extended-pattern={{oobeAuthNvRegisterCtrl.validationObject.displayName}} ng-trim=false name=displayName ng-model=oobeAuthNvRegisterCtrl.regModel.displayName nv-valid-display-name required md-no-asterisk> <div class=error-message ng-messages=oobeAuthNvRegisterCtrl.displayNameErrorWrapper md-auto-hide=false> <div ng-message=required> <div translate=l10n.required></div> </div> <div ng-message=extendedPattern> <div translate=l10n.displayNameReqs translate-values={{oobeAuthNvRegisterCtrl.validationObject.displayName}}></div> </div> <div ng-message=notAvailable> <div translate=l10n.displayNameNotAvailable></div> </div> </div> </md-input-container> <div class=input-helper translate=l10n.displayNameDetails></div> <md-input-container layout-fill> <label translate=l10n.emailAddress></label> <input nv-input maxlength={{oobeAuthNvRegisterCtrl.validationObject.email.maxsize}} nv-extended-pattern={{oobeAuthNvRegisterCtrl.validationObject.email}} name=email ng-model=oobeAuthNvRegisterCtrl.regModel.email ng-change=oobeAuthNvRegisterCtrl.emailChanged() required type=email ng-disabled=oobeAuthNvRegisterCtrl.emailDisabled md-no-asterisk> <div class=error-message ng-messages=oobeAuthNvRegisterCtrl.regForm.email.$error ng-show=oobeAuthNvRegisterCtrl.regForm.email.$touched md-auto-hide=false> <div ng-message=required> <div translate=l10n.required></div> </div> <div ng-message="extendedPattern, email"> <div translate=l10n.invalidEmail></div> </div> <div ng-message=notAvailable> <div translate=l10n.emailAddressInUse></div> </div> </div> </md-input-container> <md-input-container layout-fill class=md-icon-right ng-if="oobeAuthNvRegisterCtrl.nvType !== \'social\'" ng-init="oobeAuthNvRegisterCtrl.passwordBoxType=\'password\'"> <label translate=l10n.password></label> <input nv-input minlength={{oobeAuthNvRegisterCtrl.validationObject.password.minsize}} maxlength={{oobeAuthNvRegisterCtrl.validationObject.password.maxsize}} nv-extended-pattern={{oobeAuthNvRegisterCtrl.validationObject.password}} name=password ng-model=oobeAuthNvRegisterCtrl.regModel.password required type={{oobeAuthNvRegisterCtrl.passwordBoxType}} md-no-asterisk> <md-icon ng-if="oobeAuthNvRegisterCtrl.passwordBoxType == \'password\'" class="nv-custom-icons oobe-login-pointer" md-font-icon=icon-eye ng-click="oobeAuthNvRegisterCtrl.passwordBoxType = \'text\'" aria-label=eyeIcon aria-hidden=true></md-icon> <md-icon ng-if="oobeAuthNvRegisterCtrl.passwordBoxType == \'text\'" class="nv-custom-icons oobe-login-pointer" md-font-icon=icon-eye-off ng-click="oobeAuthNvRegisterCtrl.passwordBoxType = \'password\'" aria-label=eyeOffIcon aria-hidden=true></md-icon> <div class=error-message ng-messages=oobeAuthNvRegisterCtrl.regForm.password.$error ng-show=oobeAuthNvRegisterCtrl.regForm.password.$touched md-auto-hide=false> <div ng-message=required> <div translate=l10n.required></div> </div> <div ng-message="minlength, maxlength, extendedPattern"> <div translate-values="{{ {minsize: oobeAuthNvRegisterCtrl.validationObject.password.minsize || 9, required: oobeAuthNvRegisterCtrl.validationObject.password.patternGroups.required || 3} }}" translate=l10n.passwordReqs></div> </div> </div> </md-input-container> <nv-custom-date ng-model=oobeAuthNvRegisterCtrl.regModel.birthdate title-string={{oobeAuthNvRegisterCtrl.dateOfBirthTitle}} locale-string={{oobeAuthNvRegisterCtrl.locale}}> </nv-custom-date> <md-checkbox class=checkbox-20 ng-model=oobeAuthNvRegisterCtrl.regModel.subscribe aria-label=oobeAuthNvRegisterCtrlSubscribe> <div translate=l10n.subscribe></div> </md-checkbox> <md-checkbox class=checkbox-20 name=agreeToTerms ng-model=oobeAuthNvRegisterCtrl.regModel.agree required aria-label=oobeAuthNvRegisterCtrlAgreeToTerms> <span translate=l10n.agreeToTerms translate-values=\'{agreeToTermsLink: "class=\\"in-app-link\\" ng-click=\\"oobeAuthNvRegisterCtrl.onClickAgreeToTerms($event)\\""}\' translate-compile></span> </md-checkbox> </div> </md-content> <md-content class=content flex layout=column ng-show="oobeAuthNvRegisterCtrl.regView === \'coppa\'"> <p translate=l10n.coppaText></p> </md-content> <div class="md-actions shadow-top" layout=row dir=rtl ng-if="oobeAuthNvRegisterCtrl.regView === \'register\'"> <md-button ng-disabled=!oobeAuthNvRegisterCtrl.onlineState.online type=submit class="md-raised md-accent color-white-important" translate=l10n.register aria-label=register-button></md-button> <md-button class=margin-right-8 ng-click=oobeAuthNvRegisterCtrl.onClickBack() translate=l10n.back aria-label=back-button></md-button> <span flex></span> </div> <div class=md-actions layout=row dir=rtl ng-if="oobeAuthNvRegisterCtrl.regView === \'coppa\'"> <md-button ng-click=oobeAuthNvRegisterCtrl.onClickDone() translate=l10n.done aria-label=register-done-button></md-button> <md-button class=margin-right-8 ng-click=oobeAuthNvRegisterCtrl.onClickPrivacyPolicy() translate=l10n.privacyPolicy aria-label=privacy-policy-button></md-button> <span flex></span> </div> </form> '},function(e,t,n){e.exports=' <div class=oobe-dialog-right-pane flex layout=column> <div class=oobe-dialog-done-pane-content> <div layout=column flex layout-align="center center"> <img src='+n(193)+' /> </div> </div> <span flex></span> <div class=md-actions layout=row dir=rtl> <md-button ng-click=oobeAuthQrCodeCtrl.onContinue() class="md-raised md-accent color-white-important" translate=l10n.continue aria-label=continue-button></md-button> </div> </div> '},function(e,t){e.exports='<md-content class=oobe-dialog-right-pane layout=column layout-align="center center" flex> <img ng-src={{oobeAuthSyncCtrl.avatar.url}} class=md-avatar alt={{oobeAuthSyncCtrl.displayName}} nv-fallback-src={{oobeAuthSyncCtrl.defaultAvatarUrl}} nv-circle=medium /> <p class="font-size-lg color-white-hue-1">{{oobeAuthSyncCtrl.displayName}}</p> <p class=color-light-gray translate=l10n.loginProgress></p> </md-content> '},function(e,t){e.exports=' <form class=oobe-dialog-right-pane autocomplete=off flex layout=column name=oobeAuthVerificationCtrl.verificationForm ng-submit=oobeAuthVerificationCtrl.onRecheck()> <waiting-overlay layout layout-align="center center" ng-if=oobeAuthVerificationCtrl.waiting> <md-progress-circular class=md-accent md-mode=indeterminate md-diameter=35></md-progress-circular> </waiting-overlay> <div class=title layout=row layout-align="start center"> <h1 flex translate={{oobeAuthVerificationCtrl.title}}></h1> </div> <div class=message-banner ng-if=oobeAuthVerificationCtrl.message translate={{oobeAuthVerificationCtrl.message}}></div> <md-content flex layout=column class=content> <div class=dialog-email-verification-email flex layout layout-align="center center"> <span>{{oobeAuthVerificationCtrl.translateValues.email}}</span> </div> <div class=secondary-title translate-values={{oobeAuthVerificationCtrl.translateValues}} translate=l10n.verficationEmailHasBeenSent></div> <div class=secondary-title translate=l10n.clickContinueAfter></div> </md-content> <div class=md-actions layout=row> <md-button type=submit class=md-accent translate=l10n.continue aria-label=continue-button></md-button> <md-button id=resendbutton class=nv-ellipsis ng-click=oobeAuthVerificationCtrl.onResend() translate=l10n.resendVerification aria-label=resendVerification-button> <md-tooltip ng-show="(oobeAuthVerificationCtrl.isOverflowed(\'resendbutton\'))"> <span class=font-uppercase translate=l10n.resendVerification></span> </md-tooltip> </md-button> <span flex></span> <md-button ng-click=oobeAuthVerificationCtrl.onChangeUser() translate=l10n.changeUser aria-label=changeUser-button></md-button> </div> </form> '},function(e,t){e.exports=" <md-content layout=row flex aria-hidden=true aria-label=oobe-auth-view> <nv-oobe-dialog-left-side ng-if=oobeAuthCtrl.isLeftPaneVisible() aria-label=oobe-auth-dialog-ls></nv-oobe-dialog-left-side> <div flex layout=column ng-switch on=oobeAuthCtrl.nvActiveAuthView aria-label=oobe-active-auth-view> <nv-oobe-auth-choose flex layout ng-switch-when=choose message={{oobeAuthCtrl.message}} aria-label=oobe-auth></nv-oobe-auth-choose> <nv-oobe-auth-nv-login flex layout ng-switch-when=nvLogin message={{oobeAuthCtrl.message}} nv-prefilled=oobeAuthCtrl.prefilledLogin aria-label=oobe-auth-login></nv-oobe-auth-nv-login> <nv-oobe-auth-nv-register flex layout ng-switch-when=nvRegister nv-type={{oobeAuthCtrl.registerType}} nv-prefilled=oobeAuthCtrl.prefilledRegistration aria-label=oobe-auth-register></nv-oobe-auth-nv-register> <nv-oobe-auth-sync flex layout ng-switch-when=sync aria-label=oobe-auth-sync></nv-oobe-auth-sync> <nv-oobe-auth-forgot-password flex layout ng-switch-when=forgotPassword aria-label=oobe-auth-forgot-password></nv-oobe-auth-forgot-password> <nv-oobe-auth-verification flex layout ng-switch-when=verification nv-session-object=oobeAuthCtrl.sessionObject nv-type={{oobeAuthCtrl.verificationType}} aria-label=oobe-auth-verification></nv-oobe-auth-verification> <nv-oobe-auth-edit-email flex layout ng-switch-when=editEmail nv-session-object=oobeAuthCtrl.sessionObject aria-label=oobe-auth-edit-email></nv-oobe-auth-edit-email> <nv-oobe-auth-qr-code flex layout nv-session-object=oobeAuthCtrl.sessionObject nv-email-verification={{oobeAuthCtrl.emailVerification}} ng-switch-when=qrCodeScan aria-label=oobe-auth-qrCode-scan></nv-oobe-auth-qr-code> </div> </md-content> "},function(e,t){e.exports='<div class="oobe-dialog crimson" layout=row ng-switch on=oobeCtrl.nvActiveView> <nv-oobe-dialog-left-side></nv-oobe-dialog-left-side> <div class=oobe-dialog-right-pane flex layout=column> <span flex></span> <div class=oobe-blocked-message layout layout-align="center center"> <p translate=l10n.blockedMessage></p> </div> <span flex></span> <div class=md-actions layout=row dir=rtl> <span flex></span> <a class=oobe-blocked-link href={{oobeBlockedCtrl.additionalInfoLink}} translate=l10n.additionalInfo></a> <span flex></span> </div> </div> </div> '},function(e,t){e.exports='<div class=oobe-login-left-side> <div class=oobe-side-text layout layout-align="center center"> <p translate=l10n.gameMaxPerformance></p> </div> <div class=oobe-side-text layout layout-align="center center"> <p translate=l10n.gameReadyDrivers></p> </div> <div class=oobe-side-text layout layout-align="center center"> <p translate=l10n.shareGameMoments></p> </div> </div> '},function(e,t){e.exports=" <div class=crimson layout=row ng-class=\"{'oobe-oauth-login-pane': oobeCtrl.onJarvisOAuthLogin(), 'oobe-dialog': !oobeCtrl.onJarvisOAuthLogin()}\" ng-switch on=oobeCtrl.nvActiveView aria-hidden=true> <nv-dialog-progress-bar layout=row class=oobe-dialog-progress-bar ng-if=oobeCtrl.progressShow nv-progress-active={{oobeCtrl.progressActive}} nv-progress-sections={{oobeCtrl.progressSections}} aria-label=oobe-dialog-progress-bar-section aria-hidden=true> </nv-dialog-progress-bar> <nv-oobe-auth flex layout=row ng-switch-when=auth nv-oobe-params=oobeCtrl.nvOobeParams aria-hidden=true></nv-oobe-auth> <nv-oobe-ul-welcome flex layout=row ng-switch-when=ulWelcome aria-label=oobe-welcome-window aria-hidden=true></nv-oobe-ul-welcome> <nv-oobe-no-driver flex layout=row ng-switch-when=noDriver aria-label=no-driver-window aria-hidden=true></nv-oobe-no-driver> </div> "},function(e,t){e.exports=' <md-content layout=row flex> <nv-oobe-dialog-left-side></nv-oobe-dialog-left-side> <div class=oobe-dialog-right-pane flex layout=column> <div class="title large"> <h1 translate=l10n.noDriverFound></h1> </div> <div class="font-size-sm color-medium-gray content" translate=l10n.clickContinueToInstallDriver> </div> <span flex></span> <div class=md-actions layout=row dir=rtl> <md-button class="md-raised md-accent color-white-important" ng-click=oobeNoDriverCtrl.onClickContinue() translate=l10n.continue aria-label=continueToInstallDriver-button></md-button> <span flex></span> </div> </div> </md-content> '},function(e,t){e.exports=' <md-content class=oobe-welcome-dialog layout=row flex> <nv-oobe-dialog-left-side></nv-oobe-dialog-left-side> <div class=oobe-dialog-right-pane flex layout=column> <div class="title large" layout=row> <h1 translate=l10n.keepGamesOptimized></h1> </div> <div layout=column flex> <p class="font-size-sm color-medium-gray content" translate=l10n.gfeBestExperience></p> <div layout=column class="margin-left-24 margin-top-24"> <md-checkbox class=checkbox-20 ng-model=oobeUlWelcomeCtrl.autoOptimize ng-change=oobeUlWelcomeCtrl.onAutoOptimizeChanged() aria-label=oobeUlWelcomeCtrlAutoOptimize> <span class=color-medium-gray translate=l10n.autoOptimizeNewGames></span> </md-checkbox> </div> </div> <div class=md-actions layout=column> <div layout=row layout-align="space-between center"> <div class="ul-actions-left margin-left-24"> <p class="margin-left-8 color-medium-gray" translate=l10n.scanningForGames ng-if=!oobeUlWelcomeCtrl.gameScanFinished></p> <p class="font-size-sm color-medium-gray margin-left-8" translate=l10n.scanGamesProgress translate-values={{oobeUlWelcomeCtrl.translateValues}} ng-if=oobeUlWelcomeCtrl.gameScanFinished></p> </div> <div> <md-button class="md-accent font-uppercase" ng-click=oobeUlWelcomeCtrl.onDismissDialog(false) translate=l10n.skip aria-label=skip-button> </md-button> <md-button class="md-raised md-accent color-white-important font-uppercase" ng-click=oobeUlWelcomeCtrl.onDismissDialog(true) translate=l10n.startTour aria-label=startTour-button> </md-button> </div> </div> </div> </div> </md-content> '},function(e,t){e.exports=' <md-content class=preferences-accounts-edit-avatar layout=column> <div ng-show=editAvatarCtrl.showCroppie()> <div layout=row layout-align="center center" class=constants-position-relative> <nv-croppie async-result=editAvatarCtrl.output update=editAvatarCtrl.onUpdate boundry=editAvatarCtrl.croppieBoundary viewport=editAvatarCtrl.croppieViewport type=circle zoom=true src=editAvatarCtrl.sourceImage hit-apply=editAvatarCtrl.hitApply> </nv-croppie> <nv-overlay class=common-overlay layout-fill ng-show=editAvatarCtrl.showProgressIndicator> <span layout-fill layout-align="center center" layout=column> <md-progress-circular id=progressIndicator class=md-accent md-diameter=15 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> <nv-overlay class=common-overlay layout-fill ng-show=editAvatarCtrl.showSuccess> <span layout-fill layout-align="center center" layout=column> <md-icon md-font-set=material-icons class="margin-zero md-accent md-32" aria-label=checkCircle aria-hidden=true>check_circle</md-icon> </span> </nv-overlay> </div> </div> <div ng-show=editAvatarCtrl.showPreview() layout=column layout-align="center center" class=avatar-image> <img ng-src={{editAvatarCtrl.avatarObject.url}} class=md-avatar nv-circle=large nv-fallback-src={{editAvatarCtrl.defaultAvatarUrl}} /> </div> <div ng-show=editAvatarCtrl.showError() layout=column flex layout-align="center center" class="bg-dark-eh avatar-image-error"> <md-icon md-font-set=material-icons class="margin-zero color-white-hue-4 md-32" aria-label=errorMessage aria-hidden=true>error</md-icon> <p class="color-white-hue-4 font-size-sm1">{{editAvatarCtrl.errorMsg}}</p> </div> <div layout=row layout-align="space-between center" class="margin-bottom-8 margin-top-8"> <p class="color-white-hue-4 margin-zero" translate=l10n.chooseAvatarFromGallery></p> <div flex></div> <nv-image-upload on-image-select=editAvatarCtrl.onFileSelect(newImage) ng-if=editAvatarCtrl.userProfileEnabled> <span class=md-button translate=l10n.uploadFromPC></span> </nv-image-upload> </div> <md-content flex layout-align=center> <md-list> <md-list-item ng-repeat="item in editAvatarCtrl.avatarList track by $index" class=avatar-list-item> <img ng-src={{item.url}} class=md-avatar nv-circle=medium ng-click=editAvatarCtrl.selectAvatar(item) /> </md-list-item> </md-list> </md-content> </md-content> '},function(e,t,n){e.exports='<div layout-align="center center" layout-padding layout=column> <img ng-src='+n(38)+' alt="email updated success image" id=successImage /> <p>{{emailUpdatedCtrl.nvDialogModel.newEmail}}</p> <p class="md-primary md-hue-2 foreground" translate=l10n.thanksEmailUpdated></p> </div> '},function(e,t){e.exports='<ng-form autocomplete=off flex layout-align="start start" layout=column layout-fill name=editPasswordCtrl.passwordForm> <md-input-container layout-fill md-no-float> <label translate=l10n.currentPassword></label> <input nv-input name=currentPassword ng-model=editPasswordCtrl.nvDialogModel.passwordModel.currentPassword required type=password md-no-asterisk> <div class=error-message ng-messages=editPasswordCtrl.passwordForm.currentPassword.$error ng-show=editPasswordCtrl.passwordForm.currentPassword.$touched> <div ng-message=required> <div translate=l10n.required></div> </div> </div> </md-input-container> <md-input-container layout-fill md-no-float> <label translate=l10n.newPassword></label> <input nv-input name=changedPassword ng-model=editPasswordCtrl.nvDialogModel.passwordModel.changedPassword minlength={{editPasswordCtrl.validationObject.password.minsize}} maxlength={{editPasswordCtrl.validationObject.password.maxsize}} nv-extended-pattern={{editPasswordCtrl.validationObject.password}} required type=password md-no-asterisk> <div class=error-message ng-messages=editPasswordCtrl.passwordForm.changedPassword.$error ng-show=editPasswordCtrl.passwordForm.changedPassword.$touched> <div ng-message=required> <div translate=l10n.required></div> </div> <div ng-message="minlength, maxlength, extendedPattern"> <div translate-values={{editPasswordCtrl.validationObject.password}} translate=l10n.passwordReqs></div> </div> </div> </md-input-container> <md-input-container layout-fill md-no-float> <label translate=l10n.confirmPassword></label> <input nv-input name=confirmedPassword ng-model=editPasswordCtrl.nvDialogModel.passwordModel.confirmedPassword minlength={{editPasswordCtrl.validationObject.password.minsize}} maxlength={{editPasswordCtrl.validationObject.password.maxsize}} required type=password nv-fields-match={{editPasswordCtrl.passwordForm.changedPassword.$viewValue}} md-no-asterisk> <div class=error-message ng-messages=editPasswordCtrl.passwordForm.confirmedPassword.$error ng-show=editPasswordCtrl.passwordForm.confirmedPassword.$touched> <div ng-message=required> <div translate=l10n.required></div> </div> <div ng-message=fieldsMatch> <div translate=l10n.passwordDoesNotMatch></div> </div> </div> </md-input-container> </ng-form> '},function(e,t){e.exports=' <div layout=column class=preferences-feature-description-section> <div class=preferences-feature-requirement layout=row layout-align="start center" ng-repeat="requirement in featureDescription.requirements" flex> <div ng-if=!requirement.isRecommendation class=margin-right-8> <md-icon class=md-16 md-font-set=material-icons ng-show={{requirement.state}} aria-label=check aria-hidden=true>check</md-icon> <md-icon class=md-16 md-font-set=material-icons ng-hide={{requirement.state}} aria-label=doNotDisturb aria-hidden=true>do_not_disturb</md-icon> </div> <div ng-if=requirement.isRecommendation layout=column layout-align="center center" class="requirement-recommendation-icon-container margin-right-8"> <div class=recommendation-circle></div> </div> <span class="font-size-sm nv-ellipsis-lines-3" ng-class="requirement.state ? \'color-white-hue-3\' : \'color-white-hue-4\'">{{requirement.message}}</span> <md-button class="md-accent margin-zero margin-left-8-important feature-driver-update-button" ng-if=featureDescription.showDriverDownloadButton(requirement) ng-click=featureDescription.onDownloadClicked() aria-label=driverDownload-button><span translate=l10n.updateDriver></span></md-button> </div> <div class="feature-readiness-content requirement-link-container" ng-if=featureDescription.systemRequirement> <a ng-click=featureDescription.openLink() class="md-default-theme font-size-sm top-margin-linksection" translate={{featureDescription.systemRequirement.text}} flex></a> </div> <div class="feature-readiness-content requirement-link-container" ng-if=featureDescription.supportedGames> <a ng-click=featureDescription.openSupportedGamesLink() class="md-default-theme font-size-sm top-margin-linksection" translate={{featureDescription.supportedGames.text}} flex></a> </div> </div> '},function(e,t){e.exports=' <div flex layout=row class=preferences-feature-header-section> <div layout=column class="image-container constants-position-relative" ng-hide={{featureHeader.nvOverallState}}> <nv-overlay layout-fill class="common-overlay no-background"> <md-icon class="nv-custom-icons md-16 feature-notready-overlay nv-custom-alert-icon-color" md-font-icon=icon-alert aria-label=alertIcon alt=alert-icon aria-hidden=true></md-icon> </nv-overlay> <md-icon ng-show="featureHeader.nvFeatureTile!= quietMode2" class="nv-custom-icons md-32 feature-not-supported-icon-color" md-font-icon={{featureHeader.featureThumbnail}} aria-label=featureNotSupportedIcon alt=featureNotSupported aria-hidden=true></md-icon> <md-icon class="wm2-icon-feature-card md-32 wm2-not-supported-icon-color" ng-show="featureHeader.nvFeatureTile==quietMode2" md-svg-icon={{featureHeader.featureThumbnail}} aria-label=featureWmNotSupportedIcon alt=wm2NotSupported aria-hidden=true></md-icon> </div> <md-icon class="nv-custom-icons md-32 color-white" ng-if="featureHeader.nvFeatureTile!=quietMode2" ng-show={{featureHeader.nvOverallState}} md-font-icon={{featureHeader.featureThumbnail}} aria-label=quietModeNotSupportedIcon alt=quietModeNotSupported aria-hidden=true></md-icon> <md-icon class="wm2-icon-feature-card md-32 color-white" ng-if="featureHeader.nvFeatureTile==quietMode2" ng-show={{featureHeader.nvOverallState}} md-svg-icon={{featureHeader.featureThumbnail}} aria-label=quietModeSupportedIcon alt=quietModeSupported aria-hidden=true></md-icon> <div class=md-list-item-text flex> <h3 class="feature-title color-white-hue-3 font-size-sm font-uppercase">{{featureHeader.featureName}}</h3> <p class="color-white-hue-4 font-size-sm font-uppercase" ng-hide={{featureHeader.nvOverallState}} translate=l10n.notReady></p> <p class="color-white-hue-4 font-size-sm font-uppercase" ng-show={{featureHeader.nvOverallState}} translate=l10n.ready></p> <p class="color-white-hue-4 font-size-sm">{{featureHeader.featureDescription}}</p> </div> </div> '},function(e,t){e.exports='<pre class="md-primary md-hue-2 foreground" tabindex=0 md-autofocus=true>{{licenseAgreementCtrl.licenseAgreement}}</pre> '},function(e,t){e.exports=' <pre class="md-primary md-hue-2 foreground no-focus-outline" tabindex=0 md-autofocus=true>{{openSourceLicensesCtrl.OpenSourceLicenses}}</pre> '},function(e,t){e.exports=' <div class="preferences-preference-section md-hue-3 background md-primary accounts-section-avatar" id=avatar> <div layout=row class=preferences-section-header-button layout-align=space-between> <h4 class="font-size-lg color-white-hue-3" translate=l10n.avatar></h4> <md-button class=md-icon-button ng-click=preferencesAccounts.updateAvatar() nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.USER_EDIT_AVATAR}}}\' aria-label=updateAvatar-button> <md-icon md-font-set=material-icons aria-label="edit button to update avatar" aria-hidden=true>edit</md-icon> </md-button> </div> <div class=preferences-section-content layout=column layout-align="center center"> <img ng-src={{preferencesAccounts.avatar.url}} class=md-avatar alt={{preferencesAccounts.user.core.displayName}} nv-fallback-src={{preferencesAccounts.defaultAvatarUrl}} nv-circle=large /> <p class="font-size-sm color-white-hue-1">{{preferencesAccounts.user.core.displayName}}</p> </div> </div> '},function(e,t){e.exports=' <div class="preferences-preference-section md-hue-3 background md-primary" ng-hide=::!preferencesAccounts.devFeatures.experimental> <div class=preferences-section-header-description> <h4 class="font-size-lg color-white-hue-3" translate=l10n.deviceManagement></h4> </div> <div class=preferences-section-content> <md-list layout=column> <md-list-item ng-repeat="undefined in undefined"></md-list-item> </md-list> <div class=accounts-section-button> <md-button translate=l10n.removeAllDevices ng-click=preferencesAccounts.removeAllDevices() ng-disabled="undefined" id=removeAllDevices aria-label=removeAllDevices-button></md-button> </div> </div> </div> '},function(e,t){e.exports=' <div class="preferences-preference-section md-hue-3 background md-primary" ng-hide=::!preferencesAccounts.devFeatures.experimental> <div class=preferences-section-header> <h4 class="font-size-lg color-white-hue-3" translate=l10n.linkedAccounts translate-values="{{ {linkedAccountsCount: undefined} }}"></h4> </div> <div class=preferences-section-content> <md-list layout=row> <md-list-item ng-repeat="undefined in undefined"></md-list-item> </md-list> <div class="accounts-section-button md-actions" layout=row layout-align=space-between> <md-button translate=l10n.remove ng-click="preferencesAccounts.removeLinkedAccounts(undefined)" ng-disabled="undefined" id=removeLink aria-label=removeLink-button></md-button> <md-button translate=l10n.link ng-click=preferencesAccounts.linkAccounts() id=addLink aria-label=addLink-button></md-button> </div> </div> </div> '},function(e,t){e.exports=' <div class="md-hue-3 background md-primary preferences-preference-section accounts-section-newsletter"> <div ng-if=preferencesAccounts.showNewsletter> <div class=preferences-section-header-switch layout=row layout-align="space-between start"> <h4 class="font-size-lg color-white-hue-3" translate=l10n.nvidiaNewsletter></h4> </div> <div class=preferences-section-content> <md-checkbox class="color-white-hue-3 font-size-sm checkbox-20" ng-change=preferencesAccounts.toggleNewsletter() ng-model=preferencesAccounts.subscribed.state aria-label=toggleNewsletter> <span class=color-white-hue-4 translate=l10n.subscribe></span> </md-checkbox> </div> </div> <div ng-if=preferencesAccounts.isWeChatSupported class=preferences-section-content> <div ng-repeat="wechatGroup in preferencesAccounts.wechatGroups"> <div layout=row class=preferences-section-header-button layout-align=space-between> <h4 class="font-size-sm color-white-hue-3" translate={{wechatGroup.event}}></h4> </div> <a class="md-default-theme font-size-sm" ng-click=preferencesAccounts.onShowQrCode(wechatGroup) translate=l10n.weChatQrCode translate-values="{\'clubName\': wechatGroup.event}"> </a> </div> </div> </div> '},function(e,t){e.exports=' <div class="preferences-preference-section md-hue-3 background md-primary accounts-section-personalInfo" id=personalInfo> <div layout=row class=preferences-section-header-button layout-align=space-between> <h4 class="font-size-lg color-white-hue-3" translate=l10n.personalInformation></h4> <md-button class=md-icon-button ng-click=preferencesAccounts.tryUpdatePersonalInformation() ng-if=preferencesAccounts.user.core.passwordLastChanged aria-label=tryUpdatePersonalInformation-button> <md-icon md-font-set=material-icons aria-label="update personal information" aria-hidden=true>edit</md-icon> </md-button> </div> <div class=preferences-section-content> <ng-form name=preferencesAccounts.personalInformationForm> <md-input-container layout-fill> <p class="font-size-xxs color-white-hue-4" translate=l10n.displayName></p> <input spellcheck=false class="font-size-sm color-white-hue-3" name=displayName ng-model=preferencesAccounts.editUserObject.displayName ng-disabled=!preferencesAccounts.isEditingPersonalInfo required md-no-asterisk> <div class=error-message ng-messages=preferencesAccounts.personalInformationForm.displayName.$error ng-show=preferencesAccounts.personalInformationForm.displayName.$touched> <div ng-message=required> <div translate=l10n.required></div> </div> </div> </md-input-container> <md-input-container layout-fill ng-hide=::!preferencesAccounts.devFeatures.experimental> <p class="font-size-xxs color-white-hue-4" translate=l10n.realName></p> <p class="font-size-sm color-white-hue-3">{{preferencesAccounts.getRealName()}}</p> </md-input-container> <md-input-container layout-fill ng-hide=::!preferencesAccounts.devFeatures.experimental> <p class="font-size-xxs color-white-hue-4" translate=l10n.phone></p> <p class="font-size-sm color-white-hue-3">{{preferencesAccounts.getPhone()}}</p> </md-input-container> <div> <p class="font-size-xxs color-white-hue-4" translate=l10n.memberSince></p> <p class="font-size-sm color-white-hue-3" translate=l10n.memberSinceFormat translate-values="{{ {memberSinceFormat:preferencesAccounts.user.core.created} }}" layout-align="center start"></p> </div> </ng-form> </div> </div> '},function(e,t){e.exports=' <div class="preferences-preference-section accounts-section-security md-hue-3 background md-primary" id=security> <div class=preferences-section-header-button layout=row layout-align=space-between> <h4 class="font-size-lg color-white-hue-3" translate=l10n.securityAndPrivacy></h4> <md-button class=md-icon-button ng-click=preferencesAccounts.tryUpdatePrivacyPreferences() aria-label=tryUpdatePrivacyPreferences-button> <md-icon md-font-set=material-icons aria-label="edit button to update privacy preferences" aria-hidden=true>edit</md-icon> </md-button> </div> <div class="preferences-section-content preferences-md-icon"> <div ng-if=preferencesAccounts.user.core.passwordLastChanged> <p class="font-size-xxs color-white-hue-4" translate=l10n.password></p> <p class="color-white-hue-3 font-size-sm" translate=l10n.passwordChangedDate translate-values="{{ {passwordChangedDate:preferencesAccounts.user.core.passwordLastChanged} }}" layout-align="center start"></p> </div> <md-checkbox class="color-white-hue-3 font-size-sm checkbox-16" ng-change=preferencesAccounts.setUserRememberedOnMachine() ng-model=preferencesAccounts.isUserRememberedOnMachine aria-label=preferencesAccountsSetUser> <span class=color-white-hue-4 translate=l10n.rememberUser /> </md-checkbox> </div> </div> '},function(e,t){e.exports='<div class=preferences-accounts-section> <div class=preferences-col-1> <nv-preferences-accounts-avatar></nv-preferences-accounts-avatar> <nv-preferences-accounts-personal-info></nv-preferences-accounts-personal-info> <nv-preferences-accounts-security></nv-preferences-accounts-security> </div> <div class=preferences-col-2> <nv-preferences-accounts-linked></nv-preferences-accounts-linked> <nv-preferences-accounts-devices></nv-preferences-accounts-devices> <nv-preferences-accounts-newsletter ng-if="preferencesAccounts.showNewsletter || preferencesAccounts.isWeChatSupported"></nv-preferences-accounts-newsletter> </div> </div> '},function(e,t){e.exports=' <div id=toast-container layout=row flex aria-label=preferences-sidebar-main> <div class="preferences-sidebar-container md-hue-3 background md-primary" aria-label=preferences-sidebar-section> <div layout-fill> <md-list> <md-list-item class=color-white-hue-3 ng-repeat="preference in preferencesController.Preferences | filter: {isEnabled: true}" ng-click=$state.go(preference.route) ng-class="{\'md-button-selected md-accent foreground\': $state.includes(preference.route)}" aria-label=preferences-list-item aria-hidden=true> <p class=font-size-lg> {{preference.name | translate | uppercase}} </p> </md-list-item> </md-list> </div> </div> <md-content class=preferences-items-container flex> <div ui-view flex layout-fill aria-label=preferences-ui-view></div> </md-content> </div> '},function(e,t,n){e.exports='<div class="preferences-preference-section md-primary md-hue-3 background"> <div class=preferences-section-header> <h4 class="color-white-hue-3 font-size-lg">{{\'l10n.features\' | translate |uppercase}}</h4> </div> <div ng-switch=preferencesFeatureReadiness.loadingState class=feature-readiness-container> <div layout=row layout-align="center center" class=state-info-content-height ng-switch-when=LOADING> <md-progress-circular class=md-accent md-diameter=50 md-mode=indeterminate></md-progress-circular> </div> <div layout=column layout-align="center center" class=state-info-content-height ng-switch-when=FAILED> <img ng-src='+n(38)+' /> <p class=color-light-gray translate=l10n.noInformationAvailable /> </div> <div class="preferences-section-content feature-readiness-content" ng-switch-when=DONE> <nv-accordion class="common-accordion common-accordion-transparent" nv-accordion-mode=onlyOne> <nv-accordion-pane ng-repeat="feature in preferencesFeatureReadiness.features | orderBy:\'-id\' | filter:{visibility:true}"> <nv-accordion-pane-header flex layout=row layout-align="start center"> <nv-feature-header flex nv-feature-name={{feature.header}} nv-feature-tile={{feature.featureTile}} nv-feature-description={{feature.message}} nv-overall-state={{feature.newOverallState}}></nv-feature-header> </nv-accordion-pane-header> <nv-accordion-pane-content layout=column> <nv-feature-description ng-if=feature nv-feature-name={{feature.featureTile}} nv-feature-requirements=feature.shallowStates nv-overall-state={{feature.newOverallState}}> </nv-feature-description> </nv-accordion-pane-content> <md-divider ng-if=!$last></md-divider> </nv-accordion-pane> </nv-accordion> </div> </div> </div> '},,function(e,t,n){e.exports=' <div layout=column class=constants-position-relative> <div class="preferences-preference-section md-primary md-hue-3 background" ng-if=!preferencesGamesBatteryBoost.loadingFailed> <div class=preferences-section-header-description-switch layout=row layout-align=space-between> <div> <h4 class="color-white-hue-3 font-size-lg" translate=l10n.batteryBoost></h4> <p class="color-white-hue-4 font-size-xxs" translate=l10n.batteryBoostDescription></p> </div> <md-switch ng-model=preferencesGamesBatteryBoost.enabledBatterySwitch ng-change=preferencesGamesBatteryBoost.onChangeBatteryBoostState(true) ng-show=preferencesGamesBatteryBoost.loadingDone ng-disabled=preferencesGamesBatteryBoost.requestInProgress aria-label=enableBatterySwitch></md-switch> </div> <div class="preferences-section-content preferences-games-battery-boost"> <div layout=row layout-align="space between" class=battery-boost-content-title> <p class="color-white-hue-4 font-size-sm" translate=l10n.maximumFramerate></p> <h4 class="color-white-hue-3 font-size-xl"> {{ preferencesGamesBatteryBoost.currentSliderIndex }} <span translate=l10n.fps></span> </h4> </div> <div layout=row layout-align="space-between center" class="optimized-slider-items-header color-white-hue-3"> <p ng-show=opsCtrl.isCurrentSettingTypeAC() class="font-size-xxs line-height-sm1" translate=l10n.performance></p> <p ng-hide=opsCtrl.isCurrentSettingTypeAC() class="font-size-xxs line-height-sm1" translate=l10n.battery></p> <p class="font-size-xxs line-height-sm1" translate=l10n.quality></p> </div> <div layout=column class="optimized-slider-container battery-boost"> <div layout=row layout-align="center center"> <md-icon class="nv-custom-icons md-18 battery-icon" md-font-icon=icon-onbattery aria-label=onBatteryIcon aria-hidden=true> <md-tooltip> <span translate=l10n.longerBatteryLife></span> </md-tooltip> </md-icon> <div flex class=constants-position-relative id=gamesBatteryBoostSliderDiv> <md-slider md-discrete ng-model=preferencesGamesBatteryBoost.currentSliderIndex min=30 max=60 step=5 ng-disabled=!preferencesGamesBatteryBoost.enabledBatterySwitch ng-change=preferencesGamesBatteryBoost.onChangeBatteryBoostState(false) aria-label=gamesBatteryBoostSlider aria-hidden=true> </md-slider> </div> <md-icon class="nv-custom-icons md-18 quality-icon" md-font-icon=icon-speedometer aria-label=speedometerIcon aria-hidden=true> <md-tooltip> <span translate=l10n.higherPerformance></span> </md-tooltip> </md-icon> </div> <div class="optimal-button-container battery-boost"> <div class="optimal-line-indicator md-accent background" ng-disabled=!preferencesGamesBatteryBoost.enabledBatterySwitch></div> <md-button class="md-accent color-white-important md-raised optimal-value-button font-size-sm" ng-click=preferencesGamesBatteryBoost.applyOptimalValue() ng-disabled=!preferencesGamesBatteryBoost.enabledBatterySwitch translate=l10n.optimal aria-label=applyOptimalValue> </md-button> </div> </div> </div> <nv-overlay class="common-overlay preferences-share-overlay" layout=column layout-align="center center" ng-show=preferencesGamesBatteryBoost.requestInProgress> <span layout-fill layout-align="center center" layout=column> <md-progress-circular class=md-accent md-diameter=50 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> </div> <div ng-if=preferencesGamesBatteryBoost.loadingFailed> <div> <h4 class="color-white-hue-3 font-size-lg" translate=l10n.batteryBoost></h4> <p class="color-white-hue-4 font-size-xxs" translate=l10n.batteryBoostDescription></p> </div> <div layout=column layout-align="center center"> <img ng-src='+n(38)+" alt=GameController /> <p class=color-light-gray translate=l10n.noInformationAvailable /> </div> </div> </div> "},function(e,t,n){e.exports=' <div layout=column class=constants-position-relative> <div class="preferences-preference-section md-primary md-hue-3 background" ng-if=!preferencesGamesBatteryBoost2.loadingFailed> <div class=preferences-section-header-description-switch layout=row layout-align=space-between> <div> <h4 class="color-white-hue-3 font-size-lg" translate=l10n.batteryBoost2></h4> <p class="color-white-hue-4 font-size-xxs" translate=l10n.batteryBoostDescription2></p> </div> <md-switch ng-model=preferencesGamesBatteryBoost2.enabledBatterySwitch ng-change=preferencesGamesBatteryBoost2.onChangeBatteryBoostState(true) ng-show=preferencesGamesBatteryBoost2.loadingDone ng-disabled=preferencesGamesBatteryBoost2.requestInProgress></md-switch> </div> <nv-overlay class="common-overlay preferences-overlay" layout=column layout-align="center center" ng-show=preferencesGamesBatteryBoost2.requestInProgress> <span layout-fill layout-align="center center" layout=column> <md-progress-circular class=md-accent md-diameter=50 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> </div> <div ng-if=preferencesGamesBatteryBoost2.loadingFailed> <div> <h4 class="color-white-hue-3 font-size-lg" translate=l10n.batteryBoost2></h4> <p class="color-white-hue-4 font-size-xxs" translate=l10n.batteryBoostDescription2></p> </div> <div layout=column layout-align="center center"> <img ng-src='+n(38)+" /> <p class=color-light-gray translate=l10n.noInformationAvailable /> </div> </div> </div> "},function(e,t){e.exports='<div layout-align="space-between top"> <div class=preferences-col-1> <div class="preferences-preference-section md-primary md-hue-3 background"> <nv-preference-games-scan></nv-preference-games-scan> </div> <nv-preference-games-location></nv-preference-games-location> </div> <div class=preferences-col-2> <div class="preferences-preference-section md-primary md-hue-3 background" ng-if=preferencesGames.isOpsSupported> <nv-preference-games-ops></nv-preference-games-ops> </div> <div class=constants-position-relative ng-if=preferencesGames.showAceMode()> <nv-preferences-games-perf-mode nv-ace-mode-supported={{preferencesGames.isPerfModeSupported}} nv-selected-power-mode={{preferencesGames.selectedPowerMode}} nv-loading-failed={{preferencesGames.loadingAceModeFailed}}></nv-preferences-games-perf-mode> </div> </div> </div> '},function(e,t){e.exports=' <md-button flex layout-fill class="margin-zero text-transform-none padding-right-left-16" ng-click=preferencesGamesLocationItem.nvClickAction() nv-ellipsis-lines=1 aria-label=game-location-button> <p class="font-size-sm color-white-hue-4" nv-ellipsis-lines=1>{{preferencesGamesLocationItem.nvLocation}}</p> <md-tooltip md-visible=preferencesGamesLocationItem.showTooltip md-autohide>{{preferencesGamesLocationItem.nvLocation}}</md-tooltip> </md-button> '},function(e,t){e.exports=' <div class="preferences-preference-section md-primary md-hue-3 background"> <div class=preferences-section-header> <h4 class="color-white-hue-3 font-size-lg" translate=l10n.gameLocation></h4> </div> <div class="preferences-section-content scan-location-content"> <div class="scan-location-section bg-dark-vh20 constants-position-relative common-container-overflow" layout=row layout-align=space-between> <div flex> <md-list> <md-list-item class="scan-location-md-list-item-button md-list-item-text padding-zero-important" ng-repeat="location in preferencesGameslocation.scanGamesLocation track by $index" ng-class="{\'bg-green-hv-hue-1\': preferencesGameslocation.isSelected(location)}"> <nv-preferences-games-location-item flex nv-location={{location}} class=constants-z-layers-one nv-click-action=preferencesGameslocation.selectedPathChanged(location)></nv-preferences-games-location-item> </md-list-item> </md-list> </div> </div> <div class=scan-location-content-margin layout=row layout-align="space-between cente"> <button class="md-button ng-scope md-ink-ripple font-size-sm" type=button ng-click=preferencesGameslocation.remove() translate=l10n.remove ng-disabled=preferencesGameslocation.canRemovePath() tabindex=0 aria-label=preferences-games-location-remove-button></button> <button class="md-button ng-scope md-ink-ripple font-size-sm" type=button ng-click=preferencesGameslocation.add() translate=l10n.add ng-disabled=preferencesGameslocation.addBtnDisabled tabindex=0 aria-label=preferences-games-location-add-button></button> </div> </div> </div> '},function(e,t){e.exports=' <div> <div class=preferences-section-header-description layout=row layout-align=space-between> <div> <h4 class="color-white-hue-3 font-size-lg line-height-sm1" translate=l10n.optimalPlayableSettings></h4> </div> </div> <div layout-align="start start" class="preferences-section-content preferences-md-icon" layout=column> <md-checkbox class="line-height-sm1 top-margin-checkboxes color-white-hue-3 font-size-sm checkbox-16" ng-change=preferencesGamesOps.setAutoOptimize() ng-model=preferencesGamesOps.autoOptimize ng-disabled="preferencesGamesOps.autoOptimize === null" aria-label=GamesOpsAutoOptimize> <span class="line-height-sm1 color-white-hue-4" translate=l10n.autoOptimizeNewGames></span> </md-checkbox> </div> </div> '},function(e,t,n){e.exports='<div class="preferences-preference-section md-primary md-hue-3 background performance-mode"> <div ng-if=!preferencesGamesPerfMode.loadingFailed> <div class=preferences-section-header-description-switch layout=row layout-align=space-between> <div> <h4 class="color-white-hue-3 font-size-lg" translate=l10n.performance></h4> <p class="color-white-hue-4 font-size-xxs" translate=l10n.performanceModeDescription></p> </div> </div> <md-radio-group ng-model=preferencesGamesPerfMode.selectedPowerMode> <md-radio-button value={{preferencesGamesPerfMode.powerModes.MAX_P}} ng-click=preferencesGamesPerfMode.updatePowerMode(preferencesGamesPerfMode.powerModes.MAX_P) class=no-focus-outline ng-disabled=preferencesGamesPerfMode.disablePowerModeButtons()> <div layout=column> <p translate=l10n.performance class="color-white-hue-3 font-size-sm margin-zero margin-top-2"></p> <p translate=l10n.perfModeDescription class="color-white-hue-4 font-size-sm margin-zero margin-top-2"></p> </div> </md-radio-button> <md-divider class=feature-readiness-content></md-divider> <md-radio-button value={{preferencesGamesPerfMode.powerModes.MAX_Q}} ng-click=preferencesGamesPerfMode.updatePowerMode(preferencesGamesPerfMode.powerModes.MAX_Q) class="no-focus-outline margin-top-16" ng-disabled=preferencesGamesPerfMode.disablePowerModeButtons()> <div layout=column> <p translate=l10n.balancedMode class="color-white-hue-3 font-size-sm margin-zero margin-top-2"></p> <p translate=l10n.balancedModeDescription class="color-white-hue-4 font-size-sm margin-zero margin-top-2"></p> </div> </md-radio-button> <md-divider class=feature-readiness-content></md-divider> <md-radio-button value={{preferencesGamesPerfMode.powerModes.QUIET}} ng-click=preferencesGamesPerfMode.updatePowerMode(preferencesGamesPerfMode.powerModes.QUIET) class="no-focus-outline margin-top-16" ng-disabled=preferencesGamesPerfMode.disablePowerModeButtons()> <div layout=column> <p translate=l10n.quietMode class="color-white-hue-3 font-size-sm margin-zero margin-top-2"></p> <p translate=l10n.whisperModeDescription class="color-white-hue-4 font-size-sm margin-zero margin-top-2"></p> </div> </md-radio-button> </md-radio-group> <nv-overlay class=common-overlay layout=column layout-align="center center" ng-show=preferencesGamesPerfMode.requestInProgress> <span layout-fill layout-align="center center" layout=column> <md-progress-circular class=md-accent md-diameter=50 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> </div> <div ng-if=preferencesGamesPerfMode.loadingFailed> <div> <h4 class="color-white-hue-3 font-size-lg" translate=l10n.performance></h4> <p class="color-white-hue-4 font-size-xxs" translate=l10n.performanceModeDescription></p> </div> <div layout=column layout-align="center center"> <img ng-src='+n(38)+" /> <p class=color-light-gray translate=l10n.noInformationAvailable /> </div> </div> </div> "},function(e,t,n){e.exports=' <div layout=column class=constants-position-relative> <div class="preferences-preference-section md-primary md-hue-3 background" ng-if=!preferencesGamesQuietMode.loadingFailed> <div class=preferences-section-header-description-switch layout=row layout-align=space-between> <div> <h4 class="color-white-hue-3 font-size-lg" translate=l10n.quietMode></h4> <p class="color-white-hue-4 font-size-xxs" translate=l10n.quietModeDescription></p> </div> <md-switch ng-model=preferencesGamesQuietMode.enabledQuietSwitch ng-change=preferencesGamesQuietMode.onChangeQuietModeState(true) ng-show=preferencesGamesQuietMode.loadingDone ng-disabled=preferencesGamesQuietMode.disableQuietModeSwitch() aria-label="Enable Quiet mode switch"></md-switch> </div> <p class="color-white-hue-4 font-size-xxs" translate=l10n.changeGameFrameRate></p> <nv-overlay class="common-overlay preferences-overlay" layout=column layout-align="center center" ng-show=preferencesGamesQuietMode.requestInProgress> <span layout-fill layout-align="center center" layout=column> <md-progress-circular class=md-accent md-diameter=50 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> </div> <div ng-if=preferencesGamesQuietMode.loadingFailed> <div> <h4 class="color-white-hue-3 font-size-lg" translate=l10n.quietMode></h4> <p class="color-white-hue-4 font-size-xxs" translate=l10n.quietModeDescription></p> </div> <div layout=column layout-align="center center"> <img ng-src='+n(38)+" /> <p class=color-light-gray translate=l10n.noInformationAvailable /> </div> </div> </div> "},function(e,t){e.exports=' <div flex> <div class=preferences-section-header> <h4 class="color-white-hue-3 font-size-lg" translate=l10n.gameScan></h4> </div> <div class=preferences-section-content> <div layout=row class=games-scan-container layout-align=space-around> <div layout=column layout-align="center center"> <h4 class="color-white-hue-4 font-size-sm line-height-sm1" translate=l10n.gamesFound></h4> <h4 class="color-white-hue-3 font-size-xxxl line-height-lg1">{{preferencesGamesScan.totalGames}}</h4> <a ng-click=preferencesGamesScan.onLaunchUrl() class="color-lighter-gray md-default-theme font-size-sm" translate=l10n.viewSupportedGames flex> </a> </div> <div class="games-scan-divider bg-grey-im"></div> <div class=button-text-padding layout=column layout-align="center center"> <h4 class="color-white-hue-4 font-size-sm line-height-sm1" translate=l10n.lastChecked></h4> <h4 class="color-white-hue-3 font-size-xl1 line-height-sm1">{{preferencesGamesScan.lastRereshTime | convertUTCToTimeAgo}}</h4> <md-button class="md-raised md-secondary" ng-click=preferencesGamesScan.scanGames() ng-disabled=preferencesGamesScan.scanInProgress aria-label=scan-games-button>{{preferencesGamesScan.scanStatus}}</md-button> </div> </div> </div> </div> '},function(e,t,n){e.exports=' <div class="preferences-preference-section md-primary md-hue-3 background"> <div class=preferences-section-header> <h4 class="color-white-hue-3 font-size-lg">{{\'l10n.about\' | translate |uppercase}}</h4> </div> <div class="preferences-about-section-content about-section"> <div layout=column> <img src='+n(710)+'> <div flex class="gfe-version-container preferences-md-icon"> <p class="color-white-hue-3 font-size-lg margin-top-zero" translate=l10n.nvidiaGeforceExperience></p> <p class="color-white-hue-4 font-size-lg title-content-top-margin"><span class=title-content-right-margin translate=l10n.version></span><span>{{preferencesGeneralAbout.version}}&nbsp;{{preferencesGeneralAbout.beta}}</span></p> <p class="color-white-hue-4 font-size-xxs data-container-lastrow title-content-top-margin" nv-ellipsis-lines=1 translate=l10n.nvidiaRightReserved></p> </div> </div> <div class="preferences-md-icon links-top-margin font-size-xxs"> <md-checkbox ng-disabled=!preferencesGeneralAbout.clientBetaUpdateCheckboxEnabled class="font-size-sm preferences-md-icon checkbox-16 margin-bottom-12" ng-change=preferencesGeneralAbout.setClientBetaUpdateEnabled() ng-model=preferencesGeneralAbout.clientBetaUpdateEnabled aria-label=clientBetaUpdateCheckbox aria-hidden=true> <span translate=l10n.clientBetaUpdate aria-label=clientBetaUpdate></span> </md-checkbox> <div class="preference-gfe-check-for-update-container margin-bottom-8 margin-left-zero" ng-show=preferencesGeneralAbout.showCheckingForUpdate() flex> <p class="color-white-hue-4 font-size-xxs margin-top-zero margin-left-zero margin-bottom-10" translate=l10n.checkingforUpdates></p> <md-progress-linear class=md-accent flex md-mode=indeterminate aria-label=checkingforUpdatesProgress></md-progress-linear> </div> <div class="preference-gfe-check-for-update-container margin-bottom-8 margin-left-zero" ng-show="preferencesGeneralAbout.showPreparingForInstall(preferencesGeneralAbout.gfeBetaUpdate.downloadStatus.status, preferencesGeneralAbout.gfeBetaUpdate.downloadStatus.percentComplete)" flex> <p class="color-white-hue-4 font-size-xxs margin-left-zero margin-bottom-10" translate=l10n.preparingForInstallation></p> <md-progress-linear class=md-accent flex md-mode=indeterminate aria-label=checkingforUpdatesdownloadStatus></md-progress-linear> </div> <div ng-hide="preferencesGeneralAbout.showPreparingForInstall(preferencesGeneralAbout.gfeBetaUpdate.downloadStatus.status, preferencesGeneralAbout.gfeBetaUpdate.downloadStatus.percentComplete)" class="download-install-controls layout-fill" flex> <div class=margin-bottom-2 ng-if=preferencesGeneralAbout.showDownloadButton(preferencesGeneralAbout.gfeBetaUpdate.downloadStatus.status)> <p class="color-white-hue-4 font-size-xxs" translate=l10n.updateIsAvailable></p> <div layout=row layout-align="end end"> <md-button class="margin-right-zero md-raised md-accent color-white-important" ng-show=preferencesGeneralAbout.showDownloadButton(preferencesGeneralAbout.gfeBetaUpdate.downloadStatus.status) ng-click=preferencesGeneralAbout.startDownload(preferencesGeneralAbout.gfeBetaUpdate) translate=l10n.download aria-label=download-button></md-button> </div> </div> <div class="download-container margin-bottom-8" layout=row ng-if=preferencesGeneralAbout.isDownloadStarted(preferencesGeneralAbout.gfeBetaUpdate.downloadStatus.status)> <div layout=column class=download-details-container> <nv-update-download-progress nv-message={{preferencesGeneralAbout.getDownloadStatusMessage(preferencesGeneralAbout.gfeBetaUpdate.downloadStatus.status)}} nv-value={{preferencesGeneralAbout.gfeBetaUpdate.downloadStatus.percentComplete}}></nv-update-download-progress> <div layout=row flex layout-align="space-between start" class=download-details-status-container> <p flex=50% class="font-size-xxs color-white-hue-4">{{preferencesGeneralAbout.getProgressString(preferencesGeneralAbout.gfeBetaUpdate)}}</p> <div layout=row flex=50% layout-align="space-between start"> <p class="font-size-xxs color-white-hue-4 download-speed margin-right-16">{{preferencesGeneralAbout.gfeBetaUpdate.downloadStatus.downloadSpeed | convertBytesToKBMBGB}}/Sec</p> <p class="font-size-xxs color-white-hue-4">{{preferencesGeneralAbout.gfeBetaUpdate.downloadStatus.timeRemaining | convertSecondsToTime:true}}</p> </div> </div> </div> </div> <div class=margin-bottom-2 ng-if=preferencesGeneralAbout.showRestartGfeMessage(preferencesGeneralAbout.gfeBetaUpdate.downloadStatus.status)> <p class="margin-zero color-white-hue-4 font-size-xxs" translate=l10n.downloadCompleteRestartGfe></p> <div layout=row layout-align="end end"> <md-button class="margin-right-zero md-raised md-accent color-white-important" ng-click=preferencesGeneralAbout.restartNow() translate=l10n.restartNow aria-label=restartNow-button></md-button> </div> </div> </div> <md-divider></md-divider> <md-divider class=color-black-hue-2></md-divider> <div layout-align="start start" class=margin-top-12> <a class="md-default-theme font-size-sm" ng-click=preferencesGeneralAbout.onShowReleaseHighlight() translate=l10n.releaseHighlights> </a> </div> <div layout-align="start start" class=margin-between-links> <a class="md-default-theme font-size-sm" ng-click=preferencesGeneralAbout.onShowLicense() translate=l10n.licenseAggrement> </a> </div> <div layout-align="start start" class=margin-between-links> <a class="md-default-theme font-size-sm" ng-click=preferencesGeneralAbout.onLaunchPrivacyPolicy() translate=l10n.privacyPolicy></a> </div> <div layout-align="start start" class=margin-between-links> <a class="md-default-theme font-size-sm" ng-click=preferencesGeneralAbout.onLaunchFaq() translate=l10n.faq> </a> </div> <div layout-align="start start" class=margin-between-links> <a class="md-default-theme font-size-sm" ng-click=preferencesGeneralAbout.onOpenSourceLicenses() translate=l10n.openSourceLicenses> </a> </div> <div class=gfe-partner-section layout-align="start start"> <nv-accordion class="common-accordion common-accordion-transparent common-accordion-hover" nv-accordion-mode=onlyOne> <nv-accordion-pane> <nv-accordion-pane-header flex layout=row layout-align="start start"> <div class="ng-isolate-scope flex"> <a class="md-default-theme font-size-sm" translate=l10n.gfePartnerPrivacyPolicy></a> </div> </nv-accordion-pane-header> <nv-accordion-pane-content layout=column aria-label=gfePartnerPrivacyPolicy aria-hidden=true> <div layout=column class="links-bottom-margin constants-position-relative"> <div class="preferences-preference-section margin-zero md-primary md-hue-3 background"> <div class="preferences-section-header-description-switch share-section"> <div layout=row layout-align=space-between> <div layout=column> <p class="color-white-hue-4 font-size-xxs" translate=l10n.gfePartnerInfoDescription></p> </div> </div> <p><a class="md-default-theme font-size-sm" ng-click=preferencesGeneralAbout.onLaunchYouTubeTOS() translate=l10n.gfeYouTubeTOS></a></p> <p><a class="md-default-theme font-size-sm" ng-click=preferencesGeneralAbout.onLaunchGoogleSecuritySettings() translate=l10n.gfeGoogleSecuritySettings></a></p> <p><a class="md-default-theme font-size-sm" ng-click=preferencesGeneralAbout.onLaunchGooglePrivacyPolicy() translate=l10n.gfeGooglePrivacyPolicy></a></p> </div> </div> </div> </nv-accordion-pane-content> </nv-accordion-pane> </nv-accordion> </div> </div> </div> </div> '},function(e,t){e.exports=' <div layout-align="space-between top"> <div class=preferences-col-1> <nv-preference-general-about></nv-preference-general-about> <nv-preference-general-language></nv-preference-general-language> <nv-preference-general-share></nv-preference-general-share> <nv-preferences-general-nis ng-if=preferencesGeneral.isNISSupported></nv-preferences-general-nis> <nv-preferences-general-quite-mode2 ng-if=preferencesGeneral.showQuietMode2()> </nv-preferences-general-quite-mode2> <nv-preferences-games-quiet-mode ng-if=preferencesGeneral.showQuietMode()></nv-preferences-games-quiet-mode> <nv-preferences-games-battery-boost ng-if="preferencesGeneral.isBatteryBoostSupported && !preferencesGeneral.isBatteryBoost2Supported"> </nv-preferences-games-battery-boost> <nv-preferences-games-battery-boost2 ng-if=preferencesGeneral.isBatteryBoost2Supported> </nv-preferences-games-battery-boost2> <nv-preference-general-notifications></nv-preference-general-notifications> <nv-preference-general-downloads></nv-preference-general-downloads> </div> <div class=preferences-col-2> <nv-preferences-system-info></nv-preferences-system-info> <nv-preferences-feature-readiness></nv-preferences-feature-readiness> </div> </div> '},function(e,t){e.exports=' <div class="preferences-preference-section md-primary md-hue-3 background" flex> <div class=preferences-section-header> <h4 class="color-white-hue-3 font-size-lg font-uppercase" translate=l10n.downloads></h4> </div> <div layout=column layout-align="start start" class="preferences-section-content preferences-md-icon"> <md-checkbox class="top-margin-checkboxes checkbox-16 clickable-element" ng-change=preferencesGeneralDownloads.setAutoDownloadDriverUpdates() ng-model=preferencesGeneralDownloads.autoDownloadDriverUpdates aria-label="Enable Automatically download driver updates"><span class=font-size-sm translate=l10n.automaticallyDownloadDriver></span></md-checkbox> </div> </div> '},function(e,t){e.exports=' <div class="preferences-preference-section md-primary md-hue-3 background"> <div class=preferences-section-header> <h4 class="color-white-hue-3 font-size-lg" aria-label=language aria-hidden=true>{{\'l10n.language\' | translate | uppercase}}</h4> </div> <div class="preferences-section-content language-section"> <div layout=column> <md-input-container flex class=margin-zero aria-hidden=true> <md-select ng-model=preferencesGeneralLanguage.changedLanguage class="margin-zero color-white-hue-3 font-size-sm" ng-change=preferencesGeneralLanguage.openChangeLocale() aria-label=languageSection aria-hidden=true> <md-option class="color-white-hue-3 font-size-sm" ng-value=language.name ng-repeat="language in preferencesGeneralLanguage.languages" aria-label=languageName aria-hidden=true>{{language.name}}</md-option> </md-select> </md-input-container> <div class=language-section-button layout=row ng-if=preferencesGeneralLanguage.EditMode> <md-button ng-click=preferencesGeneralLanguage.onCancel() aria-label=cancel-button>{{\'l10n.cancel\' | translate | uppercase}}</md-button> <md-button ng-click=preferencesGeneralLanguage.onApply() aria-label=apply-language-button>{{\'l10n.done\' | translate | uppercase}}</md-button> </div> </div> </div> </div> '},function(e,t,n){e.exports=' <div layout=column class="constants-position-relative nis-container"> <div class="preferences-preference-section md-primary md-hue-3 background" ng-if=!preferencesGeneralNIS.loadingFailed> <div class=preferences-section-header-description-switch layout=row layout-align=space-between> <div> <h4 class="color-white-hue-3 font-size-lg" translate=l10n.nis></h4> <p class="color-white-hue-4 line-height-sm2 font-size-xxs" translate=l10n.nisDescription></p> </div> <md-switch ng-model=preferencesGeneralNIS.nisStateInfo.enabled ng-change="preferencesGeneralNIS.onChangeNISState(true, false)" ng-show=preferencesGeneralNIS.loadingDone ng-disabled=preferencesGeneralNIS.disableNISSwitch() aria-label=disableNISSwitch></md-switch> </div> <section class=col layout=row layout=column layout-align="start center" flex> <div flex="24\r\n            " layout=column layout-align="start start"> <p class="color-white-hue-3 font-size-sm margin-bottom-5 padding-one line-height-sm2" translate=l10n.optimizedResolution></p> </div> <div flex layout=row layout-align="end center" layout-wrap> <div flex style=margin-left:5px;margin-right:5px ng-repeat="resolution in preferencesGeneralNIS.nisStateInfo.resolutions track by $index"> <md-button ng-disabled=preferencesGeneralNIS.isControlDisabled() ng-class=preferencesGeneralNIS.resolutionClass($index) class="color-white-important md-raised quality-resolution-button" style=height:auto;padding:0;min-width:0;width:100%;margin:0 ng-click=preferencesGeneralNIS.applyOptimizedResolution($index) aria-label=applyOptimizedResolution-button> <div layout=column class=quality-resolution-button-content> <span class=resolution-button-text>{{resolution.percent}}%</span> <span class="font-size-xxxs render-resolution-string">{{resolution.resolution}}</span> </div> </md-button> </div> </div> </section> <div layout=row layout-align="start center" class="optimized-slider-container battery-boost"> <div layout=column layout-align="start start" flex=24> <p class="color-white-hue-3 font-size-sm margin-bottom-zero padding-one line-height-sm2 sharpen-label-text" translate=l10n.sharpen></p> <p class="font-size-xxs color-white-hue-4 padding-one margin-zero margin-bottom-5 line-height-sm2">{{preferencesGeneralNIS.nisStateInfo.sharpen}}</p> </div> <div layout=row layout-align="center center" flex style=margin-right:12px> <p class="color-white-hue-3 font-size-sm margin-zero padding-one line-height-sm2" style=margin-right:11px>{{preferencesGeneralNIS.nisSharpnessSlider.MIN}}%</p> <div flex class=sharpen-slider-width> <md-slider class=shapen-control-slider ng-change=preferencesGeneralNIS.onSharpenSliderChanged() ng-keyup=preferencesGeneralNIS.onSharpenSliderKeyUp($event) ng-disabled=preferencesGeneralNIS.isControlDisabled() ng-model=preferencesGeneralNIS.nisStateInfo.sharpen min={{preferencesGeneralNIS.nisSharpnessSlider.MIN}} max={{preferencesGeneralNIS.nisSharpnessSlider.MAX}} aria-label=sharpen-slider aria-hidden=true> </md-slider> </div> <p class="color-white-hue-3 font-size-sm margin-zero padding-one line-height-sm2" style=margin-left:11px>{{preferencesGeneralNIS.nisSharpnessSlider.MAX}}%</p> </div> </div> <nv-overlay class="common-overlay preferences-overlay" layout=column layout-align="center center" ng-show=preferencesGeneralNIS.requestInProgress> <span layout-fill layout-align="center center" layout=column> <md-progress-circular class=md-accent md-diameter=50 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> </div> <div ng-if=preferencesGeneralNIS.loadingFailed> <div> <h4 class="color-white-hue-3 font-size-lg" translate=l10n.nis></h4> <p class="color-white-hue-4 font-size-xxs" translate=l10n.nisDescription></p> </div> <div layout=column layout-align="center center"> <img ng-src='+n(38)+" /> <p class=color-light-gray translate=l10n.noInformationAvailable /> </div> </div> </div> "},function(e,t){e.exports=' <div layout=column class=constants-position-relative> <div class="preferences-preference-section md-primary md-hue-3 background" flex> <div class=preferences-section-header> <h4 class="color-white-hue-3 font-size-lg font-uppercase" translate=l10n.desktopNotifications></h4> <p class="color-white-hue-4 font-size-xxs margin-top-8" translate=l10n.notifyMe></p> </div> <div layout=column layout-align="start start" class="preferences-section-content preferences-md-icon" ng-if=!preferencesGeneralNotifications.toggleState> <md-checkbox class="margin-zero font-size-sm checkbox-16" ng-change=preferencesGeneralNotifications.setNotifyGeforceDriverUpdate() ng-model=preferencesGeneralNotifications.notifyGeforceDriverUpdate aria-label=NotifyGeforceDriverUpdate aria-hidden=trues> <span class="line-height-sm color-white-hue-4" translate=l10n.driverUpdateAvailable></span> </md-checkbox> <md-checkbox class="line-height-sm color-white-hue-3 font-size-sm checkbox-16" ng-change=preferencesGeneralNotifications.setNotifyRewardsUpdate() ng-model=preferencesGeneralNotifications.notifyRewardsUpdate aria-label=NotifyRewardsUpdate aria-hidden=true> <span class="line-height-sm color-white-hue-4" translate=l10n.rewardAvailable></span> </md-checkbox> </div> <nv-overlay class=common-overlay ng-if=preferencesGeneralNotifications.requestInProgress> <span flex layout-fill layout-align="center center" layout=column> <md-progress-circular class=md-accent layout-align="center center" md-diameter=14 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> </div> </div> '},function(e,t,n){e.exports=' <div layout=column class=constants-position-relative> <div class="preferences-preference-section md-primary md-hue-3 background" ng-if=!preferencesGeneralQuiteMode2.loadingFailed> <div class=preferences-section-header-description-switch layout=row layout-align=space-between> <div> <h4 class="color-white-hue-3 font-size-lg" translate=l10n.quietMode2></h4> <p class="color-white-hue-4 line-height-sm2 font-size-xxs" translate=l10n.quiteMode2Description></p> </div> <md-switch ng-model=preferencesGeneralQuiteMode2.quietStateInfo.enabled ng-change=preferencesGeneralQuiteMode2.onChangeQuiteMode2State(true,preferencesGeneralQuiteMode2.settingType.WHISPER_MODE2_STATE) ng-show=preferencesGeneralQuiteMode2.loadingDone ng-disabled=preferencesGeneralQuiteMode2.disableQuiteMode2Switch() aria-label=quiteMode2Switch></md-switch> </div> <div class="preferences-section-content preferences-games-Quite-mode-2"> <div layout=row layout-align="space-between center"> <div layout=column layout-align="start start" flex=40> <p class="color-white-hue-3 font-size-sm margin-bottom-5 padding-one line-height-sm2" translate=l10n.fanVolume> </p> <p class="font-size-xxs color-white-hue-4 padding-one margin-zero margin-bottom-5 line-height-sm2" translate={{preferencesGeneralQuiteMode2.fanVolumeStrings[preferencesGeneralQuiteMode2.quietStateInfo.fanVolume-1]}}> </p> </div> <div flex layout=column class="optimized-slider-container fan-control-slider"> <md-slider md-discrete ng-model=preferencesGeneralQuiteMode2.quietStateInfo.fanVolume ng-change="preferencesGeneralQuiteMode2.onChangeFanSpeedState(false, preferencesGeneralQuiteMode2.settingType.FAN_VOLUME)" ng-disabled=!preferencesGeneralQuiteMode2.quietStateInfo.enabled min={{preferencesGeneralQuiteMode2.sliders[0].min}} max={{preferencesGeneralQuiteMode2.sliders[0].max}} step={{preferencesGeneralQuiteMode2.sliders[0].step}} aria-label=QuiteMode2-slider aria-hidden=true></md-slider> <div class=optimized-slider-lables layout=row layout-align="space-between start" flex> <p class="color-white-hue-3 font-size-xxs line-height-sm2 margin-zero" translate=l10n.quieter> </p> <p class="color-white-hue-3 font-size-xxs margin-zero line-height-sm2" translate=l10n.balancedMode></p> </div> </div> </div> </div> <div class="preferences-section-content preferences-games-Quite-mode-2"> <div layout=row layout-align="space-between center"> <div layout=column layout-align="start start" flex=40> <p class="color-white-hue-3 font-size-sm padding-one margin-bottom-5 line-height-sm2" translate=l10n.baseFrameRate></p> <p class="font-size-xxs line-height-sm2 padding-one color-white-hue-4 margin-zero margin-bottom-5"> {{preferencesGeneralQuiteMode2.quietStateInfo.baseFrameRate}} <span translate=l10n.fps></span> </p> </div> <div flex layout=column class="optimized-slider-container fps-control-slider"> <md-slider md-discrete ng-model=preferencesGeneralQuiteMode2.quietStateInfo.baseFrameRate ng-change=preferencesGeneralQuiteMode2.onChangeQuiteMode2State(false,preferencesGeneralQuiteMode2.settingType.BASE_FRAME_RATE) ng-disabled=!preferencesGeneralQuiteMode2.quietStateInfo.enabled min={{preferencesGeneralQuiteMode2.sliders[1].min}} max={{preferencesGeneralQuiteMode2.sliders[1].max}} step={{preferencesGeneralQuiteMode2.sliders[1].step}} aria-label=QuiteMode2-fps-slider aria-hidden=true></md-slider> <div class=optimized-slider-lables layout=row layout-align="space-between start" flex> <p class="color-white-hue-3 font-size-xxs line-height-sm2 margin-zero"> {{preferencesGeneralQuiteMode2.sliders[1].min}}</p> <p class="color-white-hue-3 font-size-xxs line-height-sm2 margin-zero"> {{preferencesGeneralQuiteMode2.sliders[1].max}}</p> </div> </div> </div> </div> <nv-overlay class="common-overlay preferences-overlay" layout=column layout-align="center center" ng-show=preferencesGeneralQuiteMode2.requestInProgress> <span layout-fill layout-align="center center" layout=column> <md-progress-circular class=md-accent md-diameter=50 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> </div> <div ng-if=preferencesGeneralQuiteMode2.loadingFailed> <div> <h4 class="color-white-hue-3 font-size-lg" translate=l10n.quietMode2></h4> <p class="color-white-hue-4 font-size-xxs" translate=l10n.quiteMode2Description></p> </div> <div layout=column layout-align="center center"> <img ng-src='+n(38)+" /> <p class=color-light-gray translate=l10n.noInformationAvailable /> </div> </div> </div> "},function(e,t){e.exports=' <div layout=column class=constants-position-relative> <div class="preferences-preference-section md-primary md-hue-3 background" ng-if=preferencesGeneralShare.isShareSupported> <div class="preferences-section-header-description-switch share-section"> <div layout=row layout-align=space-between> <div layout=column> <div layout=row> <h4 class="color-white-hue-3 font-size-lg" translate=l10n.share></h4> <md-icon class="nv-custom-icons md-16 preferences-share-alert-icon nv-custom-alert-icon-color" md-font-icon=icon-alert ng-show=!preferencesGeneralShare.shareLoaded aria-label=alertIcon aria-hidden=true></md-icon> </div> <p class="color-white-hue-4 font-size-xxs">{{preferencesGeneralShare.shareDialogDescription}}</p> <div layout=row class=share-hotkey-info ng-if=preferencesGeneralShare.showHotkeyInfoAndIcon()> <md-icon md-font-set=nv-custom-icons class="nv-custom-icons md-24 color-green" md-font-icon=icon-share aria-label=iconShare aria-hidden=true></md-icon> <p class="color-white-hue-4 font-size-xxs" translate-values={{preferencesGeneralShare.translateValues}} translate=l10n.oobeShareHotkeyInfo></p> </div> </div> <div ng-if=preferencesGeneralShare.loadingDone> <md-switch ng-model=preferencesGeneralShare.enabledShare ng-change=preferencesGeneralShare.onChangeShareState() ng-disabled=preferencesGeneralShare.toggleState aria-label=generalEnableShareSwitch></md-switch> </div> </div> <div layout=row class=share-section-button layout-align="end end" ng-if=preferencesGeneralShare.showHotkeyInfoAndIcon()> <md-button class="md-raised md-secondary font-uppercase" ng-click=preferencesGeneralShare.openOscSettings() translate=l10n.settings aria-label=openOscSettings></md-button> </div> </div> </div> <nv-overlay class="common-overlay preferences-share-overlay" ng-if=preferencesGeneralShare.toggleState> <span flex layout-fill layout-align="center center" layout=column> <md-progress-circular class=md-accent layout-align="center center" md-diameter=14 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> </div> '},function(e,t){e.exports=' <div layout=column layout-fill class=preferences-led> <div class="preferences-preference-section md-hue-3 background md-primary" layout=row layout-align="space-between center"> <div layout=row layout-align="start center"> <md-button class=md-secondary ng-click=preferencesLed.applyAllGpu() translate=l10n.allLed ng-class="preferencesLed.syncAll ? \'md-button-selected md-accent foreground\': \'\'" ng-if=preferencesLed.showAllLedOption() aria-label=applyAllGpu-button></md-button> <md-button class=md-secondary ng-click=preferencesLed.applyEachGpu() translate=l10n.eachLed ng-class="!preferencesLed.syncAll ? \'md-button-selected md-accent foreground\': \'\'" aria-label=applyEachGpu-button></md-button> </div> <div layout=row layout-align="end center" class=preferences-led-switch ng-if=preferencesLed.showZones()> <p translate=l10n.syncZones></p> <md-switch ng-model=preferencesLed.syncZones ng-change=preferencesLed.onSyncZonesChanged() aria-label=syncZoneSwitch></md-switch> </div> </div> <div class="preferences-preference-section md-hue-3 background md-primary" layout=row> <div layout=row layout-align="start center"> <md-list layout=row layout-align="start center"> <md-list-item class=color-white-hue-3 ng-repeat="device in preferencesLed.devices" ng-if=preferencesLed.isSliDevice(device) ng-click=preferencesLed.selectGpu(device) ng-class="{\'md-button-selected md-accent foreground\': preferencesLed.isSelectedGpu(device)}"> <p class=font-size-sm> {{device.gpuName | uppercase}} </p> </md-list-item> </md-list> <md-list layout=column layout-align="start center"> <md-list-item class=color-white-hue-3 ng-repeat="device in preferencesLed.devices" ng-if=!preferencesLed.isSliDevice(device) ng-click=preferencesLed.selectGpu(device) ng-class="{\'md-button-selected md-accent foreground\': preferencesLed.isSelectedGpu(device)}"> <p class=font-size-sm> {{device.gpuName | uppercase}} </p> </md-list-item> </md-list> </div> <div layout=row class="section-divider bg-grey-im"></div> <div layout=row layout-align="center center"> <md-list layout=row layout-align="center center" ng-if=preferencesLed.showZones()> <md-list-item class=color-white-hue-3 ng-repeat="zone in preferencesLed.selectedGpu.zone" ng-disabled=!preferencesLed.isIndivisualLedSelected()> <md-button translate=l10n.zone translate-values={{zone}} ng-click=preferencesLed.selectedZone($index) ng-class="$index === preferencesLed.selectedZoneIndex ? \'md-button-selected md-accent foreground\': \'\'" aria-label=applySelected-gpuZone-button></md-button> </md-list-item> </md-list> </div> </div> <div class="preferences-preference-section md-hue-3 background md-primary" layout=column> <div layout=row layout-align=space-between> <h5 class="font-size-lg color-white-hue-3" translate=l10n.turnLedOn ng-if=preferencesLed.featureState></h5> <h5 class="font-size-lg color-white-hue-3" translate=l10n.turnLedOff ng-if=!preferencesLed.featureState></h5> <div layout=row class=preferences-led-switch> <p translate=l10n.ledLighting></p> <md-switch ng-model=preferencesLed.featureState ng-change=preferencesLed.onfeatureStateChange() aria-label=featureStateSwitch></md-switch> </div> </div> <md-divider></md-divider> <div layout=column class=preferences-preference-section> <div layout=row flex=100> <div flex=50 layout=column> <label class=font-uppercase translate=l10n.effect></label> <md-input-container class=led-input-container-position> <md-select ng-model=preferencesLed.selectedLedEffect ng-change=preferencesLed.onLedEffectChange() ng-disabled=!preferencesLed.featureState> <md-option ng-value=effect.ledEffect ng-repeat="effect in preferencesLed.ledEffects"> {{effect.name | translate}} </md-option> </md-select> </md-input-container> </div> <div flex=50 layout=column> <label class=font-uppercase translate=l10n.style></label> <md-input-container class=led-input-container-position> <md-select ng-model=preferencesLed.selectedAnimationType ng-change=preferencesLed.onAnimationTypeChange() ng-disabled=!preferencesLed.featureState> <md-option ng-value=style.animation ng-repeat="style in preferencesLed.styleList"> {{style.style | translate}} </md-option> </md-select> </md-input-container> </div> </div> <div layout=row flex=100> <div flex=50 layout=column> <label class=font-uppercase translate=l10n.variation></label> <md-input-container class=led-input-container-position> <md-select ng-model=preferencesLed.selectedVariation ng-change=preferencesLed.onLedVariationChange() ng-disabled=!preferencesLed.featureState> <md-option ng-value=variation.variation ng-repeat="variation in preferencesLed.variationList"> {{variation.name | translate}} </md-option> </md-select> </md-input-container> </div> <div flex=50 layout=column> <div ng-if=preferencesLed.showAnimationSliderPanel> <label class=font-uppercase>{{preferencesLed.labelAnimationSpeed}}</label> <div layout=row layout-align="start center"> <md-slider ng-change=preferencesLed.onAnimationSliderChange() min={{preferencesLed.animationSliderMin}} max={{preferencesLed.animationSliderMax}} ng-model=preferencesLed.sliderAnimation ng-disabled=!preferencesLed.featureState aria-label=animation-slider aria-hidden=true></md-slider> </div> </div> </div> </div> <div layout=row flex=100> <div class=colorpicker layout=row flex=50 ng-show=preferencesLed.showColorPickerControl> <canvas id=picker width=239 height=220></canvas> <div class=controls ng-click=preferencesLed.colorPreviewClicked(1)> <div class=preview flex></div> <div layout=row> <label>R</label> <h4 class=red></h4> </div> <div layout=row> <label>G</label> <h4 class=green></h4> </div> <div layout=row> <label>B</label> <h4 class=blue></h4> </div> </div> <div class=controls ng-click=preferencesLed.colorPreviewClicked(2) ng-if=preferencesLed.selectedMultiColorAnimation> <div class=secondPreview flex></div> <div layout=row> <label>R</label> <h4 class=red1></h4> </div> <div layout=row> <label>G</label> <h4 class=green1></h4> </div> <div layout=row> <label>B</label> <h4 class=blue1></h4> </div> </div> </div> <div> <div ng-if=preferencesLed.showBrightnessSliderPanel> <label class=font-uppercase>{{preferencesLed.labelBrightnessSlider}}</label> <div ng-if=preferencesLed.showSliderBrightness> <md-slider flex ng-change=preferencesLed.onBrightnessSliderChange() min={{preferencesLed.brightnessSliderMin}} max={{preferencesLed.brightnessSliderMax}} ng-model=preferencesLed.sliderBrightness ng-disabled=!preferencesLed.featureState aria-label=brightness-slider aria-hidden=true></md-slider> </div> <div ng-if=preferencesLed.showSliderBrightnessRange> <nv-range-slider on-slider-change=preferencesLed.onBrightnessRangeSliderChange() lower-value=preferencesLed.selectedGpu.zone[preferencesLed.selectedZoneIndex].minBrightness upper-value=preferencesLed.selectedGpu.zone[preferencesLed.selectedZoneIndex].variationParameter step=2 min-gap=2 minimum=preferencesLed.brightnessRangeSliderMin maximum=preferencesLed.brightnessRangeSliderMax nv-disabled=!preferencesLed.featureState> </nv-range-slider> </div> </div> </div> </div> </div> <div class=cancel-apply-container layout=row layout-align="end center"> <md-button ng-click=preferencesLed.cancelSettings() translate=l10n.cancel ng-disabled=!preferencesLed.buttonCancel aria-label=cancel-settings-button></md-button> <md-button class=md-accent ng-click=preferencesLed.applySettings() translate=l10n.apply ng-disabled=!preferencesLed.buttonApply aria-label=apply-settings-button></md-button> </div> </div> </div> '},function(e,t){e.exports=' <div class="preferences-preference-section md-primary md-hue-3 background"> <div class=preferences-section-header> <h4 class="color-white-hue-3 font-size-lg" translate=l10n.shieldDevices></h4> </div> <div class=preferences-section-content> <div class=button-text-padding layout=row layout-align="space-between cente"> <md-button class="margin-zero md-raised md-secondary ng-scope md-ink-ripple font-size-sm" ng-click=preferencesShieldDevices.removeAllDevices() translate=l10n.removeAllDevices tabindex=0 aria-label=removeAllDevices-button></md-button> </div> </div> </div> '},function(e,t,n){e.exports='<div ng-switch=preferencesShield.showContent flex layout-fill> <div layout=column layout-align="center center" ng-switch-when=false flex layout-fill> <img ng-src='+n(38)+'> <p class=color-light-gray translate=l10n.noInformationAvailable></p> <a class="md-default-theme font-size-sm shield-troubleshooting-link" ng-click=preferencesShield.onTroubleshootLinkClick() translate=l10n.troubleshootingTips></a> </div> <div layout-align="space-between top" ng-switch-when=true> <div class=preferences-col-1> <nv-preferences-shield-gamestream></nv-preferences-shield-gamestream> </div> <div class=preferences-col-2> <nv-preferences-shield-devices></nv-preferences-shield-devices> </div> </div> </div> '},function(e,t){e.exports=' <ng-form autocomplete=off name=vm.editForm class="md-primary md-hue-3 background preferences-shield-edit-dialog" layout=column layout-align="space-between stretch"> <div layout=row class=container layout-align="space-between stretch"> <div layout=column flex layout-align="space-between stretch"> <md-input-container md-no-float> <label>{{\'l10n.name\' | translate}}</label> <input maxlength={{::vm.maxSize}} ng-pattern="/^(?!\\.)(?!(com[0-9]|con|lpt[0-9]|nul|prn|aux)(\\..*)?$)[^\\\\/:\\*\\?<>\\|]+$/i" ng-trim=false name=Name ng-model=vm.selectedApp.AppData.Name md-autofocus> </md-input-container> <div layout=column layout-align=space-between> <div layout=row layout-align=space-between> <div layout=column flex layout-align=space-between> <label class="custom-label-heading color-white-hue-4" translate=l10n.target></label> <label nv-ellipsis-lines=1 class="custom-label-content app-target">{{vm.selectedApp.AppData.TargetPath}}</label> <md-tooltip ng-if=vm.showTargetTooltip>{{vm.selectedApp.AppData.TargetPath}}</md-tooltip> </div> <md-icon class="nv-custom-icons md-18" md-font-icon=icon-folder-browsing ng-click=vm.openTargetFileDialog() aria-label=folderBrowsing aria-hidden=true></md-icon> </div> <md-divider style=""></md-divider> </div> <div layout=column layout-align=space-between> <div layout=row layout-align=space-between> <div layout=column flex layout-align=space-between> <label class="custom-label-heading color-white-hue-4" translate=l10n.startIn></label> <label nv-ellipsis-lines=1 class="custom-label-content app-startin">{{vm.selectedApp.AppData.WorkingDirectory}}</label> <md-tooltip ng-if=vm.showDirectoryTooltip>{{vm.selectedApp.AppData.WorkingDirectory}}</md-tooltip> </div> <md-icon class="nv-custom-icons md-18" md-font-icon=icon-folder-browsing ng-click=vm.openStartInFileDialog() aria-label=folderBrowsing aria-hidden=true></md-icon> </div> <md-divider style=""></md-divider> </div> </div> <div layout=column class=boxart> <p translate=l10n.boxArt></p> <div layout=column flex class="image-container constants-position-relative" ng-click=vm.openBoxArtFileDialog()> <nv-overlay flex class="common-overlay no-background"> <md-icon class="nv-custom-icons md-18" md-font-icon=icon-edit aria-label="open art box file dialog" aria-hidden=true></md-icon> </nv-overlay> <img ng-src={{vm.selectedApp.AppData.BoxArtPath}} alt={{vm.selectedApp.AppData.Name}} /> </div> </div> </div> <div class=scan-location-content-margin layout=row layout-align=space-between> <button class="md-button ng-scope md-ink-ripple font-size-sm" type=button ng-click=vm.remove() translate=l10n.remove ng-disabled=preferencesShieldGamestream.canNotRemove() aria-label=" preferences-shield-gamestream-remove-button"></button> <div> <button class="md-button ng-scope md-ink-ripple font-size-sm" ng-click=vm.cancel() translate=l10n.cancel type=button aria-label=preferences-shield-gamestream-cancel-button></button> <button class="md-button ng-scope md-ink-ripple font-size-sm" ng-click=vm.done() translate=l10n.done ng-disabled=!vm.canSubmit() type=button aria-label=preferences-shield-done-button></button> </div> </div> </ng-form> '},function(e,t){e.exports=' <div class="preferences-preference-section md-primary md-hue-3 background constants-position-relative"> <div class=preferences-section-header-description-switch layout=row layout-align=space-between> <div> <div layout=row> <h4 class="color-white-hue-3 font-size-lg" translate=l10n.gameStream></h4> <md-icon class="nv-custom-icons md-16 preferences-share-alert-icon nv-custom-alert-icon-color" md-font-icon=icon-alert ng-show=!preferencesShieldGamestream.gameStreamLoaded aria-label=shareAlertIcon aria-hidden=true></md-icon> </div> <p class="color-white-hue-4 font-size-xxs" translate=l10n.gamestreamDescription></p> </div> <md-switch ng-model=preferencesShieldGamestream.isStreamingEnabled ng-if=preferencesShieldGamestream.isServerStatusCheckDone ng-change=preferencesShieldGamestream.onChangeServerState() ng-disabled=preferencesShieldGamestream.toggleState aria-label=enableStreamingSwitch></md-switch> </div> <div layout=column class="preferences-section-content shield-section"> <div> <h4 class="color-white-hue-3 font-size-sm" translate=l10n.gamesApps></h4> </div> <div layout-align="start start" layout-fill layout=column> <md-progress-circular class=md-accent ng-if=!preferencesShieldGamestream.isServerStatusCheckDone layout-align="center center" md-diameter=28 md-mode=indeterminate></md-progress-circular> <md-content class="appcollector-content-height constants-position-relative" layout-fill layout=row layout-align="start start" layout-wrap> <nv-preferences-shield-tile ng-repeat="app in preferencesShieldGamestream.streamApps" ng-click=preferencesShieldGamestream.selectedAppChanged(app) class=preferences-shield-tile nv-app=app ng-class="{\'shield-tile-content-outline\': preferencesShieldGamestream.isSelected(app)}"></nv-preferences-shield-tile> <div class=empty-app-list layout=column layout-align="center center" ng-if=!preferencesShieldGamestream.hasAppsAndServerStatusDone()> <p class="font-size-xxs color-white-hue-4" translate=l10n.addAdditionalGamesForStreaming></p> </div> </md-content> <a class="md-default-theme font-size-sm" ng-click=preferencesShieldGamestream.onLaunchUrl() translate=l10n.viewAllGameStreamSupportedGames ng-if=preferencesShieldGamestream.isServerStatusCheckDone></a> </div> <div class=shield-section-button layout=row layout-align="space-between cente"> <button class="md-button ng-scope md-ink-ripple font-size-sm" type=button ng-click=preferencesShieldGamestream.remove() translate=l10n.remove ng-disabled=preferencesShieldGamestream.canNotRemove() tabindex=0 aria-label=preferences-gamestream-remove-button></button> <div> <button class="md-button ng-scope md-ink-ripple font-size-sm" ng-click=preferencesShieldGamestream.edit() translate=l10n.edit ng-disabled=preferencesShieldGamestream.canNotRemove() type=button aria-label=preferences-gamestream-edit-button></button> <button class="md-button ng-scope md-ink-ripple font-size-sm" ng-click=preferencesShieldGamestream.add() translate=l10n.add ng-disabled=preferencesShieldGamestream.requestInProgress type=button aria-label=preferences-gamestream-add-button></button> </div> </div> </div> <nv-overlay class=common-overlay ng-if=preferencesShieldGamestream.toggleState> <span flex layout-fill layout-align="center center" layout=column> <md-progress-circular class=md-accent layout-align="center center" md-diameter=28 md-mode=indeterminate aria-hidden=true></md-progress-circular> </span> </nv-overlay> </div> '},function(e,t){e.exports='<md-card layout=column ng-mouseenter=vm.showOverlay(true) ng-mouseleave=vm.showOverlay(false) class="item-container margin-zero"> <div layout=column flex class=constants-position-relative> <nv-overlay layout=column flex layout-fill class="common-overlay no-background" ng-show=vm.isOverlayVisible()> </nv-overlay> <img class=shield-tile-img-border ng-src={{vm.nvApp.AppData.BoxArtPath}} alt={{vm.nvApp.AppData.Name}} nv-image-fallback=nv-no-loading-indicator> </div> <md-card-content class=bg-black-hv> <p nv-ellipsis-lines=2 class="font-size-xxs color-white-hue-3">{{::vm.nvApp.AppData.Name}}</p> </md-card-content> </md-card> '},function(e,t,n){e.exports=' <div class="preferences-preference-section md-primary md-hue-3 background preferences-system-info" layout=column> <div class=preferences-section-header> <h4 translate=l10n.myRig class="color-white-hue-3 font-size-lg"></h4> </div> <div class="preferences-section-content preferences-system-info" ng-switch=preferencesSystemInfo.loadingState> <div layout=row layout-align="center center" class=state-info-content-height ng-switch-when=LOADING> <md-progress-circular class=md-accent md-diameter=50 md-mode=indeterminate></md-progress-circular> </div> <div layout=column layout-align="center center" class=state-info-content-height ng-switch-when=FAILED> <img ng-src='+n(38)+' /> <p class=color-light-gray translate=l10n.noInformationAvailable /> </div> <div layout-align="start start" ng-repeat="item in preferencesSystemInfo.systemInfoItems" class="margin-between-links color-white-hue-4 font-size-sm" ng-switch-when=DONE> <md-icon class="nv-custom-icons md-18 margin-between-links-icon" md-font-icon={{item.icon}} aria-label=mainToolbarIcon aria-hidden=true></md-icon> <span class=span-align-vertical>{{item.description}}</span> <div ng-repeat="subItem in item.subItems track by $index" class=subitem-margin> {{subItem}} </div> </div> </div> </div> '},function(e,t){e.exports=' <md-card class=reward-card ng-mouseenter=rewardCard.onMouseEnter() ng-mouseleave=rewardCard.onMouseLeave() ng-class="{\'md-accent background-on-hover clickable-element\': rewardCard.isRewardAvailable(), \'clickable-element\': rewardCard.isRewardRedeemed() || rewardCard.isRewardLocked()}" ng-click=rewardCard.redeemReward($event)> <div class=new-item-icon-wrapper ng-if=rewardCard.isPushedReward()> <md-icon md-font-set=material-icons class="color-green md-16" aria-label=newReleases aria-hidden=true>new_releases</md-icon> </div> <div class="reward-card-image-container constants-position-relative"> <img flex layout-fill ng-src={{::rewardCard.rewardImageUrl}} nv-image-fallback=nv-no-loading-indicator nv-image-format alt=reward_card_image /> <nv-overlay flex layout-fill class="common-overlay light-background background-animated reward-card-overlay" layout=column layout-align="center center" ng-if=rewardCard.showOverlay> <div flex layout-fill layout=column layout-align="center center" class=padding-16> <md-button class="md-raised md-accent" ng-if=rewardCard.isRewardAvailable() aria-label=redeem-reward-button> <span class=color-white-important translate=l10n.redeem></span> </md-button> <div flex layout=row layout-align="start start" layout-fill ng-if=rewardCard.isRewardRedeemedOrExpired()> <md-icon class="color-white-hue-1 material-icons reward-status-icon margin-zero" aria-label=rewardStatusIcon aria-hidden=true>{{::rewardCard.rewardStatusIcon}}</md-icon> <span class="margin-left-8 color-white-important font-uppercase line-height-16">{{::rewardCard.rewardStatusMessage}}</span> </div> <div flex layout=column class=constants-position-absolute layout-align="center center" layout-fill ng-if=rewardCard.isDetailsButtonVisible()> <md-button class="md-raised md-secondary color-white-important" aria-label=show-details-button> <span translate=l10n.details></span> </md-button> </div> <div flex layout=column layout-fill ng-if=rewardCard.isRewardLocked()> <md-icon class="color-white-hue-1 material-icons md-24" aria-label=lock aria-hidden=true>lock</md-icon> </div> </div> </nv-overlay> </div> <md-card-content> <h4 class="reward-card-title margin-zero font-size-xxs line-height-sm1 font-style-normal color-white-hue-3" nv-ellipsis-lines=1>{{::rewardCard.cardTitle}}</h4> <div class=reward-card-details-container layout=row> <p class="reward-date margin-zero color-white-hue-4 font-size-xxs line-height-sm1" nv-ellipsis-lines=1>{{::rewardCard.rewardDate}}</p> <p class="reward-date margin-zero color-white-hue-4 font-size-xxs line-height-sm1" nv-ellipsis-lines=1 ng-if=rewardCard.isRewardLocked()>{{::rewardCard.perkLevel}}</p> </div> </md-card-content> </md-card> '},function(e,t,n){e.exports=' <div layout=column layout-fill class="rewards-center-items-container constants-position-relative" ng-class="{\'user-profile-disabled\': !rewardsCenter.userProfileEnabled}"> <md-toolbar flex=none layout=row class=rewards-center-top-toolbar layout-align="space-between center"> <div layout=row> <md-button class="back-button padding-zero md-icon-button" ng-click=rewardsCenter.backToPreviousState() ng-if=!rewardsCenter.userProfileEnabled aria-label=back-button> <md-icon md-font-set=material-icons class="md-24 color-white-hue-1" aria-label=arrowBack aria-hidden=true>arrow_back</md-icon> <md-tooltip><span translate=l10n.back></span></md-tooltip> </md-button> <h4 class="color-white-hue-1 margin-zero font-size-sm rewards-center-title line-height-sm1 font-uppercase" translate=l10n.redeem ng-if=!rewardsCenter.userProfileEnabled></h4> </div> <nv-select-menu nv-md-icon=filter_list nv-label=l10n.filter class=constants-position-relative nv-filtered="!rewardsCenter.matchFilter(\'all\')"> <nv-select-menu-item nv-action="rewardsCenter.setFilter(\'all\')" nv-selected-test="rewardsCenter.matchFilter(\'all\')" ng-disabled="rewardsCenter.isFilterButtonDisabled(\'all\')"> <div translate=l10n.allNumber translate-value-number="{{rewardsCenter.getRewardsCount(\'all\')}}"></div> </nv-select-menu-item> <nv-select-menu-item nv-action="rewardsCenter.setFilter(\'available\')" nv-selected-test="rewardsCenter.matchFilter(\'available\')" ng-disabled="rewardsCenter.isFilterButtonDisabled(\'available\')"> <span translate=l10n.availableNumber translate-value-number="{{rewardsCenter.getRewardsCount(\'available\')}}"></span> </nv-select-menu-item> <nv-select-menu-item nv-action="rewardsCenter.setFilter(\'redeemed\')" nv-selected-test="rewardsCenter.matchFilter(\'redeemed\')" ng-disabled="rewardsCenter.isFilterButtonDisabled(\'redeemed\')"> <span translate=l10n.redeemedNumber translate-value-number="{{rewardsCenter.getRewardsCount(\'redeemed\')}}"></span> </nv-select-menu-item> <nv-select-menu-item nv-action="rewardsCenter.setFilter(\'expired\')" nv-selected-test="rewardsCenter.matchFilter(\'expired\')" ng-disabled="rewardsCenter.isFilterButtonDisabled(\'expired\')"> <span translate=l10n.expiredNumber translate-value-number="{{rewardsCenter.getRewardsCount(\'expired\')}}"></span> </nv-select-menu-item> </nv-select-menu> </md-toolbar> <md-content flex layout-fill ng-class="{\'overflow-y-hidden-important\': rewardsCenter.userProfileEnabled}"> <div layout=column layout-align="start center" flex=auto class="rewards-center-coupon-code-banner constants-position-relative" ng-class="{\'expanded-state\': rewardsCenter.couponBannerExpanded}"> <div flex layout-fill layout=column layout-align="start center" class=bg-grey-lt-hue-1> <nv-coupon-input nv-input-placeholder=rewardsCenter.translatedInputPlaceholder nv-button=rewardsCenter.nvCouponInputButton nv-error-message=l10n.checkCodeAndTryAgain></nv-coupon-input> </div> <div layout=row layout-align="center center" class=section-separator-horizontal> <div flex layout-fill class=bg-grey-lt-hue-1></div> <div class=section-separator-horizontal-center></div> <div flex layout-fill class=bg-grey-lt-hue-1></div> </div> <div layout=row class="no-focus-outline learn-more-expandable-header" ng-click=rewardsCenter.toggleCouponBannerExpansionState() layout-align="space-between center"> <div flex layout-fill class=bg-grey-lt-hue-1></div> <div class=section-separator-vertical></div> <div layout=row layout-align="center center" class="learn-more-header-button bg-grey-lt-hue-1 clickable-element"> <p class="margin-zero color-white-hue-5 line-height-16" translate=l10n.whereToFindCoupons></p> <md-icon class="material-icons margin-zero md-16 line-height-16 color-white-hue-5 toggle-icon margin-left-4" aria-label=expand aria-hidden=true>expand_more</md-icon> </div> <div class=section-separator-vertical></div> <div flex layout-fill class=bg-grey-lt-hue-1></div> </div> <div class=learn-more-expandable-content layout=row layout-align="center center"> <img src='+n(732)+' alt=learn_more class=constants-position-absolute /> <div class="learn-more-text-container constants-position-absolute"> <div layout=row layout-align="start center" ng-repeat="message in rewardsCenter.couponsLearnMoreMessages" class=margin-bottom-10> <img src='+n(731)+' alt=learn_more_bullet class="learn-more-bullet margin-bottom-1"/> <p class="margin-zero margin-left-8 learn-more-message color-white-hue-5" translate={{message}}></p> </div> </div> </div> </div> <div flex=none class=filtered-list-separator ng-if="!rewardsCenter.matchFilter(\'all\')"></div> <div flex class=reward-cards-container ng-if=rewardsCenter.unRedeemedItemsExist()> <md-toolbar layout=row ng-if="rewardsCenter.matchFilter(\'all\')"> <h4 translate=l10n.available class="rewards-center-section-title color-white-hue-3 font-size-sm line-height-sm1 font-uppercase" ng-if=!rewardsCenter.userProfileEnabled></h4> <h4 translate=l10n.readyToRedeem class="rewards-center-section-title color-white-hue-3 font-size-sm line-height-sm1 font-uppercase" ng-if=rewardsCenter.userProfileEnabled></h4> </md-toolbar> <div layout=row class=reward-cards-container layout-align="start start" layout-wrap flex layout-fill ng-if=rewardsCenter.showAvailableCards()> <nv-reward-card class=rewards-reward-card ng-repeat="reward in rewardsCenter.filteredUnRedeemedList | limitTo: rewardsCenter.unRedeemedListLimitTo track by rewardsCenter.rewardsTrackBy(reward)" nv-reward=reward></nv-reward-card> </div> </div> <div flex class=reward-cards-container ng-if=rewardsCenter.showPerksSection()> <md-toolbar layout=row ng-if="rewardsCenter.matchFilter(\'all\')"> <h4 translate=l10n.levelUpToUnlock class="rewards-center-section-title color-white-hue-3 font-size-sm line-height-sm1 font-uppercase margin-top-16"></h4> </md-toolbar> <div layout=row class=reward-cards-container layout-align="start start" layout-wrap flex layout-fill ng-if="!rewardsCenter.matchFilter(\'available\')"> <nv-reward-card class=rewards-reward-card ng-repeat="reward in rewardsCenter.lockedPerksList track by rewardsCenter.rewardsTrackBy(reward)" nv-reward=reward></nv-reward-card> </div> </div> <div flex class=reward-cards-container> <md-toolbar layout=row ng-if="rewardsCenter.matchFilter(\'all\')"> <h4 translate=l10n.redeemedAndExpired class="rewards-center-section-title color-white-hue-3 font-size-sm line-height-sm1 font-uppercase margin-top-16"></h4> </md-toolbar> <div layout=row class=reward-cards-container layout-align="start start" layout-wrap flex layout-fill ng-if="!rewardsCenter.matchFilter(\'available\')"> <nv-reward-card class=rewards-reward-card ng-repeat="reward in rewardsCenter.filteredRedeemedOrExpiredList | limitTo: rewardsCenter.redeemedOrExpiredListLimitTo track by rewardsCenter.rewardsTrackBy(reward)" nv-reward=reward></nv-reward-card> </div> <p class="color-white-hue-4 margin-zero no-items-message" translate=l10n.noRewardsRedeemedYet ng-if=rewardsCenter.showNoRedeemedItemsMessage()></p> </div> </md-content> </div> <nv-overlay class="common-overlay light-background constants-z-layers-two" flex layout-fill ng-if=rewardsCenter.requestInProgress> <span layout-fill layout-align="center center" layout=column> <md-progress-circular id=progressIndicator class=md-accent md-diameter=25 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> '},function(e,t){e.exports=' <div class=search-container> <div class=search-input-wrapper> <div layout=row> <md-input-container ng-class="{\'visible\': searchCtrl.searchInputVisble, \'hidden\': !searchCtrl.searchInputVisble}" md-no-float class="md-block search-input-container"> <md-icon md-font-set=material-icons class="md-18 search-icon" ng-if=!searchCtrl.resultsShouldBeVisible() aria-label=search aria-hidden=true>search</md-icon> <md-icon md-font-set=material-icons class="md-18 active-search-icon" ng-if=searchCtrl.resultsShouldBeVisible() aria-label=activeSearch aria-hidden=true>search</md-icon> <input class=search-input maxlength=40 type=text ng-model=searchCtrl.query ng-focus=searchCtrl.showRecentSearches() ng-blur="searchCtrl.searchInputFocused = false" placeholder="{{ \'l10n.search\' | translate }}" ng-change=searchCtrl.performSearch(searchCtrl.query) autocomplete=off ng-keydown=searchCtrl.keydownevt($event)> <md-button class="md-icon-button clear-icon-button" ng-click=searchCtrl.toggleSearchInput() aria-label=clearSearchInputText> <md-icon md-font-set=material-icons class=md-18 aria-label=clear aria-hidden=true>clear</md-icon> </md-button> </md-input-container> <md-button class="search-input-toggle-button md-icon-button margin-right-16" ng-if=!searchCtrl.searchInputVisble ng-click=searchCtrl.toggleSearchInput() aria-label=searchButton> <md-tooltip><span translate=l10n.search></span></md-tooltip> <md-icon md-font-set=material-icons class=md-18 aria-label=inputToggle aria-hidden=true>search</md-icon> </md-button> </div> </div> <div class=search-result-container ng-class="{\'hidden\': (!searchCtrl.recentSearchesCache.length  && searchCtrl.searchResult === \'\') }" ng-show=searchCtrl.resultsShouldBeVisible()> <div ng-switch on=searchCtrl.searchResult> <md-content class=search-result-scroll-content ng-switch-when=recentQueries> <div class=search-category-title> <h4 class="font-size-sm color-white-hue-5 font-uppercase" translate=l10n.recentSearches></h4> </div> <md-list> <div ng-repeat="result in searchCtrl.recentSearchesCache track by $index"> <md-list-item tabindex=0 class=recent-search-item ng-click=searchCtrl.addQuery(result) ng-class="{ \'selected-search-item\' : searchCtrl.selectedRecentSearchIndex === $index}"> <div layout=row layout-fill layout-align="space-around center" class=search-result-height> <div ng-if=result.hasThumbnail class=search-item-thumbnail> <img ng-src="{{ result.thumbnail }}" nv-image-fallback=nv-default-game-art /> </div> <div ng-if=result.hasIcon layout=row layout-align="center center" class=search-item-icon> <md-icon md-font-set=material-icons class=md-primary aria-label=result aria-hidden=true>{{result.icon}}</md-icon> </div> <p id="{{ \'recent-searches\' + $index }}" flex class="search-title single-line-ellipsis" translate={{result.title}}></p> </div> </md-list-item> <md-tooltip ng-if="searchCtrl.showTooltip($index, \'recent-searches\')"><span translate={{result.title}}></span></md-tooltip> </div> </md-list> </md-content> <md-content id=search-result-list class=search-result-scroll-content ng-switch-when=resultAvailable> <div ng-repeat="(category, results) in searchCtrl.categorizedResult" ng-show="results.length > 0"> <div class=search-category-title> <h4 class="font-size-sm color-white-hue-5">{{ searchCtrl.searchCategories[category] | translate | uppercase}}</h4> </div> <md-list> <div ng-repeat="result in results track by $index"> <div> <md-list-item tabindex=0 class=search-result-item ng-click=searchCtrl.redirect(result) ng-class="{ \'selected-search-item\' : searchCtrl.isSearchItemSelected($index,category) }"> <div layout=row layout-fill flex layout-align="space-around center" class=search-result-height> <div ng-if=result.hasThumbnail class=search-item-thumbnail> <img ng-src="{{ result.thumbnail }}" nv-image-fallback=nv-default-game-art /> </div> <div ng-if=result.hasIcon layout=row layout-align="center center" class=search-item-icon> <md-icon md-font-set=material-icons class=md-primary aria-label=resultText aria-hidden=true>{{result.icon}}</md-icon> </div> <div layout=column flex> <p id="{{ \'new-searches-\' + category.split(\'.\').join(\'-\') + $index  }}" class="single-line-ellipsis search-title" translate={{result.title}}></p> <span class=search-preview>{{ result.preview }}</span> </div> </div> </md-list-item> <md-tooltip ng-if="searchCtrl.showTooltip($index, \'new-searches-\' + category.split(\'.\').join(\'-\') )"><span translate={{result.title}}></span></md-tooltip> </div> </div> </md-list> <div class=search-category-divider></div> </div> </md-content> <div class=search-result-fallback ng-switch-when=resultNotAvailable> <div class=search-result-not-found layout=column layout-align="center center" flex layout-fill> <md-icon md-font-set=material-icons class="search-error-icon md-32" aria-label=errorMessage aria-hidden=true>error</md-icon> <p class=search-error-header translate=l10n.noResults></p> <p class=search-error-message translate=l10n.noResultsSearchMessage></p> </div> </div> </div> <nv-overlay class="common-overlay search-container-bottom-gradient" nv-position=bottom></nv-overlay> </div> </div> '},,,,function(e,t){e.exports=' <div layout-fill layout=column flex class=constants-position-relative> <md-card class="updates-highlight-tile bg-black-hv" layout=column ng-click=highlightTile.showDetails($event) nv-telemetry=\'{"tarconID":{{highlightTile.getTelemetryEventName()}},"url":{{highlightTile.getTelemetryEventInfo()}}}\'> <div class="constants-position-relative image-container"> <img ng-src={{nvContent.coverImage}} class=md-card-image alt={{nvContent.name}} nv-image-fallback=nv-no-loading-indicator layout-fill> <nv-overlay class="common-overlay optimal-settings-icon-overlay" ng-if=highlightTile.isContentGame()> <md-icon md-font-set=nv-custom-icons md-font-icon=icon-optimized_reg class="nv-custom-icons md-accent md-24" aria-label=" optimizedIcon" aria-hidden=true></md-icon> <md-tooltip><span translate=l10n.optimalSettingsAvailable></span></md-tooltip> </nv-overlay> <nv-overlay layout-fill class="common-overlay no-background highlight-tile-overlay" ng-if=highlightTile.isVideoAvailable(nvContent)> <div layout=column layout-align="center center" flex> <md-button class=md-icon-button aria-label=playCircle-button> <md-icon md-font-set=material-icons class="md-18 color-white-hue-1" aria-label=playCircleOutline aria-hidden=true>play_circle_outline</md-icon> </md-button> </div> </nv-overlay> </div> <md-card-content class=color-black-hue-1> <p class="font-size-lg color-white-hue-3" nv-ellipsis-lines=2>{{nvContent.name}}</p> <p ng-if=nvContent.id class="font-size-sm color-white-hue-4" nv-ellipsis-lines=2>{{nvContent.description}}</p> <p ng-if=nvContent.featureId class="font-size-sm color-white-hue-4" nv-ellipsis-lines=3>{{nvContent.description}}</p> <p ng-if=nvContent.overviewContent class="font-size-sm color-white-hue-4" nv-ellipsis-lines=3>{{nvContent.description}}</p> </md-card-content> </md-card> <nv-overlay class="common-overlay common-container-gradient" nv-position=bottom></nv-overlay> </div> '},function(e,t,n){e.exports='<div class="constants-position-relative updates-updates-details-highlights-banner-container bg-dark-vh23" ng-if=updateDetails.showDefaultBanner() layout=row layout-align="center center"> <img ng-src='+n(734)+' alt=default-banner /> </div> <nv-no-content-fallback ng-if=updateDetails.showDefaultContentImage() nv-tip=l10n.noInformationAvailable class=updates-updates-details-highlights-banner-container flex> </nv-no-content-fallback> <div layout=column ng-if=updateDetails.driverInformation> <div class="constants-position-relative updates-updates-details-highlights-banner-container bg-dark-vh23" ng-if=updateDetails.driverInformation.bannerGfeNg> <nv-updates-highlights-banner nv-driver-banner=updateDetails.driverInformation.bannerGfeNg nv-driver-type=updateDetails.driverType nv-driver-version={{updateDetails.driverVersion}} flex></nv-updates-highlights-banner> </div> <div class=updates-updates-details ng-if=updateDetails.showHighLights()> <div class=updates-updates-details-releaseAbstract ng-bind-html=updateDetails.driverInformation.ReleaseNotesAbstract></div> <nv-updates-driver-highlights nv-driver-highlight=updateDetails.driverInformation.highlightGfeNg nv-driver-type=updateDetails.driverType nv-driver-version={{updateDetails.driverVersion}}></nv-updates-driver-highlights> </div> </div> <div class=updates-updates-details-highlights-banner-container ng-if=updateDetails.showLoadingIndicator layout=row layout-align="center center" flex> <md-progress-circular class=md-accent md-diameter=30 md-mode=indeterminate> </md-progress-circular> </div> '},function(e,t){e.exports="<nv-updates-driver flex layout=column class=updates-updates-container></nv-updates-driver> "},function(e,t){e.exports=' <div flex class=download-progress> <div layout=row layout-align="space-between start"> <p class="font-size-xxs color-white-hue-3">{{nvMessage}}</p> <p ng-show="nvValue > 0" class="font-size-xxs color-white-hue-3">{{nvValue | number:0}}%</p> </div> <md-progress-linear class=md-accent flex md-mode="{{(nvValue > 0) ? \'determinate\':\'indeterminate\'}}" value={{nvValue}} ng-cloak aria-label=checkingforDownloadProgress></md-progress-linear> </div> '},function(e,t,n){e.exports=' <md-content flex class=updates-updates-driver-container id=toast-container> <div class=updates-updates-driver layout=column> <md-progress-circular class="md-accent left-50-percent" md-diameter=15 md-mode=indeterminate ng-if=updatesDriver.showLoadingIndicator()></md-progress-circular> <div layout=row class=checkforupdate-button layout-align="end center" ng-if=updatesDriver.anydriverInfoOrUpdatesFound> <md-button ng-click=updatesDriver.onCheckForUpdate() ng-disabled=updatesDriver.isCheckForUpdateDisabled() nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.UPDATES_CHECK_DRIVER_UPDATES}}}\' aria-hidden=true>{{\'l10n.checkforUpdates\' | translate | uppercase}}</md-button> <div layout=row id=driver-icon ui-tour=driverTour ui-tour-on-shown=updatesDriver.onTourStepShown() layout-align="end center" ng-if=updatesDriver.CRDSupported> <img class="padding-left-16 padding-right-16" src='+n(97)+'> <md-menu md-offset="30 60" class=driver-type-preference-menu> <md-button class=md-icon-button ng-click=$mdOpenMenu($event) div tour-step=driver-drivers tour-step-title="{{\'l10n.clickToChangeDriverPreference\' | translate}}" tour-step-placement=bottom-right tour-step-order=0 aria-label=changeDriverPreference-button> <md-icon md-font-set=material-icons class=color-white-hue-2 ng-hide={{::nvCustomIcon}} aria-label=vert aria-hidden=true>more_vert</md-icon> </md-button> <md-menu-content class="margin-zero padding-24 driver-type-selection-container"> <p class="margin-zero margin-bottom-20 font-size-xl foreground driver-type-title" translate=l10n.showDriverRecommendationFor></p> <md-radio-group ng-model=updatesDriver.currentlySelectedDriver> <md-menu-item layout=row style=margin-bottom:15px> <md-radio-button class="padding-zero margin-zero" value={{updatesDriver.driverType.GRD}} nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.DRIVER_TYPE_GRD_SELECTED}}}\' ng-click=updatesDriver.onRecommendedDriverTypeChanged(updatesDriver.driverType.GRD)> <div layout=column> <p translate=l10n.gameReadyDriver class="font-size-lg margin-zero margin-top-2 driver-type-heading1"></p> <p translate=l10n.recommendedForGameUpdates class="font-size-sm margin-zero margin-top-2 line-height-16 driver-type-heading2"></p> </div> </md-radio-button> </md-menu-item> <md-menu-item> <md-radio-button class="padding-zero margin-zero" value={{updatesDriver.driverType.CRD}} nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.DRIVER_TYPE_CRD_SELECTED}}}\' ng-click=updatesDriver.onRecommendedDriverTypeChanged(updatesDriver.driverType.CRD) layout=column> <div layout=column> <p translate=l10n.creatorReadyDriver class="font-size-lg margin-zero margin-top-2 driver-type-heading1"></p> <p translate=l10n.recommendedForCreativeApp class="font-size-sm margin-zero margin-top-2 line-height-16 driver-type-heading2"></p> </div> </md-radio-button> </md-menu-item> </md-radio-group> </md-menu-content> </md-menu> </div> </div> <h4 class="font-size-lg color-white-hue-4" ng-show=updatesDriver.driverUpdateList.length>{{\'l10n.available\' | translate | uppercase}}</h4> <nv-accordion class=common-accordion> <nv-accordion-pane ng-repeat="update in updatesDriver.driverUpdateList track by $index" nv-start-expanded={{update.isExpanded}} nv-on-expand=updatesDriver.onExpand(update) nv-on-collapse=updatesDriver.onCollapse(update) nv-telemetry=\'{"tarconID":{{updatesDriver.getAvlDriverTelemetryEventName(update.isBeta)}},"url":"{{update.version}}"}\'> <nv-accordion-pane-header layout=row layout-align="start center"> <md-content flex layout=row layout-align="space-between center"> <nv-driver-item nv-driver=update nv-md-icon=file_download></nv-driver-item> <div class=download-install-controls> <md-button class="md-raised md-accent color-white-important" ng-show=updatesDriver.isStatusPending(update.downloadStatus.status) ng-disabled="!updatesDriver.canToggleDownload(update.downloadStatus.status, update.version)" ng-click=updatesDriver.startDownload(update) translate=l10n.download nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.UPDATES_DOWNLOAD_DRIVER_MANUAL_START}},"url":"{{update.version}}"}\' aria-hidden=true></md-button> <div class=download-container layout=row ng-show=updatesDriver.isDownloadStarted(update.downloadStatus.status) layout-align="center center"> <div layout=column class="download-details-container margin-right-16"> <nv-update-download-progress nv-message={{updatesDriver.getDownloadStatusMessage(update.downloadStatus.status)}} nv-value={{update.downloadStatus.percentComplete}}></nv-update-download-progress> <div layout=row layout-align="space-between start" class=download-details-status-container> <p class="font-size-xxs color-white-hue-5">{{updatesDriver.getProgressString(update)}}</p> <div layout=row layout-align="start start"> <p class="font-size-xxs color-white-hue-5 download-speed margin-right-16">{{update.downloadStatus.downloadSpeed | convertBytesToKBMBGB}}/Sec</p> <p class="font-size-xxs color-white-hue-5">{{update.downloadStatus.timeRemaining | convertSecondsToTime:true}}</p> </div> </div> </div> <md-button class="md-icon-button download-pause-resume margin-right-10" ng-click=updatesDriver.pauseDownload(update) ng-hide=updatesDriver.isStatusPaused(update.downloadStatus.status) aria-label=pause-driver-download-button> <md-icon md-font-set=material-icons class=md-18 aria-label=pauseDownload aria-hidden=true>pause</md-icon> </md-button> <md-button class="md-icon-button download-pause-resume margin-right-10" ng-click=updatesDriver.resumeDownload(update) ng-show=updatesDriver.isStatusPaused(update.downloadStatus.status) aria-label=resume-driver-download-button> <md-icon md-font-set=material-icons class=md-18 aria-label=resumeDownload aria-hidden=true>play_arrow</md-icon> </md-button> <md-button class="md-icon-button download-stop margin-right-zero" ng-click=updatesDriver.stopDownload(update) aria-label=stop-driver-download-button> <md-icon md-font-set=material-icons class=md-18 aria-label=stopDownload aria-hidden=true>stop</md-icon> </md-button> </div> <div class=download-container layout=row ng-show=updatesDriver.isExtractionStarted(update.downloadStatus.status) layout-align="center center"> <div layout=column class="download-details-container margin-right-16"> <nv-update-download-progress nv-message={{updatesDriver.getDownloadStatusMessage(update.downloadStatus.status)}} nv-value={{0}}></nv-update-download-progress> </div> </div> <div ng-show=updatesDriver.isStatusCompleted(update.downloadStatus.status)> <md-button class="md-raised md-accent color-white-important expressInstall" ng-click="updatesDriver.startInstall(update, false)" translate=l10n.expressInstall nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.UPDATES_INSTALL_DRIVER_EXPRESS}},"url":"{{update.version}}"}\' ng-disabled=updatesDriver.isInstallDisabled() aria-label=express-driver-install-button></md-button> <md-button class="md-raised bg-dark-im-hue-4 color-white-important" ng-click="updatesDriver.startInstall(update, true)" translate=l10n.customInstall nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.UPDATES_INSTALL_DRIVER_CUSTOM}},"url":"{{update.version}}"}\' ng-disabled=updatesDriver.isInstallDisabled() aria-label=custom-driver-install-button></md-button> </div> </div> </md-content> </nv-accordion-pane-header> <nv-accordion-pane-content layout=column class=bg-grey-im-hue-3> <nv-update-details nv-is-crd=update.isCRD nv-driver-version={{update.version}} nv-driver-type=updatesDriver.getAvlDriverType(update.isBeta)></nv-update-details> </nv-accordion-pane-content> </nv-accordion-pane> </nv-accordion> <div ng-if=updatesDriver.installedDriver> <h4 class="font-size-lg color-white-hue-4">{{updatesDriver.installedDriverHeaderText}}</h4> <nv-accordion class=common-accordion> <nv-accordion-pane nv-start-expanded={{updatesDriver.installedDriver.isExpanded}} nv-on-expand=updatesDriver.onExpand(updatesDriver.installedDriver) nv-on-collapse=updatesDriver.onCollapse(updatesDriver.installedDriver) nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.UPDATES_VIEW_CURRENT_DRIVER}},"url":"{{updatesDriver.installedDriver.version}}"}\'> <nv-accordion-pane-header flex layout=row layout-align="start center"> <nv-driver-item flex nv-driver=updatesDriver.installedDriver nv-md-icon=check></nv-driver-item> <nv-select-menu ng-if=!updatesDriver.installedDriver.reInstalledDriver nv-md-icon=more_vert nv-label="{{\'l10n.moreDots\' | translate}}"> <nv-select-menu-item ng-disabled=updatesDriver.reInstalledDriverMenuItemDisabled() nv-action=updatesDriver.performReinstalledDriver()> <div class=updates-reinstall-driver layout=row> <md-icon md-font-set=material-icons class="md-18 updates-reinstall-driver-icon" aria-label=download aria-hidden=true>file_download</md-icon> <span translate=l10n.reInstalledDriver></span> </div> </nv-select-menu-item> </nv-select-menu> <div ng-if=updatesDriver.showReInstallButtons() class=download-install-controls> <div class=download-container layout=row ng-show=updatesDriver.isDownloadStarted(updatesDriver.installedDriver.downloadStatus.status) layout-align="center center"> <div layout=column class="download-details-container margin-right-16"> <nv-update-download-progress nv-message={{updatesDriver.getDownloadStatusMessage(updatesDriver.installedDriver.downloadStatus.status)}} nv-value={{updatesDriver.installedDriver.downloadStatus.percentComplete}}></nv-update-download-progress> <div layout=row layout-align="space-between start" class=download-details-status-container> <p class="font-size-xxs color-white-hue-5">{{updatesDriver.getProgressString(updatesDriver.installedDriver)}}</p> <div layout=row layout-align="start start"> <p class="font-size-xxs color-white-hue-5 download-speed margin-right-16">{{updatesDriver.installedDriver.downloadStatus.downloadSpeed | convertBytesToKBMBGB}}/Sec</p> <p class="font-size-xxs color-white-hue-5">{{updatesDriver.installedDriver.downloadStatus.timeRemaining | convertSecondsToTime:true}}</p> </div> </div> </div> <md-button class="md-icon-button download-pause-resume margin-right-10" ng-click=updatesDriver.pauseDownload(updatesDriver.installedDriver) ng-hide=updatesDriver.isStatusPaused(updatesDriver.installedDriver.downloadStatus.status) aria-label=pause-driverDownload-button> <md-icon md-font-set=material-icons class=md-18 aria-label=pauseDownload aria-hidden=true>pause</md-icon> </md-button> <md-button class="md-icon-button download-pause-resume margin-right-10" ng-click=updatesDriver.resumeDownload(updatesDriver.installedDriver) ng-show=updatesDriver.isStatusPaused(updatesDriver.installedDriver.downloadStatus.status) aria-label=resume-driverDownload-button> <md-icon md-font-set=material-icons class=md-18 aria-label=resumeDownload aria-hidden=true>play_arrow</md-icon> </md-button> <md-button class="md-icon-button download-stop margin-right-zero" ng-click="updatesDriver.stopDownload(updatesDriver.installedDriver, true)" aria-label=stop-driverDownload-button> <md-icon md-font-set=material-icons class=md-18 aria-label=stopDownload aria-hidden=true>stop</md-icon> </md-button> </div> <div class=download-container layout=row ng-show=updatesDriver.isExtractionStarted(updatesDriver.installedDriver.downloadStatus.status) layout-align="center center"> <div layout=column class="download-details-container margin-right-16"> <nv-update-download-progress nv-message={{updatesDriver.getDownloadStatusMessage(updatesDriver.installedDriver.downloadStatus.status)}} nv-value={{0}}></nv-update-download-progress> </div> </div> <div ng-show=updatesDriver.isStatusCompleted(updatesDriver.installedDriver.downloadStatus.status)> <md-button class="md-raised md-accent expressInstall" ng-click="updatesDriver.startInstall(updatesDriver.installedDriver, false)" translate=l10n.expressInstall nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.UPDATES_INSTALL_DRIVER_EXPRESS}},"url":"{{update.version}}"}\' aria-label="update-installed driver-button"></md-button> <md-button class="md-raised bg-dark-im-hue-4 color-white-hue-6" ng-click="updatesDriver.startInstall(updatesDriver.installedDriver, true)" translate=l10n.customInstall nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.UPDATES_INSTALL_DRIVER_CUSTOM}},"url":"{{updatesDriver.installedDriver.version}}"}\' aria-label=start-driver-install-button></md-button> </div> </div> </nv-accordion-pane-header> <nv-accordion-pane-content layout=column class=bg-grey-im-hue-3> <nv-update-details ng-if=updatesDriver.installedDriver nv-is-crd=updatesDriver.installedDriver.isCRD nv-driver-type=updatesDriver.driverTypeConstant.CURRENT nv-driver-version={{updatesDriver.installedDriver.version}}></nv-update-details> </nv-accordion-pane-content> </nv-accordion-pane> </nv-accordion> </div> <div ng-if="updatesDriver.rollbackFeatureExperimental && updatesDriver.showRollbackDriver" layout=row layout-align="space-between end"> <div layout=row layout-align="start end"> <h4 class="font-size-lg color-white-hue-4 margin-right-16">{{\'l10n.rollbackToLastDriver\' | translate | uppercase}}</h4> </div> </div> <nv-accordion ng-if="updatesDriver.rollbackFeatureExperimental && updatesDriver.showRollbackDriver" class=common-accordion> <nv-accordion-pane ng-repeat="update in updatesDriver.driverRollbackList track by $index" nv-start-expanded={{update.isExpanded}} nv-on-expand=updatesDriver.onExpand(update) nv-on-collapse=updatesDriver.onCollapse(update)> <nv-accordion-pane-header ng-if=update.installDate layout=row layout-align="start center"> <md-content flex layout=row layout-align="space-between center"> <nv-driver-item nv-driver=update nv-md-icon=file_download></nv-driver-item> <div class="download-install-controls rollback-install-controls"> <md-button class="md-raised md-accent color-white-important" ng-click=updatesDriver.startDownload(update) ng-show=updatesDriver.isStatusPending(update.downloadStatus.status) translate=l10n.reInstalledDriver ng-disabled="!updatesDriver.canToggleDownload(update.downloadStatus.status, update.version)" nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.UPDATES_DOWNLOAD_DRIVER_MANUAL_START}},"url":"Rollback Driver Version: {{update.version}}"}\' aria-label=reinstall-driver-button></md-button> <div class=download-container layout=row ng-show=updatesDriver.isDownloadStarted(update.downloadStatus.status) layout-align="center center"> <div layout=column class="download-details-container margin-right-16"> <nv-update-download-progress nv-message={{updatesDriver.getDownloadStatusMessage(update.downloadStatus.status)}} nv-value={{update.downloadStatus.percentComplete}}></nv-update-download-progress> <div layout=row layout-align="space-between start" class=download-details-status-container> <p class="font-size-xxs color-white-hue-5">{{updatesDriver.getProgressString(update)}}</p> <div layout=row layout-align="start start"> <p class="font-size-xxs color-white-hue-5 download-speed margin-right-16">{{update.downloadStatus.downloadSpeed | convertBytesToKBMBGB}}/Sec</p> <p class="font-size-xxs color-white-hue-5">{{update.downloadStatus.timeRemaining | convertSecondsToTime:true}}</p> </div> </div> </div> <md-button class="md-icon-button download-pause-resume margin-right-10" ng-click=updatesDriver.pauseDownload(update) ng-hide=updatesDriver.isStatusPaused(update.downloadStatus.status) aria-label=start-rollback-driver-download-button> <md-icon md-font-set=material-icons class=md-18 aria-label=pauseDownload aria-hidden=true>pause</md-icon> </md-button> <md-button class="md-icon-button download-pause-resume margin-right-10" ng-click=updatesDriver.resumeDownload(update) ng-show=updatesDriver.isStatusPaused(update.downloadStatus.status) aria-label=resume-rollback-driver-download-button> <md-icon md-font-set=material-icons class=md-18 aria-label=resumeDownload aria-hidden=true>play_arrow</md-icon> </md-button> <md-button class="md-icon-button download-stop margin-right-zero" ng-click=updatesDriver.stopDownload(update) aria-label=stop-rollback-driver-download-button> <md-icon md-font-set=material-icons class=md-18 aria-label=stopDownload aria-hidden=true>stop</md-icon> </md-button> </div> <div class=download-container layout=row ng-show=updatesDriver.isExtractionStarted(update.downloadStatus.status) layout-align="center center"> <div layout=column class="download-details-container margin-right-16"> <nv-update-download-progress nv-message={{updatesDriver.getDownloadStatusMessage(update.downloadStatus.status)}} nv-value={{0}}></nv-update-download-progress> </div> </div> <div ng-show=updatesDriver.isStatusCompleted(update.downloadStatus.status)> <md-button class="md-raised md-accent color-white-important expressInstall" ng-click="updatesDriver.startInstall(update, false)" translate=l10n.expressInstall nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.UPDATES_INSTALL_DRIVER_EXPRESS}},"url":"Rollback Driver Version: {{update.version}}"}\' ng-disabled=updatesDriver.isInstallDisabled() aria-label=start-rollback-driver-expressInstall-button></md-button> <md-button class="md-raised bg-dark-im-hue-4 color-white-important" ng-click="updatesDriver.startInstall(update, true)" translate=l10n.customInstall nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.UPDATES_INSTALL_DRIVER_CUSTOM}},"url":"Rollback Driver Version: {{update.version}}"}\' ng-disabled=updatesDriver.isInstallDisabled() aria-label=start-rollback-driver-customInstall-button></md-button> </div> </div> </md-content> </nv-accordion-pane-header> </nv-accordion-pane> </nv-accordion> </div> <div layout=row layout-align="center center" class=common-nv-no-content-fallback layout-fill flex ng-if=!updatesDriver.anydriverInfoOrUpdatesFound> <div class=no-info-found-hardware-driver layout=column flex layout-align="center center"> <div class=centered> <p aria-hidden=true> <img src="data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjNWE1YTVhIiBoZWlnaHQ9IjQ4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSI0OCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4gICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPiAgICA8cGF0aCBkPSJNMTIgMkM2LjQ4IDIgMiA2LjQ4IDIgMTJzNC40OCAxMCAxMCAxMCAxMC00LjQ4IDEwLTEwUzE3LjUyIDIgMTIgMnptMSAxNWgtMnYtNmgydjZ6bTAtOGgtMlY3aDJ2MnoiLz48L3N2Zz4="> </p> </div> <p class=color-light-gray translate=l10n.downloadDriver flex/> <div layout-align="left left" flex> <md-button class=checkforupdate-button ng-click=updatesDriver.onCheckForUpdate() ng-disabled=updatesDriver.isCheckForUpdateDisabled() nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.UPDATES_CHECK_DRIVER_UPDATES}}}\' aria-label=" check-for-new-driver-update-button">{{\'l10n.retry\' | translate | uppercase}}</md-button> </div> </div> </div> </md-content> '},function(e,t){e.exports='<div layout=row layout-align="center center" layout-wrap> <nv-highlight-tile ng-repeat="tile in updatesDriverHighlights.driverHighlights.tiles" nv-content=tile nv-driver-type=updatesDriverHighlights.driverType class=updates-highlight-tile nv-driver-version={{updatesDriverHighlights.driverVersion}}></nv-highlight-tile> </div> '},function(e,t){e.exports="<nv-carousel ng-if=updatesHighlightsBanner.videoBanner nv-slides=updatesHighlightsBanner.videoBanner nv-selected-index=0 nv-is-banner=true nv-event-info={{updatesHighlightsBanner.getTelemetryEventInfo()}} class=updates-highlight-carousel></nv-carousel> "},function(e,t){e.exports=' <div ng-if=updatesInstallationCustom.showPackageSelectionUI layout=column> <div class=package-group-table> <div layout-align="start center" layout=row class="md-primary md-hue-5 background package-group-header"> <p class="font-size-xxs color-white-hue-3" flex=50>{{\'l10n.component\' | translate | uppercase}}</p> <p class="font-size-xxs color-white-hue-3" flex=30>{{\'l10n.newVersion\' | translate | uppercase}}</p> <p class="font-size-xxs color-white-hue-3" flex>{{\'l10n.currentVersion\' | translate | uppercase}}</p> </div> <div layout-align="start center" class=package-group-header layout=row ng-class="{\'md-primary md-hue-6 background\': $odd}" ng-repeat="installablePackage in updatesInstallationCustom.packages"> <md-checkbox class="font-size-xxs color-white-hue-4 checkbox-20" flex=50 ng-disabled=installablePackage.critical ng-model=installablePackage.selectedForInstall aria-label=selectInstall>{{installablePackage.title}}</md-checkbox> <p class="font-size-xxs color-white-hue-4" flex=30>{{installablePackage.version}}</p> <p class="font-size-xxs color-white-hue-4" flex ng-if=installablePackage.currentVersion.length>{{installablePackage.currentVersion}}</p> <p class="font-size-xxs color-white-hue-4" flex ng-if=!installablePackage.currentVersion.length>-</p> </div> </div> <md-divider></md-divider> <div layout=column layout-align="start start"> <md-checkbox class="font-size-xxs color-white-hue-4" ng-model=updatesInstallationCustom.cleanInstall aria-label=selectCleanInstall>{{ \'l10n.performCleanInstallation\' | translate }} </md-checkbox> <div layout=row layout-align="start center" class=warning-clean-install> <p class="font-size-xxs color-white-hue-5">{{\'l10n.cleanInstallMessage\' | translate}}</p> </div> </div> </div> <div ng-if=!updatesInstallationCustom.showPackageSelectionUI> <div class=package-group-table> <div layout-align="start center" layout=row class="md-primary md-hue-5 background package-group-header"> <p class="font-size-xxs color-white-hue-3" flex=50>{{\'l10n.component\' | translate | uppercase}}</p> <p class="font-size-xxs color-white-hue-3" flex=30>{{\'l10n.version\' | translate | uppercase}}</p> <p class="font-size-xxs color-white-hue-3" flex>{{\'l10n.status\' | translate | uppercase}}</p> </div> <div layout-align="start center" class=package-group-header layout=row ng-class="{\'md-primary md-hue-6 background\': $odd}" ng-repeat="installablePackage in updatesInstallationCustom.packages"> <p class="font-size-xxs color-white-hue-4" flex=50>{{installablePackage.title}}</p> <p class="font-size-xxs color-white-hue-4" flex=30>{{installablePackage.version}}</p> <p class="font-size-xxs color-white-hue-4" flex ng-if=installablePackage.resultCode>{{updatesInstallationCustom.getStatusText(installablePackage.resultText)}}</p> <p class="font-size-xxs color-white-hue-4" flex ng-if=!installablePackage.resultCode>{{ \'l10n.installed\' | translate }}</p> </div> </div> <md-divider></md-divider> </div> '},function(e,t,n){e.exports=" <iframe ng-if=!updateInstallationProgress.showFallbackImage ng-src={{updateInstallationProgress.getBillboardUrl()}}></iframe> <img ng-if=updateInstallationProgress.showFallbackImage class=updates-installlation-progress-fallbackImage ng-src="+n(736)+' alt=default-banner /> <div layout=column layout-align="space-around start" class=progress-status-container> <h4 class="font-size-sm color-white-hue-1">{{updateInstallationProgress.model.details()}}</h4> <md-progress-linear class=md-accent ng-if=updateInstallationProgress.isPreparingInstall flex md-mode=indeterminate aria-label=checkingforPreparingInstallProgress></md-progress-linear> <md-progress-linear class=md-accent ng-if=updateInstallationProgress.canShowUninstallProgress() flex md-mode=determinate value={{updateInstallationProgress.progressValue}} aria-label=checkingforUnInstallProgress></md-progress-linear> <md-progress-linear class=md-accent ng-if=updateInstallationProgress.canShowInstallProgress() flex md-mode=determinate value={{updateInstallationProgress.progressValue}} aria-label=checkingforInstallProgress></md-progress-linear> <p class="font-size-xxs color-white-hue-4" ng-show=updateInstallationProgress.canShowUninstallProgress() translate=l10n.unInstalling translate-values={{updateInstallationProgress}}></p> <p class="font-size-xxs color-white-hue-4" ng-show=updateInstallationProgress.canShowInstallProgress() translate=l10n.installing translate-values={{updateInstallationProgress}}></p> <p class="font-size-xxs color-white-hue-4" ng-show=updateInstallationProgress.isPreparingInstall translate=l10n.preparingForInstallation></p> </div> '},function(e,t){e.exports=' <div layout-align="center center" layout-padding layout=column> <md-icon md-font-library=material-icons class="material-icons md-accent" aria-label=trackChange aria-hidden=true>track_changes</md-icon> <h4 class="font-size-sm color-white-hue-3">{{\'l10n.restartingInSecond\' | translate:{num:updatesInstallationReboot.interval} }}</h4> <p class="font-size-xxs color-white-hue-4">{{\'l10n.afterRestartInstallation\' | translate}}</p> </div> '},function(e,t){e.exports=' <div layout-align="center center" layout-padding layout=column> <md-icon md-font-library=material-icons class="material-icons md-accent" aria-label=check aria-hidden=true>check</md-icon> <h4 class="font-size-sm color-white-hue-3">{{updatesInstallerDialog.model.details() | translate:dialog.data}}</h4> </div> '},function(e,t){e.exports='<div layout=column> <p class="font-size-sm color-white-hue-3">{{updatesInstallerDialog.model.details() | translate:dialog.data}}</p> <div ng-if=updatesInstallerDialog.model.showBullets()> <ul class=Bulleted ng-repeat="bullet in updatesInstallerDialog.model.bullets()"> <li class="font-size-sm color-white-hue-3" style=list-style:disc>{{bullet | translate:dialog.data}}</li> </ul> </div> <a class="md-default-theme font-size-xxs top-margin-linksection" ng-if=updatesInstallerDialog.model.showLink() href=http://nvidia.custhelp.com/app/answers/detail/a_id/3814 translate=l10n.viewDetails></a> </div> '},function(e,t){e.exports=' <div ng-show=updatesInstallerDialog.showTitleContainer() class=updates-installer-dialog-header> <div class="updates-updates-installer-dialog-title font-size-xl color-white-hue-1">{{updatesInstallerDialog.model.title() | translate}}</div> <div layout=row> <md-icon ng-if=updatesInstallerDialog.model.icon() md-font-set=material-icons class="material-icons md-accent" aria-label=subtitle aria-hidden=true>{{updatesInstallerDialog.model.icon()}}</md-icon> <p class="font-size-sm color-white-hue-3">{{updatesInstallerDialog.model.subtitle() | translate}}</p> </div> </div> <div flex layout-align="center center" layout=column> <div flex nv-bind-html-compile={{updatesInstallerDialog.model.html()}} layout-fill></div> </div> <div class=md-actions layout=row ng-show=updatesInstallerDialog.showActionContainer()> <md-button class="font-size-sm color-white-hue-3" ng-click=updatesInstallerDialog.model.button2().action() ng-if=updatesInstallerDialog.model.button2().action aria-label=updatesInstallerDialog-button1> {{updatesInstallerDialog.model.button2().text | translate | uppercase}} </md-button> <md-button class="font-size-sm color-white-hue-3" ng-click=updatesInstallerDialog.model.button1().action() ng-if=updatesInstallerDialog.model.button1().action aria-label=updatesInstallerDialog-button2> {{updatesInstallerDialog.model.button1().text | translate | uppercase}} </md-button> </div> '},function(e,t){e.exports=' <div class=updates-updates-driver-item layout=row layout-align="space-between start"> <md-icon md-font-set=material-icons class=md-36 aria-label=driverIcon aria-hidden=true>{{nvMdIcon}}</md-icon> <div flex layout=column layout-align="start space-between"> <h3 class="font-size-sm color-white-hue-3" ng-hide=nvDriver.isBeta>{{nvDriver.name | translate}}</h3> <h3 class="font-size-sm color-white-hue-3" ng-show=nvDriver.isBeta> {{\'l10n.betaWithHypen\' | translate:nvDriver}} </h3> <p class="font-size-sm color-white-hue-4">{{\'l10n.versionColon\' | translate}} {{nvDriver.version}} &#160;&#160; <span ng-if=nvDriver.releaseDateTime.length>{{\'l10n.releaseDate\' | translate}} {{nvDriver.releaseDateTime | convertToUTCDate}} &#160;&#160;</span> <span ng-if=nvDriver.installDate>{{\'l10n.installDateColon\' | translate}} {{nvDriver.installDate | convertToUTCDate}}</span> </p> </div> </div> '},function(e,t){e.exports=" <md-menu md-offset=\"10 36\" md-position-mode=\"target-right target\"> <md-button class=md-icon-button ng-click=$mdOpenMenu() aria-label=openMenu-button> <md-tooltip> {{'l10n.updates' | translate}} </md-tooltip> <md-icon md-font-library=material-icons class=md-18 nv-badge={{updatesNotifications.driverUpdatesCount}} aria-label=archive aria-hidden=true>archive</md-icon> </md-button> <md-menu-content md-menu-align-target md-menu-origin class=\"md-primary md-hue-1 updates-updates-notification-md-menu-content\"> <dropdown-menu-item ng-show=updatesNotifications.driverUpdatesCount> <p class=notification-header>{{'l10n.available' | translate | uppercase}}</p> <div ng-repeat=\"update in updatesNotifications.updatesList\"> <md-button ng-click=updatesNotifications.launchUpdateTab(update.version) aria-label=launchUpdateTab-button> <div layout=column> <nv-driver-item nv-driver=update nv-md-icon=file_download></nv-driver-item> <nv-update-download-progress nv-message=\"{{'l10n.downloading' | translate}}\" nv-value={{update.downloadStatus.percentComplete}} ng-show=updatesNotifications.isDownloadStarted(update.downloadStatus.status)></nv-update-download-progress> </div> </md-button> <md-divider></md-divider> </div> </dropdown-menu-item> <dropdown-menu-item> <p class=notification-header>{{'l10n.currentlyInstalled' | translate | uppercase}}</p> <md-button ng-click=updatesNotifications.launchUpdateTab(updatesNotifications.installedDriver.version) aria-label=currentlyInstalled-launchUpdateTab-button> <div ng-show=updatesNotifications.installedDriver> <div class=md-2-line aria-label={{updatesNotifications.installedDriver.version}}> <nv-driver-item nv-driver=updatesNotifications.installedDriver nv-md-icon=check></nv-driver-item> </div> </div> </md-button> <md-divider></md-divider> </dropdown-menu-item> <dropdown-menu-item> <md-button class=checkforupdate-container ng-click=updatesNotifications.launchUpdateTab(updatesNotifications.checkForUpdate) aria-label=checkforUpdatesButton> <p ng-style=dropdownMenuItem.itemStyle> {{'l10n.checkforUpdates' | translate | uppercase}} </p><p ng-style=dropdownMenuItem.itemStyle> </p></md-button> </dropdown-menu-item> </md-menu-content> </md-menu> "},function(e,t){e.exports=' <md-dialog class="edit-badges-dialog constants-position-relative" layout=column> <div layout=column flex layout-fill class=edit-badges-container> <span translate=l10n.achievements class="font-size-20 color-white-hue-3 font-family-roboto-light margin-bottom-16"></span> <div ng-if=!editBadgesCtrl.isOnline() class="message-banner display-block margin-bottom-16" layout=row layout-align="start center"> <md-icon md-font-set=material-icons aria-label=cloudOff aria-hidden=true>cloud_off</md-icon> <span flex translate=l10n.youAreOffline></span> </div> <div ng-if=editBadgesCtrl.groupedAchievements.unlocked.length layout=column class="badge-section margin-bottom-24"> <span translate=l10n.showcase class="font-size-lg color-white-hue-3 margin-bottom-8"></span> <span translate=l10n.userTitle class="font-size-lg color-white-hue-4 margin-bottom-8"></span> <div layout=row class=showcase-section> <div class="badge-tile-container showcase-badge-tile clickable-element constants-position-relative" ng-repeat="achievement in editBadgesCtrl.showcase | limitTo: 5" ng-class="{\'dragging\': achievement.isDragging, \'dropping\': achievement.isDropping}" drag-data=achievement html5-drag html5-drop on-drag-start=editBadgesCtrl.onDragStart() on-drag-end=editBadgesCtrl.onDragEnd() on-drag-enter=editBadgesCtrl.onDragEnter() on-drag-leave=editBadgesCtrl.onDragLeave() on-drag-over=editBadgesCtrl.onDragOver() on-drop=editBadgesCtrl.onDrop()> <div class="constants-position-absolute action-elements-container"> <md-button ng-hide=achievement.isDragging class="md-icon-button title-toggle-button" ng-click="editBadgesCtrl.toggleTitle($event, achievement)" aria-label=toggleTitle-button> <md-icon ng-show=achievement.isFeatured md-font-set=material-icons class="color-green margin-zero md-16" aria-label=star aria-hidden=true>star</md-icon> <md-icon ng-show=!achievement.isFeatured md-font-set=material-icons class="margin-zero md-16" aria-label=starBorder aria-hidden=true>star_border</md-icon> </md-button> </div> <div layout=column layout-align="start center" layout-fill class=tile-content ng-hide=editBadgesCtrl.afterDragStarted(achievement) ng-mousedown=editBadgesCtrl.mouseDown(achievement) ng-mouseup=editBadgesCtrl.mouseUp(achievement)> <div layout=column layout-align="center center" class=badge-icon-container> <md-icon ng-if=achievement.isUnlocked md-font-icon={{achievement.badgeIconTag}} class="cevo-icons ico-fw color-white margin-zero md-56" aria-label=badgeIcon aria-hidden=true></md-icon> </div> <span class="width-100 font-size-sm margin-top-12 text-align-center nv-ellipsis-lines-3 line-height-16">{{achievement.title}}</span> </div> </div> </div> </div> <div layout=column flex class=badge-section> <span translate=l10n.badges class="font-size-lg color-white-hue-3 margin-bottom-8"></span> <span translate=l10n.uptoFiveAchievements class="font-size-lg color-white-hue-4 margin-bottom-8"></span> <md-content nv-scroll-overlay flex> <div layout=row layout-wrap> <div layout=row layout-align="start center" class="badge-tile-container badge-tile padding-16 constants-position-relative" ng-repeat="achievement in editBadgesCtrl.groupedAchievements.all"> <div ng-if=achievement.isUnlocked class="constants-position-absolute action-elements-container"> <md-checkbox ng-model=achievement.inShowcase ng-disabled=editBadgesCtrl.selectDisabled(achievement) ng-change=editBadgesCtrl.achievementSelectChanged(achievement) class=checkbox-16 aria-label=select></md-checkbox> </div> <div layout=column layout-align="center center" class=badge-icon-container> <md-icon ng-if=achievement.isUnlocked md-font-icon={{achievement.badgeIconTag}} class="cevo-icons ico-fw color-white margin-zero md-56" aria-label=badgeIconTag aria-hidden=true></md-icon> <md-icon ng-if=!achievement.isUnlocked md-font-set=material-icons class="margin-zero md-56 locked-icon" aria-label=locked aria-hidden=true>locked</md-icon> </div> <div layout=column layout-align="start center" class=tile-content> <span class="width-100 font-size-lg nv-ellipsis-lines-2 line-height-18" ng-class="{\'color-white-hue-3\': achievement.isUnlocked, \'color-white-hue-5\': !achievement.isUnlocked}">{{achievement.title}}</span> <span class="line-height-16 width-100 font-size-sm color-white-hue-4 nv-ellipsis-lines-3" ng-class="{\'color-white-hue-5\': !achievement.isUnlocked}">{{achievement.description}}</span> </div> </div> </div> </md-content> </div> </div> <div layout=row layout-align="end center"> <md-button class=margin-right-zero translate=l10n.cancel ng-click=editBadgesCtrl.cancel() aria-label=editBadges-button></md-button> <md-button class=md-accent translate=l10n.save ng-click=editBadgesCtrl.save() ng-disabled=!editBadgesCtrl.isOnline() aria-label=editBadge-save-button></md-button> </div> </md-dialog> '},function(e,t){e.exports=' <div layout=column class="edit-user-description-container bg-dark-im"> <div class=padding-16> <span class="color-white-hue-1 font-uppercase font-size-lg" translate=l10n.gamersBio></span> <form name=editUserDescriptionForm layout=column layout-fill> <md-input-container class="md-block description-input-container margin-zero"> <input maxlength=250 md-maxlength=250 required md-no-asterisk name=description ng-model=editUserDescription.nvDescription> <div ng-messages=editUserDescriptionForm.description.$error> <div ng-message=required translate=l10n.descriptionRequired></div> <div ng-message=md-maxlength translate=l10n.descriptionLimitReached></div> </div> </md-input-container> </form> </div> <div layout=row layout-align="end center" class=buttons-container> <md-button ng-click=editUserDescription.cancelUpdate() translate=l10n.cancel aria-label=editUserDescription-button></md-button> <md-button type=submit ng-disabled=!editUserDescription.isValidDescription() ng-click=editUserDescription.commitUpdate() translate=l10n.apply aria-label=save-editedUserDescription-button></md-button> </div> </div> '},function(e,t){e.exports=' <div layout=column class="user-profile-widget featured-reward padding-24"> <div layout=column class="user-profile-widget-title font-uppercase"> <span translate=l10n.enterTokensToWin class="font-size-lg color-white-hue-3"></span> <nv-countdown-timer ng-if=featuredRewardCtrl.giveaway.endStampAdjusted class="font-size-sm color-white-hue-5" nv-translate=l10n.expiresIn nv-end-timestamp="{{ featuredRewardCtrl.giveaway.endStampAdjusted }}" nv-format=shortTime nv-callback=featuredRewardCtrl.refreshGiveaway(state)></nv-countdown-timer> </div> <div ng-switch=featuredRewardCtrl.getCurrentState() layout=column layout-fill flex> <div ng-switch-when=normal layout=column layout-align="space-between start" layout-fill> <div layout=column layout-fill flex> <div layout=row layout-align="start center" class=title-container> <span class="color-white-hue-3 font-size-xl nv-ellipsis-lines-2">{{ featuredRewardCtrl.giveaway.title }}</span> </div> <div class="artwork-container image-cover-container"> <img ng-src="{{ featuredRewardCtrl.previewArtwork }}" nv-image-fallback=nv-no-loading-indicator alt=""/> </div> <div class=margin-bottom-16> <span class="color-white-hue-2 font-size-sm nv-ellipsis-lines-3">{{ featuredRewardCtrl.giveaway.shortDescription }}</span> </div> </div> <div layout=row layout-fill layout-align=end ng-if=featuredRewardCtrl.tokensNotEntered()> <md-button class="margin-zero md-raised md-accent color-white-important" translate=l10n.enterNow ng-click=featuredRewardCtrl.openSweepstakesDialog() aria-label=enterNow-button></md-button> </div> <div ng-if=featuredRewardCtrl.tokensAlreadyEntered() layout=row layout-align="start center"> <md-icon class="nv-custom-icons margin-zero md-24 cursor-default" md-font-icon=icon-ranking-token aria-label=rankingToken aria-hidden=true></md-icon> <span class="margin-zero font-family-roboto-light font-size-32 margin-left-6">{{ featuredRewardCtrl.tokensEntered }}</span> <div layout=column class=margin-left-6> <span translate="{{ featuredRewardCtrl.tokensEnteredStr() }}" class="font-size-lg font-uppercase color-white-hue-1"></span> <div layout=row class="font-size-xxs color-white-hue-4"> <span>{{ featuredRewardCtrl.updatedMoment() }}</span> <div layout=row> <span>&nbsp;|&nbsp;</span> <a ng-click=featuredRewardCtrl.openSweepstakesDialog() class="md-accent nv-anchor-button color-green" translate=l10n.addMore></a> </div> </div> </div> </div> </div> <div ng-switch-when=error layout=column layout-align="center center" flex class=color-light-gray> <md-icon md-font-set=material-icons class="md-24 margin-zero" aria-label=info aria-hidden=true>info</md-icon> <span class=margin-top-8 translate=l10n.noInformationAvailable></span> </div> <div ng-switch-when=expired layout=column layout-align="center center" flex class=color-light-gray> <md-icon class="nv-custom-icons md-24 margin-zero" md-font-icon=icon-game-controller aria-label=rewardCard aria-hidden=true></md-icon> <span class=margin-top-8 translate=l10n.newRewardsComingSoon></span> </div> </div> </div> '},function(e,t){e.exports=' <div layout=column> <div layout=row layout-align="start center"> <md-icon class="margin-zero margin-right-15 nv-custom-icons level-icon-gradient md-42" md-font-icon={{levelDetails.nvLevel.icon}} aria-label=newLevel aria-hidden=true></md-icon> <div layout=column class=width-200> <span class="font-uppercase color-white font-size-18">{{ levelDetails.nvLevel.name | translate }}</span> <span class="font-size-sm font-family-roboto-light color-white-hue-4"> {{ levelDetails.xpRangeString }}</span> </div> </div> <div class=margin-top-24 flex> <div layout=row ng-repeat="perk in levelDetails.nvLevel.perks" class="perk-item margin-bottom-16 font-size-lg color-white-hue-4 line-height-20"> <md-icon md-font-set=material-icons class="color-white-hue-4 margin-zero md-8 margin-right-15" aria-label=brightness aria-hidden=true>brightness_1</md-icon> <span class=width-200 translate={{perk}}></span> </div> </div> </div> '},function(e,t){e.exports=' <md-dialog class="levels-dialog constants-position-relative padding-24"> <md-button class="md-icon-button close-button constants-position-absolute" ng-click=levelsDialog.closeDialog() aria-label=levels-dialog-close-button> <md-icon md-font-set=material-icons aria-label=closeButton aria-hidden=true>close</md-icon> </md-button> <span translate=l10n.geforceCommunityProgram class="font-size-20 margin-bottom-16 color-white-hue-3"></span> <md-dialog-content flex layout=column class="font-size-lg color-white-hue-4"> <div layout=row class="margin-bottom-24 profile-status"> <div layout=column class=polygon-clip> <div layout=column class="line-height-sm1 level-badge-container" layout-align="center center" flex> <md-icon class="margin-zero nv-custom-icons level-icon-gradient md-64" md-font-icon="{{ levelsDialog.nvUserLevel.levelIcon }}" aria-label=levelIcon aria-hidden=true></md-icon> <span class="font-size-18 font-uppercase margin-top-18 margin-bottom-12 color-white" translate="{{ levelsDialog.nvUserLevel.levelName }}"></span> </div> </div> <div layout=column layout-align="start center" flex class=padding-32> <div layout=row layout-fill flex> <div layout=row layout-align="start center" class=progress-bar-container> <md-icon class="nv-custom-icons color-green margin-zero md-42 margin-right-15" md-font-icon=icon-ranking-XP aria-label=rankingXP aria-hidden=true></md-icon> <div layout=column class="margin-top-6 xp-progress-container"> <div layout=row layout-align="start center" class="font-size-18 line-height-sm1 color-white"> <span ng-if="levelsDialog.nvUserLevel.xplevel.level !== levelsDialog.maxLevel" translate=l10n.xpStatus translate-values="{\'current\': levelsDialog.nvUserLevel.xp , \'upper\': levelsDialog.nvUserLevel.xplevel.ubound }"></span> <span ng-if="levelsDialog.nvUserLevel.xplevel.level === levelsDialog.maxLevel" translate=l10n.totalXP translate-values="{\'value\': levelsDialog.nvUserLevel.xp}"></span> </div> <md-progress-linear ng-if="levelsDialog.nvUserLevel.xplevel.level < levelsDialog.maxLevel" class="xp-progress md-accent" md-mode=determinate value="{{ levelsDialog.nvUserLevel.progress }}" aria-label=checkingforXPProgressBar aria-label=checkingforXPProgressBar></md-progress-linear> </div> </div> <div layout=row layout-align="start center" flex> <md-icon class="nv-custom-icons color-green margin-zero md-42 margin-right-15" md-font-icon=icon-ranking-token aria-label=rankingToken aria-hidden=true></md-icon> <span class="font-size-18 color-white" translate="{{ levelsDialog.tokenString }}" translate-values="{{ {\'value\': levelsDialog.nvUserLevel.rewardTokens } }}"></span> </div> </div> </div> </div> <span translate=l10n.participateInCommunity></span> <div layout=row layout-align="start center" class=margin-top-16> <md-icon class="nv-custom-icons color-green md-24 margin-zero margin-right-10" md-font-icon=icon-ranking-XP aria-label=rankingXP aria-hidden=true></md-icon> <span translate=l10n.aboutTokens></span> </div> <div layout=row layout-align="start center" class=margin-top-16> <md-icon class="nv-custom-icons color-green md-24 margin-zero margin-right-10" md-font-icon=icon-ranking-token aria-label=rankingToken aria-hidden=true></md-icon> <span translate=l10n.aboutXP></span> </div> <span class=margin-top-20></span> <div layout=row layout-align="start start" class=margin-top-20> <nv-level-details class=nv-level-details flex=33 nv-level=level nv-user-level=levelsDialog.nvUserLevel nv-hide-progress="level.level === \'3\'" ng-repeat="level in levelsDialog.nvLevels"></nv-level-details> </div> </md-dialog-content> </md-dialog> '},function(e,t){e.exports=' <md-dialog class="mission-details-dialog constants-position-relative"> <md-button class="md-icon-button close-button" ng-click=missionDetailsCtrl.closeDialog() aria-label=missionDetails-closeDialog-button> <md-icon md-font-set=material-icons aria-label=closeButton aria-hidden=true>close</md-icon> </md-button> <div ng-if=missionDetailsCtrl.mission> <div class="slideshow-container constants-position-absolute"> <img ng-src="{{ missionDetailsCtrl.mission.assets.main.file.url }}" alt=mission-img nv-image-fallback=nv-no-loading-indicator> </div> <div class=gradient-overlay> <div class="constants-position-absolute top"></div> <div class="constants-position-absolute left"></div> <div class="constants-position-absolute right"></div> </div> <div class="details-container constants-position-absolute"> <div class=title-container layout=row layout-align="space-between end"> <div layout=column> <span class="font-size-20 font-family-roboto-light color-white">{{ missionDetailsCtrl.mission.name }}</span> <div layout=row ng-if=missionDetailsCtrl.missionExpires() class="font-size-sm color-white-hue-6 margin-top-4"> <span translate=l10n.timeLeft></span> <nv-countdown-timer class=margin-left-4 nv-end-timestamp="{{ missionDetailsCtrl.mission.endStampMicro }}" nv-format=shortTime></nv-countdown-timer> </div> </div> <nv-mission-progress nv-mission=missionDetailsCtrl.mission></nv-mission-progress> </div> <div layout=row layout-align="space-between start" class="collapsable-container constants-position-relative"> <div layout=column class="content margin-bottom-8" ng-class="{\'collapsed\': missionDetailsCtrl.isCollapsed }"> <span class="font-size-lg color-white-hue-6">{{ missionDetailsCtrl.mission.tasks[0].description }}</span> </div> <nv-call-to-action ng-if=missionDetailsCtrl.showCta class=margin-left-16 nv-cta-data=missionDetailsCtrl.mission.cta nv-before-click=missionDetailsCtrl.ctaClicked()></nv-call-to-action> </div> </div> </div> <div ng-if=!missionDetailsCtrl.mission class=color-light-gray layout=column layout-align="center center" layout-fill> <md-icon md-font-set=material-icons class="md-24 color-white-hue-4 margin-zero" aria-label=info aria-hidden=true>info</md-icon> <span class=margin-top-8 translate=l10n.noInformationAvailable></span> </div> </md-dialog> '},function(e,t){e.exports=' <div layout=column layout-align="start center" class=mission-progress-container ng-class="{\'completed\': missionProgressCtrl.isCompleted}"> <md-icon ng-if=missionProgressCtrl.isCompleted md-font-set=material-icons class="md-30 margin-zero color-green margin-bottom-4" aria-label=checkCircle aria-hidden=true>check_circle</md-icon> <div layout=row layout-align="start center" class=mission-value-container> <span class="font-size-20 font-family-roboto-light title">{{ missionProgressCtrl.missionValue }}</span> <md-icon ng-if=!missionProgressCtrl.isCompleted class="nv-custom-icons md-24 margin-zero margin-left-4" md-font-icon="{{ missionProgressCtrl.icon }}" aria-label=missionProgress aria-hidden=true></md-icon> <md-icon ng-if=missionProgressCtrl.isCompleted class="nv-custom-icons md-24 margin-zero margin-left-4" md-font-icon="{{ missionProgressCtrl.icon }}" aria-label=missionProgressCompleted aria-hidden=true></md-icon> </div> <span ng-if=missionProgressCtrl.showProgress class="font-size-xs progress-capsule">{{ missionProgressCtrl.getProgress() }}</span> </div> '},function(e,t){e.exports='<div layout=row flex class="mission-tile clickable-element no-focus-outline" ng-click=missionTileCtrl.showDetails($event)> <div ng-if=missionTileCtrl.isFeatured class="artwork-container image-cover-container"> <img ng-src="{{ missionTileCtrl.nvMission.assets.thumb.file.url }}" alt="" nv-image-fallback=nv-no-loading-indicator> </div> <div layout=column flex class=details-container> <div class=mission-title> <span class="font-size-lg color-white-hue-2">{{ missionTileCtrl.nvMission.name }}</span> </div> <span class="font-size-lg color-white-hue-6 margin-bottom-16 nv-ellipsis-lines-3">{{ missionTileCtrl.nvMission.tasks[0].name }}</span> </div> <nv-mission-progress nv-mission=missionTileCtrl.nvMission></nv-mission-progress> </div> '},function(e,t){e.exports=' <md-dialog class="sweepstakes-dialog constants-position-relative" ng-switch=sweepstakeCtrl.dialogState> <md-dialog-content ng-switch-when=GIVEAWAY_DETAILS layout=column layout-fill flex class=constants-position-relative> <md-button ng-hide=sweepstakeCtrl.messageOverlayVisible class="md-icon-button animate-show-hide close-button" ng-click=sweepstakeCtrl.closeDialog() aria-label=sweepstake-close-button> <md-icon md-font-set=material-icons aria-label=closeButton aria-hidden=true>close</md-icon> </md-button> <div ng-show=sweepstakeCtrl.messageOverlayVisible ng-switch=sweepstakeCtrl.overlayState layout=column layout-align="center center" layout-fill class="message-overlay animate-show-hide"> <div ng-switch-when=OVERLAY_LOADING> <md-progress-circular class=md-accent md-mode=indeterminate md-diameter=30></md-progress-circular> </div> <div ng-switch-when=OVERLAY_SUCCESS layout=column layout-align="center center" class=color-white> <div layout=row layout-align="center center"> <md-icon layout=row layout-align="center center" class="nv-custom-icons md-62 cursor-default margin-zero margin-right-16" md-font-icon=icon-ranking-token aria-label=rankingToken aria-hidden=true></md-icon> <md-icon md-font-set=material-icons class="md-32 margin-zero" aria-label=close aria-hidden=true>close</md-icon> <span class="margin-left-16 font-family-roboto-light font-size-xxxl">{{ sweepstakeCtrl.tokensEntered }}</span> </div> <span class="font-size-20 margin-top-16" translate="{{ sweepstakeCtrl.tokensEnteredSuccessStr() }}"></span> </div> <div ng-switch-when=OVERLAY_ERROR layout=column layout-align="center center"> <md-icon md-font-set=material-icons class="md-62 margin-zero" aria-label=error aria-hidden=true>error</md-icon> <span class="font-size-20 margin-16 color-white">{{ sweepstakeCtrl.errorMessage }}</span> </div> </div> <div layout=row layout-fill flex class=giveaway-details-container> <div layout=column class="giveaway-box-art image-cover-container"> <img ng-src="{{ sweepstakeCtrl.boxArt }}" nv-image-fallback=nv-no-loading-indicator alt=""/> </div> <div layout=column layout-align="space-between start" flex class="giveaway-details constants-position-relative padding-24 font-size-lg line-height-18 color-white-hue-4"> <div layout=column class=width-100> <div layout=column class=giveaway-info-section> <nv-countdown-timer nv-translate=l10n.timeLeftToEnter nv-end-timestamp={{sweepstakeCtrl.giveaway.endStampMicro}} nv-format=shortTime></nv-countdown-timer> <span class="font-size-20 color-white single-line-ellipsis line-height-26">{{ sweepstakeCtrl.giveaway.title }}</span> <div ng-if=!sweepstakeCtrl.isOnline() class=message-banner-container> <div class=message-banner layout=row layout-align="start center"> <md-icon md-font-set=material-icons aria-label=cloudOff aria-hidden=true>cloud_off</md-icon> <span flex translate=l10n.youAreOffline></span> </div> </div> <span class="giveaway-details-description nv-ellipsis-lines-5"> <span ng-bind-html=sweepstakeCtrl.giveaway.longDescription></span> <span>&nbsp;</span> <a ng-if=sweepstakeCtrl.giveaway.properties.learnMoreUrl href="{{ sweepstakeCtrl.giveaway.properties.learnMoreUrl }}" translate=l10n.learnMore></a> </span> </div> <div layout=column ng-switch=sweepstakeCtrl.tokensEnteredViewState class="giveaway-tokens-section margin-bottom-20 constants-position-relative"> <div layout=row layout-align="start center" layout-fill flex> <div layout=column layout-align="center center" class=margin-right-16> <md-icon class="nv-custom-icons md-62 margin-zero cursor-default" md-font-icon=icon-ranking-token aria-label=rankingToken aria-hidden=true></md-icon> </div> <div layout=column ng-switch-when=EDIT_STAKES class=giveaway-edit-stakes> <span ng-if=sweepstakeCtrl.termsAlreadyAgreed translate=l10n.addMoreTokens></span> <span ng-if=!sweepstakeCtrl.termsAlreadyAgreed translate=l10n.enterTokens></span> <form name=sweepstakeCtrl.sweepstakeForm layout=row layout-align="start center" class="giveaway-form margin-top-8"> <md-button class="md-fab-24 md-accent md-raised margin-zero margin-right-8" ng-click=sweepstakeCtrl.decreaseTokens() ng-disabled=sweepstakeCtrl.decreaseButtonDisabled() aria-label=decreaseToken-button> <md-icon md-font-set=material-icons aria-label=remove aria-hidden=true>remove</md-icon> </md-button> <md-input-container md-no-float class="tokens-input-container margin-zero"> <input required type=number name=tokens class="text-align-center margin-zero-important" min="{{ sweepstakeCtrl.tokensInputMin }}" max="{{ sweepstakeCtrl.tokensInputMax }}" ng-model=sweepstakeCtrl.tokensEntered ng-keypress=sweepstakeCtrl.tokensInputKeypress($event) ng-blur=sweepstakeCtrl.tokensInputBlur() ng-disabled=sweepstakeCtrl.tokensInputDisabled()> </md-input-container> <md-button class="md-fab-24 md-accent md-raised margin-zero margin-left-8" ng-click=sweepstakeCtrl.increaseTokens() ng-disabled=sweepstakeCtrl.increaseButtonDisabled() aria-label=increaseToken-button> <md-icon md-font-set=material-icons aria-label=add aria-hidden=true>add</md-icon> </md-button> <span ng-if=sweepstakeCtrl.showRemainingTokens() class=margin-left-16 translate="{{ sweepstakeCtrl.tokensRemainingStr() }}" translate-value-number="{{ sweepstakeCtrl.remainingTokens }}"></span> </form> </div> <div layout=column ng-switch-when=REVIEW_STAKES> <span translate=l10n.tokensEntered></span> <span class="font-family-roboto-light font-size-32 color-white line-height-sm1">{{ sweepstakeCtrl.tokensEntered }}</span> <span class=color-white-hue-5>{{ sweepstakeCtrl.tokensSubmitMoment() }}</span> </div> </div> <span ng-if=sweepstakeCtrl.showInvalidTokensError() class="input-error-container font-size-xxs color-red-hue-1 margin-top-8 nv-ellipsis-lines-2" translate="{{ sweepstakeCtrl.inputErrorStr() }}"></span> </div> <div layout=column class="margin-bottom-20 color-white-hue-5"> <span ng-if=sweepstakeCtrl.giveaway.quantity translate=l10n.numberOfWinners translate-value-number={{sweepstakeCtrl.giveaway.quantity}}></span> <span ng-if=sweepstakeCtrl.giveaway.tokensEntered translate=l10n.entriesSoFar translate-values="{{ {\'entries\': sweepstakeCtrl.giveaway.tokensEntered} }}"></span> </div> </div> <div layout=row layout-align="space-between center" class=width-100> <div ng-if=!sweepstakeCtrl.termsAlreadyAgreed layout=column> <md-checkbox class=checkbox-20 ng-model=sweepstakeCtrl.tncAgreed ng-disabled=sweepstakeCtrl.tncCheckboxDisabled() aria-label=sweepstakeCtrl> <div nv-bind-html-compile="{{ sweepstakeCtrl.agreeToElementHtml }}"></div> </md-checkbox> </div> <div ng-if=sweepstakeCtrl.termsAlreadyAgreed layout=column> <div> <a ng-if=sweepstakeCtrl.giveaway.officialRules ng-click=sweepstakeCtrl.showRules($event) translate=l10n.officialRules></a> </div> </div> <div ng-switch=sweepstakeCtrl.tokensEnteredViewState> <div ng-switch-when=EDIT_STAKES layout=column> <md-button class="md-accent md-raised margin-zero font-uppercase" translate=l10n.submit ng-disabled=sweepstakeCtrl.submitDisabled() ng-click=sweepstakeCtrl.submitTokens() aria-label=submitTokens-button></md-button> </div> <div ng-switch-when=REVIEW_STAKES layout=row> <md-button ng-if=sweepstakeCtrl.availableTokens class="md-raised md-secondary margin-zero margin-right-16 font-uppercase" translate=l10n.addMore ng-click=sweepstakeCtrl.addMoreTokens() aria-label=addMoreTokens-button></md-button> <md-button class="md-accent md-raised margin-zero font-uppercase" translate=l10n.done ng-click=sweepstakeCtrl.reviewDone() aria-label=review-done-button></md-button> </div> </div> </div> </div> </div> </md-dialog-content> <md-dialog-content layout=column layout-fill flex ng-switch-when=OFFICIAL_RULES class="giveaway-rules-container giveaway-subview"> <div layout=row layout-align="start center" class="giveaway-subview-header font-size-xl color-white"> <md-button class=md-icon-button ng-click=sweepstakeCtrl.goBack($event) aria-label=arrow-back-button> <md-icon md-font-set=material-icons aria-label=arrowBack aria-hidden=true>arrow_back</md-icon> </md-button> <span class=margin-left-16 translate=l10n.officialRules></span> </div> <md-content ng-if=sweepstakeCtrl.giveaway.officialRules layout-fill flex class="font-size-sm color-white-hue-4 giveaway-subview-content"> <div ng-bind-html=sweepstakeCtrl.giveaway.officialRules></div> </md-content> <nv-overlay ng-if=sweepstakeCtrl.giveaway.officialRules class="common-overlay giveaway-subview-content-overlay" nv-position=bottom></nv-overlay> <div ng-if=!sweepstakeCtrl.giveaway.officialRules layout=column layout-align="center center" flex layout-fill class=color-light-gray> <md-icon md-font-set=material-icons class="md-32 margin-zero" aria-label=info aria-hidden=true>info</md-icon> <span class="font-size-lg margin-top-16" translate=l10n.noInformationAvailable></span> </div> </md-dialog-content> </md-dialog> '},function(e,t){e.exports=' <span ng-if=userAchievements.titleBadge.title class="font-size-xxs color-white-hue-2 font-size-sm">{{userAchievements.titleBadge.title}}</span> <div ng-if=userAchievements.achievements layout=row layout-align="start center" class="margin-top-16 achievements-container"> <div ng-if="userAchievements.unlocked.length > 0 && userAchievements.showcase.length > 0"> <md-icon ng-repeat="badge in userAchievements.showcase" md-font-icon={{badge.badgeIconTag}} class="cevo-icons ico-fw margin-zero md-24 margin-right-16" aria-label=badgeIconTag aria-hidden=true></md-icon> </div> <span ng-if="userAchievements.unlocked.length > 0 && userAchievements.showcase.length === 0" class="margin-right-8 color-white-hue-3 font-size-lg font-style-italic" translate=l10n.showcaseAchievements></span> <div ng-if="userAchievements.unlocked.length === 0"> <md-icon ng-repeat="_ in userAchievements.placeholderList" md-font-set=material-icons class="md-24 margin-right-16" aria-label=lock aria-hidden=true>lock</md-icon> </div> <a ng-click=userAchievements.viewAll() translate=l10n.viewAll ng-class="{\'link-disabled\': userAchievements.viewAllDisabled}"></a> </div> <div ng-if=userAchievements.loading() layout=row layout-align="start center" class="margin-top-16 achievements-loading-container"> <div class="margin-right-8 loading-icon" ng-repeat="_ in userAchievements.placeholderList"></div> </div> '},function(e,t){e.exports=' <div layout=column layout-fill class=padding-24> <div ng-if=userActivityLog.shareSupported() class="recently-captured-container margin-bottom-24"> <div layout=row layout-align="space-between end" class=profile-section-header> <span flex class="font-size-lg color-white-hue-4 font-uppercase" translate=l10n.latestCaptures></span> <a ng-click=userActivityLog.openOSCGallery() class=font-size-10 translate=l10n.viewGallery></a> </div> <nv-user-gallery ng-if=userActivityLog.shareReady()></nv-user-gallery> <div ng-if=userActivityLog.shareDisabledFallback() layout=column layout-align="center center"> <nv-no-content-fallback nv-tip=l10n.turnOnShare flex></nv-no-content-fallback> </div> </div> <div layout=column class=activity-log-container ng-if=userActivityLog.activityLog> <div layout=column class=activity-log-group ng-repeat="(groupDate, activities) in userActivityLog.activityLog | limitTo: userActivityLog.activityItemLimitTo"> <div layout=row class=profile-section-header> <span class="font-size-lg color-white-hue-5 font-uppercase">{{ userActivityLog.headerDate(groupDate) }}</span> </div> <div layout=row layout-align="start start" ng-repeat="log in activities" class=activity-log> <div layout=column class=activity-log-thumbnail> <img class=image ng-src={{log.assets.thumb.file.url}} alt="" nv-image-fallback=nv-no-loading-indicator> </div> <div layout=column layout-align="space-between stretch" class=activity-log-details flex> <span class="font-size-lg nv-ellipsis-lines-4 color-white-hue-6 margin-bottom-8" ng-bind-html=log.message></span> <div layout=row layout-align="space-between end"> <span class="font-size-sm single-line-ellipsis color-white-hue-4">{{ userActivityLog.activityMoment(log) }}</span> <div layout=row layout-align="start center" ng-if=userActivityLog.showTokensEarned(log)> <span class=font-size-xl>{{ log.tokens }}</span> <md-icon class="nv-custom-icons md-20 margin-zero" md-font-icon=icon-ranking-token aria-label=logTokens aria-hidden=true></md-icon> </div> <div layout=row layout-align="start center" ng-if=userActivityLog.showXpEarned(log)> <span class=font-size-xl>{{ log.xp }}</span> <md-icon class="nv-custom-icons md-20 margin-zero" md-font-icon=icon-ranking-XP aria-label=iconRankingXP aria-hidden=true></md-icon> </div> </div> </div> </div> </div> </div> <div ng-if=userActivityLog.emptyState() layout=column flex> <div ng-if=userActivityLog.shareSupported() class="margin-top-16 activity-log-empty-state-separator"></div> <div layout=column layout-align="center center" flex class="activity-log-empty-state color-light-gray"> <md-icon md-font-set=material-icons class="md-24 margin-zero" aria-label=info aria-hidden=true>info</md-icon> <span class=margin-top-8 translate=l10n.noInformationAvailable></span> </div> </div> </div> '},function(e,t){e.exports=' <div layout=column layout-fill class=user-gallery-details-controller ng-if=userGalleryDetails.mediaItem> <div flex=90 layout=row layout-align="center center"> <img ng-if=userGalleryDetails.isImage() ng-src={{userGalleryDetails.mediaItem.file.name}} alt="" class=gallery-detail-image /> <video ng-if=userGalleryDetails.isVideo() autoplay=autoplay ng-src={{userGalleryDetails.mediaItem.file.name}} type=video/mp4 class=gallery-detail-video controls></video> </div> <div layout=row layout-align="space-between center" flex=10 class=padding-16> <div layout=column flex> <div flex class="single-line-ellipsis font-size-xl color-white-hue-2">{{ userGalleryDetails.mediaItem.folder }}</div> <div flex class="single-line-ellipsis font-size-sm1 margin-top-8 color-white-hue-4">{{ userGalleryDetails.mediaItem.date }}</div> </div> <md-button class=md-icon-button ng-click=userGalleryDetails.upload() nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.ACTIVITY_LOG_SHARE_CAPTURE}}}\' aria-label=fileUpload-button> <md-icon md-font-set=material-icons class="color-medium-gray-hue-2 md-icon-16" aria-label=fileUpload aria-hidden=true>file_upload</md-icon> </md-button> </div> </div> '},function(e,t){e.exports='<div class=user-gallery-container flex ng-if=userGallery.recentlyCaptured.length layout=row> <nv-tile-carousel nv-fixed-tile-width=240 nv-fixed-tile-margin=12 class=gallery-carousel> <nv-user-gallery-tile class=nv-carousel-tile ng-repeat="recentFile in userGallery.recentlyCaptured" nv-file=recentFile nv-file-list=userGallery.recentlyCaptured> </nv-user-gallery-tile> </nv-tile-carousel> </div> <div layout=column layout-fill layout-align="center center" ng-if=userGallery.fallbackState()> <nv-no-content-fallback nv-tip=l10n.noRecentlyCaptured flex></nv-no-content-fallback> </div> '},function(e,t){e.exports=' <md-card id=recent class="user-gallery-tile clickable-element no-focus-outline" ng-click="userGalleryTile.previewMedia($event, userGalleryTile.nvFile.file)"> <div class=gallery-video-div> <img ng-src={{userGalleryTile.nvFile.data}} class=md-card-image ng-class="{\'gallery-video-div-mta\': userGalleryTile.isFileMultiTrackAudio(userGalleryTile.nvFile.audiotype)}" alt="image caption" ng-if=userGalleryTile.nvFile.data> <div layout=row layout-fill layout-align="center center" ng-if=!userGalleryTile.nvFile.data class=constants-position-relative> <md-icon class=md-icon-48 aria-label=error aria-hidden=true>error</md-icon> </div> <div ng-if="userGalleryTile.nvFile.file.type === \'video\'"> <div class=gallery-video-overlay-play-button> <md-icon class=gallery-video-overlay-play-button-icon ng-class="{\'icon-disabled\': userGalleryTile.isFileMultiTrackAudio(userGalleryTile.nvFile.audiotype)}" tabindex=-1 aria-label=playCircleOutline aria-hidden=true>play_circle_outline</md-icon> </div> <div class=gallery-video-duration ng-class="{\'gallery-text-mta\': userGalleryTile.isFileMultiTrackAudio(recentFile.audiotype)}">{{userGalleryTile.nvFile.duration}}</div> </div> </div> <md-card-footer class=gallery-card-footer ng-class="{\'gallery-text-footer-mta\': userGalleryTile.isFileMultiTrackAudio(userGalleryTile.nvFile.audiotype)}" layout=row layout-align="space-between center"> <div layout=column flex> <span flex class="font-size-sm1 color-white-hue-2 single-line-ellipsis"> {{ userGalleryTile.nvFile.folder }} </span> <span flex class="font-size-xs margin-top-4 color-white-hue-4 single-line-ellipsis"> {{ userGalleryTile.nvFile.date }} </span> </div> <md-button class=md-icon-button ng-click=userGalleryTile.upload($event) aria-label=galleryFile-upload-button> <md-icon md-font-set=material-icons class="color-medium-gray-hue-2 md-icon-16" aria-label=fileUpload aria-hidden=true>file_upload</md-icon> </md-button> </md-card-footer> </md-card> '},function(e,t){e.exports=' <div layout=column class="user-missions margin-24"> <div ng-if=!userMissionsCtrl.emptyState() layout-gt-md=row layout-sm=column layout-xs=column> <div layout=column flex-gt-md=65> <div ng-if=userMissionsCtrl.featuredMissions.length layout=column class=margin-bottom-24> <div layout=row class="profile-section-header font-size-lg color-white-hue-4 font-uppercase"> <nv-countdown-timer ng-if=!userMissionsCtrl.isFeaturedCtaMission nv-translate=l10n.featuredMissionCountdown nv-end-timestamp="{{ userMissionsCtrl.featuredMissionEndTs }}" nv-format=shortTime nv-callback=userMissionsCtrl.refreshMission(state)></nv-countdown-timer> <nv-countdown-timer ng-if=userMissionsCtrl.featuredCtaMissionActive() nv-translate="{{ userMissionsCtrl.featuredCtaHeader}}" nv-end-timestamp="{{ userMissionsCtrl.featuredCtaTs }}" nv-format=shortTime nv-callback=userMissionsCtrl.ctaStateChanged(state)></nv-countdown-timer> <span ng-if=userMissionsCtrl.featuredCtaMissionEnded() translate=l10n.featuredMissionEnded></span> </div> <div ng-repeat="mission in userMissionsCtrl.featuredMissions" flex class=mission-tile-margin> <nv-mission-tile nv-mission=mission></nv-mission-tile> </div> </div> <div ng-if=userMissionsCtrl.repeatableMissions.length layout=column> <div layout=row class="profile-section-header font-size-lg color-white-hue-4 font-uppercase"> <nv-countdown-timer nv-translate=l10n.weeklyMissionsCountdown nv-end-timestamp="{{ userMissionsCtrl.weeklyMissionEndTs }}" nv-format=shortTime nv-callback=userMissionsCtrl.refreshMission(state)></nv-countdown-timer> </div> <div ng-repeat="mission in userMissionsCtrl.repeatableMissions" flex class=mission-tile-margin> <nv-mission-tile nv-mission=mission></nv-mission-tile> </div> </div> </div> <div hide show-gt-md class=padding-right-24></div> <div hide show-md show-xs show-sm class=margin-top-24></div> <div layout=column flex-gt-md=35> <div ng-if=userMissionsCtrl.timelessMissions.length layout=column> <span class="profile-section-header font-size-lg color-white-hue-4 font-uppercase" translate=l10n.timelessMissions></span> <div ng-repeat="mission in userMissionsCtrl.timelessMissions" flex class=mission-tile-margin> <nv-mission-tile nv-mission=mission></nv-mission-tile> </div> </div> </div> </div> <div ng-if=userMissionsCtrl.emptyState() layout=column layout-align="center center" flex class=color-light-gray> <md-icon md-font-set=material-icons class="md-24 margin-zero" aria-label=noInformationAvailable aria-hidden=true>info</md-icon> <span class=margin-top-8 translate=l10n.noInformationAvailable></span> </div> </div> '},function(e,t){e.exports=' <md-content id=panel-container flex ui-tour=profileTour ui-tour-placement=bottom-left> <div layout=column layout-fill flex class="user-profile-container constants-position-relative"> <div layout=row class=user-profile-cover-container flex> <div layout-fill flex class=cover-gradient></div> <img ng-if=userProfile.profileDetail.coverImageUrl.url ng-src={{userProfile.profileDetail.coverImageUrl.url}} /> <nv-overlay class="common-overlay cover-dark-overlay"></nv-overlay> </div> <div layout=column flex class=user-profile> <div class="user-profile-bio-container constants-position-relative"> <div layout=row layout-align="start end" layout-fill flex class="constants-position-absolute user-profile-bio" ng-mouseenter=userProfile.coverMouseHover(true) ng-mouseleave=userProfile.coverMouseHover(false)> <md-button class="md-icon-button constants-position-absolute cover-edit-button" ng-click=userProfile.updateCover() ng-show=userProfile.isEditCoverButtonVisible() nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.USER_EDIT_COVER_IMAGE}}}\' aria-label=userProfile-updateCover-button> <md-icon md-font-set=material-icons class="color-white-hue-1 md-16 foreground" aria-label="edit button to update cover" aria-hidden=true>edit</md-icon> </md-button> <nv-select-menu nv-md-icon=more_vert nv-label=l10n.moreDots class="constants-position-absolute more-options"> <nv-select-menu-item nv-action=userProfile.refreshProfile() nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.USER_REFRESH_PROFILE}}}\'> <span translate=l10n.refreshProfile></span> </nv-select-menu-item> </nv-select-menu> <div layout=column layout-align="center center" class=user-profile-avatar-container> <div layout=column class="profile-avatar-overlay constants-position-relative" ng-mouseenter=userProfile.avatarMouseHover(true) ng-mouseleave=userProfile.avatarMouseHover(false)> <md-button class="md-icon-button constants-position-absolute avatar-edit-button" ng-show=userProfile.isAvatarMouseHover ng-click=userProfile.updateAvatar() nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.USER_EDIT_AVATAR}}}\' aria-label=userProfile-update-avatar-button> <md-icon md-font-set=material-icons class="color-white-hue-1 md-16 foreground" aria-label="edit button to update avatar" aria-hidden=true>edit</md-icon> </md-button> <img ng-src={{userProfile.profileDetail.avatar.url}} class=md-avatar alt=avatar nv-fallback-src=avatar_generic_118.png /> </div> </div> <div layout=column layout-align="end start" flex> <div class=user-profile-details layout=column> <div layout=row tour-step=profile tour-step-title="{{\'l10n.userProfileTourString\' | translate}}" tour-step-placement=top-left tour-step-order=0> <h1 class="color-white-hue-1 margin-zero margin-bottom-4 font-style-normal">{{ userProfile.profileDetail.displayName }}</h1> </div> <div layout=row ng-if="userProfile.getFeatureEnabled(\'achievements\')"> <nv-user-achievements></nv-user-achievements> </div> <div layout=column class="constants-position-relative margin-bottom-24 padding-right-32" ng-mouseenter=userProfile.descriptionMouseHover(true) ng-mouseleave=userProfile.descriptionMouseHover(false)> <md-button class="md-icon-button constants-position-absolute desc-edit-button" ng-show=userProfile.isDescriptionMouseHover ng-click=userProfile.editUserDescription($event) nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.USER_EDIT_BIO_DESCRIPTION}}}\' aria-label="userProfile edit button to update user description"> <md-icon md-font-set=material-icons class="color-white-hue-1 md-16 foreground" aria-label="edit icon to update user description" aria-hidden=true>edit</md-icon> </md-button> <div class="font-size-sm1 color-white-hue-2 margin-top-16"> <span ng-if=userProfile.profileDetail.description.bio.value class="font-size-sm1 nv-ellipsis-lines-2">{{ userProfile.profileDetail.description.bio.value }}</span> <span ng-if=!userProfile.profileDetail.description.bio.value class="font-size-sm1 nv-ellipsis-lines-2" translate=l10n.userDefaultBioString></span> </div> </div> </div> </div> </div> </div> <div layout=row class=user-profile-content flex> <div layout=column class=user-profile-widgets-container> <div ng-if="userProfile.getFeatureEnabled(\'profileStatus\')" tour-step=profile tour-step-title="{{\'l10n.userTokenTourString\' | translate}}" tour-step-placement=right-top tour-step-order=2> <nv-user-profile-status></nv-user-profile-status> </div> <div ng-if="!userProfile.getFeatureEnabled(\'profileStatus\')" class=profile-status-placeholder></div> <div ng-if="userProfile.getFeatureEnabled(\'featuredReward\')"> <nv-featured-reward></nv-featured-reward> <nv-winners></nv-winners> </div> </div> <div layout=column flex> <md-tabs md-dynamic-height md-selected=userProfile.selectedTab class=margin-bottom-36> <md-tab ng-if=tab.isVisible() md-active=tab.active ng-repeat="tab in userProfile.profileTabs" md-on-select=userProfile.onTabChanged(tab)> <md-tab-label> <span class=font-uppercase translate="{{ tab.header }}"></span> </md-tab-label> <md-tab-body> <div layout=column layout-fill nv-bind-html-compile="{{ tab.directive }}"></div> </md-tab-body> </md-tab> </md-tabs> </div> </div> </div> </div> </md-content> '},function(e,t){e.exports=' <div layout=column class="constants-position-relative user-profile-widget user-profile-status" flex> <div ng-if=!ctrl.emptyState() layout=column layout-align="center center" class="constants-position-absolute level-badge no-focus-outline clickable-element" ng-click=ctrl.openLevelsDialog()> <md-icon ng-if=ctrl.profileStatus.levelIcon class="nv-custom-icons md-36 margin-zero constants-position-absolute" md-font-icon=icon-level-bg aria-label=openLevelsDialog aria-hidden=true></md-icon> <md-icon class="nv-custom-icons level-icon-gradient md-36 margin-zero" md-font-icon={{ctrl.profileStatus.levelIcon}} aria-label=levelIcon aria-hidden=true></md-icon> <span class="margin-top-8 margin-bottom-8 font-size-lg font-uppercase color-white-hue-3" translate="{{ ctrl.profileStatus.levelName }}" aria-label=levelName aria-hidden=true></span> </div> <div ng-if=!ctrl.emptyState() layout=row class=padding-24> <div layout=row flex layout-align="start start" class="xp-container margin-right-24 no-focus-outline clickable-element" ng-click=ctrl.openLevelsDialog()> <md-icon class="nv-custom-icons color-green md-24 margin-zero clickable-element margin-right-10" md-font-icon=icon-ranking-XP aria-label=rankingXP aria-hidden=true></md-icon> <div layout=column flex class="xp-info-container margin-top-7"> <div layout=row layout-align="start center" class="font-size-lg line-height-sm1 color-white-hue-4"> <span ng-if="ctrl.profileStatus.xplevel.level !== ctrl.maxLevel" translate=l10n.xpStatus translate-values="{\'current\': ctrl.profileStatus.xp , \'upper\': ctrl.profileStatus.xplevel.ubound }"></span> <span ng-if="ctrl.profileStatus.xplevel.level === ctrl.maxLevel" class=color-white-hue-3 translate=l10n.totalXP translate-values="{\'value\': ctrl.profileStatus.xp}"></span> </div> <md-progress-linear ng-if="ctrl.profileStatus.xplevel.level < ctrl.maxLevel" class="xp-progress md-accent" md-mode=determinate value="{{ ctrl.profileStatus.progress }}" aria-label=checkingforXPProgressBar></md-progress-linear> </div> </div> <div layout=row flex layout-align="start start" class="tokens-container no-focus-outline clickable-element" ng-click=ctrl.openLevelsDialog()> <md-icon class="nv-custom-icons color-green md-24 margin-zero clickable-element margin-right-10" md-font-icon=icon-ranking-token aria-label=rankingToken aria-hidden=true></md-icon> <div layout=column class="font-size-lg margin-top-7"> <span class="color-white-hue-3 line-height-sm1" nv-ellipsis-lines=1>{{ctrl.profileStatus.rewardTokens}}</span> <span class=color-white-hue-4 translate={{ctrl.tokenString}}></span> </div> </div> </div> <div ng-if=ctrl.emptyState() layout=column layout-align="center center" flex class="color-light-gray empty-state"> <md-icon md-font-set=material-icons class="md-24 margin-zero" aria-label=onBatteryIcon aria-hidden=true>info</md-icon> <span class=margin-top-8 translate=l10n.noInformationAvailable></span> </div> </div> '},function(e,t){e.exports='<div layout=column class="user-profile-games-summary user-profile-widget bg-dark-hv font-uppercase color-white-hue-4 font-size-sm1"> <div layout=row class="games-summary-item first" layout-align="start center" translate=l10n.installedGamesValue translate-values="{{ { \'value\': userProfileSummary.totalGamesCount} }}"></div> <div layout=row class=games-summary-item layout-align="start center" translate=l10n.anselGamesValue translate-values="{{ { \'value\': userProfileSummary.anselSupportedGamesCnt} }}"></div> <div ng-if=userProfileSummary.optimizedGamesCnt> <div layout=row class=games-summary-item layout-align="start center" translate=l10n.optimizedGamesValue translate-values="{{ { \'value\': userProfileSummary.optimizedGamesCnt } }}"></div> </div> <div ng-if="userProfileSummary.isGSSupported && userProfileSummary.gsSupportedGamesCount"> <div layout=row class="games-summary-item last" layout-align="start center" translate=l10n.gamestreamGamesValue translate-values="{{ { \'value\': userProfileSummary.gsSupportedGamesCount} }}"></div> </div> </div> '},function(e,t){e.exports=' <div layout-fill class="user-rig-info-container padding-24"> <div layout=column layout-align="center center"> <div layout=column class=user-rig-image-container class=constants-position-relative> <nv-overlay class="common-overlay no-background" nv-position="top right"> <md-button class=md-icon-button ng-click=userRig.updateRigCover() aria-label=button-to-updateRig-cover> <md-icon md-font-set=material-icons class="color-medium-gray-hue-2 foreground" aria-label="edit button to update rig cover" aria-hidden=true>edit</md-icon> </md-button> </nv-overlay> <img ng-src={{userRig.rigCoverImageUrl}}>  </div> <div layout=row class=user-rig-info-list layout-align="center start" layout-wrap> <div layout=column layout-align="center center" ng-repeat="item in userRig.systemInfoItems" class="user-rig-info-item color-medium-gray-hue-2"> <md-icon class="nv-custom-icons md-48 color-medium-gray-hue-2" md-font-icon={{item.icon}} aria-label=systemInfoItems aria-hidden=true></md-icon> <span>{{item.description}}</span> <div layout=column class=user-rig-info-subitem ng-repeat="subItem in item.subItems track by $index">{{subItem}}</div> </div> </div> </div> </div> '},function(e,t){e.exports='<div class=user-profile-widget layout=column> <div layout=row class=winners-widget> <a class="md-default-theme font-size-sm" ng-click=winnersCtrl.showWinners() translate=l10n.winnersAnnouncement></a> </div> </div> '},function(e,t){e.exports=[{bodyTags:["l10n.versionColon","l10n.releaseDate","l10n.installDateColon","l10n.drivers"],title:"Driver Item",extraTags:[],rawName:"nvDriverItem",group:"main.auth.updates#Driver Item"},{bodyTags:["l10n.optimalSettingsAvailable","l10n.drivers"],title:"Highlight Tile",extraTags:["l10n.unableToFetchVideo"],rawName:"nvHighlightTile",group:"main.auth.updates#Highlight Tile"},{bodyTags:["l10n.checkforUpdates","l10n.clickToChangeDriverPreference","l10n.showDriverRecommendationFor","l10n.gameReadyDriver","l10n.recommendedForGameUpdates","l10n.creatorReadyDriver","l10n.recommendedForCreativeApp","l10n.available","l10n.download","l10n.expressInstall","l10n.customInstall","l10n.reInstalledDriver","l10n.rollbackToLastDriver","l10n.downloadDriver","l10n.drivers"],title:"Updates Driver",extraTags:["l10n.currentlyInstalled","l10n.latestGeforceUpdate","l10n.latestGeforceCRDUpdate","l10n.newGRDDriverAvailable","l10n.newCRDDriverAvailable","l10n.driverDownloadFailed","l10n.checkingforUpdates","l10n.preparingPackage","l10n.downloading","l10n.paused","l10n.retrying","l10n.unableToConnectToNvidia","l10n.downloadPausedUnableToReachNvidia","l10n.downloadDiskSpace"],rawName:"nvUpdatesDriver",group:"main.auth.updates#Updates Driver"},{bodyTags:["l10n.redeem","l10n.filter","l10n.allNumber","l10n.availableNumber","l10n.redeemedNumber","l10n.expiredNumber","l10n.whereToFindCoupons","l10n.available","l10n.readyToRedeem","l10n.levelUpToUnlock","l10n.redeemedAndExpired","l10n.noRewardsRedeemedYet","l10n.rewards"],title:"Rewards Center",extraTags:["l10n.checkCouponRetailer","l10n.gfeGiveaway","l10n.tryAgain","l10n.redemptionIncomplete","l10n.redeem","l10n.moreItemsAvailable","l10n.updatingContent","l10n.unableToReachNvidia","l10n.learnMore","l10n.couldNotRetrieveRedemptionHistory","l10n.codeVerified","l10n.enterCouponCode"],rawName:"nvRewardsCenter",group:"main.auth.rewards#Rewards Center"}]},function(e,t,n){e.exports={default:n(938),__esModule:!0}},function(e,t,n){e.exports={default:n(941),__esModule:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=r(n(934)),o=r(n(933)),a=r(n(100));t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,a.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i.default?(0,i.default)(e,t):e.__proto__=t)}},function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(100));t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,r.default)(t))&&"function"!=typeof t?e:t}},,function(e,t,n){n(946);var r=n(20).Object;e.exports=function(e,t){return r.create(e,t)}},,function(e,t,n){n(948),e.exports=n(20).Object.getPrototypeOf},function(e,t,n){n(949),e.exports=n(20).Object.setPrototypeOf},,function(e,t,n){var r=n(44),i=n(49),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(195)(Function.call,n(196).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},,,function(e,t,n){var r=n(43);r(r.S,"Object",{create:n(126)})},,function(e,t,n){var r=n(54),i=n(197);n(198)("getPrototypeOf",(function(){return function(e){return i(r(e))}}))},function(e,t,n){var r=n(43);r(r.S,"Object",{setPrototypeOf:n(943).set})},function(e,t,n){var r,i;!function(){function o(e){return e&&(e.ownerDocument||e.document||e).documentElement}function a(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}function l(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function s(e){return null===e?NaN:+e}function c(e){return!isNaN(e)}function u(e){return{left:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}function d(e){return e.length}function f(e){for(var t=1;e*t%1;)t*=10;return t}function m(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function p(){this._=Object.create(null)}function g(e){return(e+="")===No||e[0]===Lo?Lo+e:e}function v(e){return(e+="")[0]===Lo?e.slice(1):e}function h(e){return g(e)in this._}function b(e){return(e=g(e))in this._&&delete this._[e]}function y(){var e=[];for(var t in this._)e.push(v(t));return e}function E(){var e=0;for(var t in this._)++e;return e}function S(){for(var e in this._)return!1;return!0}function _(){this._=Object.create(null)}function w(e){return e}function A(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function T(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,r=Po.length;n<r;++n){var i=Po[n]+t;if(i in e)return i}}function I(){}function C(){}function x(e){function t(){for(var t,r=n,i=-1,o=r.length;++i<o;)(t=r[i].on)&&t.apply(this,arguments);return e}var n=[],r=new p;return t.on=function(t,i){var o,a=r.get(t);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,o=n.indexOf(a)).concat(n.slice(o+1)),r.remove(t)),i&&n.push(r.set(t,{on:i})),e)},t}function D(){_o.event.preventDefault()}function M(){for(var e,t=_o.event;e=t.sourceEvent;)t=e;return t}function O(e){for(var t=new C,n=0,r=arguments.length;++n<r;)t[arguments[n]]=x(t);return t.of=function(n,r){return function(i){try{var o=i.sourceEvent=_o.event;i.target=e,_o.event=i,t[i.type].apply(n,r)}finally{_o.event=o}}},t}function R(e){return Go(e,zo),e}function N(e){return"function"==typeof e?e:function(){return Fo(e,this)}}function L(e){return"function"==typeof e?e:function(){return Uo(e,this)}}function P(e,t){return e=_o.ns.qualify(e),null==t?e.local?function(){this.removeAttributeNS(e.space,e.local)}:function(){this.removeAttribute(e)}:"function"==typeof t?e.local?function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}:function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}:e.local?function(){this.setAttributeNS(e.space,e.local,t)}:function(){this.setAttribute(e,t)}}function k(e){return e.trim().replace(/\s+/g," ")}function G(e){return new RegExp("(?:^|\\s+)"+_o.requote(e)+"(?:\\s+|$)","g")}function F(e){return(e+"").trim().split(/^|\s+/)}function U(e,t){var n=(e=F(e).map(V)).length;return"function"==typeof t?function(){for(var r=-1,i=t.apply(this,arguments);++r<n;)e[r](this,i)}:function(){for(var r=-1;++r<n;)e[r](this,t)}}function V(e){var t=G(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||n.setAttribute("class",k(i+" "+e))):n.setAttribute("class",k(i.replace(t," ")))}}function z(e,t,n){return null==t?function(){this.style.removeProperty(e)}:"function"==typeof t?function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}:function(){this.style.setProperty(e,t,n)}}function B(e,t){return null==t?function(){delete this[e]}:"function"==typeof t?function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}:function(){this[e]=t}}function $(e){return"function"==typeof e?e:(e=_o.ns.qualify(e)).local?function(){return this.ownerDocument.createElementNS(e.space,e.local)}:function(){var t=this.ownerDocument,n=this.namespaceURI;return n?t.createElementNS(n,e):t.createElement(e)}}function W(){var e=this.parentNode;e&&e.removeChild(this)}function H(e){return{__data__:e}}function j(e){return function(){return Vo(this,e)}}function q(e){return arguments.length||(e=l),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function Y(e,t){for(var n=0,r=e.length;n<r;n++)for(var i,o=e[n],a=0,l=o.length;a<l;a++)(i=o[a])&&t(i,a,n);return e}function K(e){return Go(e,$o),e}function Q(e){var t,n;return function(r,i,o){var a,l=e[o].update,s=l.length;for(o!=n&&(n=o,t=0),i>=t&&(t=i+1);!(a=l[t])&&++t<s;);return a}}function Z(e,t,n){function r(){var t=this[i];t&&(this.removeEventListener(e,t,t.$),delete this[i])}var i="__on"+e,o=e.indexOf("."),a=X;o>0&&(e=e.slice(0,o));var l=Wo.get(e);return l&&(e=l,a=J),o?t?function(){var o=a(t,Ao(arguments));r.call(this),this.addEventListener(e,this[i]=o,o.$=n),o._=t}:r:t?I:function(){var t,n=new RegExp("^__on([^.]+)"+_o.requote(e)+"$");for(var r in this)if(t=r.match(n)){var i=this[r];this.removeEventListener(t[1],i,i.$),delete this[r]}}}function X(e,t){return function(n){var r=_o.event;_o.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{_o.event=r}}}function J(e,t){var n=X(e,t);return function(e){var t=this,r=e.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||n.call(t,e)}}function ee(e){var t=".dragsuppress-"+ ++jo,n="click"+t,r=_o.select(a(e)).on("touchmove"+t,D).on("dragstart"+t,D).on("selectstart"+t,D);if(null==Ho&&(Ho=!("onselectstart"in e)&&T(e.style,"userSelect")),Ho){var i=o(e).style,l=i[Ho];i[Ho]="none"}return function(e){if(r.on(t,null),Ho&&(i[Ho]=l),e){var o=function(){r.on(n,null)};r.on(n,(function(){D(),o()}),!0),setTimeout(o,0)}}}function te(e,t){t.changedTouches&&(t=t.changedTouches[0]);var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();if(qo<0){var i=a(e);if(i.scrollX||i.scrollY){var o=(n=_o.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();qo=!(o.f||o.e),n.remove()}}return qo?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}var l=e.getBoundingClientRect();return[t.clientX-l.left-e.clientLeft,t.clientY-l.top-e.clientTop]}function ne(){return _o.event.changedTouches[0].identifier}function re(e){return e>0?1:e<0?-1:0}function ie(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function oe(e){return e>1?0:e<-1?Qo:Math.acos(e)}function ae(e){return e>1?Jo:e<-1?-Jo:Math.asin(e)}function le(e){return((e=Math.exp(e))+1/e)/2}function se(e){return(e=Math.sin(e/2))*e}function ce(){}function ue(e,t,n){return this instanceof ue?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof ue?new ue(e.h,e.s,e.l):Ae(""+e,Te,ue):new ue(e,t,n)}function de(e,t,n){function r(e){return Math.round(255*function(e){return e>360?e-=360:e<0&&(e+=360),e<60?i+(o-i)*e/60:e<180?o:e<240?i+(o-i)*(240-e)/60:i}(e))}var i,o;return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)||t<0?0:t>1?1:t,i=2*(n=n<0?0:n>1?1:n)-(o=n<=.5?n*(1+t):n+t-n*t),new Ee(r(e+120),r(e),r(e-120))}function fe(e,t,n){return this instanceof fe?(this.h=+e,this.c=+t,void(this.l=+n)):arguments.length<2?e instanceof fe?new fe(e.h,e.c,e.l):ve(e instanceof pe?e.l:(e=Ie((e=_o.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new fe(e,t,n)}function me(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new pe(n,Math.cos(e*=ea)*t,Math.sin(e)*t)}function pe(e,t,n){return this instanceof pe?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof pe?new pe(e.l,e.a,e.b):e instanceof fe?me(e.h,e.c,e.l):Ie((e=Ee(e)).r,e.g,e.b):new pe(e,t,n)}function ge(e,t,n){var r=(e+16)/116,i=r+t/500,o=r-n/200;return new Ee(ye(3.2404542*(i=he(i)*ca)-1.5371385*(r=he(r)*ua)-.4985314*(o=he(o)*da)),ye(-.969266*i+1.8760108*r+.041556*o),ye(.0556434*i-.2040259*r+1.0572252*o))}function ve(e,t,n){return e>0?new fe(Math.atan2(n,t)*ta,Math.sqrt(t*t+n*n),e):new fe(NaN,NaN,e)}function he(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function be(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function ye(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function Ee(e,t,n){return this instanceof Ee?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof Ee?new Ee(e.r,e.g,e.b):Ae(""+e,Ee,de):new Ee(e,t,n)}function Se(e){return new Ee(e>>16,e>>8&255,255&e)}function _e(e){return Se(e)+""}function we(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function Ae(e,t,n){e=e.toLowerCase();var r,i,o,a=0,l=0,s=0;if(r=/([a-z]+)\((.*)\)/.exec(e))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(xe(i[0]),xe(i[1]),xe(i[2]))}return(o=pa.get(e))?t(o.r,o.g,o.b):(null==e||"#"!==e.charAt(0)||isNaN(o=parseInt(e.slice(1),16))||(4===e.length?(a=(3840&o)>>4,a|=a>>4,l=240&o,l|=l>>4,s=15&o,s|=s<<4):7===e.length&&(a=(16711680&o)>>16,l=(65280&o)>>8,s=255&o)),t(a,l,s))}function Te(e,t,n){var r,i,o=Math.min(e/=255,t/=255,n/=255),a=Math.max(e,t,n),l=a-o,s=(a+o)/2;return l?(i=s<.5?l/(a+o):l/(2-a-o),r=e==a?(t-n)/l+(t<n?6:0):t==a?(n-e)/l+2:(e-t)/l+4,r*=60):(r=NaN,i=s>0&&s<1?0:r),new ue(r,i,s)}function Ie(e,t,n){var r=be((.4124564*(e=Ce(e))+.3575761*(t=Ce(t))+.1804375*(n=Ce(n)))/ca),i=be((.2126729*e+.7151522*t+.072175*n)/ua);return pe(116*i-16,500*(r-i),200*(i-be((.0193339*e+.119192*t+.9503041*n)/da)))}function Ce(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function xe(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function De(e){return"function"==typeof e?e:function(){return e}}function Me(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),Oe(t,n,e,r)}}function Oe(e,t,n,r){function i(){var e,t=s.status;if(!t&&function(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}(s)||t>=200&&t<300||304===t){try{e=n.call(o,s)}catch(e){return void a.error.call(o,e)}a.load.call(o,e)}else a.error.call(o,s)}var o={},a=_o.dispatch("beforesend","progress","load","error"),l={},s=new XMLHttpRequest,c=null;return!this.XDomainRequest||"withCredentials"in s||!/^(http(s)?:)?\/\//.test(e)||(s=new XDomainRequest),"onload"in s?s.onload=s.onerror=i:s.onreadystatechange=function(){s.readyState>3&&i()},s.onprogress=function(e){var t=_o.event;_o.event=e;try{a.progress.call(o,s)}finally{_o.event=t}},o.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?l[e]:(null==t?delete l[e]:l[e]=t+"",o)},o.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",o):t},o.responseType=function(e){return arguments.length?(c=e,o):c},o.response=function(e){return n=e,o},["get","post"].forEach((function(e){o[e]=function(){return o.send.apply(o,[e].concat(Ao(arguments)))}})),o.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),s.open(n,e,!0),null==t||"accept"in l||(l.accept=t+",*/*"),s.setRequestHeader)for(var u in l)s.setRequestHeader(u,l[u]);return null!=t&&s.overrideMimeType&&s.overrideMimeType(t),null!=c&&(s.responseType=c),null!=i&&o.on("error",i).on("load",(function(e){i(null,e)})),a.beforesend.call(o,s),s.send(null==r?null:r),o},o.abort=function(){return s.abort(),o},_o.rebind(o,a,"on"),null==r?o:o.get(function(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}(r))}function Re(){var e=Ne(),t=Le()-e;t>24?(isFinite(t)&&(clearTimeout(ba),ba=setTimeout(Re,t)),ha=0):(ha=1,Ea(Re))}function Ne(){var e=Date.now();for(ya=ga;ya;)e>=ya.t&&(ya.f=ya.c(e-ya.t)),ya=ya.n;return e}function Le(){for(var e,t=ga,n=1/0;t;)t.f?t=e?e.n=t.n:ga=t.n:(t.t<n&&(n=t.t),t=(e=t).n);return va=e,n}function Pe(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function ke(e){var t=e.decimal,n=e.thousands,r=e.grouping,i=e.currency,o=r&&n?function(e,t){for(var i=e.length,o=[],a=0,l=r[0],s=0;i>0&&l>0&&(s+l+1>t&&(l=Math.max(1,t-s)),o.push(e.substring(i-=l,i+l)),!((s+=l+1)>t));)l=r[a=(a+1)%r.length];return o.reverse().join(n)}:w;return function(e){var n=_a.exec(e),r=n[1]||" ",a=n[2]||">",l=n[3]||"-",s=n[4]||"",c=n[5],u=+n[6],d=n[7],f=n[8],m=n[9],p=1,g="",v="",h=!1,b=!0;switch(f&&(f=+f.substring(1)),(c||"0"===r&&"="===a)&&(c=r="0",a="="),m){case"n":d=!0,m="g";break;case"%":p=100,v="%",m="f";break;case"p":p=100,v="%",m="r";break;case"b":case"o":case"x":case"X":"#"===s&&(g="0"+m.toLowerCase());case"c":b=!1;case"d":h=!0,f=0;break;case"s":p=-1,m="r"}"$"===s&&(g=i[0],v=i[1]),"r"!=m||f||(m="g"),null!=f&&("g"==m?f=Math.max(1,Math.min(21,f)):"e"!=m&&"f"!=m||(f=Math.max(0,Math.min(20,f)))),m=wa.get(m)||Ge;var y=c&&d;return function(e){var n=v;if(h&&e%1)return"";var i=e<0||0===e&&1/e<0?(e=-e,"-"):"-"===l?"":l;if(p<0){var s=_o.formatPrefix(e,f);e=s.scale(e),n=s.symbol+v}else e*=p;var E,S,_=(e=m(e,f)).lastIndexOf(".");if(_<0){var w=b?e.lastIndexOf("e"):-1;w<0?(E=e,S=""):(E=e.substring(0,w),S=e.substring(w))}else E=e.substring(0,_),S=t+e.substring(_+1);!c&&d&&(E=o(E,1/0));var A=g.length+E.length+S.length+(y?0:i.length),T=A<u?new Array(A=u-A+1).join(r):"";return y&&(E=o(T+E,T.length?u-S.length:1/0)),i+=g,e=E+S,("<"===a?i+e+T:">"===a?T+i+e:"^"===a?T.substring(0,A>>=1)+i+e+T.substring(A):i+(y?e:T+e))+n}}}function Ge(e){return e+""}function Fe(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Ue(e,t,n){function r(t){var n=e(t),r=o(n,1);return t-n<r-t?n:r}function i(n){return t(n=e(new Ta(n-1)),1),n}function o(e,n){return t(e=new Ta(+e),n),e}function a(e,r,o){var a=i(e),l=[];if(o>1)for(;a<r;)n(a)%o||l.push(new Date(+a)),t(a,1);else for(;a<r;)l.push(new Date(+a)),t(a,1);return l}e.floor=e,e.round=r,e.ceil=i,e.offset=o,e.range=a;var l=e.utc=Ve(e);return l.floor=l,l.round=Ve(r),l.ceil=Ve(i),l.offset=Ve(o),l.range=function(e,t,n){try{Ta=Fe;var r=new Fe;return r._=e,a(r,t,n)}finally{Ta=Date}},e}function Ve(e){return function(t,n){try{Ta=Fe;var r=new Fe;return r._=t,e(r,n)._}finally{Ta=Date}}}function ze(e){function t(e){function t(t){for(var n,i,o,a=[],l=-1,s=0;++l<r;)37===e.charCodeAt(l)&&(a.push(e.slice(s,l)),null!=(i=Ca[n=e.charAt(++l)])&&(n=e.charAt(++l)),(o=E[n])&&(n=o(t,null==i?"e"===n?" ":"0":i)),a.push(n),s=l+1);return a.push(e.slice(s,l)),a.join("")}var r=e.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(n(r,e,t,0)!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var i=null!=r.Z&&Ta!==Fe,o=new(i?Fe:Ta);return"j"in r?o.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(o.setFullYear(r.y,0,1),o.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(o.getDay()+5)%7:r.w+7*r.U-(o.getDay()+6)%7)):o.setFullYear(r.y,r.m,r.d),o.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),i?o._:o},t.toString=function(){return e},t}function n(e,t,n,r){for(var i,o,a,l=0,s=t.length,c=n.length;l<s;){if(r>=c)return-1;if(37===(i=t.charCodeAt(l++))){if(a=t.charAt(l++),!(o=S[a in Ca?t.charAt(l++):a])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}var r=e.dateTime,i=e.date,o=e.time,a=e.periods,l=e.days,s=e.shortDays,c=e.months,u=e.shortMonths;t.utc=function(e){function n(e){try{var t=new(Ta=Fe);return t._=e,r(t)}finally{Ta=Date}}var r=t(e);return n.parse=function(e){try{Ta=Fe;var t=r.parse(e);return t&&t._}finally{Ta=Date}},n.toString=r.toString,n},t.multi=t.utc.multi=at;var d=_o.map(),f=$e(l),m=We(l),p=$e(s),g=We(s),v=$e(c),h=We(c),b=$e(u),y=We(u);a.forEach((function(e,t){d.set(e.toLowerCase(),t)}));var E={a:function(e){return s[e.getDay()]},A:function(e){return l[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return c[e.getMonth()]},c:t(r),d:function(e,t){return Be(e.getDate(),t,2)},e:function(e,t){return Be(e.getDate(),t,2)},H:function(e,t){return Be(e.getHours(),t,2)},I:function(e,t){return Be(e.getHours()%12||12,t,2)},j:function(e,t){return Be(1+Aa.dayOfYear(e),t,3)},L:function(e,t){return Be(e.getMilliseconds(),t,3)},m:function(e,t){return Be(e.getMonth()+1,t,2)},M:function(e,t){return Be(e.getMinutes(),t,2)},p:function(e){return a[+(e.getHours()>=12)]},S:function(e,t){return Be(e.getSeconds(),t,2)},U:function(e,t){return Be(Aa.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return Be(Aa.mondayOfYear(e),t,2)},x:t(i),X:t(o),y:function(e,t){return Be(e.getFullYear()%100,t,2)},Y:function(e,t){return Be(e.getFullYear()%1e4,t,4)},Z:it,"%":function(){return"%"}},S={a:function(e,t,n){p.lastIndex=0;var r=p.exec(t.slice(n));return r?(e.w=g.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){f.lastIndex=0;var r=f.exec(t.slice(n));return r?(e.w=m.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){b.lastIndex=0;var r=b.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){v.lastIndex=0;var r=v.exec(t.slice(n));return r?(e.m=h.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,t,r){return n(e,E.c.toString(),t,r)},d:Xe,e:Xe,H:et,I:et,j:Je,L:rt,m:Ze,M:tt,p:function(e,t,n){var r=d.get(t.slice(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)},S:nt,U:je,w:He,W:qe,x:function(e,t,r){return n(e,E.x.toString(),t,r)},X:function(e,t,r){return n(e,E.X.toString(),t,r)},y:Ke,Y:Ye,Z:Qe,"%":ot};return t}function Be(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function $e(e){return new RegExp("^(?:"+e.map(_o.requote).join("|")+")","i")}function We(e){for(var t=new p,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function He(e,t,n){xa.lastIndex=0;var r=xa.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function je(e,t,n){xa.lastIndex=0;var r=xa.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function qe(e,t,n){xa.lastIndex=0;var r=xa.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function Ye(e,t,n){xa.lastIndex=0;var r=xa.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Ke(e,t,n){xa.lastIndex=0;var r=xa.exec(t.slice(n,n+2));return r?(e.y=function(e){return e+(e>68?1900:2e3)}(+r[0]),n+r[0].length):-1}function Qe(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function Ze(e,t,n){xa.lastIndex=0;var r=xa.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Xe(e,t,n){xa.lastIndex=0;var r=xa.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Je(e,t,n){xa.lastIndex=0;var r=xa.exec(t.slice(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function et(e,t,n){xa.lastIndex=0;var r=xa.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function tt(e,t,n){xa.lastIndex=0;var r=xa.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function nt(e,t,n){xa.lastIndex=0;var r=xa.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function rt(e,t,n){xa.lastIndex=0;var r=xa.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function it(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=Ro(t)/60|0,i=Ro(t)%60;return n+Be(r,"0",2)+Be(i,"0",2)}function ot(e,t,n){Da.lastIndex=0;var r=Da.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function at(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,r=e[n];!r[1](t);)r=e[++n];return r[0](t)}}function lt(){}function st(e,t,n){var r=n.s=e+t,i=r-e,o=r-i;n.t=e-o+(t-i)}function ct(e,t){e&&Na.hasOwnProperty(e.type)&&Na[e.type](e,t)}function ut(e,t,n){var r,i=-1,o=e.length-n;for(t.lineStart();++i<o;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function dt(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)ut(e[n],t,1);t.polygonEnd()}function ft(){function e(e,t){t=t*ea/2+Qo/4;var n=(e*=ea)-r,a=n>=0?1:-1,l=a*n,s=Math.cos(t),c=Math.sin(t),u=o*c,d=i*s+u*Math.cos(l),f=u*a*Math.sin(l);Pa.add(Math.atan2(f,d)),r=e,i=s,o=c}var t,n,r,i,o;ka.point=function(a,l){ka.point=e,r=(t=a)*ea,i=Math.cos(l=(n=l)*ea/2+Qo/4),o=Math.sin(l)},ka.lineEnd=function(){e(t,n)}}function mt(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function pt(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function gt(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function vt(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function ht(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function bt(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function yt(e){return[Math.atan2(e[1],e[0]),ae(e[2])]}function Et(e,t){return Ro(e[0]-t[0])<Yo&&Ro(e[1]-t[1])<Yo}function St(e,t){e*=ea;var n=Math.cos(t*=ea);_t(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function _t(e,t,n){++Ga,Ua+=(e-Ua)/Ga,Va+=(t-Va)/Ga,za+=(n-za)/Ga}function wt(){function e(e,i){e*=ea;var o=Math.cos(i*=ea),a=o*Math.cos(e),l=o*Math.sin(e),s=Math.sin(i),c=Math.atan2(Math.sqrt((c=n*s-r*l)*c+(c=r*a-t*s)*c+(c=t*l-n*a)*c),t*a+n*l+r*s);Fa+=c,Ba+=c*(t+(t=a)),$a+=c*(n+(n=l)),Wa+=c*(r+(r=s)),_t(t,n,r)}var t,n,r;Ya.point=function(i,o){i*=ea;var a=Math.cos(o*=ea);t=a*Math.cos(i),n=a*Math.sin(i),r=Math.sin(o),Ya.point=e,_t(t,n,r)}}function At(){Ya.point=St}function Tt(){function e(e,t){e*=ea;var n=Math.cos(t*=ea),a=n*Math.cos(e),l=n*Math.sin(e),s=Math.sin(t),c=i*s-o*l,u=o*a-r*s,d=r*l-i*a,f=Math.sqrt(c*c+u*u+d*d),m=r*a+i*l+o*s,p=f&&-oe(m)/f,g=Math.atan2(f,m);Ha+=p*c,ja+=p*u,qa+=p*d,Fa+=g,Ba+=g*(r+(r=a)),$a+=g*(i+(i=l)),Wa+=g*(o+(o=s)),_t(r,i,o)}var t,n,r,i,o;Ya.point=function(a,l){t=a,n=l,Ya.point=e,a*=ea;var s=Math.cos(l*=ea);r=s*Math.cos(a),i=s*Math.sin(a),o=Math.sin(l),_t(r,i,o)},Ya.lineEnd=function(){e(t,n),Ya.lineEnd=At,Ya.point=St}}function It(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function Ct(){return!0}function xt(e,t,n,r,i){var o=[],a=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],r=e[t];if(Et(n,r)){i.lineStart();for(var l=0;l<t;++l)i.point((n=e[l])[0],n[1]);return void i.lineEnd()}var s=new Mt(n,e,null,!0),c=new Mt(n,null,s,!1);s.o=c,o.push(s),a.push(c),s=new Mt(r,e,null,!1),c=new Mt(r,null,s,!0),s.o=c,o.push(s),a.push(c)}})),a.sort(t),Dt(o),Dt(a),o.length){for(var l=0,s=n,c=a.length;l<c;++l)a[l].e=s=!s;for(var u,d,f=o[0];;){for(var m=f,p=!0;m.v;)if((m=m.n)===f)return;u=m.z,i.lineStart();do{if(m.v=m.o.v=!0,m.e){if(p)for(l=0,c=u.length;l<c;++l)i.point((d=u[l])[0],d[1]);else r(m.x,m.n.x,1,i);m=m.n}else{if(p)for(l=(u=m.p.z).length-1;l>=0;--l)i.point((d=u[l])[0],d[1]);else r(m.x,m.p.x,-1,i);m=m.p}u=(m=m.o).z,p=!p}while(!m.v);i.lineEnd()}}}function Dt(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function Mt(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Ot(e,t,n,r){return function(i,o){function a(t,n){var r=i(t,n);e(t=r[0],n=r[1])&&o.point(t,n)}function l(e,t){var n=i(e,t);v.point(n[0],n[1])}function s(){b.point=l,v.lineStart()}function c(){b.point=a,v.lineEnd()}function u(e,t){g.push([e,t]);var n=i(e,t);E.point(n[0],n[1])}function d(){E.lineStart(),g=[]}function f(){u(g[0][0],g[0][1]),E.lineEnd();var e,t=E.clean(),n=y.buffer(),r=n.length;if(g.pop(),p.push(g),g=null,r)if(1&t){var i,a=-1;if((r=(e=n[0]).length-1)>0){for(S||(o.polygonStart(),S=!0),o.lineStart();++a<r;)o.point((i=e[a])[0],i[1]);o.lineEnd()}}else r>1&&2&t&&n.push(n.pop().concat(n.shift())),m.push(n.filter(Rt))}var m,p,g,v=t(o),h=i.invert(r[0],r[1]),b={point:a,lineStart:s,lineEnd:c,polygonStart:function(){b.point=u,b.lineStart=d,b.lineEnd=f,m=[],p=[]},polygonEnd:function(){b.point=a,b.lineStart=s,b.lineEnd=c,m=_o.merge(m);var e=function(e,t){var n=e[0],r=e[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;Pa.reset();for(var l=0,s=t.length;l<s;++l){var c=t[l],u=c.length;if(u)for(var d=c[0],f=d[0],m=d[1]/2+Qo/4,p=Math.sin(m),g=Math.cos(m),v=1;;){v===u&&(v=0);var h=(e=c[v])[0],b=e[1]/2+Qo/4,y=Math.sin(b),E=Math.cos(b),S=h-f,_=S>=0?1:-1,w=_*S,A=w>Qo,T=p*y;if(Pa.add(Math.atan2(T*_*Math.sin(w),g*E+T*Math.cos(w))),o+=A?S+_*Zo:S,A^f>=n^h>=n){var I=gt(mt(d),mt(e));bt(I);var C=gt(i,I);bt(C);var x=(A^S>=0?-1:1)*ae(C[2]);(r>x||r===x&&(I[0]||I[1]))&&(a+=A^S>=0?1:-1)}if(!v++)break;f=h,p=y,g=E,d=e}}return(o<-Yo||o<Yo&&Pa<0)^1&a}(h,p);m.length?(S||(o.polygonStart(),S=!0),xt(m,Lt,e,n,o)):e&&(S||(o.polygonStart(),S=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),S&&(o.polygonEnd(),S=!1),m=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},y=Nt(),E=t(y),S=!1;return b}}function Rt(e){return e.length>1}function Nt(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:I,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Lt(e,t){return((e=e.x)[0]<0?e[1]-Jo-Yo:Jo-e[1])-((t=t.x)[0]<0?t[1]-Jo-Yo:Jo-t[1])}function Pt(e){function t(e,t){return Math.cos(e)*Math.cos(t)>i}function n(e,t,n){var r=[1,0,0],o=gt(mt(e),mt(t)),a=pt(o,o),l=o[0],s=a-l*l;if(!s)return!n&&e;var c=i*a/s,u=-i*l/s,d=gt(r,o),f=ht(r,c);vt(f,ht(o,u));var m=d,p=pt(f,m),g=pt(m,m),v=p*p-g*(pt(f,f)-1);if(!(v<0)){var h=Math.sqrt(v),b=ht(m,(-p-h)/g);if(vt(b,f),b=yt(b),!n)return b;var y,E=e[0],S=t[0],_=e[1],w=t[1];S<E&&(y=E,E=S,S=y);var A=S-E,T=Ro(A-Qo)<Yo;if(!T&&w<_&&(y=_,_=w,w=y),T||A<Yo?T?_+w>0^b[1]<(Ro(b[0]-E)<Yo?_:w):_<=b[1]&&b[1]<=w:A>Qo^(E<=b[0]&&b[0]<=S)){var I=ht(m,(-p+h)/g);return vt(I,f),[b,yt(I)]}}}function r(t,n){var r=o?e:Qo-e,i=0;return t<-r?i|=1:t>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}var i=Math.cos(e),o=i>0,a=Ro(i)>Yo;return Ot(t,(function(e){var i,l,s,c,u;return{lineStart:function(){c=s=!1,u=1},point:function(d,f){var m,p=[d,f],g=t(d,f),v=o?g?0:r(d,f):g?r(d+(d<0?Qo:-Qo),f):0;if(!i&&(c=s=g)&&e.lineStart(),g!==s&&(m=n(i,p),(Et(i,m)||Et(p,m))&&(p[0]+=Yo,p[1]+=Yo,g=t(p[0],p[1]))),g!==s)u=0,g?(e.lineStart(),m=n(p,i),e.point(m[0],m[1])):(m=n(i,p),e.point(m[0],m[1]),e.lineEnd()),i=m;else if(a&&i&&o^g){var h;v&l||!(h=n(p,i,!0))||(u=0,o?(e.lineStart(),e.point(h[0][0],h[0][1]),e.point(h[1][0],h[1][1]),e.lineEnd()):(e.point(h[1][0],h[1][1]),e.lineEnd(),e.lineStart(),e.point(h[0][0],h[0][1])))}!g||i&&Et(i,p)||e.point(p[0],p[1]),i=p,s=g,l=v},lineEnd:function(){s&&e.lineEnd(),i=null},clean:function(){return u|(c&&s)<<1}}}),sn(e,6*ea),o?[0,-e]:[-Qo,e-Qo])}function kt(e,t,n,r){return function(i){var o,a=i.a,l=i.b,s=a.x,c=a.y,u=0,d=1,f=l.x-s,m=l.y-c;if(o=e-s,f||!(o>0)){if(o/=f,f<0){if(o<u)return;o<d&&(d=o)}else if(f>0){if(o>d)return;o>u&&(u=o)}if(o=n-s,f||!(o<0)){if(o/=f,f<0){if(o>d)return;o>u&&(u=o)}else if(f>0){if(o<u)return;o<d&&(d=o)}if(o=t-c,m||!(o>0)){if(o/=m,m<0){if(o<u)return;o<d&&(d=o)}else if(m>0){if(o>d)return;o>u&&(u=o)}if(o=r-c,m||!(o<0)){if(o/=m,m<0){if(o>d)return;o>u&&(u=o)}else if(m>0){if(o<u)return;o<d&&(d=o)}return u>0&&(i.a={x:s+u*f,y:c+u*m}),d<1&&(i.b={x:s+d*f,y:c+d*m}),i}}}}}}function Gt(e,t,n,r){function i(r,i){return Ro(r[0]-e)<Yo?i>0?0:3:Ro(r[0]-n)<Yo?i>0?2:1:Ro(r[1]-t)<Yo?i>0?1:0:i>0?3:2}function o(e,t){return a(e.x,t.x)}function a(e,t){var n=i(e,1),r=i(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(l){function s(o,l,s,c){var u=0,d=0;if(null==o||(u=i(o,s))!==(d=i(l,s))||a(o,l)<0^s>0)do{c.point(0===u||3===u?e:n,u>1?r:t)}while((u=(u+s+4)%4)!==d);else c.point(l[0],l[1])}function c(i,o){return e<=i&&i<=n&&t<=o&&o<=r}function u(e,t){c(e,t)&&l.point(e,t)}function d(e,t){var n=c(e=Math.max(-Qa,Math.min(Qa,e)),t=Math.max(-Qa,Math.min(Qa,t)));if(m&&p.push([e,t]),S)g=e,v=t,h=n,S=!1,n&&(l.lineStart(),l.point(e,t));else if(n&&E)l.point(e,t);else{var r={a:{x:b,y:y},b:{x:e,y:t}};T(r)?(E||(l.lineStart(),l.point(r.a.x,r.a.y)),l.point(r.b.x,r.b.y),n||l.lineEnd(),_=!1):n&&(l.lineStart(),l.point(e,t),_=!1)}b=e,y=t,E=n}var f,m,p,g,v,h,b,y,E,S,_,w=l,A=Nt(),T=kt(e,t,n,r),I={point:u,lineStart:function(){I.point=d,m&&m.push(p=[]),S=!0,E=!1,b=y=NaN},lineEnd:function(){f&&(d(g,v),h&&E&&A.rejoin(),f.push(A.buffer())),I.point=u,E&&l.lineEnd()},polygonStart:function(){l=A,f=[],m=[],_=!0},polygonEnd:function(){l=w,f=_o.merge(f);var t=function(e){for(var t=0,n=m.length,r=e[1],i=0;i<n;++i)for(var o,a=1,l=m[i],s=l.length,c=l[0];a<s;++a)o=l[a],c[1]<=r?o[1]>r&&ie(c,o,e)>0&&++t:o[1]<=r&&ie(c,o,e)<0&&--t,c=o;return 0!==t}([e,r]),n=_&&t,i=f.length;(n||i)&&(l.polygonStart(),n&&(l.lineStart(),s(null,null,1,l),l.lineEnd()),i&&xt(f,o,t,s,l),l.polygonEnd()),f=m=p=null}};return I}}function Ft(e){var t=0,n=Qo/3,r=Jt(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*Qo/180,n=e[1]*Qo/180):[t/Qo*180,n/Qo*180]},i}function Ut(e,t){function n(e,t){var n=Math.sqrt(o-2*i*Math.sin(t))/i;return[n*Math.sin(e*=i),a-n*Math.cos(e)]}var r=Math.sin(e),i=(r+Math.sin(t))/2,o=1+r*(2*i-r),a=Math.sqrt(o)/i;return n.invert=function(e,t){var n=a-t;return[Math.atan2(e,n)/i,ae((o-(e*e+n*n)*i*i)/(2*i))]},n}function Vt(){function e(e,t){Xa+=i*e-r*t,r=e,i=t}var t,n,r,i;rl.point=function(o,a){rl.point=e,t=r=o,n=i=a},rl.lineEnd=function(){e(t,n)}}function zt(){function e(e,t){a.push("M",e,",",t,o)}function t(e,t){a.push("M",e,",",t),l.point=n}function n(e,t){a.push("L",e,",",t)}function r(){l.point=e}function i(){a.push("Z")}var o=Bt(4.5),a=[],l={point:e,lineStart:function(){l.point=t},lineEnd:r,polygonStart:function(){l.lineEnd=i},polygonEnd:function(){l.lineEnd=r,l.point=e},pointRadius:function(e){return o=Bt(e),l},result:function(){if(a.length){var e=a.join("");return a=[],e}}};return l}function Bt(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function $t(e,t){Ua+=e,Va+=t,++za}function Wt(){function e(e,r){var i=e-t,o=r-n,a=Math.sqrt(i*i+o*o);Ba+=a*(t+e)/2,$a+=a*(n+r)/2,Wa+=a,$t(t=e,n=r)}var t,n;ol.point=function(r,i){ol.point=e,$t(t=r,n=i)}}function Ht(){ol.point=$t}function jt(){function e(e,t){var n=e-r,o=t-i,a=Math.sqrt(n*n+o*o);Ba+=a*(r+e)/2,$a+=a*(i+t)/2,Wa+=a,Ha+=(a=i*e-r*t)*(r+e),ja+=a*(i+t),qa+=3*a,$t(r=e,i=t)}var t,n,r,i;ol.point=function(o,a){ol.point=e,$t(t=r=o,n=i=a)},ol.lineEnd=function(){e(t,n)}}function qt(e){function t(t,n){e.moveTo(t+a,n),e.arc(t,n,a,0,Zo)}function n(t,n){e.moveTo(t,n),l.point=r}function r(t,n){e.lineTo(t,n)}function i(){l.point=t}function o(){e.closePath()}var a=4.5,l={point:t,lineStart:function(){l.point=n},lineEnd:i,polygonStart:function(){l.lineEnd=o},polygonEnd:function(){l.lineEnd=i,l.point=t},pointRadius:function(e){return a=e,l},result:I};return l}function Yt(e){function t(e){return(l?r:n)(e)}function n(t){return Zt(t,(function(n,r){n=e(n,r),t.point(n[0],n[1])}))}function r(t){function n(n,r){n=e(n,r),t.point(n[0],n[1])}function r(){b=NaN,w.point=o,t.lineStart()}function o(n,r){var o=mt([n,r]),a=e(n,r);i(b,y,h,E,S,_,b=a[0],y=a[1],h=n,E=o[0],S=o[1],_=o[2],l,t),t.point(b,y)}function a(){w.point=n,t.lineEnd()}function s(){r(),w.point=c,w.lineEnd=u}function c(e,t){o(d=e,t),f=b,m=y,p=E,g=S,v=_,w.point=o}function u(){i(b,y,h,E,S,_,f,m,d,p,g,v,l,t),w.lineEnd=a,a()}var d,f,m,p,g,v,h,b,y,E,S,_,w={point:n,lineStart:r,lineEnd:a,polygonStart:function(){t.polygonStart(),w.lineStart=s},polygonEnd:function(){t.polygonEnd(),w.lineStart=r}};return w}function i(t,n,r,l,s,c,u,d,f,m,p,g,v,h){var b=u-t,y=d-n,E=b*b+y*y;if(E>4*o&&v--){var S=l+m,_=s+p,w=c+g,A=Math.sqrt(S*S+_*_+w*w),T=Math.asin(w/=A),I=Ro(Ro(w)-1)<Yo||Ro(r-f)<Yo?(r+f)/2:Math.atan2(_,S),C=e(I,T),x=C[0],D=C[1],M=x-t,O=D-n,R=y*M-b*O;(R*R/E>o||Ro((b*M+y*O)/E-.5)>.3||l*m+s*p+c*g<a)&&(i(t,n,r,l,s,c,x,D,I,S/=A,_/=A,w,v,h),h.point(x,D),i(x,D,I,S,_,w,u,d,f,m,p,g,v,h))}}var o=.5,a=Math.cos(30*ea),l=16;return t.precision=function(e){return arguments.length?(l=(o=e*e)>0&&16,t):Math.sqrt(o)},t}function Kt(e){var t=Yt((function(t,n){return e([t*ta,n*ta])}));return function(e){return en(t(e))}}function Qt(e){this.stream=e}function Zt(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function Xt(e){return Jt((function(){return e}))()}function Jt(e){function t(e){return[(e=l(e[0]*ea,e[1]*ea))[0]*f+s,c-e[1]*f]}function n(e){return(e=l.invert((e[0]-s)/f,(c-e[1])/f))&&[e[0]*ta,e[1]*ta]}function r(){l=It(a=rn(h,b,y),o);var e=o(g,v);return s=m-e[0]*f,c=p+e[1]*f,i()}function i(){return u&&(u.valid=!1,u=null),t}var o,a,l,s,c,u,d=Yt((function(e,t){return[(e=o(e,t))[0]*f+s,c-e[1]*f]})),f=150,m=480,p=250,g=0,v=0,h=0,b=0,y=0,E=Ka,S=w,_=null,A=null;return t.stream=function(e){return u&&(u.valid=!1),(u=en(E(a,d(S(e))))).valid=!0,u},t.clipAngle=function(e){return arguments.length?(E=null==e?(_=e,Ka):Pt((_=+e)*ea),i()):_},t.clipExtent=function(e){return arguments.length?(A=e,S=e?Gt(e[0][0],e[0][1],e[1][0],e[1][1]):w,i()):A},t.scale=function(e){return arguments.length?(f=+e,r()):f},t.translate=function(e){return arguments.length?(m=+e[0],p=+e[1],r()):[m,p]},t.center=function(e){return arguments.length?(g=e[0]%360*ea,v=e[1]%360*ea,r()):[g*ta,v*ta]},t.rotate=function(e){return arguments.length?(h=e[0]%360*ea,b=e[1]%360*ea,y=e.length>2?e[2]%360*ea:0,r()):[h*ta,b*ta,y*ta]},_o.rebind(t,d,"precision"),function(){return o=e.apply(this,arguments),t.invert=o.invert&&n,r()}}function en(e){return Zt(e,(function(t,n){e.point(t*ea,n*ea)}))}function tn(e,t){return[e,t]}function nn(e,t){return[e>Qo?e-Zo:e<-Qo?e+Zo:e,t]}function rn(e,t,n){return e?t||n?It(an(e),ln(t,n)):an(e):t||n?ln(t,n):nn}function on(e){return function(t,n){return[(t+=e)>Qo?t-Zo:t<-Qo?t+Zo:t,n]}}function an(e){var t=on(e);return t.invert=on(-e),t}function ln(e,t){function n(e,t){var n=Math.cos(t),l=Math.cos(e)*n,s=Math.sin(e)*n,c=Math.sin(t),u=c*r+l*i;return[Math.atan2(s*o-u*a,l*r-c*i),ae(u*o+s*a)]}var r=Math.cos(e),i=Math.sin(e),o=Math.cos(t),a=Math.sin(t);return n.invert=function(e,t){var n=Math.cos(t),l=Math.cos(e)*n,s=Math.sin(e)*n,c=Math.sin(t),u=c*o-s*a;return[Math.atan2(s*o+c*a,l*r+u*i),ae(u*r-l*i)]},n}function sn(e,t){var n=Math.cos(e),r=Math.sin(e);return function(i,o,a,l){var s=a*t;null!=i?(i=cn(n,i),o=cn(n,o),(a>0?i<o:i>o)&&(i+=a*Zo)):(i=e+a*Zo,o=e-.5*s);for(var c,u=i;a>0?u>o:u<o;u-=s)l.point((c=yt([n,-r*Math.cos(u),-r*Math.sin(u)]))[0],c[1])}}function cn(e,t){var n=mt(t);n[0]-=e,bt(n);var r=oe(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Yo)%(2*Math.PI)}function un(e,t,n){var r=_o.range(e,t-Yo,n).concat(t);return function(e){return r.map((function(t){return[e,t]}))}}function dn(e,t,n){var r=_o.range(e,t-Yo,n).concat(t);return function(e){return r.map((function(t){return[t,e]}))}}function fn(e){return e.source}function mn(e){return e.target}function pn(e,t){function n(t,n){var r=Math.cos(t),i=Math.cos(n),o=e(r*i);return[o*i*Math.sin(t),o*Math.sin(n)]}return n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),i=t(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(e*o,r*a),Math.asin(r&&n*o/r)]},n}function gn(e,t){function n(e,t){a>0?t<-Jo+Yo&&(t=-Jo+Yo):t>Jo-Yo&&(t=Jo-Yo);var n=a/Math.pow(i(t),o);return[n*Math.sin(o*e),a-n*Math.cos(o*e)]}var r=Math.cos(e),i=function(e){return Math.tan(Qo/4+e/2)},o=e===t?Math.sin(e):Math.log(r/Math.cos(t))/Math.log(i(t)/i(e)),a=r*Math.pow(i(e),o)/o;return o?(n.invert=function(e,t){var n=a-t,r=re(o)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/o,2*Math.atan(Math.pow(a/r,1/o))-Jo]},n):hn}function vn(e,t){function n(e,t){var n=o-t;return[n*Math.sin(i*e),o-n*Math.cos(i*e)]}var r=Math.cos(e),i=e===t?Math.sin(e):(r-Math.cos(t))/(t-e),o=r/i+e;return Ro(i)<Yo?tn:(n.invert=function(e,t){var n=o-t;return[Math.atan2(e,n)/i,o-re(i)*Math.sqrt(e*e+n*n)]},n)}function hn(e,t){return[e,Math.log(Math.tan(Qo/4+t/2))]}function bn(e){var t,n=Xt(e),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var a=o.apply(n,arguments);if(a===n){if(t=null==e){var l=Qo*r(),s=i();o([[s[0]-l,s[1]-l],[s[0]+l,s[1]+l]])}}else t&&(a=null);return a},n.clipExtent(null)}function yn(e,t){return[Math.log(Math.tan(Qo/4+t/2)),-e]}function En(e){return e[0]}function Sn(e){return e[1]}function _n(e){for(var t=e.length,n=[0,1],r=2,i=2;i<t;i++){for(;r>1&&ie(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function wn(e,t){return e[0]-t[0]||e[1]-t[1]}function An(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function Tn(e,t,n,r){var i=e[0],o=n[0],a=t[0]-i,l=r[0]-o,s=e[1],c=n[1],u=t[1]-s,d=r[1]-c,f=(l*(s-c)-d*(i-o))/(d*a-l*u);return[i+f*a,s+f*u]}function In(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}function Cn(){jn(this),this.edge=this.site=this.circle=null}function xn(e){var t=yl.pop()||new Cn;return t.site=e,t}function Dn(e){Fn(e),vl.remove(e),yl.push(e),jn(e)}function Mn(e){var t=e.circle,n=t.x,r=t.cy,i={x:n,y:r},o=e.P,a=e.N,l=[e];Dn(e);for(var s=o;s.circle&&Ro(n-s.circle.x)<Yo&&Ro(r-s.circle.cy)<Yo;)o=s.P,l.unshift(s),Dn(s),s=o;l.unshift(s),Fn(s);for(var c=a;c.circle&&Ro(n-c.circle.x)<Yo&&Ro(r-c.circle.cy)<Yo;)a=c.N,l.push(c),Dn(c),c=a;l.push(c),Fn(c);var u,d=l.length;for(u=1;u<d;++u)c=l[u],s=l[u-1],$n(c.edge,s.site,c.site,i);s=l[0],(c=l[d-1]).edge=zn(s.site,c.site,null,i),Gn(s),Gn(c)}function On(e){for(var t,n,r,i,o=e.x,a=e.y,l=vl._;l;)if((r=Rn(l,a)-o)>Yo)l=l.L;else{if(!((i=o-Nn(l,a))>Yo)){r>-Yo?(t=l.P,n=l):i>-Yo?(t=l,n=l.N):t=n=l;break}if(!l.R){t=l;break}l=l.R}var s=xn(e);if(vl.insert(t,s),t||n){if(t===n)return Fn(t),n=xn(t.site),vl.insert(s,n),s.edge=n.edge=zn(t.site,s.site),Gn(t),void Gn(n);if(!n)return void(s.edge=zn(t.site,s.site));Fn(t),Fn(n);var c=t.site,u=c.x,d=c.y,f=e.x-u,m=e.y-d,p=n.site,g=p.x-u,v=p.y-d,h=2*(f*v-m*g),b=f*f+m*m,y=g*g+v*v,E={x:(v*b-m*y)/h+u,y:(f*y-g*b)/h+d};$n(n.edge,c,p,E),s.edge=zn(c,e,null,E),n.edge=zn(e,p,null,E),Gn(t),Gn(n)}}function Rn(e,t){var n=e.site,r=n.x,i=n.y,o=i-t;if(!o)return r;var a=e.P;if(!a)return-1/0;var l=(n=a.site).x,s=n.y,c=s-t;if(!c)return l;var u=l-r,d=1/o-1/c,f=u/c;return d?(-f+Math.sqrt(f*f-2*d*(u*u/(-2*c)-s+c/2+i-o/2)))/d+r:(r+l)/2}function Nn(e,t){var n=e.N;if(n)return Rn(n,t);var r=e.site;return r.y===t?r.x:1/0}function Ln(e){this.site=e,this.edges=[]}function Pn(e,t){return t.angle-e.angle}function kn(){jn(this),this.x=this.y=this.arc=this.site=this.cy=null}function Gn(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,o=n.site;if(r!==o){var a=i.x,l=i.y,s=r.x-a,c=r.y-l,u=o.x-a,d=2*(s*(v=o.y-l)-c*u);if(!(d>=-Ko)){var f=s*s+c*c,m=u*u+v*v,p=(v*f-c*m)/d,g=(s*m-u*f)/d,v=g+l,h=El.pop()||new kn;h.arc=e,h.site=i,h.x=p+a,h.y=v+Math.sqrt(p*p+g*g),h.cy=v,e.circle=h;for(var b=null,y=bl._;y;)if(h.y<y.y||h.y===y.y&&h.x<=y.x){if(!y.L){b=y.P;break}y=y.L}else{if(!y.R){b=y;break}y=y.R}bl.insert(b,h),b||(hl=h)}}}}function Fn(e){var t=e.circle;t&&(t.P||(hl=t.N),bl.remove(t),El.push(t),jn(t),e.circle=null)}function Un(e,t){var n=e.b;if(n)return!0;var r,i,o=e.a,a=t[0][0],l=t[1][0],s=t[0][1],c=t[1][1],u=e.l,d=e.r,f=u.x,m=u.y,p=d.x,g=d.y,v=(f+p)/2,h=(m+g)/2;if(g===m){if(v<a||v>=l)return;if(f>p){if(o){if(o.y>=c)return}else o={x:v,y:s};n={x:v,y:c}}else{if(o){if(o.y<s)return}else o={x:v,y:c};n={x:v,y:s}}}else if(i=h-(r=(f-p)/(g-m))*v,r<-1||r>1)if(f>p){if(o){if(o.y>=c)return}else o={x:(s-i)/r,y:s};n={x:(c-i)/r,y:c}}else{if(o){if(o.y<s)return}else o={x:(c-i)/r,y:c};n={x:(s-i)/r,y:s}}else if(m<g){if(o){if(o.x>=l)return}else o={x:a,y:r*a+i};n={x:l,y:r*l+i}}else{if(o){if(o.x<a)return}else o={x:l,y:r*l+i};n={x:a,y:r*a+i}}return e.a=o,e.b=n,!0}function Vn(e,t){this.l=e,this.r=t,this.a=this.b=null}function zn(e,t,n,r){var i=new Vn(e,t);return pl.push(i),n&&$n(i,e,t,n),r&&$n(i,t,e,r),gl[e.i].edges.push(new Wn(i,e,t)),gl[t.i].edges.push(new Wn(i,t,e)),i}function Bn(e,t,n){var r=new Vn(e,null);return r.a=t,r.b=n,pl.push(r),r}function $n(e,t,n,r){e.a||e.b?e.l===n?e.b=r:e.a=r:(e.a=r,e.l=t,e.r=n)}function Wn(e,t,n){var r=e.a,i=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function Hn(){this._=null}function jn(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function qn(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Yn(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Kn(e){for(;e.L;)e=e.L;return e}function Qn(e,t){var n,r,i,o=e.sort(Zn).pop();for(pl=[],gl=new Array(e.length),vl=new Hn,bl=new Hn;;)if(i=hl,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===n&&o.y===r||(gl[o.i]=new Ln(o),On(o),n=o.x,r=o.y),o=e.pop();else{if(!i)break;Mn(i.arc)}t&&(function(e){for(var t,n=pl,r=kt(e[0][0],e[0][1],e[1][0],e[1][1]),i=n.length;i--;)(!Un(t=n[i],e)||!r(t)||Ro(t.a.x-t.b.x)<Yo&&Ro(t.a.y-t.b.y)<Yo)&&(t.a=t.b=null,n.splice(i,1))}(t),function(e){for(var t,n,r,i,o,a,l,s,c,u,d=e[0][0],f=e[1][0],m=e[0][1],p=e[1][1],g=gl,v=g.length;v--;)if((o=g[v])&&o.prepare())for(s=(l=o.edges).length,a=0;a<s;)r=(u=l[a].end()).x,i=u.y,t=(c=l[++a%s].start()).x,n=c.y,(Ro(r-t)>Yo||Ro(i-n)>Yo)&&(l.splice(a,0,new Wn(Bn(o.site,u,Ro(r-d)<Yo&&p-i>Yo?{x:d,y:Ro(t-d)<Yo?n:p}:Ro(i-p)<Yo&&f-r>Yo?{x:Ro(n-p)<Yo?t:f,y:p}:Ro(r-f)<Yo&&i-m>Yo?{x:f,y:Ro(t-f)<Yo?n:m}:Ro(i-m)<Yo&&r-d>Yo?{x:Ro(n-m)<Yo?t:d,y:m}:null),o.site,null)),++s)}(t));var a={cells:gl,edges:pl};return vl=bl=pl=gl=null,a}function Zn(e,t){return t.y-e.y||t.x-e.x}function Xn(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function Jn(e){return e.x}function er(e){return e.y}function tr(e,t,n,r,i,o){if(!e(t,n,r,i,o)){var a=.5*(n+i),l=.5*(r+o),s=t.nodes;s[0]&&tr(e,s[0],n,r,a,l),s[1]&&tr(e,s[1],a,r,i,l),s[2]&&tr(e,s[2],n,l,a,o),s[3]&&tr(e,s[3],a,l,i,o)}}function nr(e,t,n,r,i,o,a){var l,s=1/0;return function e(c,u,d,f,m){if(!(u>o||d>a||f<r||m<i)){if(p=c.point){var p,g=t-c.x,v=n-c.y,h=g*g+v*v;if(h<s){var b=Math.sqrt(s=h);r=t-b,i=n-b,o=t+b,a=n+b,l=p}}for(var y=c.nodes,E=.5*(u+f),S=.5*(d+m),_=(n>=S)<<1|t>=E,w=_+4;_<w;++_)if(c=y[3&_])switch(3&_){case 0:e(c,u,d,E,S);break;case 1:e(c,E,d,f,S);break;case 2:e(c,u,S,E,m);break;case 3:e(c,E,S,f,m)}}}(e,r,i,o,a),l}function rr(e,t){e=_o.rgb(e),t=_o.rgb(t);var n=e.r,r=e.g,i=e.b,o=t.r-n,a=t.g-r,l=t.b-i;return function(e){return"#"+we(Math.round(n+o*e))+we(Math.round(r+a*e))+we(Math.round(i+l*e))}}function ir(e,t){var n,r={},i={};for(n in e)n in t?r[n]=lr(e[n],t[n]):i[n]=e[n];for(n in t)n in e||(i[n]=t[n]);return function(e){for(n in r)i[n]=r[n](e);return i}}function or(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function ar(e,t){var n,r,i,o=_l.lastIndex=wl.lastIndex=0,a=-1,l=[],s=[];for(e+="",t+="";(n=_l.exec(e))&&(r=wl.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),l[a]?l[a]+=i:l[++a]=i),(n=n[0])===(r=r[0])?l[a]?l[a]+=r:l[++a]=r:(l[++a]=null,s.push({i:a,x:or(n,r)})),o=wl.lastIndex;return o<t.length&&(i=t.slice(o),l[a]?l[a]+=i:l[++a]=i),l.length<2?s[0]?(t=s[0].x,function(e){return t(e)+""}):function(){return t}:(t=s.length,function(e){for(var n,r=0;r<t;++r)l[(n=s[r]).i]=n.x(e);return l.join("")})}function lr(e,t){for(var n,r=_o.interpolators.length;--r>=0&&!(n=_o.interpolators[r](e,t)););return n}function sr(e,t){var n,r=[],i=[],o=e.length,a=t.length,l=Math.min(e.length,t.length);for(n=0;n<l;++n)r.push(lr(e[n],t[n]));for(;n<o;++n)i[n]=e[n];for(;n<a;++n)i[n]=t[n];return function(e){for(n=0;n<l;++n)i[n]=r[n](e);return i}}function cr(e){return function(t){return t<=0?0:t>=1?1:e(t)}}function ur(e){return function(t){return 1-e(1-t)}}function dr(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function fr(e){return e*e}function mr(e){return e*e*e}function pr(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function gr(e){return 1-Math.cos(e*Jo)}function vr(e){return Math.pow(2,10*(e-1))}function hr(e){return 1-Math.sqrt(1-e*e)}function br(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function yr(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function Er(e){var t=[e.a,e.b],n=[e.c,e.d],r=_r(t),i=Sr(t,n),o=_r(function(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}(n,t,-i))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*ta,this.translate=[e.e,e.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*ta:0}function Sr(e,t){return e[0]*t[0]+e[1]*t[1]}function _r(e){var t=Math.sqrt(Sr(e,e));return t&&(e[0]/=t,e[1]/=t),t}function wr(e,t){var n,r=[],i=[],o=_o.transform(e),a=_o.transform(t),l=o.translate,s=a.translate,c=o.rotate,u=a.rotate,d=o.skew,f=a.skew,m=o.scale,p=a.scale;return l[0]!=s[0]||l[1]!=s[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:or(l[0],s[0])},{i:3,x:or(l[1],s[1])})):s[0]||s[1]?r.push("translate("+s+")"):r.push(""),c!=u?(c-u>180?u+=360:u-c>180&&(c+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:or(c,u)})):u&&r.push(r.pop()+"rotate("+u+")"),d!=f?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:or(d,f)}):f&&r.push(r.pop()+"skewX("+f+")"),m[0]!=p[0]||m[1]!=p[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:n-4,x:or(m[0],p[0])},{i:n-2,x:or(m[1],p[1])})):1==p[0]&&1==p[1]||r.push(r.pop()+"scale("+p+")"),n=i.length,function(e){for(var t,o=-1;++o<n;)r[(t=i[o]).i]=t.x(e);return r.join("")}}function Ar(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function Tr(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function Ir(e){for(var t=e.source,n=e.target,r=function(e,t){if(e===t)return e;for(var n=Cr(e),r=Cr(t),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}(t,n),i=[t];t!==r;)t=t.parent,i.push(t);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function Cr(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function xr(e){e.fixed|=2}function Dr(e){e.fixed&=-7}function Mr(e){e.fixed|=4,e.px=e.x,e.py=e.y}function Or(e){e.fixed&=-5}function Rr(e,t,n){var r=0,i=0;if(e.charge=0,!e.leaf)for(var o,a=e.nodes,l=a.length,s=-1;++s<l;)null!=(o=a[s])&&(Rr(o,t,n),e.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var c=t*n[e.point.index];e.charge+=e.pointCharge=c,r+=c*e.point.x,i+=c*e.point.y}e.cx=r/e.charge,e.cy=i/e.charge}function Nr(e,t){return _o.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=Ur,e}function Lr(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(i=e.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function Pr(e,t){for(var n=[e],r=[];null!=(e=n.pop());)if(r.push(e),(o=e.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(e=r.pop());)t(e)}function kr(e){return e.children}function Gr(e){return e.value}function Fr(e,t){return t.value-e.value}function Ur(e){return _o.merge(e.map((function(e){return(e.children||[]).map((function(t){return{source:e,target:t}}))})))}function Vr(e){return e.x}function zr(e){return e.y}function Br(e,t,n){e.y0=t,e.y=n}function $r(e){return _o.range(e.length)}function Wr(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function Hr(e){for(var t,n=1,r=0,i=e[0][1],o=e.length;n<o;++n)(t=e[n][1])>i&&(r=n,i=t);return r}function jr(e){return e.reduce(qr,0)}function qr(e,t){return e+t[1]}function Yr(e,t){return Kr(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function Kr(e,t){for(var n=-1,r=+e[0],i=(e[1]-r)/t,o=[];++n<=t;)o[n]=i*n+r;return o}function Qr(e){return[_o.min(e),_o.max(e)]}function Zr(e,t){return e.value-t.value}function Xr(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function Jr(e,t){e._pack_next=t,t._pack_prev=e}function ei(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return.999*i*i>n*n+r*r}function ti(e){function t(e){u=Math.min(e.x-e.r,u),d=Math.max(e.x+e.r,d),f=Math.min(e.y-e.r,f),m=Math.max(e.y+e.r,m)}if((n=e.children)&&(c=n.length)){var n,r,i,o,a,l,s,c,u=1/0,d=-1/0,f=1/0,m=-1/0;if(n.forEach(ni),(r=n[0]).x=-r.r,r.y=0,t(r),c>1&&((i=n[1]).x=i.r,i.y=0,t(i),c>2))for(oi(r,i,o=n[2]),t(o),Xr(r,o),r._pack_prev=o,Xr(o,i),i=r._pack_next,a=3;a<c;a++){oi(r,i,o=n[a]);var p=0,g=1,v=1;for(l=i._pack_next;l!==i;l=l._pack_next,g++)if(ei(l,o)){p=1;break}if(1==p)for(s=r._pack_prev;s!==l._pack_prev&&!ei(s,o);s=s._pack_prev,v++);p?(g<v||g==v&&i.r<r.r?Jr(r,i=l):Jr(r=s,i),a--):(Xr(r,o),i=o,t(o))}var h=(u+d)/2,b=(f+m)/2,y=0;for(a=0;a<c;a++)(o=n[a]).x-=h,o.y-=b,y=Math.max(y,o.r+Math.sqrt(o.x*o.x+o.y*o.y));e.r=y,n.forEach(ri)}}function ni(e){e._pack_next=e._pack_prev=e}function ri(e){delete e._pack_next,delete e._pack_prev}function ii(e,t,n,r){var i=e.children;if(e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r,i)for(var o=-1,a=i.length;++o<a;)ii(i[o],t,n,r)}function oi(e,t,n){var r=e.r+n.r,i=t.x-e.x,o=t.y-e.y;if(r&&(i||o)){var a=t.r+n.r,l=i*i+o*o,s=.5+((r*=r)-(a*=a))/(2*l),c=Math.sqrt(Math.max(0,2*a*(r+l)-(r-=l)*r-a*a))/(2*l);n.x=e.x+s*i+c*o,n.y=e.y+s*o-c*i}else n.x=e.x+r,n.y=e.y}function ai(e,t){return e.parent==t.parent?1:2}function li(e){var t=e.children;return t.length?t[0]:e.t}function si(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function ci(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function ui(e,t,n){return e.a.parent===t.parent?e.a:n}function di(e){var t=e.children;return t&&t.length?di(t[0]):e}function fi(e){var t,n=e.children;return n&&(t=n.length)?fi(n[t-1]):e}function mi(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function pi(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],o=e.dy-t[0]-t[2];return i<0&&(n+=i/2,i=0),o<0&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function gi(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function vi(e){return e.rangeExtent?e.rangeExtent():gi(e.range())}function hi(e,t,n,r){var i=n(e[0],e[1]),o=r(t[0],t[1]);return function(e){return o(i(e))}}function bi(e,t){var n,r=0,i=e.length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function yi(e,t,n,r){var i=[],o=[],a=0,l=Math.min(e.length,t.length)-1;for(e[l]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<=l;)i.push(n(e[a-1],e[a])),o.push(r(t[a-1],t[a]));return function(t){var n=_o.bisect(e,t,1,l)-1;return o[n](i[n](t))}}function Ei(e,t,n,r){function i(){var i=Math.min(e.length,t.length)>2?yi:hi,s=r?Tr:Ar;return a=i(e,t,s,n),l=i(t,e,s,lr),o}function o(e){return a(e)}var a,l;return o.invert=function(e){return l(e)},o.domain=function(t){return arguments.length?(e=t.map(Number),i()):e},o.range=function(e){return arguments.length?(t=e,i()):t},o.rangeRound=function(e){return o.range(e).interpolate(yr)},o.clamp=function(e){return arguments.length?(r=e,i()):r},o.interpolate=function(e){return arguments.length?(n=e,i()):n},o.ticks=function(t){return Ai(e,t)},o.tickFormat=function(t,n){return Ti(e,t,n)},o.nice=function(t){return _i(e,t),i()},o.copy=function(){return Ei(e,t,n,r)},i()}function Si(e,t){return _o.rebind(e,t,"range","rangeRound","interpolate","clamp")}function _i(e,t){return bi(e,function(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:Ll}(wi(e,t)[2]))}function wi(e,t){null==t&&(t=10);var n=gi(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),o=t/r*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Ai(e,t){return _o.range.apply(_o,wi(e,t))}function Ti(e,t,n){var r=wi(e,t);if(n){var i=_a.exec(n);if(i.shift(),"s"===i[8]){var o=_o.formatPrefix(Math.max(Ro(r[0]),Ro(r[1])));return i[7]||(i[7]="."+Ii(o.scale(r[2]))),i[8]="f",n=_o.format(i.join("")),function(e){return n(o.scale(e))+o.symbol}}i[7]||(i[7]="."+function(e,t){var n=Ii(t[2]);return e in Pl?Math.abs(n-Ii(Math.max(Ro(t[0]),Ro(t[1]))))+ +("e"!==e):n-2*("%"===e)}(i[8],r)),n=i.join("")}else n=",."+Ii(r[2])+"f";return _o.format(n)}function Ii(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function Ci(e,t,n,r){function i(e){return(n?Math.log(e<0?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function o(e){return n?Math.pow(t,e):-Math.pow(t,-e)}function a(t){return e(i(t))}return a.invert=function(t){return o(e.invert(t))},a.domain=function(t){return arguments.length?(n=t[0]>=0,e.domain((r=t.map(Number)).map(i)),a):r},a.base=function(n){return arguments.length?(t=+n,e.domain(r.map(i)),a):t},a.nice=function(){var t=bi(r.map(i),n?Math:Gl);return e.domain(t),r=t.map(o),a},a.ticks=function(){var e=gi(r),a=[],l=e[0],s=e[1],c=Math.floor(i(l)),u=Math.ceil(i(s)),d=t%1?2:t;if(isFinite(u-c)){if(n){for(;c<u;c++)for(var f=1;f<d;f++)a.push(o(c)*f);a.push(o(c))}else for(a.push(o(c));c++<u;)for(f=d-1;f>0;f--)a.push(o(c)*f);for(c=0;a[c]<l;c++);for(u=a.length;a[u-1]>s;u--);a=a.slice(c,u)}return a},a.tickFormat=function(e,t){if(!arguments.length)return kl;arguments.length<2?t=kl:"function"!=typeof t&&(t=_o.format(t));var r,l=Math.max(.1,e/a.ticks().length),s=n?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(e){return e/o(s(i(e)+r))<=l?t(e):""}},a.copy=function(){return Ci(e.copy(),t,n,r)},Si(a,e)}function xi(e,t,n){function r(t){return e(i(t))}var i=Di(t),o=Di(1/t);return r.invert=function(t){return o(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(i)),r):n},r.ticks=function(e){return Ai(n,e)},r.tickFormat=function(e,t){return Ti(n,e,t)},r.nice=function(e){return r.domain(_i(n,e))},r.exponent=function(a){return arguments.length?(i=Di(t=a),o=Di(1/t),e.domain(n.map(i)),r):t},r.copy=function(){return xi(e.copy(),t,n)},Si(r,e)}function Di(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Mi(e,t){function n(n){return o[((i.get(n)||("range"===t.t?i.set(n,e.push(n)):NaN))-1)%o.length]}function r(t,n){return _o.range(e.length).map((function(e){return t+n*e}))}var i,o,a;return n.domain=function(r){if(!arguments.length)return e;e=[],i=new p;for(var o,a=-1,l=r.length;++a<l;)i.has(o=r[a])||i.set(o,e.push(o));return n[t.t].apply(n,t.a)},n.range=function(e){return arguments.length?(o=e,a=0,t={t:"range",a:arguments},n):o},n.rangePoints=function(i,l){arguments.length<2&&(l=0);var s=i[0],c=i[1],u=e.length<2?(s=(s+c)/2,0):(c-s)/(e.length-1+l);return o=r(s+u*l/2,u),a=0,t={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(i,l){arguments.length<2&&(l=0);var s=i[0],c=i[1],u=e.length<2?(s=c=Math.round((s+c)/2),0):(c-s)/(e.length-1+l)|0;return o=r(s+Math.round(u*l/2+(c-s-(e.length-1+l)*u)/2),u),a=0,t={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(i,l,s){arguments.length<2&&(l=0),arguments.length<3&&(s=l);var c=i[1]<i[0],u=i[c-0],d=i[1-c],f=(d-u)/(e.length-l+2*s);return o=r(u+f*s,f),c&&o.reverse(),a=f*(1-l),t={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,l,s){arguments.length<2&&(l=0),arguments.length<3&&(s=l);var c=i[1]<i[0],u=i[c-0],d=i[1-c],f=Math.floor((d-u)/(e.length-l+2*s));return o=r(u+Math.round((d-u-(e.length-l)*f)/2),f),c&&o.reverse(),a=Math.round(f*(1-l)),t={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return a},n.rangeExtent=function(){return gi(t.a[0])},n.copy=function(){return Mi(e,t)},n.domain(e)}function Oi(e,t){function n(){var n=0,o=t.length;for(i=[];++n<o;)i[n-1]=_o.quantile(e,n/o);return r}function r(e){if(!isNaN(e=+e))return t[_o.bisect(i,e)]}var i;return r.domain=function(t){return arguments.length?(e=t.map(s).filter(c).sort(l),n()):e},r.range=function(e){return arguments.length?(t=e,n()):t},r.quantiles=function(){return i},r.invertExtent=function(n){return(n=t.indexOf(n))<0?[NaN,NaN]:[n>0?i[n-1]:e[0],n<i.length?i[n]:e[e.length-1]]},r.copy=function(){return Oi(e,t)},n()}function Ri(e,t,n){function r(t){return n[Math.max(0,Math.min(a,Math.floor(o*(t-e))))]}function i(){return o=n.length/(t-e),a=n.length-1,r}var o,a;return r.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],i()):[e,t]},r.range=function(e){return arguments.length?(n=e,i()):n},r.invertExtent=function(t){return[t=(t=n.indexOf(t))<0?NaN:t/o+e,t+1/o]},r.copy=function(){return Ri(e,t,n)},i()}function Ni(e,t){function n(n){if(n<=n)return t[_o.bisect(e,n)]}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.invertExtent=function(n){return n=t.indexOf(n),[e[n-1],e[n]]},n.copy=function(){return Ni(e,t)},n}function Li(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return Ai(e,t)},t.tickFormat=function(t,n){return Ti(e,t,n)},t.copy=function(){return Li(e)},t}function Pi(){return 0}function ki(e){return e.innerRadius}function Gi(e){return e.outerRadius}function Fi(e){return e.startAngle}function Ui(e){return e.endAngle}function Vi(e){return e&&e.padAngle}function zi(e,t,n,r){return(e-n)*t-(t-r)*e>0?0:1}function Bi(e,t,n,r,i){var o=e[0]-t[0],a=e[1]-t[1],l=(i?r:-r)/Math.sqrt(o*o+a*a),s=l*a,c=-l*o,u=e[0]+s,d=e[1]+c,f=t[0]+s,m=t[1]+c,p=(u+f)/2,g=(d+m)/2,v=f-u,h=m-d,b=v*v+h*h,y=n-r,E=u*m-f*d,S=(h<0?-1:1)*Math.sqrt(y*y*b-E*E),_=(E*h-v*S)/b,w=(-E*v-h*S)/b,A=(E*h+v*S)/b,T=(-E*v+h*S)/b,I=_-p,C=w-g,x=A-p,D=T-g;return I*I+C*C>x*x+D*D&&(_=A,w=T),[[_-s,w-c],[_*n/y,w*n/y]]}function $i(e){function t(t){function a(){c.push("M",o(e(u),l))}for(var s,c=[],u=[],d=-1,f=t.length,m=De(n),p=De(r);++d<f;)i.call(this,s=t[d],d)?u.push([+m.call(this,s,d),+p.call(this,s,d)]):u.length&&(a(),u=[]);return u.length&&a(),c.length?c.join(""):null}var n=En,r=Sn,i=Ct,o=Wi,a=o.key,l=.7;return t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t.defined=function(e){return arguments.length?(i=e,t):i},t.interpolate=function(e){return arguments.length?(a="function"==typeof e?o=e:(o=$l.get(e)||Wi).key,t):a},t.tension=function(e){return arguments.length?(l=e,t):l},t}function Wi(e){return e.join("L")}function Hi(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function ji(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function qi(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return Wi(e);var n=e.length!=t.length,r="",i=e[0],o=e[1],a=t[0],l=a,s=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=e[1],s=2),t.length>1){l=t[1],o=e[s],s++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-l[0])+","+(o[1]-l[1])+","+o[0]+","+o[1];for(var c=2;c<t.length;c++,s++)o=e[s],l=t[c],r+="S"+(o[0]-l[0])+","+(o[1]-l[1])+","+o[0]+","+o[1]}if(n){var u=e[s];r+="Q"+(o[0]+2*l[0]/3)+","+(o[1]+2*l[1]/3)+","+u[0]+","+u[1]}return r}function Yi(e,t){for(var n,r=[],i=(1-t)/2,o=e[0],a=e[1],l=1,s=e.length;++l<s;)n=o,o=a,a=e[l],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function Ki(e){if(e.length<3)return Wi(e);var t=1,n=e.length,r=e[0],i=r[0],o=r[1],a=[i,i,i,(r=e[1])[0]],l=[o,o,o,r[1]],s=[i,",",o,"L",Qi(jl,a),",",Qi(jl,l)];for(e.push(e[n-1]);++t<=n;)r=e[t],a.shift(),a.push(r[0]),l.shift(),l.push(r[1]),Zi(s,a,l);return e.pop(),s.push("L",r),s.join("")}function Qi(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function Zi(e,t,n){e.push("C",Qi(Wl,t),",",Qi(Wl,n),",",Qi(Hl,t),",",Qi(Hl,n),",",Qi(jl,t),",",Qi(jl,n))}function Xi(e,t){return(t[1]-e[1])/(t[0]-e[0])}function Ji(e){for(var t,n,r,i,o=[],a=function(e){for(var t=0,n=e.length-1,r=[],i=e[0],o=e[1],a=r[0]=Xi(i,o);++t<n;)r[t]=(a+(a=Xi(i=o,o=e[t+1])))/2;return r[t]=a,r}(e),l=-1,s=e.length-1;++l<s;)t=Xi(e[l],e[l+1]),Ro(t)<Yo?a[l]=a[l+1]=0:(i=(n=a[l]/t)*n+(r=a[l+1]/t)*r)>9&&(i=3*t/Math.sqrt(i),a[l]=i*n,a[l+1]=i*r);for(l=-1;++l<=s;)i=(e[Math.min(s,l+1)][0]-e[Math.max(0,l-1)][0])/(6*(1+a[l]*a[l])),o.push([i||0,a[l]*i||0]);return o}function eo(e){for(var t,n,r,i=-1,o=e.length;++i<o;)n=(t=e[i])[0],r=t[1]-Jo,t[0]=n*Math.cos(r),t[1]=n*Math.sin(r);return e}function to(e){function t(t){function s(){g.push("M",l(e(h),d),u,c(e(v.reverse()),d),"Z")}for(var f,m,p,g=[],v=[],h=[],b=-1,y=t.length,E=De(n),S=De(i),_=n===r?function(){return m}:De(r),w=i===o?function(){return p}:De(o);++b<y;)a.call(this,f=t[b],b)?(v.push([m=+E.call(this,f,b),p=+S.call(this,f,b)]),h.push([+_.call(this,f,b),+w.call(this,f,b)])):v.length&&(s(),v=[],h=[]);return v.length&&s(),g.length?g.join(""):null}var n=En,r=En,i=0,o=Sn,a=Ct,l=Wi,s=l.key,c=l,u="L",d=.7;return t.x=function(e){return arguments.length?(n=r=e,t):r},t.x0=function(e){return arguments.length?(n=e,t):n},t.x1=function(e){return arguments.length?(r=e,t):r},t.y=function(e){return arguments.length?(i=o=e,t):o},t.y0=function(e){return arguments.length?(i=e,t):i},t.y1=function(e){return arguments.length?(o=e,t):o},t.defined=function(e){return arguments.length?(a=e,t):a},t.interpolate=function(e){return arguments.length?(s="function"==typeof e?l=e:(l=$l.get(e)||Wi).key,c=l.reverse||l,u=l.closed?"M":"L",t):s},t.tension=function(e){return arguments.length?(d=e,t):d},t}function no(e){return e.radius}function ro(e){return[e.x,e.y]}function io(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]-Jo;return[n*Math.cos(r),n*Math.sin(r)]}}function oo(){return 64}function ao(){return"circle"}function lo(e){var t=Math.sqrt(e/Qo);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function so(e){return function(){var t,n;(t=this[e])&&(n=t[t.active])&&(--t.count?delete t[t.active]:delete this[e],t.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function co(e,t,n){return Go(e,Jl),e.namespace=t,e.id=n,e}function uo(e,t,n,r){var i=e.id,o=e.namespace;return Y(e,"function"==typeof n?function(e,a,l){e[o][i].tween.set(t,r(n.call(e,e.__data__,a,l)))}:(n=r(n),function(e){e[o][i].tween.set(t,n)}))}function fo(e){return null==e&&(e=""),function(){this.textContent=e}}function mo(e){return null==e?"__transition__":"__transition_"+e+"__"}function po(e,t,n,r,i){var o=e[n]||(e[n]={active:0,count:0}),a=o[r];if(!a){var l=i.time;a=o[r]={tween:new p,time:l,delay:i.delay,duration:i.duration,ease:i.ease,index:t},i=null,++o.count,_o.timer((function(i){function s(n){if(o.active>r)return u();var i=o[o.active];i&&(--o.count,delete o[o.active],i.event&&i.event.interrupt.call(e,e.__data__,i.index)),o.active=r,a.event&&a.event.start.call(e,e.__data__,t),a.tween.forEach((function(n,r){(r=r.call(e,e.__data__,t))&&g.push(r)})),f=a.ease,d=a.duration,_o.timer((function(){return p.c=c(n||1)?Ct:c,1}),0,l)}function c(n){if(o.active!==r)return 1;for(var i=n/d,l=f(i),s=g.length;s>0;)g[--s].call(e,l);return i>=1?(a.event&&a.event.end.call(e,e.__data__,t),u()):void 0}function u(){return--o.count?delete o[r]:delete e[n],1}var d,f,m=a.delay,p=ya,g=[];return p.t=m+l,m<=i?s(i-m):void(p.c=s)}),0,l)}}function go(e,t,n){e.attr("transform",(function(e){var r=t(e);return"translate("+(isFinite(r)?r:n(e))+",0)"}))}function vo(e,t,n){e.attr("transform",(function(e){var r=t(e);return"translate(0,"+(isFinite(r)?r:n(e))+")"}))}function ho(e){return e.toISOString()}function bo(e,t,n){function r(t){return e(t)}function i(e,n){var r=(e[1]-e[0])/n,i=_o.bisect(ss,r);return i==ss.length?[t.year,wi(e.map((function(e){return e/31536e6})),n)[2]]:i?t[r/ss[i-1]<ss[i]/r?i-1:i]:[ds,wi(e,n)[2]]}return r.invert=function(t){return yo(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain(t),r):e.domain().map(yo)},r.nice=function(e,t){function n(n){return!isNaN(n)&&!e.range(n,yo(+n+1),t).length}var o=r.domain(),a=gi(o),l=null==e?i(a,10):"number"==typeof e&&i(a,e);return l&&(e=l[0],t=l[1]),r.domain(bi(o,t>1?{floor:function(t){for(;n(t=e.floor(t));)t=yo(t-1);return t},ceil:function(t){for(;n(t=e.ceil(t));)t=yo(+t+1);return t}}:e))},r.ticks=function(e,t){var n=gi(r.domain()),o=null==e?i(n,10):"number"==typeof e?i(n,e):!e.range&&[{range:e},t];return o&&(e=o[0],t=o[1]),e.range(n[0],yo(+n[1]+1),t<1?1:t)},r.tickFormat=function(){return n},r.copy=function(){return bo(e.copy(),t,n)},Si(r,e)}function yo(e){return new Date(e)}function Eo(e){return JSON.parse(e.responseText)}function So(e){var t=To.createRange();return t.selectNode(To.body),t.createContextualFragment(e.responseText)}var _o={version:"3.5.6"},wo=[].slice,Ao=function(e){return wo.call(e)},To=this.document;if(To)try{Ao(To.documentElement.childNodes)[0].nodeType}catch(e){Ao=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),To)try{To.createElement("DIV").style.setProperty("opacity",0,"")}catch(e){var Io=this.Element.prototype,Co=Io.setAttribute,xo=Io.setAttributeNS,Do=this.CSSStyleDeclaration.prototype,Mo=Do.setProperty;Io.setAttribute=function(e,t){Co.call(this,e,t+"")},Io.setAttributeNS=function(e,t,n){xo.call(this,e,t,n+"")},Do.setProperty=function(e,t,n){Mo.call(this,e,t+"",n)}}_o.ascending=l,_o.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},_o.min=function(e,t){var n,r,i=-1,o=e.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=e[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=t.call(e,e[i],i))&&n>r&&(n=r)}return n},_o.max=function(e,t){var n,r,i=-1,o=e.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=e[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=t.call(e,e[i],i))&&r>n&&(n=r)}return n},_o.extent=function(e,t){var n,r,i,o=-1,a=e.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=e[o])&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=e[o])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++o<a;)if(null!=(r=t.call(e,e[o],o))&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=t.call(e,e[o],o))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},_o.sum=function(e,t){var n,r=0,i=e.length,o=-1;if(1===arguments.length)for(;++o<i;)c(n=+e[o])&&(r+=n);else for(;++o<i;)c(n=+t.call(e,e[o],o))&&(r+=n);return r},_o.mean=function(e,t){var n,r=0,i=e.length,o=-1,a=i;if(1===arguments.length)for(;++o<i;)c(n=s(e[o]))?r+=n:--a;else for(;++o<i;)c(n=s(t.call(e,e[o],o)))?r+=n:--a;if(a)return r/a},_o.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],o=n-r;return o?i+o*(e[r]-i):i},_o.median=function(e,t){var n,r=[],i=e.length,o=-1;if(1===arguments.length)for(;++o<i;)c(n=s(e[o]))&&r.push(n);else for(;++o<i;)c(n=s(t.call(e,e[o],o)))&&r.push(n);if(r.length)return _o.quantile(r.sort(l),.5)},_o.variance=function(e,t){var n,r,i=e.length,o=0,a=0,l=-1,u=0;if(1===arguments.length)for(;++l<i;)c(n=s(e[l]))&&(a+=(r=n-o)*(n-(o+=r/++u)));else for(;++l<i;)c(n=s(t.call(e,e[l],l)))&&(a+=(r=n-o)*(n-(o+=r/++u)));if(u>1)return a/(u-1)},_o.deviation=function(){var e=_o.variance.apply(this,arguments);return e?Math.sqrt(e):e};var Oo=u(l);_o.bisectLeft=Oo.left,_o.bisect=_o.bisectRight=Oo.right,_o.bisector=function(e){return u(1===e.length?function(t,n){return l(e(t),n)}:e)},_o.shuffle=function(e,t,n){(o=arguments.length)<3&&(n=e.length,o<2&&(t=0));for(var r,i,o=n-t;o;)i=Math.random()*o--|0,r=e[o+t],e[o+t]=e[i+t],e[i+t]=r;return e},_o.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},_o.pairs=function(e){for(var t=0,n=e.length-1,r=e[0],i=new Array(n<0?0:n);t<n;)i[t]=[r,r=e[++t]];return i},_o.zip=function(){if(!(r=arguments.length))return[];for(var e=-1,t=_o.min(arguments,d),n=new Array(t);++e<t;)for(var r,i=-1,o=n[e]=new Array(r);++i<r;)o[i]=arguments[i][e];return n},_o.transpose=function(e){return _o.zip.apply(_o,e)},_o.keys=function(e){var t=[];for(var n in e)t.push(n);return t},_o.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},_o.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},_o.merge=function(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(t=(r=e[i]).length;--t>=0;)n[--a]=r[t];return n};var Ro=Math.abs;_o.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n==1/0)throw new Error("infinite range");var r,i=[],o=f(Ro(n)),a=-1;if(e*=o,t*=o,(n*=o)<0)for(;(r=e+n*++a)>t;)i.push(r/o);else for(;(r=e+n*++a)<t;)i.push(r/o);return i},_o.map=function(e,t){var n=new p;if(e instanceof p)e.forEach((function(e,t){n.set(e,t)}));else if(Array.isArray(e)){var r,i=-1,o=e.length;if(1===arguments.length)for(;++i<o;)n.set(i,e[i]);else for(;++i<o;)n.set(t.call(e,r=e[i],i),r)}else for(var a in e)n.set(a,e[a]);return n};var No="__proto__",Lo="\0";m(p,{has:h,get:function(e){return this._[g(e)]},set:function(e,t){return this._[g(e)]=t},remove:b,keys:y,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:v(t),value:this._[t]});return e},size:E,empty:S,forEach:function(e){for(var t in this._)e.call(this,v(t),this._[t])}}),_o.nest=function(){function e(t,a,l){if(l>=o.length)return r?r.call(i,a):n?a.sort(n):a;for(var s,c,u,d,f=-1,m=a.length,g=o[l++],v=new p;++f<m;)(d=v.get(s=g(c=a[f])))?d.push(c):v.set(s,[c]);return t?(c=t(),u=function(n,r){c.set(n,e(t,r,l))}):(c={},u=function(n,r){c[n]=e(t,r,l)}),v.forEach(u),c}function t(e,n){if(n>=o.length)return e;var r=[],i=a[n++];return e.forEach((function(e,i){r.push({key:e,values:t(i,n)})})),i?r.sort((function(e,t){return i(e.key,t.key)})):r}var n,r,i={},o=[],a=[];return i.map=function(t,n){return e(n,t,0)},i.entries=function(n){return t(e(_o.map,n,0),0)},i.key=function(e){return o.push(e),i},i.sortKeys=function(e){return a[o.length-1]=e,i},i.sortValues=function(e){return n=e,i},i.rollup=function(e){return r=e,i},i},_o.set=function(e){var t=new _;if(e)for(var n=0,r=e.length;n<r;++n)t.add(e[n]);return t},m(_,{has:h,add:function(e){return this._[g(e+="")]=!0,e},remove:b,values:y,size:E,empty:S,forEach:function(e){for(var t in this._)e.call(this,v(t))}}),_o.behavior={},_o.rebind=function(e,t){for(var n,r=1,i=arguments.length;++r<i;)e[n=arguments[r]]=A(e,t,t[n]);return e};var Po=["webkit","ms","moz","Moz","o","O"];_o.dispatch=function(){for(var e=new C,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=x(e);return e},C.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},_o.event=null,_o.requote=function(e){return e.replace(ko,"\\$&")};var ko=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Go={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]},Fo=function(e,t){return t.querySelector(e)},Uo=function(e,t){return t.querySelectorAll(e)},Vo=function(e,t){var n=e.matches||e[T(e,"matchesSelector")];return(Vo=function(e,t){return n.call(e,t)})(e,t)};"function"==typeof Sizzle&&(Fo=function(e,t){return Sizzle(e,t)[0]||null},Uo=Sizzle,Vo=Sizzle.matchesSelector),_o.selection=function(){return _o.select(To.documentElement)};var zo=_o.selection.prototype=[];zo.select=function(e){var t,n,r,i,o=[];e=N(e);for(var a=-1,l=this.length;++a<l;){o.push(t=[]),t.parentNode=(r=this[a]).parentNode;for(var s=-1,c=r.length;++s<c;)(i=r[s])?(t.push(n=e.call(i,i.__data__,s,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):t.push(null)}return R(o)},zo.selectAll=function(e){var t,n,r=[];e=L(e);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],l=-1,s=a.length;++l<s;)(n=a[l])&&(r.push(t=Ao(e.call(n,n.__data__,l,i))),t.parentNode=n);return R(r)};var Bo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};_o.ns={prefix:Bo,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&(n=e.slice(0,t),e=e.slice(t+1)),Bo.hasOwnProperty(n)?{space:Bo[n],local:e}:e}},zo.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return(e=_o.ns.qualify(e)).local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(P(t,e[t]));return this}return this.each(P(e,t))},zo.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),r=(e=F(e)).length,i=-1;if(t=n.classList){for(;++i<r;)if(!t.contains(e[i]))return!1}else for(t=n.getAttribute("class");++i<r;)if(!G(e[i]).test(t))return!1;return!0}for(t in e)this.each(U(t,e[t]));return this}return this.each(U(e,t))},zo.style=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){for(n in r<2&&(t=""),e)this.each(z(n,e[n],t));return this}if(r<2){var i=this.node();return a(i).getComputedStyle(i,null).getPropertyValue(e)}n=""}return this.each(z(e,t,n))},zo.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(B(t,e[t]));return this}return this.each(B(e,t))},zo.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},zo.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},zo.append=function(e){return e=$(e),this.select((function(){return this.appendChild(e.apply(this,arguments))}))},zo.insert=function(e,t){return e=$(e),t=N(t),this.select((function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)}))},zo.remove=function(){return this.each(W)},zo.data=function(e,t){function n(e,n){var r,i,o,a=e.length,u=n.length,d=Math.min(a,u),f=new Array(u),m=new Array(u),g=new Array(a);if(t){var v,h=new p,b=new Array(a);for(r=-1;++r<a;)h.has(v=t.call(i=e[r],i.__data__,r))?g[r]=i:h.set(v,i),b[r]=v;for(r=-1;++r<u;)(i=h.get(v=t.call(n,o=n[r],r)))?!0!==i&&(f[r]=i,i.__data__=o):m[r]=H(o),h.set(v,!0);for(r=-1;++r<a;)!0!==h.get(b[r])&&(g[r]=e[r])}else{for(r=-1;++r<d;)i=e[r],o=n[r],i?(i.__data__=o,f[r]=i):m[r]=H(o);for(;r<u;++r)m[r]=H(n[r]);for(;r<a;++r)g[r]=e[r]}m.update=f,m.parentNode=f.parentNode=g.parentNode=e.parentNode,l.push(m),s.push(f),c.push(g)}var r,i,o=-1,a=this.length;if(!arguments.length){for(e=new Array(a=(r=this[0]).length);++o<a;)(i=r[o])&&(e[o]=i.__data__);return e}var l=K([]),s=R([]),c=R([]);if("function"==typeof e)for(;++o<a;)n(r=this[o],e.call(r,r.parentNode.__data__,o));else for(;++o<a;)n(r=this[o],e);return s.enter=function(){return l},s.exit=function(){return c},s},zo.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},zo.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=j(e));for(var o=0,a=this.length;o<a;o++){i.push(t=[]),t.parentNode=(n=this[o]).parentNode;for(var l=0,s=n.length;l<s;l++)(r=n[l])&&e.call(r,r.__data__,l,o)&&t.push(r)}return R(i)},zo.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,r=this[e],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},zo.sort=function(e){e=q.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},zo.each=function(e){return Y(this,(function(t,n,r){e.call(t,t.__data__,n,r)}))},zo.call=function(e){var t=Ao(arguments);return e.apply(t[0]=this,t),this},zo.empty=function(){return!this.node()},zo.node=function(){for(var e=0,t=this.length;e<t;e++)for(var n=this[e],r=0,i=n.length;r<i;r++){var o=n[r];if(o)return o}return null},zo.size=function(){var e=0;return Y(this,(function(){++e})),e};var $o=[];_o.selection.enter=K,_o.selection.enter.prototype=$o,$o.append=zo.append,$o.empty=zo.empty,$o.node=zo.node,$o.call=zo.call,$o.size=zo.size,$o.select=function(e){for(var t,n,r,i,o,a=[],l=-1,s=this.length;++l<s;){r=(i=this[l]).update,a.push(t=[]),t.parentNode=i.parentNode;for(var c=-1,u=i.length;++c<u;)(o=i[c])?(t.push(r[c]=n=e.call(i.parentNode,o.__data__,c,l)),n.__data__=o.__data__):t.push(null)}return R(a)},$o.insert=function(e,t){return arguments.length<2&&(t=Q(this)),zo.insert.call(this,e,t)},_o.select=function(e){var t;return"string"==typeof e?(t=[Fo(e,To)]).parentNode=To.documentElement:(t=[e]).parentNode=o(e),R([t])},_o.selectAll=function(e){var t;return"string"==typeof e?(t=Ao(Uo(e,To))).parentNode=To.documentElement:(t=e).parentNode=null,R([t])},zo.on=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){for(n in r<2&&(t=!1),e)this.each(Z(n,e[n],t));return this}if(r<2)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(Z(e,t,n))};var Wo=_o.map({mouseenter:"mouseover",mouseleave:"mouseout"});To&&Wo.forEach((function(e){"on"+e in To&&Wo.remove(e)}));var Ho,jo=0;_o.mouse=function(e){return te(e,M())};var qo=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;_o.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=M().changedTouches),t)for(var r,i=0,o=t.length;i<o;++i)if((r=t[i]).identifier===n)return te(e,r)},_o.behavior.drag=function(){function e(){this.on("mousedown.drag",i).on("touchstart.drag",o)}function t(e,t,i,o,a){return function(){function l(){var e,n,r=t(f,g);r&&(e=r[0]-y[0],n=r[1]-y[1],p|=e|n,y=r,m({type:"drag",x:r[0]+c[0],y:r[1]+c[1],dx:e,dy:n}))}function s(){t(f,g)&&(h.on(o+v,null).on(a+v,null),b(p&&_o.event.target===d),m({type:"dragend"}))}var c,u=this,d=_o.event.target,f=u.parentNode,m=n.of(u,arguments),p=0,g=e(),v=".drag"+(null==g?"":"-"+g),h=_o.select(i(d)).on(o+v,l).on(a+v,s),b=ee(d),y=t(f,g);r?c=[(c=r.apply(u,arguments)).x-y[0],c.y-y[1]]:c=[0,0],m({type:"dragstart"})}}var n=O(e,"drag","dragstart","dragend"),r=null,i=t(I,_o.mouse,a,"mousemove","mouseup"),o=t(ne,_o.touch,w,"touchmove","touchend");return e.origin=function(t){return arguments.length?(r=t,e):r},_o.rebind(e,n,"on")},_o.touches=function(e,t){return arguments.length<2&&(t=M().touches),t?Ao(t).map((function(t){var n=te(e,t);return n.identifier=t.identifier,n})):[]};var Yo=1e-6,Ko=Yo*Yo,Qo=Math.PI,Zo=2*Qo,Xo=Zo-Yo,Jo=Qo/2,ea=Qo/180,ta=180/Qo,na=Math.SQRT2;_o.interpolateZoom=function(e,t){function n(e){var t=e*h;if(v){var n=le(g),a=o/(2*f)*(n*function(e){return((e=Math.exp(2*e))-1)/(e+1)}(na*t+g)-function(e){return((e=Math.exp(e))-1/e)/2}(g));return[r+a*c,i+a*u,o*n/le(na*t+g)]}return[r+e*c,i+e*u,o*Math.exp(na*t)]}var r=e[0],i=e[1],o=e[2],a=t[0],l=t[1],s=t[2],c=a-r,u=l-i,d=c*c+u*u,f=Math.sqrt(d),m=(s*s-o*o+4*d)/(2*o*2*f),p=(s*s-o*o-4*d)/(2*s*2*f),g=Math.log(Math.sqrt(m*m+1)-m),v=Math.log(Math.sqrt(p*p+1)-p)-g,h=(v||Math.log(s/o))/na;return n.duration=1e3*h,n},_o.behavior.zoom=function(){function e(e){e.on(x,u).on(ia+".zoom",f).on("dblclick.zoom",m).on(N,d)}function t(e){return[(e[0]-w.x)/w.k,(e[1]-w.y)/w.k]}function n(e){w.k=Math.max(T[0],Math.min(T[1],e))}function r(e,t){t=function(e){return[e[0]*w.k+w.x,e[1]*w.k+w.y]}(t),w.x+=e[0]-t[0],w.y+=e[1]-t[1]}function i(t,i,o,a){t.__chart__={x:w.x,y:w.y,k:w.k},n(Math.pow(2,a)),r(g=i,o),t=_o.select(t),I>0&&(t=t.transition().duration(I)),t.call(e.event)}function o(){E&&E.domain(y.range().map((function(e){return(e-w.x)/w.k})).map(y.invert)),_&&_.domain(S.range().map((function(e){return(e-w.y)/w.k})).map(S.invert))}function l(e){C++||e({type:"zoomstart"})}function s(e){o(),e({type:"zoom",scale:w.k,translate:[w.x,w.y]})}function c(e){--C||(e({type:"zoomend"}),g=null)}function u(){function e(){d=1,r(_o.mouse(i),m),s(u)}function n(){f.on(M,null).on(R,null),p(d&&_o.event.target===o),c(u)}var i=this,o=_o.event.target,u=L.of(i,arguments),d=0,f=_o.select(a(i)).on(M,e).on(R,n),m=t(_o.mouse(i)),p=ee(i);Xl.call(i),l(u)}function d(){function e(){var e=_o.touches(p);return m=w.k,e.forEach((function(e){e.identifier in v&&(v[e.identifier]=t(e))})),e}function o(){var t=_o.event.target;_o.select(t).on(E,a).on(S,f),_.push(t);for(var n=_o.event.changedTouches,r=0,o=n.length;r<o;++r)v[n[r].identifier]=null;var l=e(),s=Date.now();if(1===l.length){if(s-b<500){var c=l[0];i(p,c,v[c.identifier],Math.floor(Math.log(w.k)/Math.LN2)+1),D()}b=s}else if(l.length>1){c=l[0];var u=l[1],d=c[0]-u[0],m=c[1]-u[1];h=d*d+m*m}}function a(){var e,t,i,o,a=_o.touches(p);Xl.call(p);for(var l=0,c=a.length;l<c;++l,o=null)if(i=a[l],o=v[i.identifier]){if(t)break;e=i,t=o}if(o){var u=(u=i[0]-e[0])*u+(u=i[1]-e[1])*u,d=h&&Math.sqrt(u/h);e=[(e[0]+i[0])/2,(e[1]+i[1])/2],t=[(t[0]+o[0])/2,(t[1]+o[1])/2],n(d*m)}b=null,r(e,t),s(g)}function f(){if(_o.event.touches.length){for(var t=_o.event.changedTouches,n=0,r=t.length;n<r;++n)delete v[t[n].identifier];for(var i in v)return void e()}_o.selectAll(_).on(y,null),A.on(x,u).on(N,d),T(),c(g)}var m,p=this,g=L.of(p,arguments),v={},h=0,y=".zoom-"+_o.event.changedTouches[0].identifier,E="touchmove"+y,S="touchend"+y,_=[],A=_o.select(p),T=ee(p);o(),l(g),A.on(x,null).on(N,o)}function f(){var e=L.of(this,arguments);h?clearTimeout(h):(Xl.call(this),p=t(g=v||_o.mouse(this)),l(e)),h=setTimeout((function(){h=null,c(e)}),50),D(),n(Math.pow(2,.002*ra())*w.k),r(g,p),s(e)}function m(){var e=_o.mouse(this),n=Math.log(w.k)/Math.LN2;i(this,e,t(e),_o.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}var p,g,v,h,b,y,E,S,_,w={x:0,y:0,k:1},A=[960,500],T=oa,I=250,C=0,x="mousedown.zoom",M="mousemove.zoom",R="mouseup.zoom",N="touchstart.zoom",L=O(e,"zoomstart","zoom","zoomend");return ia||(ia="onwheel"in To?(ra=function(){return-_o.event.deltaY*(_o.event.deltaMode?120:1)},"wheel"):"onmousewheel"in To?(ra=function(){return _o.event.wheelDelta},"mousewheel"):(ra=function(){return-_o.event.detail},"MozMousePixelScroll")),e.event=function(e){e.each((function(){var e=L.of(this,arguments),t=w;Ql?_o.select(this).transition().each("start.zoom",(function(){w=this.__chart__||{x:0,y:0,k:1},l(e)})).tween("zoom:zoom",(function(){var n=A[0],r=A[1],i=g?g[0]:n/2,o=g?g[1]:r/2,a=_o.interpolateZoom([(i-w.x)/w.k,(o-w.y)/w.k,n/w.k],[(i-t.x)/t.k,(o-t.y)/t.k,n/t.k]);return function(t){var r=a(t),l=n/r[2];this.__chart__=w={x:i-r[0]*l,y:o-r[1]*l,k:l},s(e)}})).each("interrupt.zoom",(function(){c(e)})).each("end.zoom",(function(){c(e)})):(this.__chart__=w,l(e),s(e),c(e))}))},e.translate=function(t){return arguments.length?(w={x:+t[0],y:+t[1],k:w.k},o(),e):[w.x,w.y]},e.scale=function(t){return arguments.length?(w={x:w.x,y:w.y,k:+t},o(),e):w.k},e.scaleExtent=function(t){return arguments.length?(T=null==t?oa:[+t[0],+t[1]],e):T},e.center=function(t){return arguments.length?(v=t&&[+t[0],+t[1]],e):v},e.size=function(t){return arguments.length?(A=t&&[+t[0],+t[1]],e):A},e.duration=function(t){return arguments.length?(I=+t,e):I},e.x=function(t){return arguments.length?(E=t,y=t.copy(),w={x:0,y:0,k:1},e):E},e.y=function(t){return arguments.length?(_=t,S=t.copy(),w={x:0,y:0,k:1},e):_},_o.rebind(e,L,"on")};var ra,ia,oa=[0,1/0];_o.color=ce,ce.prototype.toString=function(){return this.rgb()+""},_o.hsl=ue;var aa=ue.prototype=new ce;aa.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new ue(this.h,this.s,this.l/e)},aa.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new ue(this.h,this.s,e*this.l)},aa.rgb=function(){return de(this.h,this.s,this.l)},_o.hcl=fe;var la=fe.prototype=new ce;la.brighter=function(e){return new fe(this.h,this.c,Math.min(100,this.l+sa*(arguments.length?e:1)))},la.darker=function(e){return new fe(this.h,this.c,Math.max(0,this.l-sa*(arguments.length?e:1)))},la.rgb=function(){return me(this.h,this.c,this.l).rgb()},_o.lab=pe;var sa=18,ca=.95047,ua=1,da=1.08883,fa=pe.prototype=new ce;fa.brighter=function(e){return new pe(Math.min(100,this.l+sa*(arguments.length?e:1)),this.a,this.b)},fa.darker=function(e){return new pe(Math.max(0,this.l-sa*(arguments.length?e:1)),this.a,this.b)},fa.rgb=function(){return ge(this.l,this.a,this.b)},_o.rgb=Ee;var ma=Ee.prototype=new ce;ma.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;return t||n||r?(t&&t<i&&(t=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new Ee(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,r/e))):new Ee(i,i,i)},ma.darker=function(e){return new Ee((e=Math.pow(.7,arguments.length?e:1))*this.r,e*this.g,e*this.b)},ma.hsl=function(){return Te(this.r,this.g,this.b)},ma.toString=function(){return"#"+we(this.r)+we(this.g)+we(this.b)};var pa=_o.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});pa.forEach((function(e,t){pa.set(e,Se(t))})),_o.functor=De,_o.xhr=Me(w),_o.dsv=function(e,t){function n(e,n,o){arguments.length<3&&(o=n,n=null);var a=Oe(e,t,null==n?r:i(n),o);return a.row=function(e){return arguments.length?a.response(null==(n=e)?r:i(e)):n},a}function r(e){return n.parse(e.responseText)}function i(e){return function(t){return n.parse(t.responseText,e)}}function o(t){return t.map(a).join(e)}function a(e){return l.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var l=new RegExp('["'+e+"\n]"),s=e.charCodeAt(0);return n.parse=function(e,t){var r;return n.parseRows(e,(function(e,n){if(r)return r(e,n-1);var i=new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+"]"})).join(",")+"}");r=t?function(e,n){return t(i(e),n)}:i}))},n.parseRows=function(e,t){function n(){if(u>=c)return a;if(i)return i=!1,o;var t=u;if(34===e.charCodeAt(t)){for(var n=t;n++<c;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}return u=n+2,13===(r=e.charCodeAt(n+1))?(i=!0,10===e.charCodeAt(n+2)&&++u):10===r&&(i=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;u<c;){var r,l=1;if(10===(r=e.charCodeAt(u++)))i=!0;else if(13===r)i=!0,10===e.charCodeAt(u)&&(++u,++l);else if(r!==s)continue;return e.slice(t,u-l)}return e.slice(t)}for(var r,i,o={},a={},l=[],c=e.length,u=0,d=0;(r=n())!==a;){for(var f=[];r!==o&&r!==a;)f.push(r),r=n();t&&null==(f=t(f,d++))||l.push(f)}return l},n.format=function(t){if(Array.isArray(t[0]))return n.formatRows(t);var r=new _,i=[];return t.forEach((function(e){for(var t in e)r.has(t)||i.push(r.add(t))})),[i.map(a).join(e)].concat(t.map((function(t){return i.map((function(e){return a(t[e])})).join(e)}))).join("\n")},n.formatRows=function(e){return e.map(o).join("\n")},n},_o.csv=_o.dsv(",","text/csv"),_o.tsv=_o.dsv("\t","text/tab-separated-values");var ga,va,ha,ba,ya,Ea=this[T(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};_o.timer=function(e,t,n){var r=arguments.length;r<2&&(t=0),r<3&&(n=Date.now());var i=n+t,o={c:e,t:i,f:!1,n:null};va?va.n=o:ga=o,va=o,ha||(ba=clearTimeout(ba),ha=1,Ea(Re))},_o.timer.flush=function(){Ne(),Le()},_o.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var Sa=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map((function(e,t){var n=Math.pow(10,3*Ro(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}));_o.formatPrefix=function(e,t){var n=0;return e&&(e<0&&(e*=-1),t&&(e=_o.round(e,Pe(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),Sa[8+n/3]};var _a=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,wa=_o.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=_o.round(e,Pe(e,t))).toFixed(Math.max(0,Math.min(20,Pe(e*(1+1e-15),t))))}}),Aa=_o.time={},Ta=Date;Fe.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Ia.setUTCDate.apply(this._,arguments)},setDay:function(){Ia.setUTCDay.apply(this._,arguments)},setFullYear:function(){Ia.setUTCFullYear.apply(this._,arguments)},setHours:function(){Ia.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Ia.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Ia.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Ia.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Ia.setUTCSeconds.apply(this._,arguments)},setTime:function(){Ia.setTime.apply(this._,arguments)}};var Ia=Date.prototype;Aa.year=Ue((function(e){return(e=Aa.day(e)).setMonth(0,1),e}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e){return e.getFullYear()})),Aa.years=Aa.year.range,Aa.years.utc=Aa.year.utc.range,Aa.day=Ue((function(e){var t=new Ta(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e){return e.getDate()-1})),Aa.days=Aa.day.range,Aa.days.utc=Aa.day.utc.range,Aa.dayOfYear=function(e){var t=Aa.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach((function(e,t){t=7-t;var n=Aa[e]=Ue((function(e){return(e=Aa.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e}),(function(e,t){e.setDate(e.getDate()+7*Math.floor(t))}),(function(e){var n=Aa.year(e).getDay();return Math.floor((Aa.dayOfYear(e)+(n+t)%7)/7)-(n!==t)}));Aa[e+"s"]=n.range,Aa[e+"s"].utc=n.utc.range,Aa[e+"OfYear"]=function(e){var n=Aa.year(e).getDay();return Math.floor((Aa.dayOfYear(e)+(n+t)%7)/7)}})),Aa.week=Aa.sunday,Aa.weeks=Aa.sunday.range,Aa.weeks.utc=Aa.sunday.utc.range,Aa.weekOfYear=Aa.sundayOfYear;var Ca={"-":"",_:" ",0:"0"},xa=/^\s*\d+/,Da=/^%/;_o.locale=function(e){return{numberFormat:ke(e),timeFormat:ze(e)}};var Ma=_o.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});_o.format=Ma.numberFormat,_o.geo={},lt.prototype={s:0,t:0,add:function(e){st(e,this.t,Oa),st(Oa.s,this.s,this),this.s?this.t+=Oa.t:this.s=Oa.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Oa=new lt;_o.geo.stream=function(e,t){e&&Ra.hasOwnProperty(e.type)?Ra[e.type](e,t):ct(e,t)};var Ra={Feature:function(e,t){ct(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)ct(n[r].geometry,t)}},Na={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){ut(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)ut(n[r],t,0)},Polygon:function(e,t){dt(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)dt(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)ct(n[r],t)}};_o.geo.area=function(e){return La=0,_o.geo.stream(e,ka),La};var La,Pa=new lt,ka={sphere:function(){La+=4*Qo},point:I,lineStart:I,lineEnd:I,polygonStart:function(){Pa.reset(),ka.lineStart=ft},polygonEnd:function(){var e=2*Pa;La+=e<0?4*Qo+e:e,ka.lineStart=ka.lineEnd=ka.point=I}};_o.geo.bounds=function(){function e(e,t){y.push(E=[u=e,f=e]),t<d&&(d=t),t>m&&(m=t)}function t(t,n){var r=mt([t*ea,n*ea]);if(h){var i=gt(h,r),o=gt([i[1],-i[0],0],i);bt(o),o=yt(o);var a=t-p,s=a>0?1:-1,c=o[0]*ta*s,g=Ro(a)>180;if(g^(s*p<c&&c<s*t))(v=o[1]*ta)>m&&(m=v);else if(g^(s*p<(c=(c+360)%360-180)&&c<s*t)){var v;(v=-o[1]*ta)<d&&(d=v)}else n<d&&(d=n),n>m&&(m=n);g?t<p?l(u,t)>l(u,f)&&(f=t):l(t,f)>l(u,f)&&(u=t):f>=u?(t<u&&(u=t),t>f&&(f=t)):t>p?l(u,t)>l(u,f)&&(f=t):l(t,f)>l(u,f)&&(u=t)}else e(t,n);h=r,p=t}function n(){S.point=t}function r(){E[0]=u,E[1]=f,S.point=e,h=null}function i(e,n){if(h){var r=e-p;b+=Ro(r)>180?r+(r>0?360:-360):r}else g=e,v=n;ka.point(e,n),t(e,n)}function o(){ka.lineStart()}function a(){i(g,v),ka.lineEnd(),Ro(b)>Yo&&(u=-(f=180)),E[0]=u,E[1]=f,h=null}function l(e,t){return(t-=e)<0?t+360:t}function s(e,t){return e[0]-t[0]}function c(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var u,d,f,m,p,g,v,h,b,y,E,S={point:e,lineStart:n,lineEnd:r,polygonStart:function(){S.point=i,S.lineStart=o,S.lineEnd=a,b=0,ka.polygonStart()},polygonEnd:function(){ka.polygonEnd(),S.point=e,S.lineStart=n,S.lineEnd=r,Pa<0?(u=-(f=180),d=-(m=90)):b>Yo?m=90:b<-Yo&&(d=-90),E[0]=u,E[1]=f}};return function(e){if(m=f=-(u=d=1/0),y=[],_o.geo.stream(e,S),o=y.length){y.sort(s);for(var t=1,n=[p=y[0]];t<o;++t)c((i=y[t])[0],p)||c(i[1],p)?(l(p[0],i[1])>l(p[0],p[1])&&(p[1]=i[1]),l(i[0],p[1])>l(p[0],p[1])&&(p[0]=i[0])):n.push(p=i);for(var r,i,o,a=-1/0,p=(t=0,n[o=n.length-1]);t<=o;p=i,++t)i=n[t],(r=l(p[1],i[0]))>a&&(a=r,u=i[0],f=p[1])}return y=E=null,u===1/0||d===1/0?[[NaN,NaN],[NaN,NaN]]:[[u,d],[f,m]]}}(),_o.geo.centroid=function(e){Ga=Fa=Ua=Va=za=Ba=$a=Wa=Ha=ja=qa=0,_o.geo.stream(e,Ya);var t=Ha,n=ja,r=qa,i=t*t+n*n+r*r;return i<Ko&&(t=Ba,n=$a,r=Wa,Fa<Yo&&(t=Ua,n=Va,r=za),(i=t*t+n*n+r*r)<Ko)?[NaN,NaN]:[Math.atan2(n,t)*ta,ae(r/Math.sqrt(i))*ta]};var Ga,Fa,Ua,Va,za,Ba,$a,Wa,Ha,ja,qa,Ya={sphere:I,point:St,lineStart:wt,lineEnd:At,polygonStart:function(){Ya.lineStart=Tt},polygonEnd:function(){Ya.lineStart=wt}},Ka=Ot(Ct,(function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var l=o>0?Qo:-Qo,s=Ro(o-n);Ro(s-Qo)<Yo?(e.point(n,r=(r+a)/2>0?Jo:-Jo),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(l,r),e.point(o,r),t=0):i!==l&&s>=Qo&&(Ro(n-i)<Yo&&(n-=i*Yo),Ro(o-l)<Yo&&(o-=l*Yo),r=function(e,t,n,r){var i,o,a=Math.sin(e-n);return Ro(a)>Yo?Math.atan((Math.sin(t)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(t))*Math.sin(e))/(i*o*a)):(t+r)/2}(n,r,o,a),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(l,r),t=0),e.point(n=o,r=a),i=l},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}),(function(e,t,n,r){var i;if(null==e)i=n*Jo,r.point(-Qo,i),r.point(0,i),r.point(Qo,i),r.point(Qo,0),r.point(Qo,-i),r.point(0,-i),r.point(-Qo,-i),r.point(-Qo,0),r.point(-Qo,i);else if(Ro(e[0]-t[0])>Yo){var o=e[0]<t[0]?Qo:-Qo;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}),[-Qo,-Qo/2]),Qa=1e9;_o.geo.clipExtent=function(){var e,t,n,r,i,o,a={stream:function(e){return i&&(i.valid=!1),(i=o(e)).valid=!0,i},extent:function(l){return arguments.length?(o=Gt(e=+l[0][0],t=+l[0][1],n=+l[1][0],r=+l[1][1]),i&&(i.valid=!1,i=null),a):[[e,t],[n,r]]}};return a.extent([[0,0],[960,500]])},(_o.geo.conicEqualArea=function(){return Ft(Ut)}).raw=Ut,_o.geo.albers=function(){return _o.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},_o.geo.albersUsa=function(){function e(e){var o=e[0],a=e[1];return t=null,n(o,a),t||(r(o,a),t)||i(o,a),t}var t,n,r,i,o=_o.geo.albers(),a=_o.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=_o.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(e,n){t=[e,n]}};return e.invert=function(e){var t=o.scale(),n=o.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?a:i>=.166&&i<.234&&r>=-.214&&r<-.115?l:o).invert(e)},e.stream=function(e){var t=o.stream(e),n=a.stream(e),r=l.stream(e);return{point:function(e,i){t.point(e,i),n.point(e,i),r.point(e,i)},sphere:function(){t.sphere(),n.sphere(),r.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},e.precision=function(t){return arguments.length?(o.precision(t),a.precision(t),l.precision(t),e):o.precision()},e.scale=function(t){return arguments.length?(o.scale(t),a.scale(.35*t),l.scale(t),e.translate(o.translate())):o.scale()},e.translate=function(t){if(!arguments.length)return o.translate();var c=o.scale(),u=+t[0],d=+t[1];return n=o.translate(t).clipExtent([[u-.455*c,d-.238*c],[u+.455*c,d+.238*c]]).stream(s).point,r=a.translate([u-.307*c,d+.201*c]).clipExtent([[u-.425*c+Yo,d+.12*c+Yo],[u-.214*c-Yo,d+.234*c-Yo]]).stream(s).point,i=l.translate([u-.205*c,d+.212*c]).clipExtent([[u-.214*c+Yo,d+.166*c+Yo],[u-.115*c-Yo,d+.234*c-Yo]]).stream(s).point,e},e.scale(1070)};var Za,Xa,Ja,el,tl,nl,rl={point:I,lineStart:I,lineEnd:I,polygonStart:function(){Xa=0,rl.lineStart=Vt},polygonEnd:function(){rl.lineStart=rl.lineEnd=rl.point=I,Za+=Ro(Xa/2)}},il={point:function(e,t){e<Ja&&(Ja=e),e>tl&&(tl=e),t<el&&(el=t),t>nl&&(nl=t)},lineStart:I,lineEnd:I,polygonStart:I,polygonEnd:I},ol={point:$t,lineStart:Wt,lineEnd:Ht,polygonStart:function(){ol.lineStart=jt},polygonEnd:function(){ol.point=$t,ol.lineStart=Wt,ol.lineEnd=Ht}};_o.geo.path=function(){function e(e){return e&&("function"==typeof l&&o.pointRadius(+l.apply(this,arguments)),a&&a.valid||(a=i(o)),_o.geo.stream(e,a)),o.result()}function t(){return a=null,e}var n,r,i,o,a,l=4.5;return e.area=function(e){return Za=0,_o.geo.stream(e,i(rl)),Za},e.centroid=function(e){return Ua=Va=za=Ba=$a=Wa=Ha=ja=qa=0,_o.geo.stream(e,i(ol)),qa?[Ha/qa,ja/qa]:Wa?[Ba/Wa,$a/Wa]:za?[Ua/za,Va/za]:[NaN,NaN]},e.bounds=function(e){return tl=nl=-(Ja=el=1/0),_o.geo.stream(e,i(il)),[[Ja,el],[tl,nl]]},e.projection=function(e){return arguments.length?(i=(n=e)?e.stream||Kt(e):w,t()):n},e.context=function(e){return arguments.length?(o=null==(r=e)?new zt:new qt(e),"function"!=typeof l&&o.pointRadius(l),t()):r},e.pointRadius=function(t){return arguments.length?(l="function"==typeof t?t:(o.pointRadius(+t),+t),e):l},e.projection(_o.geo.albersUsa()).context(null)},_o.geo.transform=function(e){return{stream:function(t){var n=new Qt(t);for(var r in e)n[r]=e[r];return n}}},Qt.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},_o.geo.projection=Xt,_o.geo.projectionMutator=Jt,(_o.geo.equirectangular=function(){return Xt(tn)}).raw=tn.invert=tn,_o.geo.rotation=function(e){function t(t){return(t=e(t[0]*ea,t[1]*ea))[0]*=ta,t[1]*=ta,t}return e=rn(e[0]%360*ea,e[1]*ea,e.length>2?e[2]*ea:0),t.invert=function(t){return(t=e.invert(t[0]*ea,t[1]*ea))[0]*=ta,t[1]*=ta,t},t},nn.invert=tn,_o.geo.circle=function(){function e(){var e="function"==typeof r?r.apply(this,arguments):r,t=rn(-e[0]*ea,-e[1]*ea,0).invert,i=[];return n(null,null,1,{point:function(e,n){i.push(e=t(e,n)),e[0]*=ta,e[1]*=ta}}),{type:"Polygon",coordinates:[i]}}var t,n,r=[0,0],i=6;return e.origin=function(t){return arguments.length?(r=t,e):r},e.angle=function(r){return arguments.length?(n=sn((t=+r)*ea,i*ea),e):t},e.precision=function(r){return arguments.length?(n=sn(t*ea,(i=+r)*ea),e):i},e.angle(90)},_o.geo.distance=function(e,t){var n,r=(t[0]-e[0])*ea,i=e[1]*ea,o=t[1]*ea,a=Math.sin(r),l=Math.cos(r),s=Math.sin(i),c=Math.cos(i),u=Math.sin(o),d=Math.cos(o);return Math.atan2(Math.sqrt((n=d*a)*n+(n=c*u-s*d*l)*n),s*u+c*d*l)},_o.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return _o.range(Math.ceil(o/v)*v,i,v).map(f).concat(_o.range(Math.ceil(c/h)*h,s,h).map(m)).concat(_o.range(Math.ceil(r/p)*p,n,p).filter((function(e){return Ro(e%v)>Yo})).map(u)).concat(_o.range(Math.ceil(l/g)*g,a,g).filter((function(e){return Ro(e%h)>Yo})).map(d))}var n,r,i,o,a,l,s,c,u,d,f,m,p=10,g=p,v=90,h=360,b=2.5;return e.lines=function(){return t().map((function(e){return{type:"LineString",coordinates:e}}))},e.outline=function(){return{type:"Polygon",coordinates:[f(o).concat(m(s).slice(1),f(i).reverse().slice(1),m(c).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(o=+t[0][0],i=+t[1][0],c=+t[0][1],s=+t[1][1],o>i&&(t=o,o=i,i=t),c>s&&(t=c,c=s,s=t),e.precision(b)):[[o,c],[i,s]]},e.minorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],l=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),l>a&&(t=l,l=a,a=t),e.precision(b)):[[r,l],[n,a]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(v=+t[0],h=+t[1],e):[v,h]},e.minorStep=function(t){return arguments.length?(p=+t[0],g=+t[1],e):[p,g]},e.precision=function(t){return arguments.length?(b=+t,u=un(l,a,90),d=dn(r,n,b),f=un(c,s,90),m=dn(o,i,b),e):b},e.majorExtent([[-180,-90+Yo],[180,90-Yo]]).minorExtent([[-180,-80-Yo],[180,80+Yo]])},_o.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),n||i.apply(this,arguments)]}}var t,n,r=fn,i=mn;return e.distance=function(){return _o.geo.distance(t||r.apply(this,arguments),n||i.apply(this,arguments))},e.source=function(n){return arguments.length?(r=n,t="function"==typeof n?null:n,e):r},e.target=function(t){return arguments.length?(i=t,n="function"==typeof t?null:t,e):i},e.precision=function(){return arguments.length?e:0},e},_o.geo.interpolate=function(e,t){return function(e,t,n,r){var i=Math.cos(t),o=Math.sin(t),a=Math.cos(r),l=Math.sin(r),s=i*Math.cos(e),c=i*Math.sin(e),u=a*Math.cos(n),d=a*Math.sin(n),f=2*Math.asin(Math.sqrt(se(r-t)+i*a*se(n-e))),m=1/Math.sin(f),p=f?function(e){var t=Math.sin(e*=f)*m,n=Math.sin(f-e)*m,r=n*s+t*u,i=n*c+t*d,a=n*o+t*l;return[Math.atan2(i,r)*ta,Math.atan2(a,Math.sqrt(r*r+i*i))*ta]}:function(){return[e*ta,t*ta]};return p.distance=f,p}(e[0]*ea,e[1]*ea,t[0]*ea,t[1]*ea)},_o.geo.length=function(e){return al=0,_o.geo.stream(e,ll),al};var al,ll={sphere:I,point:I,lineStart:function(){function e(e,i){var o=Math.sin(i*=ea),a=Math.cos(i),l=Ro((e*=ea)-t),s=Math.cos(l);al+=Math.atan2(Math.sqrt((l=a*Math.sin(l))*l+(l=r*o-n*a*s)*l),n*o+r*a*s),t=e,n=o,r=a}var t,n,r;ll.point=function(i,o){t=i*ea,n=Math.sin(o*=ea),r=Math.cos(o),ll.point=e},ll.lineEnd=function(){ll.point=ll.lineEnd=I}},lineEnd:I,polygonStart:I,polygonEnd:I},sl=pn((function(e){return Math.sqrt(2/(1+e))}),(function(e){return 2*Math.asin(e/2)}));(_o.geo.azimuthalEqualArea=function(){return Xt(sl)}).raw=sl;var cl=pn((function(e){var t=Math.acos(e);return t&&t/Math.sin(t)}),w);(_o.geo.azimuthalEquidistant=function(){return Xt(cl)}).raw=cl,(_o.geo.conicConformal=function(){return Ft(gn)}).raw=gn,(_o.geo.conicEquidistant=function(){return Ft(vn)}).raw=vn;var ul=pn((function(e){return 1/e}),Math.atan);(_o.geo.gnomonic=function(){return Xt(ul)}).raw=ul,hn.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Jo]},(_o.geo.mercator=function(){return bn(hn)}).raw=hn;var dl=pn((function(){return 1}),Math.asin);(_o.geo.orthographic=function(){return Xt(dl)}).raw=dl;var fl=pn((function(e){return 1/(1+e)}),(function(e){return 2*Math.atan(e)}));(_o.geo.stereographic=function(){return Xt(fl)}).raw=fl,yn.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-Jo]},(_o.geo.transverseMercator=function(){var e=bn(yn),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90])}).raw=yn,_o.geom={},_o.geom.hull=function(e){function t(e){if(e.length<3)return[];var t,i=De(n),o=De(r),a=e.length,l=[],s=[];for(t=0;t<a;t++)l.push([+i.call(this,e[t],t),+o.call(this,e[t],t),t]);for(l.sort(wn),t=0;t<a;t++)s.push([l[t][0],-l[t][1]]);var c=_n(l),u=_n(s),d=u[0]===c[0],f=u[u.length-1]===c[c.length-1],m=[];for(t=c.length-1;t>=0;--t)m.push(e[l[c[t]][2]]);for(t=+d;t<u.length-f;++t)m.push(e[l[u[t]][2]]);return m}var n=En,r=Sn;return arguments.length?t(e):(t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t)},_o.geom.polygon=function(e){return Go(e,ml),e};var ml=_o.geom.polygon.prototype=[];ml.area=function(){for(var e,t=-1,n=this.length,r=this[n-1],i=0;++t<n;)e=r,r=this[t],i+=e[1]*r[0]-e[0]*r[1];return.5*i},ml.centroid=function(e){var t,n,r=-1,i=this.length,o=0,a=0,l=this[i-1];for(arguments.length||(e=-1/(6*this.area()));++r<i;)t=l,l=this[r],n=t[0]*l[1]-l[0]*t[1],o+=(t[0]+l[0])*n,a+=(t[1]+l[1])*n;return[o*e,a*e]},ml.clip=function(e){for(var t,n,r,i,o,a,l=In(e),s=-1,c=this.length-In(this),u=this[c-1];++s<c;){for(t=e.slice(),e.length=0,i=this[s],o=t[(r=t.length-l)-1],n=-1;++n<r;)An(a=t[n],u,i)?(An(o,u,i)||e.push(Tn(o,a,u,i)),e.push(a)):An(o,u,i)&&e.push(Tn(o,a,u,i)),o=a;l&&e.push(e[0]),u=i}return e};var pl,gl,vl,hl,bl,yl=[],El=[];Ln.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)(e=t[n].edge).b&&e.a||t.splice(n,1);return t.sort(Pn),t.length},Wn.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Hn.prototype={insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=Kn(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(qn(this,n),n=(e=n).U),n.C=!1,r.C=!0,Yn(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(Yn(this,n),n=(e=n).U),n.C=!1,r.C=!0,qn(this,r)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,o=e.L,a=e.R;if(n=o?a?Kn(a):o:a,i?i.L===e?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=e.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=a,a.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===i.L){if((t=i.R).C&&(t.C=!1,i.C=!0,qn(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,Yn(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,qn(this,i),e=this._;break}}else if((t=i.L).C&&(t.C=!1,i.C=!0,Yn(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,qn(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,Yn(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}},_o.geom.voronoi=function(e){function t(e){var t=new Array(e.length),r=l[0][0],i=l[0][1],o=l[1][0],a=l[1][1];return Qn(n(e),l).cells.forEach((function(n,l){var s=n.edges,c=n.site,u=t[l]=s.length?s.map((function(e){var t=e.start();return[t.x,t.y]})):c.x>=r&&c.x<=o&&c.y>=i&&c.y<=a?[[r,a],[o,a],[o,i],[r,i]]:[];u.point=e[l]})),t}function n(e){return e.map((function(e,t){return{x:Math.round(o(e,t)/Yo)*Yo,y:Math.round(a(e,t)/Yo)*Yo,i:t}}))}var r=En,i=Sn,o=r,a=i,l=Sl;return e?t(e):(t.links=function(e){return Qn(n(e)).edges.filter((function(e){return e.l&&e.r})).map((function(t){return{source:e[t.l.i],target:e[t.r.i]}}))},t.triangles=function(e){var t=[];return Qn(n(e)).cells.forEach((function(n,r){for(var i,o=n.site,a=n.edges.sort(Pn),l=-1,s=a.length,c=a[s-1].edge,u=c.l===o?c.r:c.l;++l<s;)c,i=u,u=(c=a[l].edge).l===o?c.r:c.l,r<i.i&&r<u.i&&Xn(o,i,u)<0&&t.push([e[r],e[i.i],e[u.i]])})),t},t.x=function(e){return arguments.length?(o=De(r=e),t):r},t.y=function(e){return arguments.length?(a=De(i=e),t):i},t.clipExtent=function(e){return arguments.length?(l=null==e?Sl:e,t):l===Sl?null:l},t.size=function(e){return arguments.length?t.clipExtent(e&&[[0,0],e]):l===Sl?null:l&&l[1]},t)};var Sl=[[-1e6,-1e6],[1e6,1e6]];_o.geom.delaunay=function(e){return _o.geom.voronoi().triangles(e)},_o.geom.quadtree=function(e,t,n,r,i){function o(e){function o(e,t,n,r,i,o,a,l){if(!isNaN(n)&&!isNaN(r))if(e.leaf){var s=e.x,u=e.y;if(null!=s)if(Ro(s-n)+Ro(u-r)<.01)c(e,t,n,r,i,o,a,l);else{var d=e.point;e.x=e.y=e.point=null,c(e,d,s,u,i,o,a,l),c(e,t,n,r,i,o,a,l)}else e.x=n,e.y=r,e.point=t}else c(e,t,n,r,i,o,a,l)}function c(e,t,n,r,i,a,l,s){var c=.5*(i+l),u=.5*(a+s),d=n>=c,f=r>=u,m=f<<1|d;e.leaf=!1,d?i=c:l=c,f?a=u:s=u,o(e=e.nodes[m]||(e.nodes[m]={leaf:!0,nodes:[],point:null,x:null,y:null}),t,n,r,i,a,l,s)}var u,d,f,m,p,g,v,h,b,y=De(l),E=De(s);if(null!=t)g=t,v=n,h=r,b=i;else if(h=b=-(g=v=1/0),d=[],f=[],p=e.length,a)for(m=0;m<p;++m)(u=e[m]).x<g&&(g=u.x),u.y<v&&(v=u.y),u.x>h&&(h=u.x),u.y>b&&(b=u.y),d.push(u.x),f.push(u.y);else for(m=0;m<p;++m){var S=+y(u=e[m],m),_=+E(u,m);S<g&&(g=S),_<v&&(v=_),S>h&&(h=S),_>b&&(b=_),d.push(S),f.push(_)}var w=h-g,A=b-v;w>A?b=v+w:h=g+A;var T={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(e){o(T,e,+y(e,++m),+E(e,m),g,v,h,b)},visit:function(e){tr(e,T,g,v,h,b)},find:function(e){return nr(T,e[0],e[1],g,v,h,b)}};if(m=-1,null==t){for(;++m<p;)o(T,e[m],d[m],f[m],g,v,h,b);--m}else e.forEach(T.add);return d=f=e=u=null,T}var a,l=En,s=Sn;return(a=arguments.length)?(l=Jn,s=er,3===a&&(i=n,r=t,n=t=0),o(e)):(o.x=function(e){return arguments.length?(l=e,o):l},o.y=function(e){return arguments.length?(s=e,o):s},o.extent=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),o):null==t?null:[[t,n],[r,i]]},o.size=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=n=0,r=+e[0],i=+e[1]),o):null==t?null:[r-t,i-n]},o)},_o.interpolateRgb=rr,_o.interpolateObject=ir,_o.interpolateNumber=or,_o.interpolateString=ar;var _l=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wl=new RegExp(_l.source,"g");_o.interpolate=lr,_o.interpolators=[function(e,t){var n=typeof t;return("string"===n?pa.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?rr:ar:t instanceof ce?rr:Array.isArray(t)?sr:"object"===n&&isNaN(t)?ir:or)(e,t)}],_o.interpolateArray=sr;var Al=function(){return w},Tl=_o.map({linear:Al,poly:function(e){return function(t){return Math.pow(t,e)}},quad:function(){return fr},cubic:function(){return mr},sin:function(){return gr},exp:function(){return vr},circle:function(){return hr},elastic:function(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/Zo*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*Zo/t)}},back:function(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}},bounce:function(){return br}}),Il=_o.map({in:w,out:ur,"in-out":dr,"out-in":function(e){return dr(ur(e))}});_o.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.slice(0,t):e,r=t>=0?e.slice(t+1):"in";return n=Tl.get(n)||Al,cr((r=Il.get(r)||w)(n.apply(null,wo.call(arguments,1))))},_o.interpolateHcl=function(e,t){e=_o.hcl(e),t=_o.hcl(t);var n=e.h,r=e.c,i=e.l,o=t.h-n,a=t.c-r,l=t.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?t.c:r),isNaN(o)?(o=0,n=isNaN(n)?t.h:n):o>180?o-=360:o<-180&&(o+=360),function(e){return me(n+o*e,r+a*e,i+l*e)+""}},_o.interpolateHsl=function(e,t){e=_o.hsl(e),t=_o.hsl(t);var n=e.h,r=e.s,i=e.l,o=t.h-n,a=t.s-r,l=t.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?t.s:r),isNaN(o)?(o=0,n=isNaN(n)?t.h:n):o>180?o-=360:o<-180&&(o+=360),function(e){return de(n+o*e,r+a*e,i+l*e)+""}},_o.interpolateLab=function(e,t){e=_o.lab(e),t=_o.lab(t);var n=e.l,r=e.a,i=e.b,o=t.l-n,a=t.a-r,l=t.b-i;return function(e){return ge(n+o*e,r+a*e,i+l*e)+""}},_o.interpolateRound=yr,_o.transform=function(e){var t=To.createElementNS(_o.ns.prefix.svg,"g");return(_o.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new Er(n?n.matrix:Cl)})(e)},Er.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Cl={a:1,b:0,c:0,d:1,e:0,f:0};_o.interpolateTransform=wr,_o.layout={},_o.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(Ir(e[n]));return t}},_o.layout.chord=function(){function e(){var e,c,d,f,m,p={},g=[],v=_o.range(o),h=[];for(n=[],r=[],e=0,f=-1;++f<o;){for(c=0,m=-1;++m<o;)c+=i[f][m];g.push(c),h.push(_o.range(o)),e+=c}for(a&&v.sort((function(e,t){return a(g[e],g[t])})),l&&h.forEach((function(e,t){e.sort((function(e,n){return l(i[t][e],i[t][n])}))})),e=(Zo-u*o)/e,c=0,f=-1;++f<o;){for(d=c,m=-1;++m<o;){var b=v[f],y=h[b][m],E=i[b][y],S=c,_=c+=E*e;p[b+"-"+y]={index:b,subindex:y,startAngle:S,endAngle:_,value:E}}r[b]={index:b,startAngle:d,endAngle:c,value:(c-d)/e},c+=u}for(f=-1;++f<o;)for(m=f-1;++m<o;){var w=p[f+"-"+m],A=p[m+"-"+f];(w.value||A.value)&&n.push(w.value<A.value?{source:A,target:w}:{source:w,target:A})}s&&t()}function t(){n.sort((function(e,t){return s((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)}))}var n,r,i,o,a,l,s,c={},u=0;return c.matrix=function(e){return arguments.length?(o=(i=e)&&i.length,n=r=null,c):i},c.padding=function(e){return arguments.length?(u=e,n=r=null,c):u},c.sortGroups=function(e){return arguments.length?(a=e,n=r=null,c):a},c.sortSubgroups=function(e){return arguments.length?(l=e,n=null,c):l},c.sortChords=function(e){return arguments.length?(s=e,n&&t(),c):s},c.chords=function(){return n||e(),n},c.groups=function(){return r||e(),r},c},_o.layout.force=function(){function e(e){return function(t,n,r,i){if(t.point!==e){var o=t.cx-e.x,a=t.cy-e.y,l=i-n,s=o*o+a*a;if(l*l/v<s){if(s<p){var c=t.charge/s;e.px-=o*c,e.py-=a*c}return!0}if(t.point&&s&&s<p){c=t.pointCharge/s;e.px-=o*c,e.py-=a*c}}return!t.charge}}function t(e){e.px=_o.event.x,e.py=_o.event.y,l.resume()}var n,r,i,o,a,l={},s=_o.dispatch("start","tick","end"),c=[1,1],u=.9,d=xl,f=Dl,m=-30,p=Ml,g=.1,v=.64,h=[],b=[];return l.tick=function(){if((r*=.99)<.005)return s.end({type:"end",alpha:r=0}),!0;var t,n,l,d,f,p,v,y,E,S=h.length,_=b.length;for(n=0;n<_;++n)d=(l=b[n]).source,(p=(y=(f=l.target).x-d.x)*y+(E=f.y-d.y)*E)&&(y*=p=r*o[n]*((p=Math.sqrt(p))-i[n])/p,E*=p,f.x-=y*(v=d.weight/(f.weight+d.weight)),f.y-=E*v,d.x+=y*(v=1-v),d.y+=E*v);if((v=r*g)&&(y=c[0]/2,E=c[1]/2,n=-1,v))for(;++n<S;)(l=h[n]).x+=(y-l.x)*v,l.y+=(E-l.y)*v;if(m)for(Rr(t=_o.geom.quadtree(h),r,a),n=-1;++n<S;)(l=h[n]).fixed||t.visit(e(l));for(n=-1;++n<S;)(l=h[n]).fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*u,l.y-=(l.py-(l.py=l.y))*u);s.tick({type:"tick",alpha:r})},l.nodes=function(e){return arguments.length?(h=e,l):h},l.links=function(e){return arguments.length?(b=e,l):b},l.size=function(e){return arguments.length?(c=e,l):c},l.linkDistance=function(e){return arguments.length?(d="function"==typeof e?e:+e,l):d},l.distance=l.linkDistance,l.linkStrength=function(e){return arguments.length?(f="function"==typeof e?e:+e,l):f},l.friction=function(e){return arguments.length?(u=+e,l):u},l.charge=function(e){return arguments.length?(m="function"==typeof e?e:+e,l):m},l.chargeDistance=function(e){return arguments.length?(p=e*e,l):Math.sqrt(p)},l.gravity=function(e){return arguments.length?(g=+e,l):g},l.theta=function(e){return arguments.length?(v=e*e,l):Math.sqrt(v)},l.alpha=function(e){return arguments.length?(e=+e,r?r=e>0?e:0:e>0&&(s.start({type:"start",alpha:r=e}),_o.timer(l.tick)),l):r},l.start=function(){function e(e,r){if(!n){for(n=new Array(s),l=0;l<s;++l)n[l]=[];for(l=0;l<u;++l){var i=b[l];n[i.source.index].push(i.target),n[i.target.index].push(i.source)}}for(var o,a=n[t],l=-1,c=a.length;++l<c;)if(!isNaN(o=a[l][e]))return o;return Math.random()*r}var t,n,r,s=h.length,u=b.length,p=c[0],g=c[1];for(t=0;t<s;++t)(r=h[t]).index=t,r.weight=0;for(t=0;t<u;++t)"number"==typeof(r=b[t]).source&&(r.source=h[r.source]),"number"==typeof r.target&&(r.target=h[r.target]),++r.source.weight,++r.target.weight;for(t=0;t<s;++t)r=h[t],isNaN(r.x)&&(r.x=e("x",p)),isNaN(r.y)&&(r.y=e("y",g)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof d)for(t=0;t<u;++t)i[t]=+d.call(this,b[t],t);else for(t=0;t<u;++t)i[t]=d;if(o=[],"function"==typeof f)for(t=0;t<u;++t)o[t]=+f.call(this,b[t],t);else for(t=0;t<u;++t)o[t]=f;if(a=[],"function"==typeof m)for(t=0;t<s;++t)a[t]=+m.call(this,h[t],t);else for(t=0;t<s;++t)a[t]=m;return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){return n||(n=_o.behavior.drag().origin(w).on("dragstart.force",xr).on("drag.force",t).on("dragend.force",Dr)),arguments.length?void this.on("mouseover.force",Mr).on("mouseout.force",Or).call(n):n},_o.rebind(l,s,"on")};var xl=20,Dl=1,Ml=1/0;_o.layout.hierarchy=function(){function e(i){var o,a=[i],l=[];for(i.depth=0;null!=(o=a.pop());)if(l.push(o),(c=n.call(e,o,o.depth))&&(s=c.length)){for(var s,c,u;--s>=0;)a.push(u=c[s]),u.parent=o,u.depth=o.depth+1;r&&(o.value=0),o.children=c}else r&&(o.value=+r.call(e,o,o.depth)||0),delete o.children;return Pr(i,(function(e){var n,i;t&&(n=e.children)&&n.sort(t),r&&(i=e.parent)&&(i.value+=e.value)})),l}var t=Fr,n=kr,r=Gr;return e.sort=function(n){return arguments.length?(t=n,e):t},e.children=function(t){return arguments.length?(n=t,e):n},e.value=function(t){return arguments.length?(r=t,e):r},e.revalue=function(t){return r&&(Lr(t,(function(e){e.children&&(e.value=0)})),Pr(t,(function(t){var n;t.children||(t.value=+r.call(e,t,t.depth)||0),(n=t.parent)&&(n.value+=t.value)}))),t},e},_o.layout.partition=function(){function e(t,n,r,i){var o=t.children;if(t.x=n,t.y=t.depth*i,t.dx=r,t.dy=i,o&&(a=o.length)){var a,l,s,c=-1;for(r=t.value?r/t.value:0;++c<a;)e(l=o[c],n,s=l.value*r,i),n+=s}}function t(e){var n=e.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,t(n[o]));return 1+r}function n(n,o){var a=r.call(this,n,o);return e(a[0],0,i[0],i[1]/t(a[0])),a}var r=_o.layout.hierarchy(),i=[1,1];return n.size=function(e){return arguments.length?(i=e,n):i},Nr(n,r)},_o.layout.pie=function(){function e(a){var l,s=a.length,c=a.map((function(n,r){return+t.call(e,n,r)})),u=+("function"==typeof r?r.apply(this,arguments):r),d=("function"==typeof i?i.apply(this,arguments):i)-u,f=Math.min(Math.abs(d)/s,+("function"==typeof o?o.apply(this,arguments):o)),m=f*(d<0?-1:1),p=(d-s*m)/_o.sum(c),g=_o.range(s),v=[];return null!=n&&g.sort(n===Ol?function(e,t){return c[t]-c[e]}:function(e,t){return n(a[e],a[t])}),g.forEach((function(e){v[e]={data:a[e],value:l=c[e],startAngle:u,endAngle:u+=l*p+m,padAngle:f}})),v}var t=Number,n=Ol,r=0,i=Zo,o=0;return e.value=function(n){return arguments.length?(t=n,e):t},e.sort=function(t){return arguments.length?(n=t,e):n},e.startAngle=function(t){return arguments.length?(r=t,e):r},e.endAngle=function(t){return arguments.length?(i=t,e):i},e.padAngle=function(t){return arguments.length?(o=t,e):o},e};var Ol={};_o.layout.stack=function(){function e(l,s){if(!(f=l.length))return l;var c=l.map((function(n,r){return t.call(e,n,r)})),u=c.map((function(t){return t.map((function(t,n){return[o.call(e,t,n),a.call(e,t,n)]}))})),d=n.call(e,u,s);c=_o.permute(c,d),u=_o.permute(u,d);var f,m,p,g,v=r.call(e,u,s),h=c[0].length;for(p=0;p<h;++p)for(i.call(e,c[0][p],g=v[p],u[0][p][1]),m=1;m<f;++m)i.call(e,c[m][p],g+=u[m-1][p][1],u[m][p][1]);return l}var t=w,n=$r,r=Wr,i=Br,o=Vr,a=zr;return e.values=function(n){return arguments.length?(t=n,e):t},e.order=function(t){return arguments.length?(n="function"==typeof t?t:Rl.get(t)||$r,e):n},e.offset=function(t){return arguments.length?(r="function"==typeof t?t:Nl.get(t)||Wr,e):r},e.x=function(t){return arguments.length?(o=t,e):o},e.y=function(t){return arguments.length?(a=t,e):a},e.out=function(t){return arguments.length?(i=t,e):i},e};var Rl=_o.map({"inside-out":function(e){var t,n,r=e.length,i=e.map(Hr),o=e.map(jr),a=_o.range(r).sort((function(e,t){return i[e]-i[t]})),l=0,s=0,c=[],u=[];for(t=0;t<r;++t)n=a[t],l<s?(l+=o[n],c.push(n)):(s+=o[n],u.push(n));return u.reverse().concat(c)},reverse:function(e){return _o.range(e.length).reverse()},default:$r}),Nl=_o.map({silhouette:function(e){var t,n,r,i=e.length,o=e[0].length,a=[],l=0,s=[];for(n=0;n<o;++n){for(t=0,r=0;t<i;t++)r+=e[t][n][1];r>l&&(l=r),a.push(r)}for(n=0;n<o;++n)s[n]=(l-a[n])/2;return s},wiggle:function(e){var t,n,r,i,o,a,l,s,c,u=e.length,d=e[0],f=d.length,m=[];for(m[0]=s=c=0,n=1;n<f;++n){for(t=0,i=0;t<u;++t)i+=e[t][n][1];for(t=0,o=0,l=d[n][0]-d[n-1][0];t<u;++t){for(r=0,a=(e[t][n][1]-e[t][n-1][1])/(2*l);r<t;++r)a+=(e[r][n][1]-e[r][n-1][1])/l;o+=a*e[t][n][1]}m[n]=s-=i?o/i*l:0,s<c&&(c=s)}for(n=0;n<f;++n)m[n]-=c;return m},expand:function(e){var t,n,r,i=e.length,o=e[0].length,a=1/i,l=[];for(n=0;n<o;++n){for(t=0,r=0;t<i;t++)r+=e[t][n][1];if(r)for(t=0;t<i;t++)e[t][n][1]/=r;else for(t=0;t<i;t++)e[t][n][1]=a}for(n=0;n<o;++n)l[n]=0;return l},zero:Wr});_o.layout.histogram=function(){function e(e,o){for(var a,l,s=[],c=e.map(n,this),u=r.call(this,c,o),d=i.call(this,u,c,o),f=(o=-1,c.length),m=d.length-1,p=t?1:1/f;++o<m;)(a=s[o]=[]).dx=d[o+1]-(a.x=d[o]),a.y=0;if(m>0)for(o=-1;++o<f;)(l=c[o])>=u[0]&&l<=u[1]&&((a=s[_o.bisect(d,l,1,m)-1]).y+=p,a.push(e[o]));return s}var t=!0,n=Number,r=Qr,i=Yr;return e.value=function(t){return arguments.length?(n=t,e):n},e.range=function(t){return arguments.length?(r=De(t),e):r},e.bins=function(t){return arguments.length?(i="number"==typeof t?function(e){return Kr(e,t)}:De(t),e):i},e.frequency=function(n){return arguments.length?(t=!!n,e):t},e},_o.layout.pack=function(){function e(e,o){var a=n.call(this,e,o),l=a[0],s=i[0],c=i[1],u=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(l.x=l.y=0,Pr(l,(function(e){e.r=+u(e.value)})),Pr(l,ti),r){var d=r*(t?1:Math.max(2*l.r/s,2*l.r/c))/2;Pr(l,(function(e){e.r+=d})),Pr(l,ti),Pr(l,(function(e){e.r-=d}))}return ii(l,s/2,c/2,t?1:1/Math.max(2*l.r/s,2*l.r/c)),a}var t,n=_o.layout.hierarchy().sort(Zr),r=0,i=[1,1];return e.size=function(t){return arguments.length?(i=t,e):i},e.radius=function(n){return arguments.length?(t=null==n||"function"==typeof n?n:+n,e):t},e.padding=function(t){return arguments.length?(r=+t,e):r},Nr(e,n)},_o.layout.tree=function(){function e(e,s){var c=i.call(this,e,s),u=c[0],d=function(e){for(var t,n={A:null,children:[e]},r=[n];null!=(t=r.pop());)for(var i,o=t.children,a=0,l=o.length;a<l;++a)r.push((o[a]=i={_:o[a],parent:t,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}(u);if(Pr(d,t),d.parent.m=-d.z,Lr(d,n),l)Lr(u,r);else{var f=u,m=u,p=u;Lr(u,(function(e){e.x<f.x&&(f=e),e.x>m.x&&(m=e),e.depth>p.depth&&(p=e)}));var g=o(f,m)/2-f.x,v=a[0]/(m.x+o(m,f)/2+g),h=a[1]/(p.depth||1);Lr(u,(function(e){e.x=(e.x+g)*v,e.y=e.depth*h}))}return c}function t(e){var t=e.children,n=e.parent.children,r=e.i?n[e.i-1]:null;if(t.length){!function(e){for(var t,n=0,r=0,i=e.children,o=i.length;--o>=0;)(t=i[o]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}(e);var i=(t[0].z+t[t.length-1].z)/2;r?(e.z=r.z+o(e._,r._),e.m=e.z-i):e.z=i}else r&&(e.z=r.z+o(e._,r._));e.parent.A=function(e,t,n){if(t){for(var r,i=e,a=e,l=t,s=i.parent.children[0],c=i.m,u=a.m,d=l.m,f=s.m;l=si(l),i=li(i),l&&i;)s=li(s),(a=si(a)).a=e,(r=l.z+d-i.z-c+o(l._,i._))>0&&(ci(ui(l,e,n),e,r),c+=r,u+=r),d+=l.m,c+=i.m,f+=s.m,u+=a.m;l&&!si(a)&&(a.t=l,a.m+=d-u),i&&!li(s)&&(s.t=i,s.m+=c-f,n=e)}return n}(e,r,e.parent.A||n[0])}function n(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function r(e){e.x*=a[0],e.y=e.depth*a[1]}var i=_o.layout.hierarchy().sort(null).value(null),o=ai,a=[1,1],l=null;return e.separation=function(t){return arguments.length?(o=t,e):o},e.size=function(t){return arguments.length?(l=null==(a=t)?r:null,e):l?null:a},e.nodeSize=function(t){return arguments.length?(l=null==(a=t)?null:r,e):l?a:null},Nr(e,i)},_o.layout.cluster=function(){function e(e,o){var a,l=t.call(this,e,o),s=l[0],c=0;Pr(s,(function(e){var t=e.children;t&&t.length?(e.x=function(e){return e.reduce((function(e,t){return e+t.x}),0)/e.length}(t),e.y=function(e){return 1+_o.max(e,(function(e){return e.y}))}(t)):(e.x=a?c+=n(e,a):0,e.y=0,a=e)}));var u=di(s),d=fi(s),f=u.x-n(u,d)/2,m=d.x+n(d,u)/2;return Pr(s,i?function(e){e.x=(e.x-s.x)*r[0],e.y=(s.y-e.y)*r[1]}:function(e){e.x=(e.x-f)/(m-f)*r[0],e.y=(1-(s.y?e.y/s.y:1))*r[1]}),l}var t=_o.layout.hierarchy().sort(null).value(null),n=ai,r=[1,1],i=!1;return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(i=null==(r=t),e):i?null:r},e.nodeSize=function(t){return arguments.length?(i=null!=(r=t),e):i?r:null},Nr(e,t)},_o.layout.treemap=function(){function e(e,t){for(var n,r,i=-1,o=e.length;++i<o;)r=(n=e[i]).value*(t<0?0:t),n.area=isNaN(r)||r<=0?0:r}function t(n){var o=n.children;if(o&&o.length){var a,l,s,c=d(n),u=[],f=o.slice(),p=1/0,g="slice"===m?c.dx:"dice"===m?c.dy:"slice-dice"===m?1&n.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(e(f,c.dx*c.dy/n.value),u.area=0;(s=f.length)>0;)u.push(a=f[s-1]),u.area+=a.area,"squarify"!==m||(l=r(u,g))<=p?(f.pop(),p=l):(u.area-=u.pop().area,i(u,g,c,!1),g=Math.min(c.dx,c.dy),u.length=u.area=0,p=1/0);u.length&&(i(u,g,c,!0),u.length=u.area=0),o.forEach(t)}}function n(t){var r=t.children;if(r&&r.length){var o,a=d(t),l=r.slice(),s=[];for(e(l,a.dx*a.dy/t.value),s.area=0;o=l.pop();)s.push(o),s.area+=o.area,null!=o.z&&(i(s,o.z?a.dx:a.dy,a,!l.length),s.length=s.area=0);r.forEach(n)}}function r(e,t){for(var n,r=e.area,i=0,o=1/0,a=-1,l=e.length;++a<l;)(n=e[a].area)&&(n<o&&(o=n),n>i&&(i=n));return t*=t,(r*=r)?Math.max(t*i*p/r,r/(t*o*p)):1/0}function i(e,t,n,r){var i,o=-1,a=e.length,l=n.x,c=n.y,u=t?s(e.area/t):0;if(t==n.dx){for((r||u>n.dy)&&(u=n.dy);++o<a;)(i=e[o]).x=l,i.y=c,i.dy=u,l+=i.dx=Math.min(n.x+n.dx-l,u?s(i.area/u):0);i.z=!0,i.dx+=n.x+n.dx-l,n.y+=u,n.dy-=u}else{for((r||u>n.dx)&&(u=n.dx);++o<a;)(i=e[o]).x=l,i.y=c,i.dx=u,c+=i.dy=Math.min(n.y+n.dy-c,u?s(i.area/u):0);i.z=!1,i.dy+=n.y+n.dy-c,n.x+=u,n.dx-=u}}function o(r){var i=a||l(r),o=i[0];return o.x=0,o.y=0,o.dx=c[0],o.dy=c[1],a&&l.revalue(o),e([o],o.dx*o.dy/o.value),(a?n:t)(o),f&&(a=i),i}var a,l=_o.layout.hierarchy(),s=Math.round,c=[1,1],u=null,d=mi,f=!1,m="squarify",p=.5*(1+Math.sqrt(5));return o.size=function(e){return arguments.length?(c=e,o):c},o.padding=function(e){function t(t){var n=e.call(o,t,t.depth);return null==n?mi(t):pi(t,"number"==typeof n?[n,n,n,n]:n)}function n(t){return pi(t,e)}return arguments.length?(d=null==(u=e)?mi:"function"==(r=typeof e)?t:"number"===r?(e=[e,e,e,e],n):n,o):u;var r},o.round=function(e){return arguments.length?(s=e?Math.round:Number,o):s!=Number},o.sticky=function(e){return arguments.length?(f=e,a=null,o):f},o.ratio=function(e){return arguments.length?(p=e,o):p},o.mode=function(e){return arguments.length?(m=e+"",o):m},Nr(o,l)},_o.random={normal:function(e,t){var n=arguments.length;return n<2&&(t=1),n<1&&(e=0),function(){var n,r,i;do{i=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r}while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var e=_o.random.normal.apply(_o,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=_o.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t}}},_o.scale={};var Ll={floor:w,ceil:w};_o.scale.linear=function(){return Ei([0,1],[0,1],lr,!1)};var Pl={s:1,g:1,p:1,r:1,e:1};_o.scale.log=function(){return Ci(_o.scale.linear().domain([0,1]),10,!0,[1,10])};var kl=_o.format(".0e"),Gl={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};_o.scale.pow=function(){return xi(_o.scale.linear(),1,[0,1])},_o.scale.sqrt=function(){return _o.scale.pow().exponent(.5)},_o.scale.ordinal=function(){return Mi([],{t:"range",a:[[]]})},_o.scale.category10=function(){return _o.scale.ordinal().range(Fl)},_o.scale.category20=function(){return _o.scale.ordinal().range(Ul)},_o.scale.category20b=function(){return _o.scale.ordinal().range(Vl)},_o.scale.category20c=function(){return _o.scale.ordinal().range(zl)};var Fl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(_e),Ul=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(_e),Vl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(_e),zl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(_e);_o.scale.quantile=function(){return Oi([],[])},_o.scale.quantize=function(){return Ri(0,1,[0,1])},_o.scale.threshold=function(){return Ni([.5],[0,1])},_o.scale.identity=function(){return Li([0,1])},_o.svg={},_o.svg.arc=function(){function e(){var e=Math.max(0,+n.apply(this,arguments)),c=Math.max(0,+r.apply(this,arguments)),u=a.apply(this,arguments)-Jo,d=l.apply(this,arguments)-Jo,f=Math.abs(d-u),m=u>d?0:1;if(c<e&&(p=c,c=e,e=p),f>=Xo)return t(c,m)+(e?t(e,1-m):"")+"Z";var p,g,v,h,b,y,E,S,_,w,A,T,I=0,C=0,x=[];if((h=(+s.apply(this,arguments)||0)/2)&&(v=o===Bl?Math.sqrt(e*e+c*c):+o.apply(this,arguments),m||(C*=-1),c&&(C=ae(v/c*Math.sin(h))),e&&(I=ae(v/e*Math.sin(h)))),c){b=c*Math.cos(u+C),y=c*Math.sin(u+C),E=c*Math.cos(d-C),S=c*Math.sin(d-C);var D=Math.abs(d-u-2*C)<=Qo?0:1;if(C&&zi(b,y,E,S)===m^D){var M=(u+d)/2;b=c*Math.cos(M),y=c*Math.sin(M),E=S=null}}else b=y=0;if(e){_=e*Math.cos(d-I),w=e*Math.sin(d-I),A=e*Math.cos(u+I),T=e*Math.sin(u+I);var O=Math.abs(u-d+2*I)<=Qo?0:1;if(I&&zi(_,w,A,T)===1-m^O){var R=(u+d)/2;_=e*Math.cos(R),w=e*Math.sin(R),A=T=null}}else _=w=0;if((p=Math.min(Math.abs(c-e)/2,+i.apply(this,arguments)))>.001){g=e<c^m?0:1;var N=null==A?[_,w]:null==E?[b,y]:Tn([b,y],[A,T],[E,S],[_,w]),L=b-N[0],P=y-N[1],k=E-N[0],G=S-N[1],F=1/Math.sin(Math.acos((L*k+P*G)/(Math.sqrt(L*L+P*P)*Math.sqrt(k*k+G*G)))/2),U=Math.sqrt(N[0]*N[0]+N[1]*N[1]);if(null!=E){var V=Math.min(p,(c-U)/(F+1)),z=Bi(null==A?[_,w]:[A,T],[b,y],c,V,m),B=Bi([E,S],[_,w],c,V,m);p===V?x.push("M",z[0],"A",V,",",V," 0 0,",g," ",z[1],"A",c,",",c," 0 ",1-m^zi(z[1][0],z[1][1],B[1][0],B[1][1]),",",m," ",B[1],"A",V,",",V," 0 0,",g," ",B[0]):x.push("M",z[0],"A",V,",",V," 0 1,",g," ",B[0])}else x.push("M",b,",",y);if(null!=A){var $=Math.min(p,(e-U)/(F-1)),W=Bi([b,y],[A,T],e,-$,m),H=Bi([_,w],null==E?[b,y]:[E,S],e,-$,m);p===$?x.push("L",H[0],"A",$,",",$," 0 0,",g," ",H[1],"A",e,",",e," 0 ",m^zi(H[1][0],H[1][1],W[1][0],W[1][1]),",",1-m," ",W[1],"A",$,",",$," 0 0,",g," ",W[0]):x.push("L",H[0],"A",$,",",$," 0 0,",g," ",W[0])}else x.push("L",_,",",w)}else x.push("M",b,",",y),null!=E&&x.push("A",c,",",c," 0 ",D,",",m," ",E,",",S),x.push("L",_,",",w),null!=A&&x.push("A",e,",",e," 0 ",O,",",1-m," ",A,",",T);return x.push("Z"),x.join("")}function t(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}var n=ki,r=Gi,i=Pi,o=Bl,a=Fi,l=Ui,s=Vi;return e.innerRadius=function(t){return arguments.length?(n=De(t),e):n},e.outerRadius=function(t){return arguments.length?(r=De(t),e):r},e.cornerRadius=function(t){return arguments.length?(i=De(t),e):i},e.padRadius=function(t){return arguments.length?(o=t==Bl?Bl:De(t),e):o},e.startAngle=function(t){return arguments.length?(a=De(t),e):a},e.endAngle=function(t){return arguments.length?(l=De(t),e):l},e.padAngle=function(t){return arguments.length?(s=De(t),e):s},e.centroid=function(){var e=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2,t=(+a.apply(this,arguments)+ +l.apply(this,arguments))/2-Jo;return[Math.cos(t)*e,Math.sin(t)*e]},e};var Bl="auto";_o.svg.line=function(){return $i(w)};var $l=_o.map({linear:Wi,"linear-closed":function(e){return Wi(e)+"Z"},step:function(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")},"step-before":Hi,"step-after":ji,basis:Ki,"basis-open":function(e){if(e.length<4)return Wi(e);for(var t,n=[],r=-1,i=e.length,o=[0],a=[0];++r<3;)t=e[r],o.push(t[0]),a.push(t[1]);for(n.push(Qi(jl,o)+","+Qi(jl,a)),--r;++r<i;)t=e[r],o.shift(),o.push(t[0]),a.shift(),a.push(t[1]),Zi(n,o,a);return n.join("")},"basis-closed":function(e){for(var t,n,r=-1,i=e.length,o=i+4,a=[],l=[];++r<4;)n=e[r%i],a.push(n[0]),l.push(n[1]);for(t=[Qi(jl,a),",",Qi(jl,l)],--r;++r<o;)n=e[r%i],a.shift(),a.push(n[0]),l.shift(),l.push(n[1]),Zi(t,a,l);return t.join("")},bundle:function(e,t){var n=e.length-1;if(n)for(var r,i,o=e[0][0],a=e[0][1],l=e[n][0]-o,s=e[n][1]-a,c=-1;++c<=n;)i=c/n,(r=e[c])[0]=t*r[0]+(1-t)*(o+i*l),r[1]=t*r[1]+(1-t)*(a+i*s);return Ki(e)},cardinal:function(e,t){return e.length<3?Wi(e):e[0]+qi(e,Yi(e,t))},"cardinal-open":function(e,t){return e.length<4?Wi(e):e[1]+qi(e.slice(1,-1),Yi(e,t))},"cardinal-closed":function(e,t){return e.length<3?Wi(e):e[0]+qi((e.push(e[0]),e),Yi([e[e.length-2]].concat(e,[e[1]]),t))},monotone:function(e){return e.length<3?Wi(e):e[0]+qi(e,Ji(e))}});$l.forEach((function(e,t){t.key=e,t.closed=/-closed$/.test(e)}));var Wl=[0,2/3,1/3,0],Hl=[0,1/3,2/3,0],jl=[0,1/6,2/3,1/6];_o.svg.line.radial=function(){var e=$i(eo);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},Hi.reverse=ji,ji.reverse=Hi,_o.svg.area=function(){return to(w)},_o.svg.area.radial=function(){var e=to(eo);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},_o.svg.chord=function(){function e(e,a){var l=t(this,i,e,a),s=t(this,o,e,a);return"M"+l.p0+n(l.r,l.p1,l.a1-l.a0)+(function(e,t){return e.a0==t.a0&&e.a1==t.a1}(l,s)?r(l.r,l.p1,l.r,l.p0):r(l.r,l.p1,s.r,s.p0)+n(s.r,s.p1,s.a1-s.a0)+r(s.r,s.p1,l.r,l.p0))+"Z"}function t(e,t,n,r){var i=t.call(e,n,r),o=a.call(e,i,r),c=l.call(e,i,r)-Jo,u=s.call(e,i,r)-Jo;return{r:o,a0:c,a1:u,p0:[o*Math.cos(c),o*Math.sin(c)],p1:[o*Math.cos(u),o*Math.sin(u)]}}function n(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Qo)+",1 "+t}function r(e,t,n,r){return"Q 0,0 "+r}var i=fn,o=mn,a=no,l=Fi,s=Ui;return e.radius=function(t){return arguments.length?(a=De(t),e):a},e.source=function(t){return arguments.length?(i=De(t),e):i},e.target=function(t){return arguments.length?(o=De(t),e):o},e.startAngle=function(t){return arguments.length?(l=De(t),e):l},e.endAngle=function(t){return arguments.length?(s=De(t),e):s},e},_o.svg.diagonal=function(){function e(e,i){var o=t.call(this,e,i),a=n.call(this,e,i),l=(o.y+a.y)/2,s=[o,{x:o.x,y:l},{x:a.x,y:l},a];return"M"+(s=s.map(r))[0]+"C"+s[1]+" "+s[2]+" "+s[3]}var t=fn,n=mn,r=ro;return e.source=function(n){return arguments.length?(t=De(n),e):t},e.target=function(t){return arguments.length?(n=De(t),e):n},e.projection=function(t){return arguments.length?(r=t,e):r},e},_o.svg.diagonal.radial=function(){var e=_o.svg.diagonal(),t=ro,n=e.projection;return e.projection=function(e){return arguments.length?n(io(t=e)):t},e},_o.svg.symbol=function(){function e(e,r){return(ql.get(t.call(this,e,r))||lo)(n.call(this,e,r))}var t=ao,n=oo;return e.type=function(n){return arguments.length?(t=De(n),e):t},e.size=function(t){return arguments.length?(n=De(t),e):n},e};var ql=_o.map({circle:lo,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Kl)),n=t*Kl;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Yl),n=t*Yl/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Yl),n=t*Yl/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});_o.svg.symbolTypes=ql.keys();var Yl=Math.sqrt(3),Kl=Math.tan(30*ea);zo.transition=function(e){for(var t,n,r=Ql||++es,i=mo(e),o=[],a=Zl||{time:Date.now(),ease:pr,delay:0,duration:250},l=-1,s=this.length;++l<s;){o.push(t=[]);for(var c=this[l],u=-1,d=c.length;++u<d;)(n=c[u])&&po(n,u,i,r,a),t.push(n)}return co(o,i,r)},zo.interrupt=function(e){return this.each(null==e?Xl:so(mo(e)))};var Ql,Zl,Xl=so(mo()),Jl=[],es=0;Jl.call=zo.call,Jl.empty=zo.empty,Jl.node=zo.node,Jl.size=zo.size,_o.transition=function(e,t){return e&&e.transition?Ql?e.transition(t):e:_o.selection().transition(e)},_o.transition.prototype=Jl,Jl.select=function(e){var t,n,r,i=this.id,o=this.namespace,a=[];e=N(e);for(var l=-1,s=this.length;++l<s;){a.push(t=[]);for(var c=this[l],u=-1,d=c.length;++u<d;)(r=c[u])&&(n=e.call(r,r.__data__,u,l))?("__data__"in r&&(n.__data__=r.__data__),po(n,u,o,i,r[o][i]),t.push(n)):t.push(null)}return co(a,o,i)},Jl.selectAll=function(e){var t,n,r,i,o,a=this.id,l=this.namespace,s=[];e=L(e);for(var c=-1,u=this.length;++c<u;)for(var d=this[c],f=-1,m=d.length;++f<m;)if(r=d[f]){o=r[l][a],n=e.call(r,r.__data__,f,c),s.push(t=[]);for(var p=-1,g=n.length;++p<g;)(i=n[p])&&po(i,p,l,a,o),t.push(i)}return co(s,l,a)},Jl.filter=function(e){var t,n,r=[];"function"!=typeof e&&(e=j(e));for(var i=0,o=this.length;i<o;i++){r.push(t=[]);for(var a,l=0,s=(a=this[i]).length;l<s;l++)(n=a[l])&&e.call(n,n.__data__,l,i)&&t.push(n)}return co(r,this.namespace,this.id)},Jl.tween=function(e,t){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(e):Y(this,null==t?function(t){t[r][n].tween.remove(e)}:function(i){i[r][n].tween.set(e,t)})},Jl.attr=function(e,t){function n(){this.removeAttribute(l)}function r(){this.removeAttributeNS(l.space,l.local)}function i(e){return null==e?n:(e+="",function(){var t,n=this.getAttribute(l);return n!==e&&(t=a(n,e),function(e){this.setAttribute(l,t(e))})})}function o(e){return null==e?r:(e+="",function(){var t,n=this.getAttributeNS(l.space,l.local);return n!==e&&(t=a(n,e),function(e){this.setAttributeNS(l.space,l.local,t(e))})})}if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var a="transform"==e?wr:lr,l=_o.ns.qualify(e);return uo(this,"attr."+e,t,l.local?o:i)},Jl.attrTween=function(e,t){var n=_o.ns.qualify(e);return this.tween("attr."+e,n.local?function(e,r){var i=t.call(this,e,r,this.getAttributeNS(n.space,n.local));return i&&function(e){this.setAttributeNS(n.space,n.local,i(e))}}:function(e,r){var i=t.call(this,e,r,this.getAttribute(n));return i&&function(e){this.setAttribute(n,i(e))}})},Jl.style=function(e,t,n){function r(){this.style.removeProperty(e)}function i(t){return null==t?r:(t+="",function(){var r,i=a(this).getComputedStyle(this,null).getPropertyValue(e);return i!==t&&(r=lr(i,t),function(t){this.style.setProperty(e,r(t),n)})})}var o=arguments.length;if(o<3){if("string"!=typeof e){for(n in o<2&&(t=""),e)this.style(n,e[n],t);return this}n=""}return uo(this,"style."+e,t,i)},Jl.styleTween=function(e,t,n){function r(r,i){var o=t.call(this,r,i,a(this).getComputedStyle(this,null).getPropertyValue(e));return o&&function(t){this.style.setProperty(e,o(t),n)}}return arguments.length<3&&(n=""),this.tween("style."+e,r)},Jl.text=function(e){return uo(this,"text",e,fo)},Jl.remove=function(){var e=this.namespace;return this.each("end.transition",(function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)}))},Jl.ease=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].ease:("function"!=typeof e&&(e=_o.ease.apply(_o,arguments)),Y(this,(function(r){r[n][t].ease=e})))},Jl.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:Y(this,"function"==typeof e?function(r,i,o){r[n][t].delay=+e.call(r,r.__data__,i,o)}:(e=+e,function(r){r[n][t].delay=e}))},Jl.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:Y(this,"function"==typeof e?function(r,i,o){r[n][t].duration=Math.max(1,e.call(r,r.__data__,i,o))}:(e=Math.max(1,e),function(r){r[n][t].duration=e}))},Jl.each=function(e,t){var n=this.id,r=this.namespace;if(arguments.length<2){var i=Zl,o=Ql;try{Ql=n,Y(this,(function(t,i,o){Zl=t[r][n],e.call(t,t.__data__,i,o)}))}finally{Zl=i,Ql=o}}else Y(this,(function(i){var o=i[r][n];(o.event||(o.event=_o.dispatch("start","end","interrupt"))).on(e,t)}));return this},Jl.transition=function(){for(var e,t,n,r=this.id,i=++es,o=this.namespace,a=[],l=0,s=this.length;l<s;l++){a.push(e=[]);for(var c,u=0,d=(c=this[l]).length;u<d;u++)(t=c[u])&&po(t,u,o,i,{time:(n=t[o][r]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),e.push(t)}return co(a,o,i)},_o.svg.axis=function(){function e(e){e.each((function(){var e,c=_o.select(this),u=this.__chart__||n,d=this.__chart__=n.copy(),f=null==s?d.ticks?d.ticks.apply(d,l):d.domain():s,m=null==t?d.tickFormat?d.tickFormat.apply(d,l):w:t,p=c.selectAll(".tick").data(f,d),g=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Yo),v=_o.transition(p.exit()).style("opacity",Yo).remove(),h=_o.transition(p.order()).style("opacity",1),b=Math.max(i,0)+a,y=vi(d),E=c.selectAll(".domain").data([0]),S=(E.enter().append("path").attr("class","domain"),_o.transition(E));g.append("line"),g.append("text");var _,A,T,I,C=g.select("line"),x=h.select("line"),D=p.select("text").text(m),M=g.select("text"),O=h.select("text"),R="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(e=go,_="x",T="y",A="x2",I="y2",D.attr("dy",R<0?"0em":".71em").style("text-anchor","middle"),S.attr("d","M"+y[0]+","+R*o+"V0H"+y[1]+"V"+R*o)):(e=vo,_="y",T="x",A="y2",I="x2",D.attr("dy",".32em").style("text-anchor",R<0?"end":"start"),S.attr("d","M"+R*o+","+y[0]+"H0V"+y[1]+"H"+R*o)),C.attr(I,R*i),M.attr(T,R*b),x.attr(A,0).attr(I,R*i),O.attr(_,0).attr(T,R*b),d.rangeBand){var N=d,L=N.rangeBand()/2;u=d=function(e){return N(e)+L}}else u.rangeBand?u=d:v.call(e,d,u);g.call(e,u,d),h.call(e,d,d)}))}var t,n=_o.scale.linear(),r=ts,i=6,o=6,a=3,l=[10],s=null;return e.scale=function(t){return arguments.length?(n=t,e):n},e.orient=function(t){return arguments.length?(r=t in ns?t+"":ts,e):r},e.ticks=function(){return arguments.length?(l=arguments,e):l},e.tickValues=function(t){return arguments.length?(s=t,e):s},e.tickFormat=function(n){return arguments.length?(t=n,e):t},e.tickSize=function(t){var n=arguments.length;return n?(i=+t,o=+arguments[n-1],e):i},e.innerTickSize=function(t){return arguments.length?(i=+t,e):i},e.outerTickSize=function(t){return arguments.length?(o=+t,e):o},e.tickPadding=function(t){return arguments.length?(a=+t,e):a},e.tickSubdivide=function(){return arguments.length&&e},e};var ts="bottom",ns={top:1,right:1,bottom:1,left:1};_o.svg.brush=function(){function e(o){o.each((function(){var o=_o.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),a=o.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),o.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var l=o.selectAll(".resize").data(g,w);l.exit().remove(),l.enter().append("g").attr("class",(function(e){return"resize "+e})).style("cursor",(function(e){return rs[e]})).append("rect").attr("x",(function(e){return/[ew]$/.test(e)?-3:null})).attr("y",(function(e){return/^[ns]/.test(e)?-3:null})).attr("width",6).attr("height",6).style("visibility","hidden"),l.style("display",e.empty()?"none":null);var s,d=_o.transition(o),f=_o.transition(a);c&&(s=vi(c),f.attr("x",s[0]).attr("width",s[1]-s[0]),n(d)),u&&(s=vi(u),f.attr("y",s[0]).attr("height",s[1]-s[0]),r(d)),t(d)}))}function t(e){e.selectAll(".resize").attr("transform",(function(e){return"translate("+d[+/e$/.test(e)]+","+f[+/^s/.test(e)]+")"}))}function n(e){e.select(".extent").attr("x",d[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",d[1]-d[0])}function r(e){e.select(".extent").attr("y",f[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",f[1]-f[0])}function i(){function i(){32==_o.event.keyCode&&(x||(y=null,O[0]-=d[1],O[1]-=f[1],x=2),D())}function g(){32==_o.event.keyCode&&2==x&&(O[0]+=d[1],O[1]+=f[1],x=0,D())}function v(){var e=_o.mouse(S),i=!1;E&&(e[0]+=E[0],e[1]+=E[1]),x||(_o.event.altKey?(y||(y=[(d[0]+d[1])/2,(f[0]+f[1])/2]),O[0]=d[+(e[0]<y[0])],O[1]=f[+(e[1]<y[1])]):y=null),I&&h(e,c,0)&&(n(A),i=!0),C&&h(e,u,1)&&(r(A),i=!0),i&&(t(A),w({type:"brush",mode:x?"move":"resize"}))}function h(e,t,n){var r,i,a=vi(t),s=a[0],c=a[1],u=O[n],g=n?f:d,v=g[1]-g[0];if(x&&(s-=u,c-=v+u),r=(n?p:m)?Math.max(s,Math.min(c,e[n])):e[n],x?i=(r+=u)+v:(y&&(u=Math.max(s,Math.min(c,2*y[n]-r))),u<r?(i=r,r=u):i=u),g[0]!=r||g[1]!=i)return n?l=null:o=null,g[0]=r,g[1]=i,!0}function b(){v(),A.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),_o.select("body").style("cursor",null),R.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),M(),w({type:"brushend"})}var y,E,S=this,_=_o.select(_o.event.target),w=s.of(S,arguments),A=_o.select(S),T=_.datum(),I=!/^(n|s)$/.test(T)&&c,C=!/^(e|w)$/.test(T)&&u,x=_.classed("extent"),M=ee(S),O=_o.mouse(S),R=_o.select(a(S)).on("keydown.brush",i).on("keyup.brush",g);if(_o.event.changedTouches?R.on("touchmove.brush",v).on("touchend.brush",b):R.on("mousemove.brush",v).on("mouseup.brush",b),A.interrupt().selectAll("*").interrupt(),x)O[0]=d[0]-O[0],O[1]=f[0]-O[1];else if(T){var N=+/w$/.test(T),L=+/^n/.test(T);E=[d[1-N]-O[0],f[1-L]-O[1]],O[0]=d[N],O[1]=f[L]}else _o.event.altKey&&(y=O.slice());A.style("pointer-events","none").selectAll(".resize").style("display",null),_o.select("body").style("cursor",_.style("cursor")),w({type:"brushstart"}),v()}var o,l,s=O(e,"brushstart","brush","brushend"),c=null,u=null,d=[0,0],f=[0,0],m=!0,p=!0,g=is[0];return e.event=function(e){e.each((function(){var e=s.of(this,arguments),t={x:d,y:f,i:o,j:l},n=this.__chart__||t;this.__chart__=t,Ql?_o.select(this).transition().each("start.brush",(function(){o=n.i,l=n.j,d=n.x,f=n.y,e({type:"brushstart"})})).tween("brush:brush",(function(){var n=sr(d,t.x),r=sr(f,t.y);return o=l=null,function(i){d=t.x=n(i),f=t.y=r(i),e({type:"brush",mode:"resize"})}})).each("end.brush",(function(){o=t.i,l=t.j,e({type:"brush",mode:"resize"}),e({type:"brushend"})})):(e({type:"brushstart"}),e({type:"brush",mode:"resize"}),e({type:"brushend"}))}))},e.x=function(t){return arguments.length?(g=is[!(c=t)<<1|!u],e):c},e.y=function(t){return arguments.length?(g=is[!c<<1|!(u=t)],e):u},e.clamp=function(t){return arguments.length?(c&&u?(m=!!t[0],p=!!t[1]):c?m=!!t:u&&(p=!!t),e):c&&u?[m,p]:c?m:u?p:null},e.extent=function(t){var n,r,i,a,s;return arguments.length?(c&&(n=t[0],r=t[1],u&&(n=n[0],r=r[0]),o=[n,r],c.invert&&(n=c(n),r=c(r)),r<n&&(s=n,n=r,r=s),n==d[0]&&r==d[1]||(d=[n,r])),u&&(i=t[0],a=t[1],c&&(i=i[1],a=a[1]),l=[i,a],u.invert&&(i=u(i),a=u(a)),a<i&&(s=i,i=a,a=s),i==f[0]&&a==f[1]||(f=[i,a])),e):(c&&(o?(n=o[0],r=o[1]):(n=d[0],r=d[1],c.invert&&(n=c.invert(n),r=c.invert(r)),r<n&&(s=n,n=r,r=s))),u&&(l?(i=l[0],a=l[1]):(i=f[0],a=f[1],u.invert&&(i=u.invert(i),a=u.invert(a)),a<i&&(s=i,i=a,a=s))),c&&u?[[n,i],[r,a]]:c?[n,r]:u&&[i,a])},e.clear=function(){return e.empty()||(d=[0,0],f=[0,0],o=l=null),e},e.empty=function(){return!!c&&d[0]==d[1]||!!u&&f[0]==f[1]},_o.rebind(e,s,"on")};var rs={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},is=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],os=Aa.format=Ma.timeFormat,as=os.utc,ls=as("%Y-%m-%dT%H:%M:%S.%LZ");os.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ho:ls,ho.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},ho.toString=ls.toString,Aa.second=Ue((function(e){return new Ta(1e3*Math.floor(e/1e3))}),(function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))}),(function(e){return e.getSeconds()})),Aa.seconds=Aa.second.range,Aa.seconds.utc=Aa.second.utc.range,Aa.minute=Ue((function(e){return new Ta(6e4*Math.floor(e/6e4))}),(function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))}),(function(e){return e.getMinutes()})),Aa.minutes=Aa.minute.range,Aa.minutes.utc=Aa.minute.utc.range,Aa.hour=Ue((function(e){var t=e.getTimezoneOffset()/60;return new Ta(36e5*(Math.floor(e/36e5-t)+t))}),(function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))}),(function(e){return e.getHours()})),Aa.hours=Aa.hour.range,Aa.hours.utc=Aa.hour.utc.range,Aa.month=Ue((function(e){return(e=Aa.day(e)).setDate(1),e}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e){return e.getMonth()})),Aa.months=Aa.month.range,Aa.months.utc=Aa.month.utc.range;var ss=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],cs=[[Aa.second,1],[Aa.second,5],[Aa.second,15],[Aa.second,30],[Aa.minute,1],[Aa.minute,5],[Aa.minute,15],[Aa.minute,30],[Aa.hour,1],[Aa.hour,3],[Aa.hour,6],[Aa.hour,12],[Aa.day,1],[Aa.day,2],[Aa.week,1],[Aa.month,1],[Aa.month,3],[Aa.year,1]],us=os.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",Ct]]),ds={range:function(e,t,n){return _o.range(Math.ceil(e/n)*n,+t,n).map(yo)},floor:w,ceil:w};cs.year=Aa.year,Aa.scale=function(){return bo(_o.scale.linear(),cs,us)};var fs=cs.map((function(e){return[e[0].utc,e[1]]})),ms=as.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",Ct]]);fs.year=Aa.year.utc,Aa.scale.utc=function(){return bo(_o.scale.linear(),fs,ms)},_o.text=Me((function(e){return e.responseText})),_o.json=function(e,t){return Oe(e,"application/json",Eo,t)},_o.html=function(e,t){return Oe(e,"text/html",So,t)},_o.xml=Me((function(e){return e.responseXML})),void 0!==(i="function"==typeof(r=_o)?r.call(t,n,t,e):r)&&(e.exports=i),this.d3=_o}()},function(e,t,n){!function(){var t={dev:!1};t.tooltip=t.tooltip||{},t.utils=t.utils||{},t.models=t.models||{},t.charts={},t.logs={},t.dom={},t.dispatch=d3.dispatch("render_start","render_end"),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),t.dev&&(t.dispatch.on("render_start",(function(e){t.logs.startTime=+new Date})),t.dispatch.on("render_end",(function(e){t.logs.endTime=+new Date,t.logs.totalTime=t.logs.endTime-t.logs.startTime,t.log("total",t.logs.totalTime)}))),t.log=function(){if(t.dev&&window.console&&console.log&&console.log.apply);else if(t.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind){var e=Function.prototype.bind.call(console.log,console);e.apply(console,arguments)}return arguments[arguments.length-1]},t.deprecated=function(e,t){console&&console.warn},t.render=function(e){e=e||1,t.render.active=!0,t.dispatch.render_start();var n=function(){for(var r,i,o=0;o<e&&(i=t.render.queue[o]);o++)r=i.generate(),typeof i.callback==typeof Function&&i.callback(r);t.render.queue.splice(0,o),t.render.queue.length?setTimeout(n):(t.dispatch.render_end(),t.render.active=!1)};setTimeout(n)},t.render.active=!1,t.render.queue=[],t.addGraph=function(e){typeof arguments[0]==typeof Function&&(e={generate:arguments[0],callback:arguments[1]}),t.render.queue.push(e),t.render.active||t.render()},e.exports=t,"undefined"!=typeof window&&(window.nv=t),t.dom.write=function(e){return void 0!==window.fastdom?fastdom.write(e):e()},t.dom.read=function(e){return void 0!==window.fastdom?fastdom.read(e):e()},t.interactiveGuideline=function(){"use strict";function e(d){d.each((function(d){function f(){var t=d3.mouse(this),r=t[0],i=t[1],s=!0,c=!1;if(u&&(r=d3.event.offsetX,i=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(s=!1),d3.event.target.className.baseVal.match("nv-legend")&&(c=!0)),s&&(r-=o.left,i-=o.top),r<0||i<0||r>p||i>g||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||c){if(u&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&(void 0===d3.event.relatedTarget.className||d3.event.relatedTarget.className.match(n.nvPointerEventsClass)))return;return l.elementMouseout({mouseX:r,mouseY:i}),e.renderGuideLine(null),void n.hidden(!0)}n.hidden(!1);var d=a.invert(r);l.elementMousemove({mouseX:r,mouseY:i,pointXValue:d}),"dblclick"===d3.event.type&&l.elementDblclick({mouseX:r,mouseY:i,pointXValue:d}),"click"===d3.event.type&&l.elementClick({mouseX:r,mouseY:i,pointXValue:d})}var m=d3.select(this),p=r||960,g=i||400,v=m.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([d]);v.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine"),c&&(c.on("touchmove",f).on("mousemove",f,!0).on("mouseout",f,!0).on("dblclick",f).on("click",f),e.guideLine=null,e.renderGuideLine=function(n){s&&(e.guideLine&&e.guideLine.attr("x1")===n||t.dom.write((function(){var e=v.select(".nv-interactiveGuideLine").selectAll("line").data(null!=n?[t.utils.NaNtoZero(n)]:[],String);e.enter().append("line").attr("class","nv-guideline").attr("x1",(function(e){return e})).attr("x2",(function(e){return e})).attr("y1",g).attr("y2",0),e.exit().remove()})))})}))}var n=t.models.tooltip();n.duration(0).hideDelay(0)._isInteractiveLayer(!0).hidden(!1);var r=null,i=null,o={left:0,top:0},a=d3.scale.linear(),l=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick"),s=!0,c=null,u="ActiveXObject"in window;return e.dispatch=l,e.tooltip=n,e.margin=function(t){return arguments.length?(o.top=void 0!==t.top?t.top:o.top,o.left=void 0!==t.left?t.left:o.left,e):o},e.width=function(t){return arguments.length?(r=t,e):r},e.height=function(t){return arguments.length?(i=t,e):i},e.xScale=function(t){return arguments.length?(a=t,e):a},e.showGuideLine=function(t){return arguments.length?(s=t,e):s},e.svgContainer=function(t){return arguments.length?(c=t,e):c},e},t.interactiveBisect=function(e,t,n){"use strict";if(!(e instanceof Array))return null;var r;r="function"!=typeof n?function(e){return e.x}:n;var i=d3.bisector((function(e,t){return r(e)-t})).left,o=d3.max([0,i(e,t)-1]),a=r(e[o]);if(void 0===a&&(a=o),a===t)return o;var l=d3.min([o+1,e.length-1]),s=r(e[l]);return void 0===s&&(s=l),Math.abs(s-t)>=Math.abs(a-t)?o:l},t.nearestValueIndex=function(e,t,n){"use strict";var r=1/0,i=null;return e.forEach((function(e,o){var a=Math.abs(t-e);null!=e&&a<=r&&a<n&&(r=a,i=o)})),i},function(){"use strict";t.models.tooltip=function(){function e(){if(g&&T(n)){!function(){if(s){var e=d3.select(s);"svg"!==e.node().tagName&&(e=e.select("svg"));var t=e.node()?e.attr("viewBox"):null;if(t){t=t.split(" ");var n=parseInt(e.style("width"),10)/t[2];m.left=m.left*n,m.top=m.top*n}}}();var r=m.left,i=null!==a?a:m.top;return t.dom.write((function(){!function(){var e;d||(e=s||document.body,(d=d3.select(e).append("div").attr("class","nvtooltip "+(l||"xy-tooltip")).attr("id",y)).style("top",0).style("left",0),d.style("opacity",0),d.selectAll("div, table, td, tr").classed(E,!0),d.classed(E,!0),f=d.node())}();var e=A(n);e&&(f.innerHTML=e),s&&b?t.dom.read((function(){var e=s.getElementsByTagName("svg")[0],t={left:0,top:0};if(e){var n=e.getBoundingClientRect(),a=s.getBoundingClientRect(),l=n.top;if(l<0){var c=s.getBoundingClientRect();l=Math.abs(l)>c.height?0:l}t.top=Math.abs(l-a.top),t.left=Math.abs(n.left-a.left)}r+=s.offsetLeft+t.left-2*s.scrollLeft,i+=s.offsetTop+t.top-2*s.scrollTop,o&&o>0&&(i=Math.floor(i/o)*o),I([r,i])})):I([r,i])})),e}}var n=null,r="w",i=25,o=0,a=null,l=null,s=null,c=!0,u=400,d=null,f=null,m={left:null,top:null},p={left:0,top:0},g=!0,v=100,h=!0,b=!1,y="nvtooltip-"+Math.floor(1e5*Math.random()),E="nv-pointer-events-none",S=function(e,t){return e},_=function(e){return e},w=function(e,t){return e},A=function(e){if(null===e)return"";var t=d3.select(document.createElement("table"));h&&t.selectAll("thead").data([e]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(_(e.value));var n=t.selectAll("tbody").data([e]).enter().append("tbody").selectAll("tr").data((function(e){return e.series})).enter().append("tr").classed("highlight",(function(e){return e.highlight}));n.append("td").classed("legend-color-guide",!0).append("div").style("background-color",(function(e){return e.color})),n.append("td").classed("key",!0).html((function(e,t){return w(e.key,t)})),n.append("td").classed("value",!0).html((function(e,t){return S(e.value,t)})),n.selectAll("td").each((function(e){if(e.highlight){var t=d3.scale.linear().domain([0,1]).range(["#fff",e.color]);d3.select(this).style("border-bottom-color",t(.6)).style("border-top-color",t(.6))}}));var r=t.node().outerHTML;return void 0!==e.footer&&(r+="<div class='footer'>"+e.footer+"</div>"),r},T=function(e){if(e&&e.series){if(e.series instanceof Array)return!!e.series.length;if(e.series instanceof Object)return e.series=[e.series],!0}return!1},I=function(e){f&&t.dom.read((function(){var n,o,a=parseInt(f.offsetHeight,10),l=parseInt(f.offsetWidth,10),s=t.utils.windowSize().width,m=t.utils.windowSize().height,g=window.pageYOffset,h=window.pageXOffset;m=window.innerWidth>=document.body.scrollWidth?m:m-16,s=window.innerHeight>=document.body.scrollHeight?s:s-16;var b,y,E=function(e){var t=o;do{isNaN(e.offsetTop)||(t+=e.offsetTop),e=e.offsetParent}while(e);return t},S=function(e){var t=n;do{isNaN(e.offsetLeft)||(t+=e.offsetLeft),e=e.offsetParent}while(e);return t};switch(r){case"e":n=e[0]-l-i,o=e[1]-a/2,b=S(f),y=E(f),b<h&&(n=e[0]+i>h?e[0]+i:h-b+n),y<g&&(o=g-y+o),y+a>g+m&&(o=g+m-y+o-a);break;case"w":n=e[0]+i,o=e[1]-a/2,b=S(f),y=E(f),b+l>s&&(n=e[0]-l-i),y<g&&(o=g+5),y+a>g+m&&(o=g+m-y+o-a);break;case"n":n=e[0]-l/2-5,o=e[1]+i,b=S(f),y=E(f),b<h&&(n=h+5),b+l>s&&(n=n-l/2+5),y+a>g+m&&(o=g+m-y+o-a);break;case"s":n=e[0]-l/2,o=e[1]-a-i,b=S(f),y=E(f),b<h&&(n=h+5),b+l>s&&(n=n-l/2+5),g>y&&(o=g);break;case"none":n=e[0],o=e[1]-i,b=S(f),y=E(f)}n-=p.left,o-=p.top;var _=f.getBoundingClientRect(),w=(g=window.pageYOffset||document.documentElement.scrollTop,h=window.pageXOffset||document.documentElement.scrollLeft,"translate("+(_.left+h)+"px, "+(_.top+g)+"px)"),A="translate("+n+"px, "+o+"px)",T=d3.interpolateString(w,A),I=d.style("opacity")<.1;c?d.transition().delay(u).duration(0).style("opacity",0):d.interrupt().transition().duration(I?0:v).styleTween("transform",(function(e){return T}),"important").style("-webkit-transform",A).style("opacity",1)}))};return e.nvPointerEventsClass=E,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{duration:{get:function(){return v},set:function(e){v=e}},gravity:{get:function(){return r},set:function(e){r=e}},distance:{get:function(){return i},set:function(e){i=e}},snapDistance:{get:function(){return o},set:function(e){o=e}},classes:{get:function(){return l},set:function(e){l=e}},chartContainer:{get:function(){return s},set:function(e){s=e}},fixedTop:{get:function(){return a},set:function(e){a=e}},enabled:{get:function(){return g},set:function(e){g=e}},hideDelay:{get:function(){return u},set:function(e){u=e}},contentGenerator:{get:function(){return A},set:function(e){A=e}},valueFormatter:{get:function(){return S},set:function(e){S=e}},headerFormatter:{get:function(){return _},set:function(e){_=e}},keyFormatter:{get:function(){return w},set:function(e){w=e}},headerEnabled:{get:function(){return h},set:function(e){h=e}},_isInteractiveLayer:{get:function(){return b},set:function(e){b=!!e}},position:{get:function(){return m},set:function(e){m.left=void 0!==e.left?e.left:m.left,m.top=void 0!==e.top?e.top:m.top}},offset:{get:function(){return p},set:function(e){p.left=void 0!==e.left?e.left:p.left,p.top=void 0!==e.top?e.top:p.top}},hidden:{get:function(){return c},set:function(t){c!=t&&(c=!!t,e())}},data:{get:function(){return n},set:function(e){e.point&&(e.value=e.point.x,e.series=e.series||{},e.series.value=e.point.y,e.series.color=e.point.color||e.series.color),n=e}},tooltipElem:{get:function(){return f},set:function(e){}},id:{get:function(){return y},set:function(e){}}}),t.utils.initOptions(e),e}}(),t.utils.windowSize=function(){var e={width:640,height:480};return window.innerWidth&&window.innerHeight?(e.width=window.innerWidth,e.height=window.innerHeight,e):"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(e.width=document.documentElement.offsetWidth,e.height=document.documentElement.offsetHeight,e):document.body&&document.body.offsetWidth?(e.width=document.body.offsetWidth,e.height=document.body.offsetHeight,e):e},t.utils.windowResize=function(e){return window.addEventListener?window.addEventListener("resize",e):t.log("ERROR: Failed to bind to window.resize with: ",e),{callback:e,clear:function(){window.removeEventListener("resize",e)}}},t.utils.getColor=function(e){if(void 0===e)return t.utils.defaultColor();if(Array.isArray(e)){var n=d3.scale.ordinal().range(e);return function(e,t){var r=void 0===t?e:t;return e.color||n(r)}}return e},t.utils.defaultColor=function(){return t.utils.getColor(d3.scale.category20().range())},t.utils.customTheme=function(e,t,n){t=t||function(e){return e.key};var r=(n=n||d3.scale.category20().range()).length;return function(i,o){var a=t(i);return"function"==typeof e[a]?e[a]():void 0!==e[a]?e[a]:(r||(r=n.length),n[r-=1])}},t.utils.pjax=function(e,n){var r=function(r){d3.html(r,(function(r){var i=d3.select(n).node();i.parentNode.replaceChild(d3.select(r).select(n).node(),i),t.utils.pjax(e,n)}))};d3.selectAll(e).on("click",(function(){history.pushState(this.href,this.textContent,this.href),r(this.href),d3.event.preventDefault()})),d3.select(window).on("popstate",(function(){d3.event.state&&r(d3.event.state)}))},t.utils.calcApproxTextWidth=function(e){if("function"==typeof e.style&&"function"==typeof e.text){var t=parseInt(e.style("font-size").replace("px",""),10);return e.text().length*t*.5}return 0},t.utils.NaNtoZero=function(e){return"number"!=typeof e||isNaN(e)||null===e||e===1/0||e===-1/0?0:e},d3.selection.prototype.watchTransition=function(e){var t=[this].concat([].slice.call(arguments,1));return e.transition.apply(e,t)},t.utils.renderWatch=function(e,n){if(!(this instanceof t.utils.renderWatch))return new t.utils.renderWatch(e,n);var r=void 0!==n?n:250,i=[],o=this;this.models=function(e){return(e=[].slice.call(arguments,0)).forEach((function(e){e.__rendered=!1,function(e){e.dispatch.on("renderEnd",(function(t){e.__rendered=!0,o.renderEnd("model")}))}(e),i.indexOf(e)<0&&i.push(e)})),this},this.reset=function(e){void 0!==e&&(r=e),i=[]},this.transition=function(e,t,n){if(n=(t=arguments.length>1?[].slice.call(arguments,1):[]).length>1?t.pop():void 0!==r?r:250,e.__rendered=!1,i.indexOf(e)<0&&i.push(e),0===n)return e.__rendered=!0,e.delay=function(){return this},e.duration=function(){return this},e;0===e.length||e.every((function(e){return!e.length}))?e.__rendered=!0:e.__rendered=!1;var a=0;return e.transition().duration(n).each((function(){++a})).each("end",(function(n,r){0==--a&&(e.__rendered=!0,o.renderEnd.apply(this,t))}))},this.renderEnd=function(){i.every((function(e){return e.__rendered}))&&(i.forEach((function(e){e.__rendered=!1})),e.renderEnd.apply(this,arguments))}},t.utils.deepExtend=function(e){var n=arguments.length>1?[].slice.call(arguments,1):[];n.forEach((function(n){for(var r in n){var i=e[r]instanceof Array,o="object"==typeof e[r],a="object"==typeof n[r];o&&!i&&a?t.utils.deepExtend(e[r],n[r]):e[r]=n[r]}}))},t.utils.state=function(){if(!(this instanceof t.utils.state))return new t.utils.state;var e={},n=function(){},r=function(){return{}},i=null;this.dispatch=d3.dispatch("change","set"),this.dispatch.on("set",(function(e){n(e,!0)})),this.getter=function(e){return r=e,this},this.setter=function(e,t){return t||(t=function(){}),n=function(n,r){e(n),r&&t()},this},this.init=function(e){i=i||{},t.utils.deepExtend(i,e)};var o=function(){var t=r();if(JSON.stringify(t)===JSON.stringify(e))return!1;for(var n in t)void 0===e[n]&&(e[n]={}),e[n]=t[n],!0;return!0};this.update=function(){i&&(n(i,!1),i=null),o.call(this)&&this.dispatch.change(e)}},t.utils.optionsFunc=function(e){return e&&d3.map(e).forEach(function(e,t){"function"==typeof this[e]&&this[e](t)}.bind(this)),this},t.utils.calcTicksX=function(e,n){for(var r=1,i=0;i<n.length;i+=1){var o=n[i]&&n[i].values?n[i].values.length:0;r=o>r?o:r}return t.log("Requested number of ticks: ",e),t.log("Calculated max values to be: ",r),e=(e=e>r?e=r-1:e)<1?1:e,e=Math.floor(e),t.log("Calculating tick count as: ",e),e},t.utils.calcTicksY=function(e,n){return t.utils.calcTicksX(e,n)},t.utils.initOption=function(e,t){e._calls&&e._calls[t]?e[t]=e._calls[t]:(e[t]=function(n){return arguments.length?(e._overrides[t]=!0,e._options[t]=n,e):e._options[t]},e["_"+t]=function(n){return arguments.length?(e._overrides[t]||(e._options[t]=n),e):e._options[t]})},t.utils.initOptions=function(e){e._overrides=e._overrides||{};var n=Object.getOwnPropertyNames(e._options||{}),r=Object.getOwnPropertyNames(e._calls||{});for(var i in n=n.concat(r))t.utils.initOption(e,n[i])},t.utils.inheritOptionsD3=function(e,t,n){e._d3options=n.concat(e._d3options||[]),n.unshift(t),n.unshift(e),d3.rebind.apply(this,n)},t.utils.arrayUnique=function(e){return e.sort().filter((function(t,n){return!n||t!=e[n-1]}))},t.utils.symbolMap=d3.map(),t.utils.symbol=function(){function e(e,i){var o=n.call(this,e,i),a=r.call(this,e,i);return-1!==d3.svg.symbolTypes.indexOf(o)?d3.svg.symbol().type(o).size(a)():t.utils.symbolMap.get(o)(a)}var n,r=64;return e.type=function(t){return arguments.length?(n=d3.functor(t),e):n},e.size=function(t){return arguments.length?(r=d3.functor(t),e):r},e},t.utils.inheritOptions=function(e,n){var r=Object.getOwnPropertyNames(n._options||{}),i=Object.getOwnPropertyNames(n._calls||{}),o=n._inherited||[],a=n._d3options||[],l=r.concat(i).concat(o).concat(a);l.unshift(n),l.unshift(e),d3.rebind.apply(this,l),e._inherited=t.utils.arrayUnique(r.concat(i).concat(o).concat(r).concat(e._inherited||[])),e._d3options=t.utils.arrayUnique(a.concat(e._d3options||[]))},t.utils.initSVG=function(e){e.classed({"nvd3-svg":!0})},t.utils.sanitizeHeight=function(e,t){return e||parseInt(t.style("height"),10)||400},t.utils.sanitizeWidth=function(e,t){return e||parseInt(t.style("width"),10)||960},t.utils.availableHeight=function(e,n,r){return t.utils.sanitizeHeight(e,n)-r.top-r.bottom},t.utils.availableWidth=function(e,n,r){return t.utils.sanitizeWidth(e,n)-r.left-r.right},t.utils.noData=function(e,n){var r=e.options(),i=r.margin(),o=r.noData(),a=null==o?["No Data Available."]:[o],l=t.utils.availableHeight(r.height(),n,i),s=t.utils.availableWidth(r.width(),n,i),c=i.left+s/2,u=i.top+l/2;n.selectAll("g").remove();var d=n.selectAll(".nv-noData").data(a);d.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),d.attr("x",c).attr("y",u).text((function(e){return e}))},t.models.axis=function(){"use strict";function e(a){return b.reset(),a.each((function(e){var a=d3.select(this);t.utils.initSVG(a);var g=a.selectAll("g.nv-wrap.nv-axis").data([e]),v=(g.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g"),g.select("g"));null!==m?n.ticks(m):"top"!=n.orient()&&"bottom"!=n.orient()||n.ticks(Math.abs(r.range()[1]-r.range()[0])/100),v.watchTransition(b,"axis").call(n),h=h||n.scale();var y=n.tickFormat();null==y&&(y=h.tickFormat());var E,S,_,w=v.selectAll("text.nv-axislabel").data([l||null]);switch(w.exit().remove(),n.orient()){case"top":w.enter().append("text").attr("class","nv-axislabel"),_=r.range().length<2?0:2===r.range().length?r.range()[1]:r.range()[r.range().length-1]+(r.range()[1]-r.range()[0]),w.attr("text-anchor","middle").attr("y",0).attr("x",_/2),s&&((S=g.selectAll("g.nv-axisMaxMin").data(r.domain())).enter().append("g").attr("class",(function(e,t){return["nv-axisMaxMin","nv-axisMaxMin-x",0==t?"nv-axisMin-x":"nv-axisMax-x"].join(" ")})).append("text"),S.exit().remove(),S.attr("transform",(function(e,n){return"translate("+t.utils.NaNtoZero(r(e))+",0)"})).select("text").attr("dy","-0.5em").attr("y",-n.tickPadding()).attr("text-anchor","middle").text((function(e,t){var n=y(e);return(""+n).match("NaN")?"":n})),S.watchTransition(b,"min-max top").attr("transform",(function(e,n){return"translate("+t.utils.NaNtoZero(r.range()[n])+",0)"})));break;case"bottom":E=p+36;var A=30,T=0,I=v.selectAll("g").select("text"),C="";if(c%360){I.each((function(e,t){var n=this.getBoundingClientRect(),r=n.width;T=n.height,r>A&&(A=r)})),C="rotate("+c+" 0,"+(T/2+n.tickPadding())+")";var x=Math.abs(Math.sin(c*Math.PI/180));E=(x?x*A:A)+30,I.attr("transform",C).style("text-anchor",c%360>0?"start":"end")}w.enter().append("text").attr("class","nv-axislabel"),_=r.range().length<2?0:2===r.range().length?r.range()[1]:r.range()[r.range().length-1]+(r.range()[1]-r.range()[0]),w.attr("text-anchor","middle").attr("y",E).attr("x",_/2),s&&((S=g.selectAll("g.nv-axisMaxMin").data([r.domain()[0],r.domain()[r.domain().length-1]])).enter().append("g").attr("class",(function(e,t){return["nv-axisMaxMin","nv-axisMaxMin-x",0==t?"nv-axisMin-x":"nv-axisMax-x"].join(" ")})).append("text"),S.exit().remove(),S.attr("transform",(function(e,n){return"translate("+t.utils.NaNtoZero(r(e)+(f?r.rangeBand()/2:0))+",0)"})).select("text").attr("dy",".71em").attr("y",n.tickPadding()).attr("transform",C).style("text-anchor",c?c%360>0?"start":"end":"middle").text((function(e,t){var n=y(e);return(""+n).match("NaN")?"":n})),S.watchTransition(b,"min-max bottom").attr("transform",(function(e,n){return"translate("+t.utils.NaNtoZero(r(e)+(f?r.rangeBand()/2:0))+",0)"}))),d&&I.attr("transform",(function(e,t){return"translate(0,"+(t%2==0?"0":"12")+")"}));break;case"right":w.enter().append("text").attr("class","nv-axislabel"),w.style("text-anchor",u?"middle":"begin").attr("transform",u?"rotate(90)":"").attr("y",u?12-Math.max(i.right,o):-10).attr("x",u?d3.max(r.range())/2:n.tickPadding()),s&&((S=g.selectAll("g.nv-axisMaxMin").data(r.domain())).enter().append("g").attr("class",(function(e,t){return["nv-axisMaxMin","nv-axisMaxMin-y",0==t?"nv-axisMin-y":"nv-axisMax-y"].join(" ")})).append("text").style("opacity",0),S.exit().remove(),S.attr("transform",(function(e,n){return"translate(0,"+t.utils.NaNtoZero(r(e))+")"})).select("text").attr("dy",".32em").attr("y",0).attr("x",n.tickPadding()).style("text-anchor","start").text((function(e,t){var n=y(e);return(""+n).match("NaN")?"":n})),S.watchTransition(b,"min-max right").attr("transform",(function(e,n){return"translate(0,"+t.utils.NaNtoZero(r.range()[n])+")"})).select("text").style("opacity",1));break;case"left":w.enter().append("text").attr("class","nv-axislabel"),w.style("text-anchor",u?"middle":"end").attr("transform",u?"rotate(-90)":"").attr("y",u?25-Math.max(i.left,o)-(p||0):-10).attr("x",u?-d3.max(r.range())/2:-n.tickPadding()),s&&((S=g.selectAll("g.nv-axisMaxMin").data(r.domain())).enter().append("g").attr("class",(function(e,t){return["nv-axisMaxMin","nv-axisMaxMin-y",0==t?"nv-axisMin-y":"nv-axisMax-y"].join(" ")})).append("text").style("opacity",0),S.exit().remove(),S.attr("transform",(function(e,n){return"translate(0,"+t.utils.NaNtoZero(h(e))+")"})).select("text").attr("dy",".32em").attr("y",0).attr("x",-n.tickPadding()).attr("text-anchor","end").text((function(e,t){var n=y(e);return(""+n).match("NaN")?"":n})),S.watchTransition(b,"min-max right").attr("transform",(function(e,n){return"translate(0,"+t.utils.NaNtoZero(r.range()[n])+")"})).select("text").style("opacity",1))}if(w.text((function(e){return e})),!s||"left"!==n.orient()&&"right"!==n.orient()||(v.selectAll("g").each((function(e,t){d3.select(this).select("text").attr("opacity",1),(r(e)<r.range()[1]+10||r(e)>r.range()[0]-10)&&((e>1e-10||e<-1e-10)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))})),r.domain()[0]==r.domain()[1]&&0==r.domain()[0]&&g.selectAll("g.nv-axisMaxMin").style("opacity",(function(e,t){return t?0:1}))),s&&("top"===n.orient()||"bottom"===n.orient())){var D=[];g.selectAll("g.nv-axisMaxMin").each((function(e,t){try{t?D.push(r(e)-this.getBoundingClientRect().width-4):D.push(r(e)+this.getBoundingClientRect().width+4)}catch(n){t?D.push(r(e)-4):D.push(r(e)+4)}})),v.selectAll("g").each((function(e,t){(r(e)<D[0]||r(e)>D[1])&&(e>1e-10||e<-1e-10?d3.select(this).remove():d3.select(this).select("text").remove())}))}v.selectAll(".tick").filter((function(e){return!parseFloat(Math.round(1e5*e)/1e6)&&void 0!==e})).classed("zero",!0),h=r.copy()})),b.renderEnd("axis immediate"),e}var n=d3.svg.axis(),r=d3.scale.linear(),i={top:0,right:0,bottom:0,left:0},o=75,a=60,l=null,s=!0,c=0,u=!0,d=!1,f=!1,m=null,p=0,g=250,v=d3.dispatch("renderEnd");n.scale(r).orient("bottom").tickFormat((function(e){return e}));var h,b=t.utils.renderWatch(v,g);return e.axis=n,e.dispatch=v,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{axisLabelDistance:{get:function(){return p},set:function(e){p=e}},staggerLabels:{get:function(){return d},set:function(e){d=e}},rotateLabels:{get:function(){return c},set:function(e){c=e}},rotateYLabel:{get:function(){return u},set:function(e){u=e}},showMaxMin:{get:function(){return s},set:function(e){s=e}},axisLabel:{get:function(){return l},set:function(e){l=e}},height:{get:function(){return a},set:function(e){a=e}},ticks:{get:function(){return m},set:function(e){m=e}},width:{get:function(){return o},set:function(e){o=e}},margin:{get:function(){return i},set:function(e){i.top=void 0!==e.top?e.top:i.top,i.right=void 0!==e.right?e.right:i.right,i.bottom=void 0!==e.bottom?e.bottom:i.bottom,i.left=void 0!==e.left?e.left:i.left}},duration:{get:function(){return g},set:function(e){g=e,b.reset(g)}},scale:{get:function(){return r},set:function(i){r=i,n.scale(r),f="function"==typeof r.rangeBands,t.utils.inheritOptionsD3(e,r,["domain","range","rangeBand","rangeBands"])}}}),t.utils.initOptions(e),t.utils.inheritOptionsD3(e,n,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),t.utils.inheritOptionsD3(e,r,["domain","range","rangeBand","rangeBands"]),e},t.models.boxPlot=function(){"use strict";function e(d){return S.reset(),d.each((function(e){var d=c-s.left-s.right,g=u-s.top-s.bottom;h=d3.select(this),t.utils.initSVG(h),f.domain(n||e.map((function(e,t){return p(e,t)}))).rangeBands(i||[0,d],.1);var _=[];if(!r){var w=d3.min(e.map((function(e){var t=[];return t.push(e.values.Q1),e.values.hasOwnProperty("whisker_low")&&null!==e.values.whisker_low&&t.push(e.values.whisker_low),e.values.hasOwnProperty("outliers")&&null!==e.values.outliers&&(t=t.concat(e.values.outliers)),d3.min(t)}))),A=d3.max(e.map((function(e){var t=[];return t.push(e.values.Q3),e.values.hasOwnProperty("whisker_high")&&null!==e.values.whisker_high&&t.push(e.values.whisker_high),e.values.hasOwnProperty("outliers")&&null!==e.values.outliers&&(t=t.concat(e.values.outliers)),d3.max(t)})));_=[w,A]}m.domain(r||_),m.range(o||[g,0]),a=a||f,l=l||m.copy().range([m(0),m(0)]);var T=h.selectAll("g.nv-wrap").data([e]);T.enter().append("g").attr("class","nvd3 nv-wrap"),T.attr("transform","translate("+s.left+","+s.top+")");var I=T.selectAll(".nv-boxplot").data((function(e){return e})),C=I.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);I.attr("class","nv-boxplot").attr("transform",(function(e,t,n){return"translate("+(f(p(e,t))+.05*f.rangeBand())+", 0)"})).classed("hover",(function(e){return e.hover})),I.watchTransition(S,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",.75).delay((function(t,n){return n*y/e.length})).attr("transform",(function(e,t){return"translate("+(f(p(e,t))+.05*f.rangeBand())+", 0)"})),I.exit().remove(),C.each((function(e,t){var n=d3.select(this);["low","high"].forEach((function(r){e.values.hasOwnProperty("whisker_"+r)&&null!==e.values["whisker_"+r]&&(n.append("line").style("stroke",e.color?e.color:v(e,t)).attr("class","nv-boxplot-whisker nv-boxplot-"+r),n.append("line").style("stroke",e.color?e.color:v(e,t)).attr("class","nv-boxplot-tick nv-boxplot-"+r))}))}));var x=I.selectAll(".nv-boxplot-outlier").data((function(e){return e.values.hasOwnProperty("outliers")&&null!==e.values.outliers?e.values.outliers:[]}));x.enter().append("circle").style("fill",(function(e,t,n){return v(e,n)})).style("stroke",(function(e,t,n){return v(e,n)})).on("mouseover",(function(e,t,n){d3.select(this).classed("hover",!0),b.elementMouseover({series:{key:e,color:v(e,n)},e:d3.event})})).on("mouseout",(function(e,t,n){d3.select(this).classed("hover",!1),b.elementMouseout({series:{key:e,color:v(e,n)},e:d3.event})})).on("mousemove",(function(e,t){b.elementMousemove({e:d3.event})})),x.attr("class","nv-boxplot-outlier"),x.watchTransition(S,"nv-boxplot: nv-boxplot-outlier").attr("cx",.45*f.rangeBand()).attr("cy",(function(e,t,n){return m(e)})).attr("r","3"),x.exit().remove();var D=function(){return null===E?.9*f.rangeBand():Math.min(75,.9*f.rangeBand())},M=function(){return.45*f.rangeBand()-D()/2},O=function(){return.45*f.rangeBand()+D()/2};["low","high"].forEach((function(e){var t="low"===e?"Q1":"Q3";I.select("line.nv-boxplot-whisker.nv-boxplot-"+e).watchTransition(S,"nv-boxplot: boxplots").attr("x1",.45*f.rangeBand()).attr("y1",(function(t,n){return m(t.values["whisker_"+e])})).attr("x2",.45*f.rangeBand()).attr("y2",(function(e,n){return m(e.values[t])})),I.select("line.nv-boxplot-tick.nv-boxplot-"+e).watchTransition(S,"nv-boxplot: boxplots").attr("x1",M).attr("y1",(function(t,n){return m(t.values["whisker_"+e])})).attr("x2",O).attr("y2",(function(t,n){return m(t.values["whisker_"+e])}))})),["low","high"].forEach((function(e){C.selectAll(".nv-boxplot-"+e).on("mouseover",(function(t,n,r){d3.select(this).classed("hover",!0),b.elementMouseover({series:{key:t.values["whisker_"+e],color:v(t,r)},e:d3.event})})).on("mouseout",(function(t,n,r){d3.select(this).classed("hover",!1),b.elementMouseout({series:{key:t.values["whisker_"+e],color:v(t,r)},e:d3.event})})).on("mousemove",(function(e,t){b.elementMousemove({e:d3.event})}))})),C.append("rect").attr("class","nv-boxplot-box").on("mouseover",(function(e,t){d3.select(this).classed("hover",!0),b.elementMouseover({key:e.label,value:e.label,series:[{key:"Q3",value:e.values.Q3,color:e.color||v(e,t)},{key:"Q2",value:e.values.Q2,color:e.color||v(e,t)},{key:"Q1",value:e.values.Q1,color:e.color||v(e,t)}],data:e,index:t,e:d3.event})})).on("mouseout",(function(e,t){d3.select(this).classed("hover",!1),b.elementMouseout({key:e.label,value:e.label,series:[{key:"Q3",value:e.values.Q3,color:e.color||v(e,t)},{key:"Q2",value:e.values.Q2,color:e.color||v(e,t)},{key:"Q1",value:e.values.Q1,color:e.color||v(e,t)}],data:e,index:t,e:d3.event})})).on("mousemove",(function(e,t){b.elementMousemove({e:d3.event})})),I.select("rect.nv-boxplot-box").watchTransition(S,"nv-boxplot: boxes").attr("y",(function(e,t){return m(e.values.Q3)})).attr("width",D).attr("x",M).attr("height",(function(e,t){return Math.abs(m(e.values.Q3)-m(e.values.Q1))||1})).style("fill",(function(e,t){return e.color||v(e,t)})).style("stroke",(function(e,t){return e.color||v(e,t)})),C.append("line").attr("class","nv-boxplot-median"),I.select("line.nv-boxplot-median").watchTransition(S,"nv-boxplot: boxplots line").attr("x1",M).attr("y1",(function(e,t){return m(e.values.Q2)})).attr("x2",O).attr("y2",(function(e,t){return m(e.values.Q2)})),a=f.copy(),l=m.copy()})),S.renderEnd("nv-boxplot immediate"),e}var n,r,i,o,a,l,s={top:0,right:0,bottom:0,left:0},c=960,u=500,d=Math.floor(1e4*Math.random()),f=d3.scale.ordinal(),m=d3.scale.linear(),p=function(e){return e.x},g=function(e){return e.y},v=t.utils.defaultColor(),h=null,b=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),y=250,E=null,S=t.utils.renderWatch(b,y);return e.dispatch=b,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return c},set:function(e){c=e}},height:{get:function(){return u},set:function(e){u=e}},maxBoxWidth:{get:function(){return E},set:function(e){E=e}},x:{get:function(){return p},set:function(e){p=e}},y:{get:function(){return g},set:function(e){g=e}},xScale:{get:function(){return f},set:function(e){f=e}},yScale:{get:function(){return m},set:function(e){m=e}},xDomain:{get:function(){return n},set:function(e){n=e}},yDomain:{get:function(){return r},set:function(e){r=e}},xRange:{get:function(){return i},set:function(e){i=e}},yRange:{get:function(){return o},set:function(e){o=e}},id:{get:function(){return d},set:function(e){d=e}},margin:{get:function(){return s},set:function(e){s.top=void 0!==e.top?e.top:s.top,s.right=void 0!==e.right?e.right:s.right,s.bottom=void 0!==e.bottom?e.bottom:s.bottom,s.left=void 0!==e.left?e.left:s.left}},color:{get:function(){return v},set:function(e){v=t.utils.getColor(e)}},duration:{get:function(){return y},set:function(e){y=e,S.reset(y)}}}),t.utils.initOptions(e),e},t.models.boxPlotChart=function(){"use strict";function e(u){return y.reset(),y.models(i),d&&y.models(o),f&&y.models(a),u.each((function(u){var g=d3.select(this);t.utils.initSVG(g);var y=(s||parseInt(g.style("width"))||960)-l.left-l.right,E=(c||parseInt(g.style("height"))||400)-l.top-l.bottom;if(e.update=function(){h.beforeUpdate(),g.transition().duration(b).call(e)},e.container=this,!(u&&u.length&&u.filter((function(e){return e.values.hasOwnProperty("Q1")&&e.values.hasOwnProperty("Q2")&&e.values.hasOwnProperty("Q3")})).length)){var S=g.selectAll(".nv-noData").data([v]);return S.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),S.attr("x",l.left+y/2).attr("y",l.top+E/2).text((function(e){return e})),e}g.selectAll(".nv-noData").remove(),n=i.xScale(),r=i.yScale().clamp(!0);var _=g.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([u]),w=_.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),A=w.append("defs"),T=_.select("g");w.append("g").attr("class","nv-x nv-axis"),w.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),w.append("g").attr("class","nv-barsWrap"),T.attr("transform","translate("+l.left+","+l.top+")"),m&&T.select(".nv-y.nv-axis").attr("transform","translate("+y+",0)"),i.width(y).height(E);var I=T.select(".nv-barsWrap").datum(u.filter((function(e){return!e.disabled})));if(I.transition().call(i),A.append("clipPath").attr("id","nv-x-label-clip-"+i.id()).append("rect"),T.select("#nv-x-label-clip-"+i.id()+" rect").attr("width",n.rangeBand()*(p?2:1)).attr("height",16).attr("x",-n.rangeBand()/(p?1:2)),d){o.scale(n).ticks(t.utils.calcTicksX(y/100,u)).tickSize(-E,0),T.select(".nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),T.select(".nv-x.nv-axis").call(o);var C=T.select(".nv-x.nv-axis").selectAll("g");p&&C.selectAll("text").attr("transform",(function(e,t,n){return"translate(0,"+(n%2==0?"5":"17")+")"}))}f&&(a.scale(r).ticks(Math.floor(E/36)).tickSize(-y,0),T.select(".nv-y.nv-axis").call(a)),T.select(".nv-zeroLine line").attr("x1",0).attr("x2",y).attr("y1",r(0)).attr("y2",r(0))})),y.renderEnd("nv-boxplot chart immediate"),e}var n,r,i=t.models.boxPlot(),o=t.models.axis(),a=t.models.axis(),l={top:15,right:10,bottom:50,left:60},s=null,c=null,u=t.utils.getColor(),d=!0,f=!0,m=!1,p=!1,g=t.models.tooltip(),v="No Data Available.",h=d3.dispatch("tooltipShow","tooltipHide","beforeUpdate","renderEnd"),b=250;o.orient("bottom").showMaxMin(!1).tickFormat((function(e){return e})),a.orient(m?"right":"left").tickFormat(d3.format(",.1f")),g.duration(0);var y=t.utils.renderWatch(h,b);return i.dispatch.on("elementMouseover.tooltip",(function(e){g.data(e).hidden(!1)})),i.dispatch.on("elementMouseout.tooltip",(function(e){g.data(e).hidden(!0)})),i.dispatch.on("elementMousemove.tooltip",(function(e){g.position({top:d3.event.pageY,left:d3.event.pageX})()})),e.dispatch=h,e.boxplot=i,e.xAxis=o,e.yAxis=a,e.tooltip=g,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return s},set:function(e){s=e}},height:{get:function(){return c},set:function(e){c=e}},staggerLabels:{get:function(){return p},set:function(e){p=e}},showXAxis:{get:function(){return d},set:function(e){d=e}},showYAxis:{get:function(){return f},set:function(e){f=e}},tooltips:{get:function(){return tooltips},set:function(e){tooltips=e}},tooltipContent:{get:function(){return g},set:function(e){g=e}},noData:{get:function(){return v},set:function(e){v=e}},margin:{get:function(){return l},set:function(e){l.top=void 0!==e.top?e.top:l.top,l.right=void 0!==e.right?e.right:l.right,l.bottom=void 0!==e.bottom?e.bottom:l.bottom,l.left=void 0!==e.left?e.left:l.left}},duration:{get:function(){return b},set:function(e){b=e,y.reset(b),i.duration(b),o.duration(b),a.duration(b)}},color:{get:function(){return u},set:function(e){u=t.utils.getColor(e),i.color(u)}},rightAlignYAxis:{get:function(){return m},set:function(e){m=e,a.orient(e?"right":"left")}}}),t.utils.inheritOptions(e,i),t.utils.initOptions(e),e},t.models.bullet=function(){"use strict";function e(r){return r.each((function(e,r){var g=f-n.left-n.right,b=m-n.top-n.bottom;p=d3.select(this),t.utils.initSVG(p);var y=o.call(this,e,r).slice().sort(d3.descending),E=a.call(this,e,r).slice().sort(d3.descending),S=l.call(this,e,r).slice().sort(d3.descending),_=s.call(this,e,r).slice(),w=c.call(this,e,r).slice(),A=u.call(this,e,r).slice(),T=d3.scale.linear().domain(d3.extent(d3.merge([d,y]))).range(i?[g,0]:[0,g]);this.__chart__||d3.scale.linear().domain([0,1/0]).range(T.range()),this.__chart__=T;var I=d3.min(y),C=d3.max(y),x=y[1],D=p.selectAll("g.nv-wrap.nv-bullet").data([e]),M=D.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet").append("g"),O=D.select("g");M.append("rect").attr("class","nv-range nv-rangeMax"),M.append("rect").attr("class","nv-range nv-rangeAvg"),M.append("rect").attr("class","nv-range nv-rangeMin"),M.append("rect").attr("class","nv-measure"),D.attr("transform","translate("+n.left+","+n.top+")");var R=function(e){return Math.abs(T(e)-T(0))},N=function(e){return T(e<0?e:0)};O.select("rect.nv-rangeMax").attr("height",b).attr("width",R(C>0?C:I)).attr("x",N(C>0?C:I)).datum(C>0?C:I),O.select("rect.nv-rangeAvg").attr("height",b).attr("width",R(x)).attr("x",N(x)).datum(x),O.select("rect.nv-rangeMin").attr("height",b).attr("width",R(C)).attr("x",N(C)).attr("width",R(C>0?I:C)).attr("x",N(C>0?I:C)).datum(C>0?I:C),O.select("rect.nv-measure").style("fill",v).attr("height",b/3).attr("y",b/3).attr("width",S<0?T(0)-T(S[0]):T(S[0])-T(0)).attr("x",N(S)).on("mouseover",(function(){h.elementMouseover({value:S[0],label:A[0]||"Current",color:d3.select(this).style("fill")})})).on("mousemove",(function(){h.elementMousemove({value:S[0],label:A[0]||"Current",color:d3.select(this).style("fill")})})).on("mouseout",(function(){h.elementMouseout({value:S[0],label:A[0]||"Current",color:d3.select(this).style("fill")})}));var L=b/6,P=E.map((function(e,t){return{value:e,label:w[t]}}));M.selectAll("path.nv-markerTriangle").data(P).enter().append("path").attr("class","nv-markerTriangle").attr("transform",(function(e){return"translate("+T(e.value)+","+b/2+")"})).attr("d","M0,"+L+"L"+L+","+-L+" "+-L+","+-L+"Z").on("mouseover",(function(e){h.elementMouseover({value:e.value,label:e.label||"Previous",color:d3.select(this).style("fill"),pos:[T(e.value),b/2]})})).on("mousemove",(function(e){h.elementMousemove({value:e.value,label:e.label||"Previous",color:d3.select(this).style("fill")})})).on("mouseout",(function(e,t){h.elementMouseout({value:e.value,label:e.label||"Previous",color:d3.select(this).style("fill")})})),D.selectAll(".nv-range").on("mouseover",(function(e,t){var n=_[t]||(t?1==t?"Mean":"Minimum":"Maximum");h.elementMouseover({value:e,label:n,color:d3.select(this).style("fill")})})).on("mousemove",(function(){h.elementMousemove({value:S[0],label:A[0]||"Previous",color:d3.select(this).style("fill")})})).on("mouseout",(function(e,t){var n=_[t]||(t?1==t?"Mean":"Minimum":"Maximum");h.elementMouseout({value:e,label:n,color:d3.select(this).style("fill")})}))})),e}var n={top:0,right:0,bottom:0,left:0},r="left",i=!1,o=function(e){return e.ranges},a=function(e){return e.markers?e.markers:[0]},l=function(e){return e.measures},s=function(e){return e.rangeLabels?e.rangeLabels:[]},c=function(e){return e.markerLabels?e.markerLabels:[]},u=function(e){return e.measureLabels?e.measureLabels:[]},d=[0],f=380,m=30,p=null,g=null,v=t.utils.getColor(["#1f77b4"]),h=d3.dispatch("elementMouseover","elementMouseout","elementMousemove");return e.dispatch=h,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{ranges:{get:function(){return o},set:function(e){o=e}},markers:{get:function(){return a},set:function(e){a=e}},measures:{get:function(){return l},set:function(e){l=e}},forceX:{get:function(){return d},set:function(e){d=e}},width:{get:function(){return f},set:function(e){f=e}},height:{get:function(){return m},set:function(e){m=e}},tickFormat:{get:function(){return g},set:function(e){g=e}},margin:{get:function(){return n},set:function(e){n.top=void 0!==e.top?e.top:n.top,n.right=void 0!==e.right?e.right:n.right,n.bottom=void 0!==e.bottom?e.bottom:n.bottom,n.left=void 0!==e.left?e.left:n.left}},orient:{get:function(){return r},set:function(e){i="right"==(r=e)||"bottom"==r}},color:{get:function(){return v},set:function(e){v=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.bulletChart=function(){"use strict";function e(r){return r.each((function(i,p){var g=d3.select(this);t.utils.initSVG(g);var v=t.utils.availableWidth(u,g,a),h=d-a.top-a.bottom;if(e.update=function(){e(r)},e.container=this,!i||!l.call(this,i,p))return t.utils.noData(e,g),e;g.selectAll(".nv-noData").remove();var b=l.call(this,i,p).slice().sort(d3.descending),y=s.call(this,i,p).slice().sort(d3.descending),E=c.call(this,i,p).slice().sort(d3.descending),S=g.selectAll("g.nv-wrap.nv-bulletChart").data([i]),_=S.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart").append("g"),w=S.select("g");_.append("g").attr("class","nv-bulletWrap"),_.append("g").attr("class","nv-titles"),S.attr("transform","translate("+a.left+","+a.top+")");var A=d3.scale.linear().domain([0,Math.max(b[0],y[0],E[0])]).range(o?[v,0]:[0,v]),T=this.__chart__||d3.scale.linear().domain([0,1/0]).range(A.range());this.__chart__=A;var I=_.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(d-a.top-a.bottom)/2+")");I.append("text").attr("class","nv-title").text((function(e){return e.title})),I.append("text").attr("class","nv-subtitle").attr("dy","1em").text((function(e){return e.subtitle})),n.width(v).height(h);var C=w.select(".nv-bulletWrap");d3.transition(C).call(n);var x=f||A.tickFormat(v/100),D=w.selectAll("g.nv-tick").data(A.ticks(m||v/50),(function(e){return this.textContent||x(e)})),M=D.enter().append("g").attr("class","nv-tick").attr("transform",(function(e){return"translate("+T(e)+",0)"})).style("opacity",1e-6);M.append("line").attr("y1",h).attr("y2",7*h/6),M.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*h/6).text(x);var O=d3.transition(D).attr("transform",(function(e){return"translate("+A(e)+",0)"})).style("opacity",1);O.select("line").attr("y1",h).attr("y2",7*h/6),O.select("text").attr("y",7*h/6),d3.transition(D.exit()).attr("transform",(function(e){return"translate("+A(e)+",0)"})).style("opacity",1e-6).remove()})),d3.timer.flush(),e}var n=t.models.bullet(),r=t.models.tooltip(),i="left",o=!1,a={top:5,right:40,bottom:20,left:120},l=function(e){return e.ranges},s=function(e){return e.markers?e.markers:[0]},c=function(e){return e.measures},u=null,d=55,f=null,m=null,p=null,g=d3.dispatch("tooltipShow","tooltipHide");return r.duration(0).headerEnabled(!1),n.dispatch.on("elementMouseover.tooltip",(function(e){e.series={key:e.label,value:e.value,color:e.color},r.data(e).hidden(!1)})),n.dispatch.on("elementMouseout.tooltip",(function(e){r.hidden(!0)})),n.dispatch.on("elementMousemove.tooltip",(function(e){r.position({top:d3.event.pageY,left:d3.event.pageX})()})),e.bullet=n,e.dispatch=g,e.tooltip=r,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{ranges:{get:function(){return l},set:function(e){l=e}},markers:{get:function(){return s},set:function(e){s=e}},measures:{get:function(){return c},set:function(e){c=e}},width:{get:function(){return u},set:function(e){u=e}},height:{get:function(){return d},set:function(e){d=e}},tickFormat:{get:function(){return f},set:function(e){f=e}},ticks:{get:function(){return m},set:function(e){m=e}},noData:{get:function(){return p},set:function(e){p=e}},tooltips:{get:function(){return r.enabled()},set:function(e){t.deprecated("tooltips","use chart.tooltip.enabled() instead"),r.enabled(!!e)}},tooltipContent:{get:function(){return r.contentGenerator()},set:function(e){t.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),r.contentGenerator(e)}},margin:{get:function(){return a},set:function(e){a.top=void 0!==e.top?e.top:a.top,a.right=void 0!==e.right?e.right:a.right,a.bottom=void 0!==e.bottom?e.bottom:a.bottom,a.left=void 0!==e.left?e.left:a.left}},orient:{get:function(){return i},set:function(e){o="right"==(i=e)||"bottom"==i}}}),t.utils.inheritOptions(e,n),t.utils.initOptions(e),e},t.models.candlestickBar=function(){"use strict";function e(w){return w.each((function(e){n=d3.select(this);var w=t.utils.availableWidth(s,n,l),A=t.utils.availableHeight(c,n,l);t.utils.initSVG(n);var I=w/e[0].values.length*.45;d.domain(r||d3.extent(e[0].values.map(m).concat(y))),S?d.range(o||[.5*w/e[0].values.length,w*(e[0].values.length-.5)/e[0].values.length]):d.range(o||[5+I/2,w-I/2-5]),f.domain(i||[d3.min(e[0].values.map(b).concat(E)),d3.max(e[0].values.map(h).concat(E))]).range(a||[A,0]),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]+.01*f.domain()[0],f.domain()[1]-.01*f.domain()[1]]):f.domain([-1,1]));var C=d3.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([e[0].values]),x=C.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),D=x.append("defs"),M=x.append("g"),O=C.select("g");M.append("g").attr("class","nv-ticks"),C.attr("transform","translate("+l.left+","+l.top+")"),n.on("click",(function(e,t){T.chartClick({data:e,index:t,pos:d3.event,id:u})})),D.append("clipPath").attr("id","nv-chart-clip-path-"+u).append("rect"),C.select("#nv-chart-clip-path-"+u+" rect").attr("width",w).attr("height",A),O.attr("clip-path",_?"url(#nv-chart-clip-path-"+u+")":"");var R=C.select(".nv-ticks").selectAll(".nv-tick").data((function(e){return e}));R.exit().remove();var N=R.enter().append("g").attr("class",(function(e,t,n){return(g(e,t)>v(e,t)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+t}));N.append("line").attr("class","nv-candlestick-lines").attr("transform",(function(e,t){return"translate("+d(m(e,t))+",0)"})).attr("x1",0).attr("y1",(function(e,t){return f(h(e,t))})).attr("x2",0).attr("y2",(function(e,t){return f(b(e,t))})),N.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",(function(e,t){return"translate("+(d(m(e,t))-I/2)+","+(f(p(e,t))-(g(e,t)>v(e,t)?f(v(e,t))-f(g(e,t)):0))+")"})).attr("x",0).attr("y",0).attr("width",I).attr("height",(function(e,t){var n=g(e,t),r=v(e,t);return n>r?f(r)-f(n):f(n)-f(r)})),n.selectAll(".nv-candlestick-lines").transition().attr("transform",(function(e,t){return"translate("+d(m(e,t))+",0)"})).attr("x1",0).attr("y1",(function(e,t){return f(h(e,t))})).attr("x2",0).attr("y2",(function(e,t){return f(b(e,t))})),n.selectAll(".nv-candlestick-rects").transition().attr("transform",(function(e,t){return"translate("+(d(m(e,t))-I/2)+","+(f(p(e,t))-(g(e,t)>v(e,t)?f(v(e,t))-f(g(e,t)):0))+")"})).attr("x",0).attr("y",0).attr("width",I).attr("height",(function(e,t){var n=g(e,t),r=v(e,t);return n>r?f(r)-f(n):f(n)-f(r)}))})),e}var n,r,i,o,a,l={top:0,right:0,bottom:0,left:0},s=null,c=null,u=Math.floor(1e4*Math.random()),d=d3.scale.linear(),f=d3.scale.linear(),m=function(e){return e.x},p=function(e){return e.y},g=function(e){return e.open},v=function(e){return e.close},h=function(e){return e.high},b=function(e){return e.low},y=[],E=[],S=!1,_=!0,w=t.utils.defaultColor(),A=!1,T=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return e.highlightPoint=function(t,r){e.clearHighlights(),n.select(".nv-candlestickBar .nv-tick-0-"+t).classed("hover",r)},e.clearHighlights=function(){n.select(".nv-candlestickBar .nv-tick.hover").classed("hover",!1)},e.dispatch=T,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return s},set:function(e){s=e}},height:{get:function(){return c},set:function(e){c=e}},xScale:{get:function(){return d},set:function(e){d=e}},yScale:{get:function(){return f},set:function(e){f=e}},xDomain:{get:function(){return r},set:function(e){r=e}},yDomain:{get:function(){return i},set:function(e){i=e}},xRange:{get:function(){return o},set:function(e){o=e}},yRange:{get:function(){return a},set:function(e){a=e}},forceX:{get:function(){return y},set:function(e){y=e}},forceY:{get:function(){return E},set:function(e){E=e}},padData:{get:function(){return S},set:function(e){S=e}},clipEdge:{get:function(){return _},set:function(e){_=e}},id:{get:function(){return u},set:function(e){u=e}},interactive:{get:function(){return A},set:function(e){A=e}},x:{get:function(){return m},set:function(e){m=e}},y:{get:function(){return p},set:function(e){p=e}},open:{get:function(){return g()},set:function(e){g=e}},close:{get:function(){return v()},set:function(e){v=e}},high:{get:function(){return h},set:function(e){h=e}},low:{get:function(){return b},set:function(e){b=e}},margin:{get:function(){return l},set:function(e){l.top=null!=e.top?e.top:l.top,l.right=null!=e.right?e.right:l.right,l.bottom=null!=e.bottom?e.bottom:l.bottom,l.left=null!=e.left?e.left:l.left}},color:{get:function(){return w},set:function(e){w=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.cumulativeLineChart=function(){"use strict";function e(d){return N.reset(),N.models(o),h&&N.models(a),b&&N.models(l),d.each((function(d){function I(){X.data([R]);var t=e.duration();e.duration(0),e.update(),e.duration(t)}var M=d3.select(this);t.utils.initSVG(M),M.classed("nv-chart-"+w,!0);var N,k=this,G=t.utils.availableWidth(p,M,f),F=t.utils.availableHeight(g,M,f);if(e.update=function(){0===D?M.call(e):M.transition().duration(D).call(e)},e.container=this,A.setter(P(d),e.update).getter(L(d)).update(),A.disabled=d.map((function(e){return!!e.disabled})),!T)for(N in T={},A)A[N]instanceof Array?T[N]=A[N].slice(0):T[N]=A[N];var U=d3.behavior.drag().on("dragstart",(function(t,n){d3.select(e.container).style("cursor","ew-resize")})).on("drag",(function(e,t){R.x=d3.event.x,R.i=Math.round(O.invert(R.x)),I()})).on("dragend",(function(t,n){d3.select(e.container).style("cursor","auto"),A.index=R.i,x.stateChange(A)}));if(!(d&&d.length&&d.filter((function(e){return e.values.length})).length))return t.utils.noData(e,M),e;if(M.selectAll(".nv-noData").remove(),r=o.xScale(),i=o.yScale(),_)o.yDomain(null);else{var V=d.filter((function(e){return!e.disabled})).map((function(e,t){var n=d3.extent(e.values,o.y());return n[0]<-.95&&(n[0]=-.95),[(n[0]-n[1])/(1+n[1]),(n[1]-n[0])/(1+n[0])]})),z=[d3.min(V,(function(e){return e[0]})),d3.max(V,(function(e){return e[1]}))];o.yDomain(z)}O.domain([0,d[0].values.length-1]).range([0,G]).clamp(!0);d=n(R.i,d);var B=S?"none":"all",$=M.selectAll("g.nv-wrap.nv-cumulativeLine").data([d]),W=$.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),H=$.select("g");if(W.append("g").attr("class","nv-interactive"),W.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),W.append("g").attr("class","nv-y nv-axis"),W.append("g").attr("class","nv-background"),W.append("g").attr("class","nv-linesWrap").style("pointer-events",B),W.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),W.append("g").attr("class","nv-legendWrap"),W.append("g").attr("class","nv-controlsWrap"),v&&(s.width(G),H.select(".nv-legendWrap").datum(d).call(s),f.top!=s.height()&&(f.top=s.height(),F=t.utils.availableHeight(g,M,f)),H.select(".nv-legendWrap").attr("transform","translate(0,"+-f.top+")")),E){var j=[{key:"Re-scale y-axis",disabled:!_}];c.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),H.select(".nv-controlsWrap").datum(j).attr("transform","translate(0,"+-f.top+")").call(c)}$.attr("transform","translate("+f.left+","+f.top+")"),y&&H.select(".nv-y.nv-axis").attr("transform","translate("+G+",0)");var q=d.filter((function(e){return e.tempDisabled}));$.select(".tempDisabled").remove(),q.length&&$.append("text").attr("class","tempDisabled").attr("x",G/2).attr("y","-.71em").style("text-anchor","end").text(q.map((function(e){return e.key})).join(", ")+" values cannot be calculated for this time period."),S&&(u.width(G).height(F).margin({left:f.left,top:f.top}).svgContainer(M).xScale(r),$.select(".nv-interactive").call(u)),W.select(".nv-background").append("rect"),H.select(".nv-background rect").attr("width",G).attr("height",F),o.y((function(e){return e.display.y})).width(G).height(F).color(d.map((function(e,t){return e.color||m(e,t)})).filter((function(e,t){return!d[t].disabled&&!d[t].tempDisabled})));var Y=H.select(".nv-linesWrap").datum(d.filter((function(e){return!e.disabled&&!e.tempDisabled})));Y.call(o),d.forEach((function(e,t){e.seriesIndex=t}));var K=d.filter((function(e){return!e.disabled&&!!C(e)})),Q=H.select(".nv-avgLinesWrap").selectAll("line").data(K,(function(e){return e.key})),Z=function(e){var t=i(C(e));return t<0?0:t>F?F:t};Q.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",(function(e,t){return o.color()(e,e.seriesIndex)})).attr("x1",0).attr("x2",G).attr("y1",Z).attr("y2",Z),Q.style("stroke-opacity",(function(e){var t=i(C(e));return t<0||t>F?0:1})).attr("x1",0).attr("x2",G).attr("y1",Z).attr("y2",Z),Q.exit().remove();var X=Y.selectAll(".nv-indexLine").data([R]);X.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(U),X.attr("transform",(function(e){return"translate("+O(e.i)+",0)"})).attr("height",F),h&&(a.scale(r)._ticks(t.utils.calcTicksX(G/70,d)).tickSize(-F,0),H.select(".nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),H.select(".nv-x.nv-axis").call(a)),b&&(l.scale(i)._ticks(t.utils.calcTicksY(F/36,d)).tickSize(-G,0),H.select(".nv-y.nv-axis").call(l)),H.select(".nv-background rect").on("click",(function(){R.x=d3.mouse(this)[0],R.i=Math.round(O.invert(R.x)),A.index=R.i,x.stateChange(A),I()})),o.dispatch.on("elementClick",(function(e){R.i=e.pointIndex,R.x=O(R.i),A.index=R.i,x.stateChange(A),I()})),c.dispatch.on("legendClick",(function(t,n){t.disabled=!t.disabled,_=!t.disabled,A.rescaleY=_,x.stateChange(A),e.update()})),s.dispatch.on("stateChange",(function(t){for(var n in t)A[n]=t[n];x.stateChange(A),e.update()})),u.dispatch.on("elementMousemove",(function(n){o.clearHighlights();var r,i,s,c=[];if(d.filter((function(e,t){return e.seriesIndex=t,!e.disabled})).forEach((function(a,l){i=t.interactiveBisect(a.values,n.pointXValue,e.x()),o.highlightPoint(l,i,!0);var u=a.values[i];void 0!==u&&(void 0===r&&(r=u),void 0===s&&(s=e.xScale()(e.x()(u,i))),c.push({key:a.key,value:e.y()(u,i),color:m(a,a.seriesIndex)}))})),c.length>2){var p=e.yScale().invert(n.mouseY),g=.03*Math.abs(e.yScale().domain()[0]-e.yScale().domain()[1]),v=t.nearestValueIndex(c.map((function(e){return e.value})),p,g);null!==v&&(c[v].highlight=!0)}var h=a.tickFormat()(e.x()(r,i),i);u.tooltip.position({left:s+f.left,top:n.mouseY+f.top}).chartContainer(k.parentNode).valueFormatter((function(e,t){return l.tickFormat()(e)})).data({value:h,series:c})(),u.renderGuideLine(s)})),u.dispatch.on("elementMouseout",(function(e){o.clearHighlights()})),x.on("changeState",(function(t){void 0!==t.disabled&&(d.forEach((function(e,n){e.disabled=t.disabled[n]})),A.disabled=t.disabled),void 0!==t.index&&(R.i=t.index,R.x=O(R.i),A.index=t.index,X.data([R])),void 0!==t.rescaleY&&(_=t.rescaleY),e.update()}))})),N.renderEnd("cumulativeLineChart immediate"),e}function n(e,t){return k||(k=o.y()),t.map((function(t,n){if(!t.values)return t;var r=t.values[e];if(null==r)return t;var i=k(r,e);return i<-.95&&!M?(t.tempDisabled=!0,t):(t.tempDisabled=!1,t.values=t.values.map((function(e,t){return e.display={y:(k(e,t)-i)/(1+i)},e})),t)}))}var r,i,o=t.models.line(),a=t.models.axis(),l=t.models.axis(),s=t.models.legend(),c=t.models.legend(),u=t.interactiveGuideline(),d=t.models.tooltip(),f={top:30,right:30,bottom:50,left:60},m=t.utils.defaultColor(),p=null,g=null,v=!0,h=!0,b=!0,y=!1,E=!0,S=!1,_=!0,w=o.id(),A=t.utils.state(),T=null,I=null,C=function(e){return e.average},x=d3.dispatch("stateChange","changeState","renderEnd"),D=250,M=!1;A.index=0,A.rescaleY=_,a.orient("bottom").tickPadding(7),l.orient(y?"right":"left"),d.valueFormatter((function(e,t){return l.tickFormat()(e,t)})).headerFormatter((function(e,t){return a.tickFormat()(e,t)})),c.updateState(!1);var O=d3.scale.linear(),R={i:0,x:0},N=t.utils.renderWatch(x,D),L=function(e){return function(){return{active:e.map((function(e){return!e.disabled})),index:R.i,rescaleY:_}}},P=function(e){return function(t){void 0!==t.index&&(R.i=t.index),void 0!==t.rescaleY&&(_=t.rescaleY),void 0!==t.active&&e.forEach((function(e,n){e.disabled=!t.active[n]}))}};o.dispatch.on("elementMouseover.tooltip",(function(t){var n={x:e.x()(t.point),y:e.y()(t.point),color:t.point.color};t.point=n,d.data(t).position(t.pos).hidden(!1)})),o.dispatch.on("elementMouseout.tooltip",(function(e){d.hidden(!0)}));var k=null;return e.dispatch=x,e.lines=o,e.legend=s,e.controls=c,e.xAxis=a,e.yAxis=l,e.interactiveLayer=u,e.state=A,e.tooltip=d,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return p},set:function(e){p=e}},height:{get:function(){return g},set:function(e){g=e}},rescaleY:{get:function(){return _},set:function(e){_=e}},showControls:{get:function(){return E},set:function(e){E=e}},showLegend:{get:function(){return v},set:function(e){v=e}},average:{get:function(){return C},set:function(e){C=e}},defaultState:{get:function(){return T},set:function(e){T=e}},noData:{get:function(){return I},set:function(e){I=e}},showXAxis:{get:function(){return h},set:function(e){h=e}},showYAxis:{get:function(){return b},set:function(e){b=e}},noErrorCheck:{get:function(){return M},set:function(e){M=e}},tooltips:{get:function(){return d.enabled()},set:function(e){t.deprecated("tooltips","use chart.tooltip.enabled() instead"),d.enabled(!!e)}},tooltipContent:{get:function(){return d.contentGenerator()},set:function(e){t.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),d.contentGenerator(e)}},margin:{get:function(){return f},set:function(e){f.top=void 0!==e.top?e.top:f.top,f.right=void 0!==e.right?e.right:f.right,f.bottom=void 0!==e.bottom?e.bottom:f.bottom,f.left=void 0!==e.left?e.left:f.left}},color:{get:function(){return m},set:function(e){m=t.utils.getColor(e),s.color(m)}},useInteractiveGuideline:{get:function(){return S},set:function(t){S=t,!0===t&&(e.interactive(!1),e.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return y},set:function(e){y=e,l.orient(e?"right":"left")}},duration:{get:function(){return D},set:function(e){D=e,o.duration(D),a.duration(D),l.duration(D),N.reset(D)}}}),t.utils.inheritOptions(e,o),t.utils.initOptions(e),e},t.models.discreteBar=function(){"use strict";function e(f){return A.reset(),f.each((function(e){var f=u-c.left-c.right,w=d-c.top-c.bottom;n=d3.select(this),t.utils.initSVG(n),e.forEach((function(e,t){e.values.forEach((function(e){e.series=t}))}));var T=r&&i?[]:e.map((function(e){return e.values.map((function(e,t){return{x:g(e,t),y:v(e,t),y0:e.y0}}))}));m.domain(r||d3.merge(T).map((function(e){return e.x}))).rangeBands(o||[0,f],.1),p.domain(i||d3.extent(d3.merge(T).map((function(e){return e.y})).concat(h))),y?p.range(a||[w-(p.domain()[0]<0?12:0),p.domain()[1]>0?12:0]):p.range(a||[w,0]),l=l||m,s=s||p.copy().range([p(0),p(0)]);var I=n.selectAll("g.nv-wrap.nv-discretebar").data([e]),C=I.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar").append("g");I.select("g"),C.append("g").attr("class","nv-groups"),I.attr("transform","translate("+c.left+","+c.top+")");var x=I.select(".nv-groups").selectAll(".nv-group").data((function(e){return e}),(function(e){return e.key}));x.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),x.exit().watchTransition(A,"discreteBar: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),x.attr("class",(function(e,t){return"nv-group nv-series-"+t})).classed("hover",(function(e){return e.hover})),x.watchTransition(A,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75);var D=x.selectAll("g.nv-bar").data((function(e){return e.values}));D.exit().remove();var M=D.enter().append("g").attr("transform",(function(e,t,n){return"translate("+(m(g(e,t))+.05*m.rangeBand())+", "+p(0)+")"})).on("mouseover",(function(e,t){d3.select(this).classed("hover",!0),S.elementMouseover({data:e,index:t,color:d3.select(this).style("fill")})})).on("mouseout",(function(e,t){d3.select(this).classed("hover",!1),S.elementMouseout({data:e,index:t,color:d3.select(this).style("fill")})})).on("mousemove",(function(e,t){S.elementMousemove({data:e,index:t,color:d3.select(this).style("fill")})})).on("click",(function(e,t){S.elementClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation()})).on("dblclick",(function(e,t){S.elementDblClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}));M.append("rect").attr("height",0).attr("width",.9*m.rangeBand()/e.length),y?(M.append("text").attr("text-anchor","middle"),D.select("text").text((function(e,t){return E(v(e,t))})).watchTransition(A,"discreteBar: bars text").attr("x",.9*m.rangeBand()/2).attr("y",(function(e,t){return v(e,t)<0?p(v(e,t))-p(0)+12:-4}))):D.selectAll("text").remove(),D.attr("class",(function(e,t){return v(e,t)<0?"nv-bar negative":"nv-bar positive"})).style("fill",(function(e,t){return e.color||b(e,t)})).style("stroke",(function(e,t){return e.color||b(e,t)})).select("rect").attr("class",_).watchTransition(A,"discreteBar: bars rect").attr("width",.9*m.rangeBand()/e.length),D.watchTransition(A,"discreteBar: bars").attr("transform",(function(e,t){return"translate("+(m(g(e,t))+.05*m.rangeBand())+", "+(v(e,t)<0?p(0):p(0)-p(v(e,t))<1?p(0)-1:p(v(e,t)))+")"})).select("rect").attr("height",(function(e,t){return Math.max(Math.abs(p(v(e,t))-p(i&&i[0]||0))||1)})),l=m.copy(),s=p.copy()})),A.renderEnd("discreteBar immediate"),e}var n,r,i,o,a,l,s,c={top:0,right:0,bottom:0,left:0},u=960,d=500,f=Math.floor(1e4*Math.random()),m=d3.scale.ordinal(),p=d3.scale.linear(),g=function(e){return e.x},v=function(e){return e.y},h=[0],b=t.utils.defaultColor(),y=!1,E=d3.format(",.2f"),S=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),_="discreteBar",w=250,A=t.utils.renderWatch(S,w);return e.dispatch=S,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return u},set:function(e){u=e}},height:{get:function(){return d},set:function(e){d=e}},forceY:{get:function(){return h},set:function(e){h=e}},showValues:{get:function(){return y},set:function(e){y=e}},x:{get:function(){return g},set:function(e){g=e}},y:{get:function(){return v},set:function(e){v=e}},xScale:{get:function(){return m},set:function(e){m=e}},yScale:{get:function(){return p},set:function(e){p=e}},xDomain:{get:function(){return r},set:function(e){r=e}},yDomain:{get:function(){return i},set:function(e){i=e}},xRange:{get:function(){return o},set:function(e){o=e}},yRange:{get:function(){return a},set:function(e){a=e}},valueFormat:{get:function(){return E},set:function(e){E=e}},id:{get:function(){return f},set:function(e){f=e}},rectClass:{get:function(){return _},set:function(e){_=e}},margin:{get:function(){return c},set:function(e){c.top=void 0!==e.top?e.top:c.top,c.right=void 0!==e.right?e.right:c.right,c.bottom=void 0!==e.bottom?e.bottom:c.bottom,c.left=void 0!==e.left?e.left:c.left}},color:{get:function(){return b},set:function(e){b=t.utils.getColor(e)}},duration:{get:function(){return w},set:function(e){w=e,A.reset(w)}}}),t.utils.initOptions(e),e},t.models.discreteBarChart=function(){"use strict";function e(l){return y.reset(),y.models(i),f&&y.models(o),m&&y.models(a),l.each((function(l){var d=d3.select(this);t.utils.initSVG(d);var v=t.utils.availableWidth(c,d,s),y=t.utils.availableHeight(u,d,s);if(e.update=function(){h.beforeUpdate(),d.transition().duration(b).call(e)},e.container=this,!(l&&l.length&&l.filter((function(e){return e.values.length})).length))return t.utils.noData(e,d),e;d.selectAll(".nv-noData").remove(),n=i.xScale(),r=i.yScale().clamp(!0);var E=d.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([l]),S=E.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),_=S.append("defs"),w=E.select("g");S.append("g").attr("class","nv-x nv-axis"),S.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),S.append("g").attr("class","nv-barsWrap"),w.attr("transform","translate("+s.left+","+s.top+")"),p&&w.select(".nv-y.nv-axis").attr("transform","translate("+v+",0)"),i.width(v).height(y);var A=w.select(".nv-barsWrap").datum(l.filter((function(e){return!e.disabled})));if(A.transition().call(i),_.append("clipPath").attr("id","nv-x-label-clip-"+i.id()).append("rect"),w.select("#nv-x-label-clip-"+i.id()+" rect").attr("width",n.rangeBand()*(g?2:1)).attr("height",16).attr("x",-n.rangeBand()/(g?1:2)),f){o.scale(n)._ticks(t.utils.calcTicksX(v/100,l)).tickSize(-y,0),w.select(".nv-x.nv-axis").attr("transform","translate(0,"+(r.range()[0]+(i.showValues()&&r.domain()[0]<0?16:0))+")"),w.select(".nv-x.nv-axis").call(o);var T=w.select(".nv-x.nv-axis").selectAll("g");g&&T.selectAll("text").attr("transform",(function(e,t,n){return"translate(0,"+(n%2==0?"5":"17")+")"}))}m&&(a.scale(r)._ticks(t.utils.calcTicksY(y/36,l)).tickSize(-v,0),w.select(".nv-y.nv-axis").call(a)),w.select(".nv-zeroLine line").attr("x1",0).attr("x2",v).attr("y1",r(0)).attr("y2",r(0))})),y.renderEnd("discreteBar chart immediate"),e}var n,r,i=t.models.discreteBar(),o=t.models.axis(),a=t.models.axis(),l=t.models.tooltip(),s={top:15,right:10,bottom:50,left:60},c=null,u=null,d=t.utils.getColor(),f=!0,m=!0,p=!1,g=!1,v=null,h=d3.dispatch("beforeUpdate","renderEnd"),b=250;o.orient("bottom").showMaxMin(!1).tickFormat((function(e){return e})),a.orient(p?"right":"left").tickFormat(d3.format(",.1f")),l.duration(0).headerEnabled(!1).valueFormatter((function(e,t){return a.tickFormat()(e,t)})).keyFormatter((function(e,t){return o.tickFormat()(e,t)}));var y=t.utils.renderWatch(h,b);return i.dispatch.on("elementMouseover.tooltip",(function(t){t.series={key:e.x()(t.data),value:e.y()(t.data),color:t.color},l.data(t).hidden(!1)})),i.dispatch.on("elementMouseout.tooltip",(function(e){l.hidden(!0)})),i.dispatch.on("elementMousemove.tooltip",(function(e){l.position({top:d3.event.pageY,left:d3.event.pageX})()})),e.dispatch=h,e.discretebar=i,e.xAxis=o,e.yAxis=a,e.tooltip=l,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return c},set:function(e){c=e}},height:{get:function(){return u},set:function(e){u=e}},staggerLabels:{get:function(){return g},set:function(e){g=e}},showXAxis:{get:function(){return f},set:function(e){f=e}},showYAxis:{get:function(){return m},set:function(e){m=e}},noData:{get:function(){return v},set:function(e){v=e}},tooltips:{get:function(){return l.enabled()},set:function(e){t.deprecated("tooltips","use chart.tooltip.enabled() instead"),l.enabled(!!e)}},tooltipContent:{get:function(){return l.contentGenerator()},set:function(e){t.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),l.contentGenerator(e)}},margin:{get:function(){return s},set:function(e){s.top=void 0!==e.top?e.top:s.top,s.right=void 0!==e.right?e.right:s.right,s.bottom=void 0!==e.bottom?e.bottom:s.bottom,s.left=void 0!==e.left?e.left:s.left}},duration:{get:function(){return b},set:function(e){b=e,y.reset(b),i.duration(b),o.duration(b),a.duration(b)}},color:{get:function(){return d},set:function(e){d=t.utils.getColor(e),i.color(d)}},rightAlignYAxis:{get:function(){return p},set:function(e){p=e,a.orient(e?"right":"left")}}}),t.utils.inheritOptions(e,i),t.utils.initOptions(e),e},t.models.distribution=function(){"use strict";function e(i){return f.reset(),i.each((function(e){var i=("x"===a?(r.left,r.right):(r.top,r.bottom),"x"==a?"y":"x"),u=d3.select(this);t.utils.initSVG(u),n=n||c;var d=u.selectAll("g.nv-distribution").data([e]),m=(d.enter().append("g").attr("class","nvd3 nv-distribution").append("g"),d.select("g"));d.attr("transform","translate("+r.left+","+r.top+")");var p=m.selectAll("g.nv-dist").data((function(e){return e}),(function(e){return e.key}));p.enter().append("g"),p.attr("class",(function(e,t){return"nv-dist nv-series-"+t})).style("stroke",(function(e,t){return s(e,t)}));var g=p.selectAll("line.nv-dist"+a).data((function(e){return e.values}));g.enter().append("line").attr(a+"1",(function(e,t){return n(l(e,t))})).attr(a+"2",(function(e,t){return n(l(e,t))})),f.transition(p.exit().selectAll("line.nv-dist"+a),"dist exit").attr(a+"1",(function(e,t){return c(l(e,t))})).attr(a+"2",(function(e,t){return c(l(e,t))})).style("stroke-opacity",0).remove(),g.attr("class",(function(e,t){return"nv-dist"+a+" nv-dist"+a+"-"+t})).attr(i+"1",0).attr(i+"2",o),f.transition(g,"dist").attr(a+"1",(function(e,t){return c(l(e,t))})).attr(a+"2",(function(e,t){return c(l(e,t))})),n=c.copy()})),f.renderEnd("distribution immediate"),e}var n,r={top:0,right:0,bottom:0,left:0},i=400,o=8,a="x",l=function(e){return e[a]},s=t.utils.defaultColor(),c=d3.scale.linear(),u=250,d=d3.dispatch("renderEnd"),f=t.utils.renderWatch(d,u);return e.options=t.utils.optionsFunc.bind(e),e.dispatch=d,e.margin=function(t){return arguments.length?(r.top=void 0!==t.top?t.top:r.top,r.right=void 0!==t.right?t.right:r.right,r.bottom=void 0!==t.bottom?t.bottom:r.bottom,r.left=void 0!==t.left?t.left:r.left,e):r},e.width=function(t){return arguments.length?(i=t,e):i},e.axis=function(t){return arguments.length?(a=t,e):a},e.size=function(t){return arguments.length?(o=t,e):o},e.getData=function(t){return arguments.length?(l=d3.functor(t),e):l},e.scale=function(t){return arguments.length?(c=t,e):c},e.color=function(n){return arguments.length?(s=t.utils.getColor(n),e):s},e.duration=function(t){return arguments.length?(u=t,f.reset(u),e):u},e},t.models.furiousLegend=function(){"use strict";function e(g){function v(e,t){return"furious"!=p?"#000":f?e.disengaged?a(e,t):"#fff":f?void 0:e.disabled?a(e,t):"#fff"}function h(e,t){return f&&"furious"==p?e.disengaged?"#fff":a(e,t):e.disabled?"#fff":a(e,t)}return g.each((function(e){var g=r-n.left-n.right,b=d3.select(this);t.utils.initSVG(b);var y=b.selectAll("g.nv-legend").data([e]),E=(y.enter().append("g").attr("class","nvd3 nv-legend").append("g"),y.select("g"));y.attr("transform","translate("+n.left+","+n.top+")");var S,_=E.selectAll(".nv-series").data((function(e){return"furious"!=p?e:e.filter((function(e){return!!f||!e.disengaged}))})),w=_.enter().append("g").attr("class","nv-series");if("classic"==p)w.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),S=_.select("circle");else if("furious"==p){w.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),S=_.select("rect"),w.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),_.select(".nv-check-box").each((function(e,t){d3.select(this).selectAll("path").attr("stroke",v(e,t))}))}w.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var A,T=_.select("text.nv-legend-text");switch(_.on("mouseover",(function(e,t){m.legendMouseover(e,t)})).on("mouseout",(function(e,t){m.legendMouseout(e,t)})).on("click",(function(e,t){m.legendClick(e,t);var n=_.data();if(u){if("classic"==p)d?(n.forEach((function(e){e.disabled=!0})),e.disabled=!1):(e.disabled=!e.disabled,n.every((function(e){return e.disabled}))&&n.forEach((function(e){e.disabled=!1})));else if("furious"==p)if(f)e.disengaged=!e.disengaged,e.userDisabled=null==e.userDisabled?!!e.disabled:e.userDisabled,e.disabled=e.disengaged||e.userDisabled;else if(!f){e.disabled=!e.disabled,e.userDisabled=e.disabled;var r=n.filter((function(e){return!e.disengaged}));r.every((function(e){return e.userDisabled}))&&n.forEach((function(e){e.disabled=e.userDisabled=!1}))}m.stateChange({disabled:n.map((function(e){return!!e.disabled})),disengaged:n.map((function(e){return!!e.disengaged}))})}})).on("dblclick",(function(e,t){if(("furious"!=p||!f)&&(m.legendDblclick(e,t),u)){var n=_.data();n.forEach((function(e){e.disabled=!0,"furious"==p&&(e.userDisabled=e.disabled)})),e.disabled=!1,"furious"==p&&(e.userDisabled=e.disabled),m.stateChange({disabled:n.map((function(e){return!!e.disabled}))})}})),_.classed("nv-disabled",(function(e){return e.userDisabled})),_.exit().remove(),T.attr("fill",v).text(o),p){case"furious":A=23;break;case"classic":A=20}if(l){var I=[];_.each((function(e,n){var r,i=d3.select(this).select("text");try{if((r=i.node().getComputedTextLength())<=0)throw Error()}catch(e){r=t.utils.calcApproxTextWidth(i)}I.push(r+s)}));for(var C=0,x=0,D=[];x<g&&C<I.length;)D[C]=I[C],x+=I[C++];for(0===C&&(C=1);x>g&&C>1;){D=[],C--;for(var M=0;M<I.length;M++)I[M]>(D[M%C]||0)&&(D[M%C]=I[M]);x=D.reduce((function(e,t,n,r){return e+t}))}for(var O=[],R=0,N=0;R<C;R++)O[R]=N,N+=D[R];_.attr("transform",(function(e,t){return"translate("+O[t%C]+","+(5+Math.floor(t/C)*A)+")"})),c?E.attr("transform","translate("+(r-n.right-x)+","+n.top+")"):E.attr("transform","translate(0,"+n.top+")"),i=n.top+n.bottom+Math.ceil(I.length/C)*A}else{var L,P=5,k=5,G=0;_.attr("transform",(function(e,t){var i=d3.select(this).select("text").node().getComputedTextLength()+s;return L=k,r<n.left+n.right+L+i&&(k=L=5,P+=A),(k+=i)>G&&(G=k),"translate("+L+","+P+")"})),E.attr("transform","translate("+(r-n.right-G)+","+n.top+")"),i=n.top+n.bottom+P+15}"furious"==p&&S.attr("width",(function(e,t){return T[0][t].getComputedTextLength()+27})).attr("height",18).attr("y",-9).attr("x",-15),S.style("fill",h).style("stroke",(function(e,t){return e.color||a(e,t)}))})),e}var n={top:5,right:0,bottom:5,left:0},r=400,i=20,o=function(e){return e.key},a=t.utils.getColor(),l=!0,s=28,c=!0,u=!0,d=!1,f=!1,m=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),p="classic";return e.dispatch=m,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return r},set:function(e){r=e}},height:{get:function(){return i},set:function(e){i=e}},key:{get:function(){return o},set:function(e){o=e}},align:{get:function(){return l},set:function(e){l=e}},rightAlign:{get:function(){return c},set:function(e){c=e}},padding:{get:function(){return s},set:function(e){s=e}},updateState:{get:function(){return u},set:function(e){u=e}},radioButtonMode:{get:function(){return d},set:function(e){d=e}},expanded:{get:function(){return f},set:function(e){f=e}},vers:{get:function(){return p},set:function(e){p=e}},margin:{get:function(){return n},set:function(e){n.top=void 0!==e.top?e.top:n.top,n.right=void 0!==e.right?e.right:n.right,n.bottom=void 0!==e.bottom?e.bottom:n.bottom,n.left=void 0!==e.left?e.left:n.left}},color:{get:function(){return a},set:function(e){a=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.historicalBar=function(){"use strict";function e(w){return w.each((function(e){_.reset(),u=d3.select(this);var w=t.utils.availableWidth(l,u,a),A=t.utils.availableHeight(s,u,a);t.utils.initSVG(u),d.domain(n||d3.extent(e[0].values.map(m).concat(g))),h?d.range(i||[.5*w/e[0].values.length,w*(e[0].values.length-.5)/e[0].values.length]):d.range(i||[0,w]),f.domain(r||d3.extent(e[0].values.map(p).concat(v))).range(o||[A,0]),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]+.01*f.domain()[0],f.domain()[1]-.01*f.domain()[1]]):f.domain([-1,1]));var T=u.selectAll("g.nv-wrap.nv-historicalBar-"+c).data([e[0].values]),I=T.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+c),C=I.append("defs"),x=I.append("g"),D=T.select("g");x.append("g").attr("class","nv-bars"),T.attr("transform","translate("+a.left+","+a.top+")"),u.on("click",(function(e,t){E.chartClick({data:e,index:t,pos:d3.event,id:c})})),C.append("clipPath").attr("id","nv-chart-clip-path-"+c).append("rect"),T.select("#nv-chart-clip-path-"+c+" rect").attr("width",w).attr("height",A),D.attr("clip-path",b?"url(#nv-chart-clip-path-"+c+")":"");var M=T.select(".nv-bars").selectAll(".nv-bar").data((function(e){return e}),(function(e,t){return m(e,t)}));M.exit().remove(),M.enter().append("rect").attr("x",0).attr("y",(function(e,n){return t.utils.NaNtoZero(f(Math.max(0,p(e,n))))})).attr("height",(function(e,n){return t.utils.NaNtoZero(Math.abs(f(p(e,n))-f(0)))})).attr("transform",(function(t,n){return"translate("+(d(m(t,n))-w/e[0].values.length*.45)+",0)"})).on("mouseover",(function(e,t){S&&(d3.select(this).classed("hover",!0),E.elementMouseover({data:e,index:t,color:d3.select(this).style("fill")}))})).on("mouseout",(function(e,t){S&&(d3.select(this).classed("hover",!1),E.elementMouseout({data:e,index:t,color:d3.select(this).style("fill")}))})).on("mousemove",(function(e,t){S&&E.elementMousemove({data:e,index:t,color:d3.select(this).style("fill")})})).on("click",(function(e,t){S&&(E.elementClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation())})).on("dblclick",(function(e,t){S&&(E.elementDblClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation())})),M.attr("fill",(function(e,t){return y(e,t)})).attr("class",(function(e,t,n){return(p(e,t)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+n+"-"+t})).watchTransition(_,"bars").attr("transform",(function(t,n){return"translate("+(d(m(t,n))-w/e[0].values.length*.45)+",0)"})).attr("width",w/e[0].values.length*.9),M.watchTransition(_,"bars").attr("y",(function(e,n){var r=p(e,n)<0?f(0):f(0)-f(p(e,n))<1?f(0)-1:f(p(e,n));return t.utils.NaNtoZero(r)})).attr("height",(function(e,n){return t.utils.NaNtoZero(Math.max(Math.abs(f(p(e,n))-f(0)),1))}))})),_.renderEnd("historicalBar immediate"),e}var n,r,i,o,a={top:0,right:0,bottom:0,left:0},l=null,s=null,c=Math.floor(1e4*Math.random()),u=null,d=d3.scale.linear(),f=d3.scale.linear(),m=function(e){return e.x},p=function(e){return e.y},g=[],v=[0],h=!1,b=!0,y=t.utils.defaultColor(),E=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),S=!0,_=t.utils.renderWatch(E,0);return e.highlightPoint=function(e,t){u.select(".nv-bars .nv-bar-0-"+e).classed("hover",t)},e.clearHighlights=function(){u.select(".nv-bars .nv-bar.hover").classed("hover",!1)},e.dispatch=E,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return l},set:function(e){l=e}},height:{get:function(){return s},set:function(e){s=e}},forceX:{get:function(){return g},set:function(e){g=e}},forceY:{get:function(){return v},set:function(e){v=e}},padData:{get:function(){return h},set:function(e){h=e}},x:{get:function(){return m},set:function(e){m=e}},y:{get:function(){return p},set:function(e){p=e}},xScale:{get:function(){return d},set:function(e){d=e}},yScale:{get:function(){return f},set:function(e){f=e}},xDomain:{get:function(){return n},set:function(e){n=e}},yDomain:{get:function(){return r},set:function(e){r=e}},xRange:{get:function(){return i},set:function(e){i=e}},yRange:{get:function(){return o},set:function(e){o=e}},clipEdge:{get:function(){return b},set:function(e){b=e}},id:{get:function(){return c},set:function(e){c=e}},interactive:{get:function(){return S},set:function(e){S=e}},margin:{get:function(){return a},set:function(e){a.top=void 0!==e.top?e.top:a.top,a.right=void 0!==e.right?e.right:a.right,a.bottom=void 0!==e.bottom?e.bottom:a.bottom,a.left=void 0!==e.left?e.left:a.left}},color:{get:function(){return y},set:function(e){y=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.historicalBarChart=function(e){"use strict";function n(e){return e.each((function(u){T.reset(),T.models(o),v&&T.models(a),h&&T.models(l);var _=d3.select(this),I=this;t.utils.initSVG(_);var C,x=t.utils.availableWidth(m,_,d),D=t.utils.availableHeight(p,_,d);if(n.update=function(){_.transition().duration(A).call(n)},n.container=this,E.disabled=u.map((function(e){return!!e.disabled})),!S)for(C in S={},E)E[C]instanceof Array?S[C]=E[C].slice(0):S[C]=E[C];if(!(u&&u.length&&u.filter((function(e){return e.values.length})).length))return t.utils.noData(n,_),n;_.selectAll(".nv-noData").remove(),r=o.xScale(),i=o.yScale();var M=_.selectAll("g.nv-wrap.nv-historicalBarChart").data([u]),O=M.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),R=M.select("g");O.append("g").attr("class","nv-x nv-axis"),O.append("g").attr("class","nv-y nv-axis"),O.append("g").attr("class","nv-barsWrap"),O.append("g").attr("class","nv-legendWrap"),O.append("g").attr("class","nv-interactive"),g&&(s.width(x),R.select(".nv-legendWrap").datum(u).call(s),d.top!=s.height()&&(d.top=s.height(),D=t.utils.availableHeight(p,_,d)),M.select(".nv-legendWrap").attr("transform","translate(0,"+-d.top+")")),M.attr("transform","translate("+d.left+","+d.top+")"),b&&R.select(".nv-y.nv-axis").attr("transform","translate("+x+",0)"),y&&(c.width(x).height(D).margin({left:d.left,top:d.top}).svgContainer(_).xScale(r),M.select(".nv-interactive").call(c)),o.width(x).height(D).color(u.map((function(e,t){return e.color||f(e,t)})).filter((function(e,t){return!u[t].disabled})));var N=R.select(".nv-barsWrap").datum(u.filter((function(e){return!e.disabled})));N.transition().call(o),v&&(a.scale(r)._ticks(t.utils.calcTicksX(x/100,u)).tickSize(-D,0),R.select(".nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),R.select(".nv-x.nv-axis").transition().call(a)),h&&(l.scale(i)._ticks(t.utils.calcTicksY(D/36,u)).tickSize(-x,0),R.select(".nv-y.nv-axis").transition().call(l)),c.dispatch.on("elementMousemove",(function(e){o.clearHighlights();var r,i,s,m=[];u.filter((function(e,t){return e.seriesIndex=t,!e.disabled})).forEach((function(a,l){i=t.interactiveBisect(a.values,e.pointXValue,n.x()),o.highlightPoint(i,!0);var c=a.values[i];void 0!==c&&(void 0===r&&(r=c),void 0===s&&(s=n.xScale()(n.x()(c,i))),m.push({key:a.key,value:n.y()(c,i),color:f(a,a.seriesIndex),data:a.values[i]}))}));var p=a.tickFormat()(n.x()(r,i));c.tooltip.position({left:s+d.left,top:e.mouseY+d.top}).chartContainer(I.parentNode).valueFormatter((function(e,t){return l.tickFormat()(e)})).data({value:p,index:i,series:m})(),c.renderGuideLine(s)})),c.dispatch.on("elementMouseout",(function(e){w.tooltipHide(),o.clearHighlights()})),s.dispatch.on("legendClick",(function(t,r){t.disabled=!t.disabled,u.filter((function(e){return!e.disabled})).length||u.map((function(e){return e.disabled=!1,M.selectAll(".nv-series").classed("disabled",!1),e})),E.disabled=u.map((function(e){return!!e.disabled})),w.stateChange(E),e.transition().call(n)})),s.dispatch.on("legendDblclick",(function(e){u.forEach((function(e){e.disabled=!0})),e.disabled=!1,E.disabled=u.map((function(e){return!!e.disabled})),w.stateChange(E),n.update()})),w.on("changeState",(function(e){void 0!==e.disabled&&(u.forEach((function(t,n){t.disabled=e.disabled[n]})),E.disabled=e.disabled),n.update()}))})),T.renderEnd("historicalBarChart immediate"),n}var r,i,o=e||t.models.historicalBar(),a=t.models.axis(),l=t.models.axis(),s=t.models.legend(),c=t.interactiveGuideline(),u=t.models.tooltip(),d={top:30,right:90,bottom:50,left:90},f=t.utils.defaultColor(),m=null,p=null,g=!1,v=!0,h=!0,b=!1,y=!1,E={},S=null,_=null,w=d3.dispatch("tooltipHide","stateChange","changeState","renderEnd"),A=250;a.orient("bottom").tickPadding(7),l.orient(b?"right":"left"),u.duration(0).headerEnabled(!1).valueFormatter((function(e,t){return l.tickFormat()(e,t)})).headerFormatter((function(e,t){return a.tickFormat()(e,t)}));var T=t.utils.renderWatch(w,0);return o.dispatch.on("elementMouseover.tooltip",(function(e){e.series={key:n.x()(e.data),value:n.y()(e.data),color:e.color},u.data(e).hidden(!1)})),o.dispatch.on("elementMouseout.tooltip",(function(e){u.hidden(!0)})),o.dispatch.on("elementMousemove.tooltip",(function(e){u.position({top:d3.event.pageY,left:d3.event.pageX})()})),n.dispatch=w,n.bars=o,n.legend=s,n.xAxis=a,n.yAxis=l,n.interactiveLayer=c,n.tooltip=u,n.options=t.utils.optionsFunc.bind(n),n._options=Object.create({},{width:{get:function(){return m},set:function(e){m=e}},height:{get:function(){return p},set:function(e){p=e}},showLegend:{get:function(){return g},set:function(e){g=e}},showXAxis:{get:function(){return v},set:function(e){v=e}},showYAxis:{get:function(){return h},set:function(e){h=e}},defaultState:{get:function(){return S},set:function(e){S=e}},noData:{get:function(){return _},set:function(e){_=e}},tooltips:{get:function(){return u.enabled()},set:function(e){t.deprecated("tooltips","use chart.tooltip.enabled() instead"),u.enabled(!!e)}},tooltipContent:{get:function(){return u.contentGenerator()},set:function(e){t.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),u.contentGenerator(e)}},margin:{get:function(){return d},set:function(e){d.top=void 0!==e.top?e.top:d.top,d.right=void 0!==e.right?e.right:d.right,d.bottom=void 0!==e.bottom?e.bottom:d.bottom,d.left=void 0!==e.left?e.left:d.left}},color:{get:function(){return f},set:function(e){f=t.utils.getColor(e),s.color(f),o.color(f)}},duration:{get:function(){return A},set:function(e){A=e,T.reset(A),l.duration(A),a.duration(A)}},rightAlignYAxis:{get:function(){return b},set:function(e){b=e,l.orient(e?"right":"left")}},useInteractiveGuideline:{get:function(){return y},set:function(e){y=e,!0===e&&n.interactive(!1)}}}),t.utils.inheritOptions(n,o),t.utils.initOptions(n),n},t.models.ohlcBarChart=function(){var e=t.models.historicalBarChart(t.models.ohlcBar());return e.useInteractiveGuideline(!0),e.interactiveLayer.tooltip.contentGenerator((function(t){var n=t.series[0].data;return'<h3 style="color: #'+(n.open<n.close?"2ca02c":"d62728")+'">'+t.value+"</h3><table><tr><td>open:</td><td>"+e.yAxis.tickFormat()(n.open)+"</td></tr><tr><td>close:</td><td>"+e.yAxis.tickFormat()(n.close)+"</td></tr><tr><td>high</td><td>"+e.yAxis.tickFormat()(n.high)+"</td></tr><tr><td>low:</td><td>"+e.yAxis.tickFormat()(n.low)+"</td></tr></table>"})),e},t.models.candlestickBarChart=function(){var e=t.models.historicalBarChart(t.models.candlestickBar());return e.useInteractiveGuideline(!0),e.interactiveLayer.tooltip.contentGenerator((function(t){var n=t.series[0].data;return'<h3 style="color: #'+(n.open<n.close?"2ca02c":"d62728")+'">'+t.value+"</h3><table><tr><td>open:</td><td>"+e.yAxis.tickFormat()(n.open)+"</td></tr><tr><td>close:</td><td>"+e.yAxis.tickFormat()(n.close)+"</td></tr><tr><td>high</td><td>"+e.yAxis.tickFormat()(n.high)+"</td></tr><tr><td>low:</td><td>"+e.yAxis.tickFormat()(n.low)+"</td></tr></table>"})),e},t.models.legend=function(){"use strict";function e(g){function v(e,t){return"furious"!=p?"#000":f?e.disengaged?"#000":"#fff":f?void 0:(e.color||(e.color=a(e,t)),e.disabled?e.color:"#fff")}function h(e,t){return f&&"furious"==p&&e.disengaged?"#eee":e.color||a(e,t)}function b(e,t){return f&&"furious"==p?1:e.disabled?0:1}return g.each((function(e){var a=r-n.left-n.right,g=d3.select(this);t.utils.initSVG(g);var y=g.selectAll("g.nv-legend").data([e]),E=y.enter().append("g").attr("class","nvd3 nv-legend").append("g"),S=y.select("g");y.attr("transform","translate("+n.left+","+n.top+")");var _,w,A=S.selectAll(".nv-series").data((function(e){return"furious"!=p?e:e.filter((function(e){return!!f||!e.disengaged}))})),T=A.enter().append("g").attr("class","nv-series");switch(p){case"furious":w=23;break;case"classic":w=20}if("classic"==p)T.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),_=A.select("circle");else if("furious"==p){T.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),_=A.select(".nv-legend-symbol"),T.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),A.select(".nv-check-box").each((function(e,t){d3.select(this).selectAll("path").attr("stroke",v(e,t))}))}T.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var I=A.select("text.nv-legend-text");A.on("mouseover",(function(e,t){m.legendMouseover(e,t)})).on("mouseout",(function(e,t){m.legendMouseout(e,t)})).on("click",(function(e,t){m.legendClick(e,t);var n=A.data();if(u){if("classic"==p)d?(n.forEach((function(e){e.disabled=!0})),e.disabled=!1):(e.disabled=!e.disabled,n.every((function(e){return e.disabled}))&&n.forEach((function(e){e.disabled=!1})));else if("furious"==p)if(f)e.disengaged=!e.disengaged,e.userDisabled=null==e.userDisabled?!!e.disabled:e.userDisabled,e.disabled=e.disengaged||e.userDisabled;else if(!f){e.disabled=!e.disabled,e.userDisabled=e.disabled;var r=n.filter((function(e){return!e.disengaged}));r.every((function(e){return e.userDisabled}))&&n.forEach((function(e){e.disabled=e.userDisabled=!1}))}m.stateChange({disabled:n.map((function(e){return!!e.disabled})),disengaged:n.map((function(e){return!!e.disengaged}))})}})).on("dblclick",(function(e,t){if(("furious"!=p||!f)&&(m.legendDblclick(e,t),u)){var n=A.data();n.forEach((function(e){e.disabled=!0,"furious"==p&&(e.userDisabled=e.disabled)})),e.disabled=!1,"furious"==p&&(e.userDisabled=e.disabled),m.stateChange({disabled:n.map((function(e){return!!e.disabled}))})}})),A.classed("nv-disabled",(function(e){return e.userDisabled})),A.exit().remove(),I.attr("fill",v).text(o);var C=0;if(l){var x=[];A.each((function(e,n){var r,i=d3.select(this).select("text");try{if((r=i.node().getComputedTextLength())<=0)throw Error()}catch(e){r=t.utils.calcApproxTextWidth(i)}x.push(r+s)}));var D=0,M=[];for(C=0;C<a&&D<x.length;)M[D]=x[D],C+=x[D++];for(0===D&&(D=1);C>a&&D>1;){M=[],D--;for(var O=0;O<x.length;O++)x[O]>(M[O%D]||0)&&(M[O%D]=x[O]);C=M.reduce((function(e,t,n,r){return e+t}))}for(var R=[],N=0,L=0;N<D;N++)R[N]=L,L+=M[N];A.attr("transform",(function(e,t){return"translate("+R[t%D]+","+(5+Math.floor(t/D)*w)+")"})),c?S.attr("transform","translate("+(r-n.right-C)+","+n.top+")"):S.attr("transform","translate(0,"+n.top+")"),i=n.top+n.bottom+Math.ceil(x.length/D)*w}else{var P,k=5,G=5,F=0;A.attr("transform",(function(e,t){var i=d3.select(this).select("text").node().getComputedTextLength()+s;return P=G,r<n.left+n.right+P+i&&(G=P=5,k+=w),(G+=i)>F&&(F=G),C<P+F&&(C=P+F),"translate("+P+","+k+")"})),S.attr("transform","translate("+(r-n.right-F)+","+n.top+")"),i=n.top+n.bottom+k+15}"furious"==p&&(_.attr("width",(function(e,t){return I[0][t].getComputedTextLength()+27})).attr("height",18).attr("y",-9).attr("x",-15),E.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0),S.select(".nv-legend-bg").transition().duration(300).attr("x",-w).attr("width",C+w-12).attr("height",i+10).attr("y",-n.top-10).attr("opacity",f?1:0));_.style("fill",h).style("fill-opacity",b).style("stroke",h)})),e}var n={top:5,right:0,bottom:5,left:0},r=400,i=20,o=function(e){return e.key},a=t.utils.getColor(),l=!0,s=32,c=!0,u=!0,d=!1,f=!1,m=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),p="classic";return e.dispatch=m,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return r},set:function(e){r=e}},height:{get:function(){return i},set:function(e){i=e}},key:{get:function(){return o},set:function(e){o=e}},align:{get:function(){return l},set:function(e){l=e}},rightAlign:{get:function(){return c},set:function(e){c=e}},padding:{get:function(){return s},set:function(e){s=e}},updateState:{get:function(){return u},set:function(e){u=e}},radioButtonMode:{get:function(){return d},set:function(e){d=e}},expanded:{get:function(){return f},set:function(e){f=e}},vers:{get:function(){return p},set:function(e){p=e}},margin:{get:function(){return n},set:function(e){n.top=void 0!==e.top?e.top:n.top,n.right=void 0!==e.right?e.right:n.right,n.bottom=void 0!==e.bottom?e.bottom:n.bottom,n.left=void 0!==e.left?e.left:n.left}},color:{get:function(){return a},set:function(e){a=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.line=function(){"use strict";function e(h){return S.reset(),S.models(i),h.each((function(e){s=d3.select(this);var h=t.utils.availableWidth(a,s,o),b=t.utils.availableHeight(l,s,o);t.utils.initSVG(s),n=i.xScale(),r=i.yScale(),y=y||n,E=E||r;var _=s.selectAll("g.nv-wrap.nv-line").data([e]),w=_.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),A=w.append("defs"),T=w.append("g"),I=_.select("g");T.append("g").attr("class","nv-groups"),T.append("g").attr("class","nv-scatterWrap"),_.attr("transform","translate("+o.left+","+o.top+")"),i.width(h).height(b);var C=_.select(".nv-scatterWrap");C.call(i),A.append("clipPath").attr("id","nv-edge-clip-"+i.id()).append("rect"),_.select("#nv-edge-clip-"+i.id()+" rect").attr("width",h).attr("height",b>0?b:0),I.attr("clip-path",g?"url(#nv-edge-clip-"+i.id()+")":""),C.attr("clip-path",g?"url(#nv-edge-clip-"+i.id()+")":"");var x=_.select(".nv-groups").selectAll(".nv-group").data((function(e){return e}),(function(e){return e.key}));x.enter().append("g").style("stroke-opacity",1e-6).style("stroke-width",(function(e){return e.strokeWidth||c})).style("fill-opacity",1e-6),x.exit().remove(),x.attr("class",(function(e,t){return(e.classed||"")+" nv-group nv-series-"+t})).classed("hover",(function(e){return e.hover})).style("fill",(function(e,t){return u(e,t)})).style("stroke",(function(e,t){return u(e,t)})),x.watchTransition(S,"line: groups").style("stroke-opacity",1).style("fill-opacity",(function(e){return e.fillOpacity||.5}));var D=x.selectAll("path.nv-area").data((function(e){return p(e)?[e]:[]}));D.enter().append("path").attr("class","nv-area").attr("d",(function(e){return d3.svg.area().interpolate(v).defined(m).x((function(e,n){return t.utils.NaNtoZero(y(d(e,n)))})).y0((function(e,n){return t.utils.NaNtoZero(E(f(e,n)))})).y1((function(e,t){return E(r.domain()[0]<=0?r.domain()[1]>=0?0:r.domain()[1]:r.domain()[0])})).apply(this,[e.values])})),x.exit().selectAll("path.nv-area").remove(),D.watchTransition(S,"line: areaPaths").attr("d",(function(e){return d3.svg.area().interpolate(v).defined(m).x((function(e,r){return t.utils.NaNtoZero(n(d(e,r)))})).y0((function(e,n){return t.utils.NaNtoZero(r(f(e,n)))})).y1((function(e,t){return r(r.domain()[0]<=0?r.domain()[1]>=0?0:r.domain()[1]:r.domain()[0])})).apply(this,[e.values])}));var M=x.selectAll("path.nv-line").data((function(e){return[e.values]}));M.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(v).defined(m).x((function(e,n){return t.utils.NaNtoZero(y(d(e,n)))})).y((function(e,n){return t.utils.NaNtoZero(E(f(e,n)))}))),M.watchTransition(S,"line: linePaths").attr("d",d3.svg.line().interpolate(v).defined(m).x((function(e,r){return t.utils.NaNtoZero(n(d(e,r)))})).y((function(e,n){return t.utils.NaNtoZero(r(f(e,n)))}))),y=n.copy(),E=r.copy()})),S.renderEnd("line immediate"),e}var n,r,i=t.models.scatter(),o={top:0,right:0,bottom:0,left:0},a=960,l=500,s=null,c=1.5,u=t.utils.defaultColor(),d=function(e){return e.x},f=function(e){return e.y},m=function(e,t){return!isNaN(f(e,t))&&null!==f(e,t)},p=function(e){return e.area},g=!1,v="linear",h=250,b=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");i.pointSize(16).pointDomain([16,256]);var y,E,S=t.utils.renderWatch(b,h);return e.dispatch=b,e.scatter=i,i.dispatch.on("elementClick",(function(){b.elementClick.apply(this,arguments)})),i.dispatch.on("elementMouseover",(function(){b.elementMouseover.apply(this,arguments)})),i.dispatch.on("elementMouseout",(function(){b.elementMouseout.apply(this,arguments)})),e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return a},set:function(e){a=e}},height:{get:function(){return l},set:function(e){l=e}},defined:{get:function(){return m},set:function(e){m=e}},interpolate:{get:function(){return v},set:function(e){v=e}},clipEdge:{get:function(){return g},set:function(e){g=e}},margin:{get:function(){return o},set:function(e){o.top=void 0!==e.top?e.top:o.top,o.right=void 0!==e.right?e.right:o.right,o.bottom=void 0!==e.bottom?e.bottom:o.bottom,o.left=void 0!==e.left?e.left:o.left}},duration:{get:function(){return h},set:function(e){h=e,S.reset(h),i.duration(h)}},isArea:{get:function(){return p},set:function(e){p=d3.functor(e)}},x:{get:function(){return d},set:function(e){d=e,i.x(e)}},y:{get:function(){return f},set:function(e){f=e,i.y(e)}},color:{get:function(){return u},set:function(e){u=t.utils.getColor(e),i.color(u)}}}),t.utils.inheritOptions(e,i),t.utils.initOptions(e),e},t.models.lineChart=function(){"use strict";function e(c){return A.reset(),A.models(i),g&&A.models(o),v&&A.models(a),c.each((function(c){var S=d3.select(this),A=this;t.utils.initSVG(S);var C,x=t.utils.availableWidth(f,S,u),D=t.utils.availableHeight(m,S,u);if(e.update=function(){0===w?S.call(e):S.transition().duration(w).call(e)},e.container=this,y.setter(I(c),e.update).getter(T(c)).update(),y.disabled=c.map((function(e){return!!e.disabled})),!E)for(C in E={},y)y[C]instanceof Array?E[C]=y[C].slice(0):E[C]=y[C];if(!(c&&c.length&&c.filter((function(e){return e.values.length})).length))return t.utils.noData(e,S),e;S.selectAll(".nv-noData").remove(),n=i.xScale(),r=i.yScale();var M=S.selectAll("g.nv-wrap.nv-lineChart").data([c]),O=M.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),R=M.select("g");O.append("rect").style("opacity",0),O.append("g").attr("class","nv-x nv-axis"),O.append("g").attr("class","nv-y nv-axis"),O.append("g").attr("class","nv-linesWrap"),O.append("g").attr("class","nv-legendWrap"),O.append("g").attr("class","nv-interactive"),R.select("rect").attr("width",x).attr("height",D>0?D:0),p&&(l.width(x),R.select(".nv-legendWrap").datum(c).call(l),u.top!=l.height()&&(u.top=l.height(),D=t.utils.availableHeight(m,S,u)),M.select(".nv-legendWrap").attr("transform","translate(0,"+-u.top+")")),M.attr("transform","translate("+u.left+","+u.top+")"),h&&R.select(".nv-y.nv-axis").attr("transform","translate("+x+",0)"),b&&(s.width(x).height(D).margin({left:u.left,top:u.top}).svgContainer(S).xScale(n),M.select(".nv-interactive").call(s)),i.width(x).height(D).color(c.map((function(e,t){return e.color||d(e,t)})).filter((function(e,t){return!c[t].disabled})));var N=R.select(".nv-linesWrap").datum(c.filter((function(e){return!e.disabled})));N.call(i),g&&(o.scale(n)._ticks(t.utils.calcTicksX(x/100,c)).tickSize(-D,0),R.select(".nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),R.select(".nv-x.nv-axis").call(o)),v&&(a.scale(r)._ticks(t.utils.calcTicksY(D/36,c)).tickSize(-x,0),R.select(".nv-y.nv-axis").call(a)),l.dispatch.on("stateChange",(function(t){for(var n in t)y[n]=t[n];_.stateChange(y),e.update()})),s.dispatch.on("elementMousemove",(function(n){i.clearHighlights();var r,l,f,m=[];if(c.filter((function(e,t){return e.seriesIndex=t,!e.disabled})).forEach((function(o,a){l=t.interactiveBisect(o.values,n.pointXValue,e.x());var s=o.values[l],c=e.y()(s,l);null!=c&&i.highlightPoint(a,l,!0),void 0!==s&&(void 0===r&&(r=s),void 0===f&&(f=e.xScale()(e.x()(s,l))),m.push({key:o.key,value:c,color:d(o,o.seriesIndex)}))})),m.length>2){var p=e.yScale().invert(n.mouseY),g=.03*Math.abs(e.yScale().domain()[0]-e.yScale().domain()[1]),v=t.nearestValueIndex(m.map((function(e){return e.value})),p,g);null!==v&&(m[v].highlight=!0)}var h=o.tickFormat()(e.x()(r,l));s.tooltip.position({left:n.mouseX+u.left,top:n.mouseY+u.top}).chartContainer(A.parentNode).valueFormatter((function(e,t){return null==e?"N/A":a.tickFormat()(e)})).data({value:h,index:l,series:m})(),s.renderGuideLine(f)})),s.dispatch.on("elementClick",(function(n){var r,o=[];c.filter((function(e,t){return e.seriesIndex=t,!e.disabled})).forEach((function(i){var a=t.interactiveBisect(i.values,n.pointXValue,e.x()),l=i.values[a];if(void 0!==l){void 0===r&&(r=e.xScale()(e.x()(l,a)));var s=e.yScale()(e.y()(l,a));o.push({point:l,pointIndex:a,pos:[r,s],seriesIndex:i.seriesIndex,series:i})}})),i.dispatch.elementClick(o)})),s.dispatch.on("elementMouseout",(function(e){i.clearHighlights()})),_.on("changeState",(function(t){void 0!==t.disabled&&c.length===t.disabled.length&&(c.forEach((function(e,n){e.disabled=t.disabled[n]})),y.disabled=t.disabled),e.update()}))})),A.renderEnd("lineChart immediate"),e}var n,r,i=t.models.line(),o=t.models.axis(),a=t.models.axis(),l=t.models.legend(),s=t.interactiveGuideline(),c=t.models.tooltip(),u={top:30,right:20,bottom:50,left:60},d=t.utils.defaultColor(),f=null,m=null,p=!0,g=!0,v=!0,h=!1,b=!1,y=t.utils.state(),E=null,S=null,_=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),w=250;o.orient("bottom").tickPadding(7),a.orient(h?"right":"left"),c.valueFormatter((function(e,t){return a.tickFormat()(e,t)})).headerFormatter((function(e,t){return o.tickFormat()(e,t)}));var A=t.utils.renderWatch(_,w),T=function(e){return function(){return{active:e.map((function(e){return!e.disabled}))}}},I=function(e){return function(t){void 0!==t.active&&e.forEach((function(e,n){e.disabled=!t.active[n]}))}};return i.dispatch.on("elementMouseover.tooltip",(function(e){c.data(e).position(e.pos).hidden(!1)})),i.dispatch.on("elementMouseout.tooltip",(function(e){c.hidden(!0)})),e.dispatch=_,e.lines=i,e.legend=l,e.xAxis=o,e.yAxis=a,e.interactiveLayer=s,e.tooltip=c,e.dispatch=_,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return f},set:function(e){f=e}},height:{get:function(){return m},set:function(e){m=e}},showLegend:{get:function(){return p},set:function(e){p=e}},showXAxis:{get:function(){return g},set:function(e){g=e}},showYAxis:{get:function(){return v},set:function(e){v=e}},defaultState:{get:function(){return E},set:function(e){E=e}},noData:{get:function(){return S},set:function(e){S=e}},tooltips:{get:function(){return c.enabled()},set:function(e){t.deprecated("tooltips","use chart.tooltip.enabled() instead"),c.enabled(!!e)}},tooltipContent:{get:function(){return c.contentGenerator()},set:function(e){t.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),c.contentGenerator(e)}},margin:{get:function(){return u},set:function(e){u.top=void 0!==e.top?e.top:u.top,u.right=void 0!==e.right?e.right:u.right,u.bottom=void 0!==e.bottom?e.bottom:u.bottom,u.left=void 0!==e.left?e.left:u.left}},duration:{get:function(){return w},set:function(e){w=e,A.reset(w),i.duration(w),o.duration(w),a.duration(w)}},color:{get:function(){return d},set:function(e){d=t.utils.getColor(e),l.color(d),i.color(d)}},rightAlignYAxis:{get:function(){return h},set:function(e){h=e,a.orient(h?"right":"left")}},useInteractiveGuideline:{get:function(){return b},set:function(e){(b=e)&&(i.interactive(!1),i.useVoronoi(!1))}}}),t.utils.inheritOptions(e,i),t.utils.initOptions(e),e},t.models.linePlusBarChart=function(){"use strict";function e(S){return S.each((function(S){function P(){L=E.empty()?null:E.extent(),n=E.empty()?i.domain():E.extent(),k.brush({extent:n,brush:E}),E.empty()||E.extent(L),se.data([E.empty()?i.domain():L]).each((function(e,t){var n=i(e[0])-i.range()[0],r=i.range()[1]-i(e[1]);d3.select(this).select(".left").attr("width",n<0?0:n),d3.select(this).select(".right").attr("x",i(e[1])).attr("width",r<0?0:r)})),d.width(j).height(q).color(S.map((function(e,t){return e.color||x(e,t)})).filter((function(e,t){return!S[t].disabled&&S[t].bar}))),c.width(j).height(q).color(S.map((function(e,t){return e.color||x(e,t)})).filter((function(e,t){return!S[t].disabled&&!S[t].bar})));var e=te.select(".nv-focus .nv-barsWrap").datum(K.length?K.map((function(e,t){return{key:e.key,values:e.values.filter((function(e,t){return d.x()(e,t)>=n[0]&&d.x()(e,t)<=n[1]}))}})):[{values:[]}]),l=te.select(".nv-focus .nv-linesWrap").datum(Q[0].disabled?[{values:[]}]:Q.map((function(e,t){return{area:e.area,fillOpacity:e.fillOpacity,key:e.key,values:e.values.filter((function(e,t){return c.x()(e,t)>=n[0]&&c.x()(e,t)<=n[1]}))}})));r=K.length?d.xScale():c.xScale(),m.scale(r)._ticks(t.utils.calcTicksX(j/100,S)).tickSize(-q,0),m.domain([Math.ceil(n[0]),Math.floor(n[1])]),te.select(".nv-x.nv-axis").transition().duration(G).call(m),e.transition().duration(G).call(d),l.transition().duration(G).call(c),te.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")"),g.scale(o)._ticks(t.utils.calcTicksY(q/36,S)).tickSize(-j,0),v.scale(a)._ticks(t.utils.calcTicksY(q/36,S)).tickSize(K.length?0:-j,0),te.select(".nv-focus .nv-y1.nv-axis").style("opacity",K.length?1:0),te.select(".nv-focus .nv-y2.nv-axis").style("opacity",Q.length&&!Q[0].disabled?1:0).attr("transform","translate("+r.range()[1]+",0)"),te.select(".nv-focus .nv-y1.nv-axis").transition().duration(G).call(g),te.select(".nv-focus .nv-y2.nv-axis").transition().duration(G).call(v)}var W=d3.select(this);t.utils.initSVG(W);var H,j=t.utils.availableWidth(A,W,_),q=t.utils.availableHeight(T,W,_)-(M?N:0),Y=N-w.top-w.bottom;if(e.update=function(){W.transition().duration(G).call(e)},e.container=this,F.setter($(S),e.update).getter(B(S)).update(),F.disabled=S.map((function(e){return!!e.disabled})),!U)for(H in U={},F)F[H]instanceof Array?U[H]=F[H].slice(0):U[H]=F[H];if(!(S&&S.length&&S.filter((function(e){return e.values.length})).length))return t.utils.noData(e,W),e;W.selectAll(".nv-noData").remove();var K=S.filter((function(e){return!e.disabled&&e.bar})),Q=S.filter((function(e){return!e.bar}));r=d.xScale(),i=p.scale(),o=d.yScale(),a=c.yScale(),l=f.yScale(),s=u.yScale();var Z=S.filter((function(e){return!e.disabled&&e.bar})).map((function(e){return e.values.map((function(e,t){return{x:I(e,t),y:C(e,t)}}))})),X=S.filter((function(e){return!e.disabled&&!e.bar})).map((function(e){return e.values.map((function(e,t){return{x:I(e,t),y:C(e,t)}}))}));r.range([0,j]),i.domain(d3.extent(d3.merge(Z.concat(X)),(function(e){return e.x}))).range([0,j]);var J=W.selectAll("g.nv-wrap.nv-linePlusBar").data([S]),ee=J.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),te=J.select("g");ee.append("g").attr("class","nv-legendWrap");var ne=ee.append("g").attr("class","nv-focus");ne.append("g").attr("class","nv-x nv-axis"),ne.append("g").attr("class","nv-y1 nv-axis"),ne.append("g").attr("class","nv-y2 nv-axis"),ne.append("g").attr("class","nv-barsWrap"),ne.append("g").attr("class","nv-linesWrap");var re=ee.append("g").attr("class","nv-context");if(re.append("g").attr("class","nv-x nv-axis"),re.append("g").attr("class","nv-y1 nv-axis"),re.append("g").attr("class","nv-y2 nv-axis"),re.append("g").attr("class","nv-barsWrap"),re.append("g").attr("class","nv-linesWrap"),re.append("g").attr("class","nv-brushBackground"),re.append("g").attr("class","nv-x nv-brush"),D){var ie=y.align()?j/2:j,oe=y.align()?ie:0;y.width(ie),te.select(".nv-legendWrap").datum(S.map((function(e){return e.originalKey=void 0===e.originalKey?e.key:e.originalKey,e.key=e.originalKey+(e.bar?V:z),e}))).call(y),_.top!=y.height()&&(_.top=y.height(),q=t.utils.availableHeight(T,W,_)-N),te.select(".nv-legendWrap").attr("transform","translate("+oe+","+-_.top+")")}J.attr("transform","translate("+_.left+","+_.top+")"),te.select(".nv-context").style("display",M?"initial":"none"),f.width(j).height(Y).color(S.map((function(e,t){return e.color||x(e,t)})).filter((function(e,t){return!S[t].disabled&&S[t].bar}))),u.width(j).height(Y).color(S.map((function(e,t){return e.color||x(e,t)})).filter((function(e,t){return!S[t].disabled&&!S[t].bar})));var ae=te.select(".nv-context .nv-barsWrap").datum(K.length?K:[{values:[]}]),le=te.select(".nv-context .nv-linesWrap").datum(Q[0].disabled?[{values:[]}]:Q);te.select(".nv-context").attr("transform","translate(0,"+(q+_.bottom+w.top)+")"),ae.transition().call(f),le.transition().call(u),R&&(p._ticks(t.utils.calcTicksX(j/100,S)).tickSize(-Y,0),te.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+l.range()[0]+")"),te.select(".nv-context .nv-x.nv-axis").transition().call(p)),O&&(h.scale(l)._ticks(Y/36).tickSize(-j,0),b.scale(s)._ticks(Y/36).tickSize(K.length?0:-j,0),te.select(".nv-context .nv-y3.nv-axis").style("opacity",K.length?1:0).attr("transform","translate(0,"+i.range()[0]+")"),te.select(".nv-context .nv-y2.nv-axis").style("opacity",Q.length?1:0).attr("transform","translate("+i.range()[1]+",0)"),te.select(".nv-context .nv-y1.nv-axis").transition().call(h),te.select(".nv-context .nv-y2.nv-axis").transition().call(b)),E.x(i).on("brush",P),L&&E.extent(L);var se=te.select(".nv-brushBackground").selectAll("g").data([L||E.extent()]),ce=se.enter().append("g");ce.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",Y),ce.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",Y);var ue=te.select(".nv-x.nv-brush").call(E);ue.selectAll("rect").attr("height",Y),ue.selectAll(".resize").append("path").attr("d",(function(e){var t=+("e"==e),n=t?1:-1,r=Y/3;return"M"+.5*n+","+r+"A6,6 0 0 "+t+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+t+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)})),y.dispatch.on("stateChange",(function(t){for(var n in t)F[n]=t[n];k.stateChange(F),e.update()})),k.on("changeState",(function(t){void 0!==t.disabled&&(S.forEach((function(e,n){e.disabled=t.disabled[n]})),F.disabled=t.disabled),e.update()})),P()})),e}var n,r,i,o,a,l,s,c=t.models.line(),u=t.models.line(),d=t.models.historicalBar(),f=t.models.historicalBar(),m=t.models.axis(),p=t.models.axis(),g=t.models.axis(),v=t.models.axis(),h=t.models.axis(),b=t.models.axis(),y=t.models.legend(),E=d3.svg.brush(),S=t.models.tooltip(),_={top:30,right:30,bottom:30,left:60},w={top:0,right:30,bottom:20,left:60},A=null,T=null,I=function(e){return e.x},C=function(e){return e.y},x=t.utils.defaultColor(),D=!0,M=!0,O=!1,R=!0,N=50,L=null,P=null,k=d3.dispatch("brush","stateChange","changeState"),G=0,F=t.utils.state(),U=null,V=" (left axis)",z=" (right axis)";c.clipEdge(!0),u.interactive(!1),m.orient("bottom").tickPadding(5),g.orient("left"),v.orient("right"),p.orient("bottom").tickPadding(5),h.orient("left"),b.orient("right"),S.headerEnabled(!0).headerFormatter((function(e,t){return m.tickFormat()(e,t)}));var B=function(e){return function(){return{active:e.map((function(e){return!e.disabled}))}}},$=function(e){return function(t){void 0!==t.active&&e.forEach((function(e,n){e.disabled=!t.active[n]}))}};return c.dispatch.on("elementMouseover.tooltip",(function(e){S.duration(100).valueFormatter((function(e,t){return v.tickFormat()(e,t)})).data(e).position(e.pos).hidden(!1)})),c.dispatch.on("elementMouseout.tooltip",(function(e){S.hidden(!0)})),d.dispatch.on("elementMouseover.tooltip",(function(t){t.value=e.x()(t.data),t.series={value:e.y()(t.data),color:t.color},S.duration(0).valueFormatter((function(e,t){return g.tickFormat()(e,t)})).data(t).hidden(!1)})),d.dispatch.on("elementMouseout.tooltip",(function(e){S.hidden(!0)})),d.dispatch.on("elementMousemove.tooltip",(function(e){S.position({top:d3.event.pageY,left:d3.event.pageX})()})),e.dispatch=k,e.legend=y,e.lines=c,e.lines2=u,e.bars=d,e.bars2=f,e.xAxis=m,e.x2Axis=p,e.y1Axis=g,e.y2Axis=v,e.y3Axis=h,e.y4Axis=b,e.tooltip=S,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return A},set:function(e){A=e}},height:{get:function(){return T},set:function(e){T=e}},showLegend:{get:function(){return D},set:function(e){D=e}},brushExtent:{get:function(){return L},set:function(e){L=e}},noData:{get:function(){return P},set:function(e){P=e}},focusEnable:{get:function(){return M},set:function(e){M=e}},focusHeight:{get:function(){return N},set:function(e){N=e}},focusShowAxisX:{get:function(){return R},set:function(e){R=e}},focusShowAxisY:{get:function(){return O},set:function(e){O=e}},legendLeftAxisHint:{get:function(){return V},set:function(e){V=e}},legendRightAxisHint:{get:function(){return z},set:function(e){z=e}},tooltips:{get:function(){return S.enabled()},set:function(e){t.deprecated("tooltips","use chart.tooltip.enabled() instead"),S.enabled(!!e)}},tooltipContent:{get:function(){return S.contentGenerator()},set:function(e){t.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),S.contentGenerator(e)}},margin:{get:function(){return _},set:function(e){_.top=void 0!==e.top?e.top:_.top,_.right=void 0!==e.right?e.right:_.right,_.bottom=void 0!==e.bottom?e.bottom:_.bottom,_.left=void 0!==e.left?e.left:_.left}},duration:{get:function(){return G},set:function(e){G=e}},color:{get:function(){return x},set:function(e){x=t.utils.getColor(e),y.color(x)}},x:{get:function(){return I},set:function(e){I=e,c.x(e),u.x(e),d.x(e),f.x(e)}},y:{get:function(){return C},set:function(e){C=e,c.y(e),u.y(e),d.y(e),f.y(e)}}}),t.utils.inheritOptions(e,c),t.utils.initOptions(e),e},t.models.lineWithFocusChart=function(){"use strict";function e(p){return p.each((function(p){function T(){A=m.empty()?null:m.extent();var e=m.empty()?i.domain():m.extent();if(!(Math.abs(e[0]-e[1])<=1)){I.brush({extent:e,brush:m}),m.empty()||m.extent(A),W.data([m.empty()?i.domain():A]).each((function(e,t){var r=i(e[0])-n.range()[0],o=P-i(e[1]);d3.select(this).select(".left").attr("width",r<0?0:r),d3.select(this).select(".right").attr("x",i(e[1])).attr("width",o<0?0:o)}));var t=V.select(".nv-focus .nv-linesWrap").datum(p.filter((function(e){return!e.disabled})).map((function(t,n){return{key:t.key,area:t.area,values:t.values.filter((function(t,n){return a.x()(t,n)>=e[0]&&a.x()(t,n)<=e[1]}))}})));t.transition().duration(C).call(a),V.select(".nv-focus .nv-x.nv-axis").transition().duration(C).call(s),V.select(".nv-focus .nv-y.nv-axis").transition().duration(C).call(c)}}var R=d3.select(this),N=this;t.utils.initSVG(R);var L,P=t.utils.availableWidth(y,R,v),k=t.utils.availableHeight(E,R,v)-S,G=S-h.top-h.bottom;if(e.update=function(){R.transition().duration(C).call(e)},e.container=this,x.setter(O(p),e.update).getter(M(p)).update(),x.disabled=p.map((function(e){return!!e.disabled})),!D)for(L in D={},x)x[L]instanceof Array?D[L]=x[L].slice(0):D[L]=x[L];if(!(p&&p.length&&p.filter((function(e){return e.values.length})).length))return t.utils.noData(e,R),e;R.selectAll(".nv-noData").remove(),n=a.xScale(),r=a.yScale(),i=l.xScale(),o=l.yScale();var F=R.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([p]),U=F.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g"),V=F.select("g");U.append("g").attr("class","nv-legendWrap");var z=U.append("g").attr("class","nv-focus");z.append("g").attr("class","nv-x nv-axis"),z.append("g").attr("class","nv-y nv-axis"),z.append("g").attr("class","nv-linesWrap"),z.append("g").attr("class","nv-interactive");var B=U.append("g").attr("class","nv-context");B.append("g").attr("class","nv-x nv-axis"),B.append("g").attr("class","nv-y nv-axis"),B.append("g").attr("class","nv-linesWrap"),B.append("g").attr("class","nv-brushBackground"),B.append("g").attr("class","nv-x nv-brush"),w&&(f.width(P),V.select(".nv-legendWrap").datum(p).call(f),v.top!=f.height()&&(v.top=f.height(),k=t.utils.availableHeight(E,R,v)-S),V.select(".nv-legendWrap").attr("transform","translate(0,"+-v.top+")")),F.attr("transform","translate("+v.left+","+v.top+")"),_&&(g.width(P).height(k).margin({left:v.left,top:v.top}).svgContainer(R).xScale(n),F.select(".nv-interactive").call(g)),a.width(P).height(k).color(p.map((function(e,t){return e.color||b(e,t)})).filter((function(e,t){return!p[t].disabled}))),l.defined(a.defined()).width(P).height(G).color(p.map((function(e,t){return e.color||b(e,t)})).filter((function(e,t){return!p[t].disabled}))),V.select(".nv-context").attr("transform","translate(0,"+(k+v.bottom+h.top)+")");var $=V.select(".nv-context .nv-linesWrap").datum(p.filter((function(e){return!e.disabled})));d3.transition($).call(l),s.scale(n)._ticks(t.utils.calcTicksX(P/100,p)).tickSize(-k,0),c.scale(r)._ticks(t.utils.calcTicksY(k/36,p)).tickSize(-P,0),V.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+k+")"),m.x(i).on("brush",(function(){T()})),A&&m.extent(A);var W=V.select(".nv-brushBackground").selectAll("g").data([A||m.extent()]),H=W.enter().append("g");H.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",G),H.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",G);var j=V.select(".nv-x.nv-brush").call(m);j.selectAll("rect").attr("height",G),j.selectAll(".resize").append("path").attr("d",(function(e){var t=+("e"==e),n=t?1:-1,r=G/3;return"M"+.5*n+","+r+"A6,6 0 0 "+t+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+t+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)})),T(),u.scale(i)._ticks(t.utils.calcTicksX(P/100,p)).tickSize(-G,0),V.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")"),d3.transition(V.select(".nv-context .nv-x.nv-axis")).call(u),d.scale(o)._ticks(t.utils.calcTicksY(G/36,p)).tickSize(-P,0),d3.transition(V.select(".nv-context .nv-y.nv-axis")).call(d),V.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")"),f.dispatch.on("stateChange",(function(t){for(var n in t)x[n]=t[n];I.stateChange(x),e.update()})),g.dispatch.on("elementMousemove",(function(n){a.clearHighlights();var r,o,l,u=[];if(p.filter((function(e,t){return e.seriesIndex=t,!e.disabled})).forEach((function(s,c){var d=m.empty()?i.domain():m.extent(),f=s.values.filter((function(e,t){return a.x()(e,t)>=d[0]&&a.x()(e,t)<=d[1]})),p=f[o=t.interactiveBisect(f,n.pointXValue,a.x())];null!=e.y()(p,o)&&a.highlightPoint(c,o,!0),void 0!==p&&(void 0===r&&(r=p),void 0===l&&(l=e.xScale()(e.x()(p,o))),u.push({key:s.key,value:e.y()(p,o),color:b(s,s.seriesIndex)}))})),u.length>2){var d=e.yScale().invert(n.mouseY),f=.03*Math.abs(e.yScale().domain()[0]-e.yScale().domain()[1]),h=t.nearestValueIndex(u.map((function(e){return e.value})),d,f);null!==h&&(u[h].highlight=!0)}var y=s.tickFormat()(e.x()(r,o));g.tooltip.position({left:n.mouseX+v.left,top:n.mouseY+v.top}).chartContainer(N.parentNode).valueFormatter((function(e,t){return null==e?"N/A":c.tickFormat()(e)})).data({value:y,index:o,series:u})(),g.renderGuideLine(l)})),g.dispatch.on("elementMouseout",(function(e){a.clearHighlights()})),I.on("changeState",(function(t){void 0!==t.disabled&&p.forEach((function(e,n){e.disabled=t.disabled[n]})),e.update()}))})),e}var n,r,i,o,a=t.models.line(),l=t.models.line(),s=t.models.axis(),c=t.models.axis(),u=t.models.axis(),d=t.models.axis(),f=t.models.legend(),m=d3.svg.brush(),p=t.models.tooltip(),g=t.interactiveGuideline(),v={top:30,right:30,bottom:30,left:60},h={top:0,right:30,bottom:20,left:60},b=t.utils.defaultColor(),y=null,E=null,S=50,_=!1,w=!0,A=null,T=null,I=d3.dispatch("brush","stateChange","changeState"),C=250,x=t.utils.state(),D=null;a.clipEdge(!0).duration(0),l.interactive(!1),s.orient("bottom").tickPadding(5),c.orient("left"),u.orient("bottom").tickPadding(5),d.orient("left"),p.valueFormatter((function(e,t){return c.tickFormat()(e,t)})).headerFormatter((function(e,t){return s.tickFormat()(e,t)}));var M=function(e){return function(){return{active:e.map((function(e){return!e.disabled}))}}},O=function(e){return function(t){void 0!==t.active&&e.forEach((function(e,n){e.disabled=!t.active[n]}))}};return a.dispatch.on("elementMouseover.tooltip",(function(e){p.data(e).position(e.pos).hidden(!1)})),a.dispatch.on("elementMouseout.tooltip",(function(e){p.hidden(!0)})),e.dispatch=I,e.legend=f,e.lines=a,e.lines2=l,e.xAxis=s,e.yAxis=c,e.x2Axis=u,e.y2Axis=d,e.interactiveLayer=g,e.tooltip=p,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return y},set:function(e){y=e}},height:{get:function(){return E},set:function(e){E=e}},focusHeight:{get:function(){return S},set:function(e){S=e}},showLegend:{get:function(){return w},set:function(e){w=e}},brushExtent:{get:function(){return A},set:function(e){A=e}},defaultState:{get:function(){return D},set:function(e){D=e}},noData:{get:function(){return T},set:function(e){T=e}},tooltips:{get:function(){return p.enabled()},set:function(e){t.deprecated("tooltips","use chart.tooltip.enabled() instead"),p.enabled(!!e)}},tooltipContent:{get:function(){return p.contentGenerator()},set:function(e){t.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),p.contentGenerator(e)}},margin:{get:function(){return v},set:function(e){v.top=void 0!==e.top?e.top:v.top,v.right=void 0!==e.right?e.right:v.right,v.bottom=void 0!==e.bottom?e.bottom:v.bottom,v.left=void 0!==e.left?e.left:v.left}},color:{get:function(){return b},set:function(e){b=t.utils.getColor(e),f.color(b)}},interpolate:{get:function(){return a.interpolate()},set:function(e){a.interpolate(e),l.interpolate(e)}},xTickFormat:{get:function(){return s.tickFormat()},set:function(e){s.tickFormat(e),u.tickFormat(e)}},yTickFormat:{get:function(){return c.tickFormat()},set:function(e){c.tickFormat(e),d.tickFormat(e)}},duration:{get:function(){return C},set:function(e){C=e,c.duration(C),d.duration(C),s.duration(C),u.duration(C)}},x:{get:function(){return a.x()},set:function(e){a.x(e),l.x(e)}},y:{get:function(){return a.y()},set:function(e){a.y(e),l.y(e)}},useInteractiveGuideline:{get:function(){return _},set:function(e){(_=e)&&(a.interactive(!1),a.useVoronoi(!1))}}}),t.utils.inheritOptions(e,a),t.utils.initOptions(e),e},t.models.multiBar=function(){"use strict";function e(M){return x.reset(),M.each((function(e){var M=u-c.left-c.right,O=d-c.top-c.bottom;g=d3.select(this),t.utils.initSVG(g);var R=0;if(w&&e.length&&(w=[{values:e[0].values.map((function(e){return{x:e.x,y:0,series:e.series,size:.01}}))}]),E){var N=d3.layout.stack().offset(S).values((function(e){return e.values})).y(h)(!e.length&&w?w:e);N.forEach((function(t,n){t.nonStackable?(e[n].nonStackableSeries=R++,N[n]=e[n]):n>0&&N[n-1].nonStackable&&N[n].values.map((function(e,t){e.y0-=N[n-1].values[t].y,e.y1=e.y0+e.y}))})),e=N}e.forEach((function(e,t){e.values.forEach((function(n){n.series=t,n.key=e.key}))})),E&&e[0].values.map((function(t,n){var r=0,i=0;e.map((function(t,o){if(!e[o].nonStackable){var a=t.values[n];a.size=Math.abs(a.y),a.y<0?(a.y1=i,i-=a.size):(a.y1=a.size+r,r+=a.size)}}))}));var L=r&&i?[]:e.map((function(e,t){return e.values.map((function(e,n){return{x:v(e,n),y:h(e,n),y0:e.y0,y1:e.y1,idx:t}}))}));f.domain(r||d3.merge(L).map((function(e){return e.x}))).rangeBands(o||[0,M],I),m.domain(i||d3.extent(d3.merge(L).map((function(t){var n=t.y;return E&&!e[t.idx].nonStackable&&(n=t.y>0?t.y1:t.y1+t.y),n})).concat(b))).range(a||[O,0]),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]-.01*f.domain()[0],f.domain()[1]+.01*f.domain()[1]]):f.domain([-1,1])),m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]+.01*m.domain()[0],m.domain()[1]-.01*m.domain()[1]]):m.domain([-1,1])),l=l||f,s=s||m;var P=g.selectAll("g.nv-wrap.nv-multibar").data([e]),k=P.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),G=k.append("defs"),F=k.append("g"),U=P.select("g");F.append("g").attr("class","nv-groups"),P.attr("transform","translate("+c.left+","+c.top+")"),G.append("clipPath").attr("id","nv-edge-clip-"+p).append("rect"),P.select("#nv-edge-clip-"+p+" rect").attr("width",M).attr("height",O),U.attr("clip-path",y?"url(#nv-edge-clip-"+p+")":"");var V=P.select(".nv-groups").selectAll(".nv-group").data((function(e){return e}),(function(e,t){return t}));V.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);var z=x.transition(V.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,T)).attr("y",(function(t,n,r){var i=s(0)||0;return E&&e[t.series]&&!e[t.series].nonStackable&&(i=s(t.y0)),i})).attr("height",0).remove();z.delay&&z.delay((function(e,t){return t*(T/(D+1))-t})),V.attr("class",(function(e,t){return"nv-group nv-series-"+t})).classed("hover",(function(e){return e.hover})).style("fill",(function(e,t){return _(e,t)})).style("stroke",(function(e,t){return _(e,t)})),V.style("stroke-opacity",1).style("fill-opacity",.75);var B=V.selectAll("rect.nv-bar").data((function(t){return w&&!e.length?w.values:t.values}));B.exit().remove(),B.enter().append("rect").attr("class",(function(e,t){return h(e,t)<0?"nv-bar negative":"nv-bar positive"})).attr("x",(function(t,n,r){return E&&!e[r].nonStackable?0:r*f.rangeBand()/e.length})).attr("y",(function(t,n,r){return s(E&&!e[r].nonStackable?t.y0:0)||0})).attr("height",0).attr("width",(function(t,n,r){return f.rangeBand()/(E&&!e[r].nonStackable?1:e.length)})).attr("transform",(function(e,t){return"translate("+f(v(e,t))+",0)"})),B.style("fill",(function(e,t,n){return _(e,n,t)})).style("stroke",(function(e,t,n){return _(e,n,t)})).on("mouseover",(function(e,t){d3.select(this).classed("hover",!0),C.elementMouseover({data:e,index:t,color:d3.select(this).style("fill")})})).on("mouseout",(function(e,t){d3.select(this).classed("hover",!1),C.elementMouseout({data:e,index:t,color:d3.select(this).style("fill")})})).on("mousemove",(function(e,t){C.elementMousemove({data:e,index:t,color:d3.select(this).style("fill")})})).on("click",(function(e,t){C.elementClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation()})).on("dblclick",(function(e,t){C.elementDblClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation()})),B.attr("class",(function(e,t){return h(e,t)<0?"nv-bar negative":"nv-bar positive"})).attr("transform",(function(e,t){return"translate("+f(v(e,t))+",0)"})),A&&(n||(n=e.map((function(){return!0}))),B.style("fill",(function(e,t,r){return d3.rgb(A(e,t)).darker(n.map((function(e,t){return t})).filter((function(e,t){return!n[t]}))[r]).toString()})).style("stroke",(function(e,t,r){return d3.rgb(A(e,t)).darker(n.map((function(e,t){return t})).filter((function(e,t){return!n[t]}))[r]).toString()})));var $=B.watchTransition(x,"multibar",Math.min(250,T)).delay((function(t,n){return n*T/e[0].values.length}));E?$.attr("y",(function(t,n,r){return e[r].nonStackable?h(t,n)<0?m(0):m(0)-m(h(t,n))<-1?m(0)-1:m(h(t,n))||0:m(t.y1)})).attr("height",(function(t,n,r){return e[r].nonStackable?Math.max(Math.abs(m(h(t,n))-m(0)),1)||0:Math.max(Math.abs(m(t.y+t.y0)-m(t.y0)),1)})).attr("x",(function(t,n,r){var i=0;return e[r].nonStackable&&(i=t.series*f.rangeBand()/e.length,e.length!==R&&(i=e[r].nonStackableSeries*f.rangeBand()/(2*R))),i})).attr("width",(function(t,n,r){if(e[r].nonStackable){var i=f.rangeBand()/R;return e.length!==R&&(i=f.rangeBand()/(2*R)),i}return f.rangeBand()})):$.attr("x",(function(t,n){return t.series*f.rangeBand()/e.length})).attr("width",f.rangeBand()/e.length).attr("y",(function(e,t){return h(e,t)<0?m(0):m(0)-m(h(e,t))<1?m(0)-1:m(h(e,t))||0})).attr("height",(function(e,t){return Math.max(Math.abs(m(h(e,t))-m(0)),1)||0})),l=f.copy(),s=m.copy(),e[0]&&e[0].values&&(D=e[0].values.length)})),x.renderEnd("multibar immediate"),e}var n,r,i,o,a,l,s,c={top:0,right:0,bottom:0,left:0},u=960,d=500,f=d3.scale.ordinal(),m=d3.scale.linear(),p=Math.floor(1e4*Math.random()),g=null,v=function(e){return e.x},h=function(e){return e.y},b=[0],y=!0,E=!1,S="zero",_=t.utils.defaultColor(),w=!1,A=null,T=500,I=.1,C=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),x=t.utils.renderWatch(C,T),D=0;return e.dispatch=C,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return u},set:function(e){u=e}},height:{get:function(){return d},set:function(e){d=e}},x:{get:function(){return v},set:function(e){v=e}},y:{get:function(){return h},set:function(e){h=e}},xScale:{get:function(){return f},set:function(e){f=e}},yScale:{get:function(){return m},set:function(e){m=e}},xDomain:{get:function(){return r},set:function(e){r=e}},yDomain:{get:function(){return i},set:function(e){i=e}},xRange:{get:function(){return o},set:function(e){o=e}},yRange:{get:function(){return a},set:function(e){a=e}},forceY:{get:function(){return b},set:function(e){b=e}},stacked:{get:function(){return E},set:function(e){E=e}},stackOffset:{get:function(){return S},set:function(e){S=e}},clipEdge:{get:function(){return y},set:function(e){y=e}},disabled:{get:function(){return n},set:function(e){n=e}},id:{get:function(){return p},set:function(e){p=e}},hideable:{get:function(){return w},set:function(e){w=e}},groupSpacing:{get:function(){return I},set:function(e){I=e}},margin:{get:function(){return c},set:function(e){c.top=void 0!==e.top?e.top:c.top,c.right=void 0!==e.right?e.right:c.right,c.bottom=void 0!==e.bottom?e.bottom:c.bottom,c.left=void 0!==e.left?e.left:c.left}},duration:{get:function(){return T},set:function(e){T=e,x.reset(T)}},color:{get:function(){return _},set:function(e){_=t.utils.getColor(e)}},barColor:{get:function(){return A},set:function(e){A=e?t.utils.getColor(e):null}}}),t.utils.initOptions(e),e},t.models.multiBarChart=function(){"use strict";function e(c){return D.reset(),D.models(i),h&&D.models(o),b&&D.models(a),c.each((function(c){var T=d3.select(this);t.utils.initSVG(T);var D,N=t.utils.availableWidth(d,T,u),L=t.utils.availableHeight(f,T,u);if(e.update=function(){0===x?T.call(e):T.transition().duration(x).call(e)},e.container=this,w.setter(R(c),e.update).getter(O(c)).update(),w.disabled=c.map((function(e){return!!e.disabled})),!A)for(D in A={},w)w[D]instanceof Array?A[D]=w[D].slice(0):A[D]=w[D];if(!(c&&c.length&&c.filter((function(e){return e.values.length})).length))return t.utils.noData(e,T),e;T.selectAll(".nv-noData").remove(),n=i.xScale(),r=i.yScale();var P=T.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([c]),k=P.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),G=P.select("g");if(k.append("g").attr("class","nv-x nv-axis"),k.append("g").attr("class","nv-y nv-axis"),k.append("g").attr("class","nv-barsWrap"),k.append("g").attr("class","nv-legendWrap"),k.append("g").attr("class","nv-controlsWrap"),v&&(l.width(N-C()),G.select(".nv-legendWrap").datum(c).call(l),u.top!=l.height()&&(u.top=l.height(),L=t.utils.availableHeight(f,T,u)),G.select(".nv-legendWrap").attr("transform","translate("+C()+","+-u.top+")")),p){var F=[{key:g.grouped||"Grouped",disabled:i.stacked()},{key:g.stacked||"Stacked",disabled:!i.stacked()}];s.width(C()).color(["#444","#444","#444"]),G.select(".nv-controlsWrap").datum(F).attr("transform","translate(0,"+-u.top+")").call(s)}P.attr("transform","translate("+u.left+","+u.top+")"),y&&G.select(".nv-y.nv-axis").attr("transform","translate("+N+",0)"),i.disabled(c.map((function(e){return e.disabled}))).width(N).height(L).color(c.map((function(e,t){return e.color||m(e,t)})).filter((function(e,t){return!c[t].disabled})));var U=G.select(".nv-barsWrap").datum(c.filter((function(e){return!e.disabled})));if(U.call(i),h){o.scale(n)._ticks(t.utils.calcTicksX(N/100,c)).tickSize(-L,0),G.select(".nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),G.select(".nv-x.nv-axis").call(o);var V=G.select(".nv-x.nv-axis > g").selectAll("g");if(V.selectAll("line, text").style("opacity",1),S){var z=function(e,t){return"translate("+e+","+t+")"};V.selectAll("text").attr("transform",(function(e,t,n){return z(0,n%2==0?5:17)}));var B=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;G.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",(function(e,t){return z(0,0===t||B%2!=0?17:5)}))}E&&V.filter((function(e,t){return t%Math.ceil(c[0].values.length/(N/100))!=0})).selectAll("text, line").style("opacity",0),_&&V.selectAll(".tick text").attr("transform","rotate("+_+" 0,0)").style("text-anchor",_>0?"start":"end"),G.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}b&&(a.scale(r)._ticks(t.utils.calcTicksY(L/36,c)).tickSize(-N,0),G.select(".nv-y.nv-axis").call(a)),l.dispatch.on("stateChange",(function(t){for(var n in t)w[n]=t[n];I.stateChange(w),e.update()})),s.dispatch.on("legendClick",(function(t,n){if(t.disabled){switch(F=F.map((function(e){return e.disabled=!0,e})),t.disabled=!1,t.key){case"Grouped":case g.grouped:i.stacked(!1);break;case"Stacked":case g.stacked:i.stacked(!0)}w.stacked=i.stacked(),I.stateChange(w),e.update()}})),I.on("changeState",(function(t){void 0!==t.disabled&&(c.forEach((function(e,n){e.disabled=t.disabled[n]})),w.disabled=t.disabled),void 0!==t.stacked&&(i.stacked(t.stacked),w.stacked=t.stacked,M=t.stacked),e.update()}))})),D.renderEnd("multibarchart immediate"),e}var n,r,i=t.models.multiBar(),o=t.models.axis(),a=t.models.axis(),l=t.models.legend(),s=t.models.legend(),c=t.models.tooltip(),u={top:30,right:20,bottom:50,left:60},d=null,f=null,m=t.utils.defaultColor(),p=!0,g={},v=!0,h=!0,b=!0,y=!1,E=!0,S=!1,_=0,w=t.utils.state(),A=null,T=null,I=d3.dispatch("stateChange","changeState","renderEnd"),C=function(){return p?180:0},x=250;w.stacked=!1,i.stacked(!1),o.orient("bottom").tickPadding(7).showMaxMin(!1).tickFormat((function(e){return e})),a.orient(y?"right":"left").tickFormat(d3.format(",.1f")),c.duration(0).valueFormatter((function(e,t){return a.tickFormat()(e,t)})).headerFormatter((function(e,t){return o.tickFormat()(e,t)})),s.updateState(!1);var D=t.utils.renderWatch(I),M=!1,O=function(e){return function(){return{active:e.map((function(e){return!e.disabled})),stacked:M}}},R=function(e){return function(t){void 0!==t.stacked&&(M=t.stacked),void 0!==t.active&&e.forEach((function(e,n){e.disabled=!t.active[n]}))}};return i.dispatch.on("elementMouseover.tooltip",(function(t){t.value=e.x()(t.data),t.series={key:t.data.key,value:e.y()(t.data),color:t.color},c.data(t).hidden(!1)})),i.dispatch.on("elementMouseout.tooltip",(function(e){c.hidden(!0)})),i.dispatch.on("elementMousemove.tooltip",(function(e){c.position({top:d3.event.pageY,left:d3.event.pageX})()})),e.dispatch=I,e.multibar=i,e.legend=l,e.controls=s,e.xAxis=o,e.yAxis=a,e.state=w,e.tooltip=c,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return d},set:function(e){d=e}},height:{get:function(){return f},set:function(e){f=e}},showLegend:{get:function(){return v},set:function(e){v=e}},showControls:{get:function(){return p},set:function(e){p=e}},controlLabels:{get:function(){return g},set:function(e){g=e}},showXAxis:{get:function(){return h},set:function(e){h=e}},showYAxis:{get:function(){return b},set:function(e){b=e}},defaultState:{get:function(){return A},set:function(e){A=e}},noData:{get:function(){return T},set:function(e){T=e}},reduceXTicks:{get:function(){return E},set:function(e){E=e}},rotateLabels:{get:function(){return _},set:function(e){_=e}},staggerLabels:{get:function(){return S},set:function(e){S=e}},tooltips:{get:function(){return c.enabled()},set:function(e){t.deprecated("tooltips","use chart.tooltip.enabled() instead"),c.enabled(!!e)}},tooltipContent:{get:function(){return c.contentGenerator()},set:function(e){t.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),c.contentGenerator(e)}},margin:{get:function(){return u},set:function(e){u.top=void 0!==e.top?e.top:u.top,u.right=void 0!==e.right?e.right:u.right,u.bottom=void 0!==e.bottom?e.bottom:u.bottom,u.left=void 0!==e.left?e.left:u.left}},duration:{get:function(){return x},set:function(e){x=e,i.duration(x),o.duration(x),a.duration(x),D.reset(x)}},color:{get:function(){return m},set:function(e){m=t.utils.getColor(e),l.color(m)}},rightAlignYAxis:{get:function(){return y},set:function(e){y=e,a.orient(y?"right":"left")}},barColor:{get:function(){return i.barColor},set:function(e){i.barColor(e),l.color((function(e,t){return d3.rgb("#ccc").darker(1.5*t).toString()}))}}}),t.utils.inheritOptions(e,i),t.utils.initOptions(e),e},t.models.multiBarHorizontal=function(){"use strict";function e(f){return M.reset(),f.each((function(e){var f=u-c.left-c.right,x=d-c.top-c.bottom;m=d3.select(this),t.utils.initSVG(m),_&&(e=d3.layout.stack().offset("zero").values((function(e){return e.values})).y(h)(e)),e.forEach((function(e,t){e.values.forEach((function(n){n.series=t,n.key=e.key}))})),_&&e[0].values.map((function(t,n){var r=0,i=0;e.map((function(e){var t=e.values[n];t.size=Math.abs(t.y),t.y<0?(t.y1=i-t.size,i-=t.size):(t.y1=r,r+=t.size)}))}));var O=r&&i?[]:e.map((function(e){return e.values.map((function(e,t){return{x:v(e,t),y:h(e,t),y0:e.y0,y1:e.y1}}))}));p.domain(r||d3.merge(O).map((function(e){return e.x}))).rangeBands(o||[0,x],I),g.domain(i||d3.extent(d3.merge(O).map((function(e){return _?e.y>0?e.y1+e.y:e.y1:e.y})).concat(y))),w&&!_?g.range(a||[g.domain()[0]<0?T:0,f-(g.domain()[1]>0?T:0)]):g.range(a||[0,f]),l=l||p,s=s||d3.scale.linear().domain(g.domain()).range([g(0),g(0)]);var R=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([e]),N=R.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),L=(N.append("defs"),N.append("g"));R.select("g"),L.append("g").attr("class","nv-groups"),R.attr("transform","translate("+c.left+","+c.top+")");var P=R.select(".nv-groups").selectAll(".nv-group").data((function(e){return e}),(function(e,t){return t}));P.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),P.exit().watchTransition(M,"multibarhorizontal: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),P.attr("class",(function(e,t){return"nv-group nv-series-"+t})).classed("hover",(function(e){return e.hover})).style("fill",(function(e,t){return E(e,t)})).style("stroke",(function(e,t){return E(e,t)})),P.watchTransition(M,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",.75);var k=P.selectAll("g.nv-bar").data((function(e){return e.values}));k.exit().remove();var G=k.enter().append("g").attr("transform",(function(t,n,r){return"translate("+s(_?t.y0:0)+","+(_?0:r*p.rangeBand()/e.length+p(v(t,n)))+")"}));G.append("rect").attr("width",0).attr("height",p.rangeBand()/(_?1:e.length)),k.on("mouseover",(function(e,t){d3.select(this).classed("hover",!0),D.elementMouseover({data:e,index:t,color:d3.select(this).style("fill")})})).on("mouseout",(function(e,t){d3.select(this).classed("hover",!1),D.elementMouseout({data:e,index:t,color:d3.select(this).style("fill")})})).on("mouseout",(function(e,t){D.elementMouseout({data:e,index:t,color:d3.select(this).style("fill")})})).on("mousemove",(function(e,t){D.elementMousemove({data:e,index:t,color:d3.select(this).style("fill")})})).on("click",(function(e,t){D.elementClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation()})).on("dblclick",(function(e,t){D.elementDblClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation()})),b(e[0],0)&&(G.append("polyline"),k.select("polyline").attr("fill","none").attr("points",(function(t,n){var r=b(t,n),i=.8*p.rangeBand()/(2*(_?1:e.length));return r=(r=r.length?r:[-Math.abs(r),Math.abs(r)]).map((function(e){return g(e)-g(0)})),[[r[0],-i],[r[0],i],[r[0],0],[r[1],0],[r[1],-i],[r[1],i]].map((function(e){return e.join(",")})).join(" ")})).attr("transform",(function(t,n){var r=p.rangeBand()/(2*(_?1:e.length));return"translate("+(h(t,n)<0?0:g(h(t,n))-g(0))+", "+r+")"}))),G.append("text"),w&&!_?(k.select("text").attr("text-anchor",(function(e,t){return h(e,t)<0?"end":"start"})).attr("y",p.rangeBand()/(2*e.length)).attr("dy",".32em").text((function(e,t){var n=C(h(e,t)),r=b(e,t);return void 0===r?n:r.length?n+"+"+C(Math.abs(r[1]))+"-"+C(Math.abs(r[0])):n+"±"+C(Math.abs(r))})),k.watchTransition(M,"multibarhorizontal: bars").select("text").attr("x",(function(e,t){return h(e,t)<0?-4:g(h(e,t))-g(0)+4}))):k.selectAll("text").text(""),A&&!_?(G.append("text").classed("nv-bar-label",!0),k.select("text.nv-bar-label").attr("text-anchor",(function(e,t){return h(e,t)<0?"start":"end"})).attr("y",p.rangeBand()/(2*e.length)).attr("dy",".32em").text((function(e,t){return v(e,t)})),k.watchTransition(M,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",(function(e,t){return h(e,t)<0?g(0)-g(h(e,t))+4:-4}))):k.selectAll("text.nv-bar-label").text(""),k.attr("class",(function(e,t){return h(e,t)<0?"nv-bar negative":"nv-bar positive"})),S&&(n||(n=e.map((function(){return!0}))),k.style("fill",(function(e,t,r){return d3.rgb(S(e,t)).darker(n.map((function(e,t){return t})).filter((function(e,t){return!n[t]}))[r]).toString()})).style("stroke",(function(e,t,r){return d3.rgb(S(e,t)).darker(n.map((function(e,t){return t})).filter((function(e,t){return!n[t]}))[r]).toString()}))),_?k.watchTransition(M,"multibarhorizontal: bars").attr("transform",(function(e,t){return"translate("+g(e.y1)+","+p(v(e,t))+")"})).select("rect").attr("width",(function(e,t){return Math.abs(g(h(e,t)+e.y0)-g(e.y0))})).attr("height",p.rangeBand()):k.watchTransition(M,"multibarhorizontal: bars").attr("transform",(function(t,n){return"translate("+g(h(t,n)<0?h(t,n):0)+","+(t.series*p.rangeBand()/e.length+p(v(t,n)))+")"})).select("rect").attr("height",p.rangeBand()/e.length).attr("width",(function(e,t){return Math.max(Math.abs(g(h(e,t))-g(0)),1)})),l=p.copy(),s=g.copy()})),M.renderEnd("multibarHorizontal immediate"),e}var n,r,i,o,a,l,s,c={top:0,right:0,bottom:0,left:0},u=960,d=500,f=Math.floor(1e4*Math.random()),m=null,p=d3.scale.ordinal(),g=d3.scale.linear(),v=function(e){return e.x},h=function(e){return e.y},b=function(e){return e.yErr},y=[0],E=t.utils.defaultColor(),S=null,_=!1,w=!1,A=!1,T=60,I=.1,C=d3.format(",.2f"),x=250,D=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),M=t.utils.renderWatch(D,x);return e.dispatch=D,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return u},set:function(e){u=e}},height:{get:function(){return d},set:function(e){d=e}},x:{get:function(){return v},set:function(e){v=e}},y:{get:function(){return h},set:function(e){h=e}},yErr:{get:function(){return b},set:function(e){b=e}},xScale:{get:function(){return p},set:function(e){p=e}},yScale:{get:function(){return g},set:function(e){g=e}},xDomain:{get:function(){return r},set:function(e){r=e}},yDomain:{get:function(){return i},set:function(e){i=e}},xRange:{get:function(){return o},set:function(e){o=e}},yRange:{get:function(){return a},set:function(e){a=e}},forceY:{get:function(){return y},set:function(e){y=e}},stacked:{get:function(){return _},set:function(e){_=e}},showValues:{get:function(){return w},set:function(e){w=e}},disabled:{get:function(){return n},set:function(e){n=e}},id:{get:function(){return f},set:function(e){f=e}},valueFormat:{get:function(){return C},set:function(e){C=e}},valuePadding:{get:function(){return T},set:function(e){T=e}},groupSpacing:{get:function(){return I},set:function(e){I=e}},margin:{get:function(){return c},set:function(e){c.top=void 0!==e.top?e.top:c.top,c.right=void 0!==e.right?e.right:c.right,c.bottom=void 0!==e.bottom?e.bottom:c.bottom,c.left=void 0!==e.left?e.left:c.left}},duration:{get:function(){return x},set:function(e){x=e,M.reset(x)}},color:{get:function(){return E},set:function(e){E=t.utils.getColor(e)}},barColor:{get:function(){return S},set:function(e){S=e?t.utils.getColor(e):null}}}),t.utils.initOptions(e),e},t.models.multiBarHorizontalChart=function(){"use strict";function e(c){return x.reset(),x.models(i),h&&x.models(o),b&&x.models(a),c.each((function(c){var _=d3.select(this);t.utils.initSVG(_);var x,D=t.utils.availableWidth(d,_,u),M=t.utils.availableHeight(f,_,u);if(e.update=function(){_.transition().duration(T).call(e)},e.container=this,y=i.stacked(),E.setter(C(c),e.update).getter(I(c)).update(),E.disabled=c.map((function(e){return!!e.disabled})),!S)for(x in S={},E)E[x]instanceof Array?S[x]=E[x].slice(0):S[x]=E[x];if(!(c&&c.length&&c.filter((function(e){return e.values.length})).length))return t.utils.noData(e,_),e;_.selectAll(".nv-noData").remove(),n=i.xScale(),r=i.yScale();var O=_.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([c]),R=O.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),N=O.select("g");if(R.append("g").attr("class","nv-x nv-axis"),R.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),R.append("g").attr("class","nv-barsWrap"),R.append("g").attr("class","nv-legendWrap"),R.append("g").attr("class","nv-controlsWrap"),v&&(l.width(D-A()),N.select(".nv-legendWrap").datum(c).call(l),u.top!=l.height()&&(u.top=l.height(),M=t.utils.availableHeight(f,_,u)),N.select(".nv-legendWrap").attr("transform","translate("+A()+","+-u.top+")")),p){var L=[{key:g.grouped||"Grouped",disabled:i.stacked()},{key:g.stacked||"Stacked",disabled:!i.stacked()}];s.width(A()).color(["#444","#444","#444"]),N.select(".nv-controlsWrap").datum(L).attr("transform","translate(0,"+-u.top+")").call(s)}O.attr("transform","translate("+u.left+","+u.top+")"),i.disabled(c.map((function(e){return e.disabled}))).width(D).height(M).color(c.map((function(e,t){return e.color||m(e,t)})).filter((function(e,t){return!c[t].disabled})));var P=N.select(".nv-barsWrap").datum(c.filter((function(e){return!e.disabled})));(P.transition().call(i),h)&&(o.scale(n)._ticks(t.utils.calcTicksY(M/24,c)).tickSize(-D,0),N.select(".nv-x.nv-axis").call(o),N.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text"));b&&(a.scale(r)._ticks(t.utils.calcTicksX(D/100,c)).tickSize(-M,0),N.select(".nv-y.nv-axis").attr("transform","translate(0,"+M+")"),N.select(".nv-y.nv-axis").call(a)),N.select(".nv-zeroLine line").attr("x1",r(0)).attr("x2",r(0)).attr("y1",0).attr("y2",-M),l.dispatch.on("stateChange",(function(t){for(var n in t)E[n]=t[n];w.stateChange(E),e.update()})),s.dispatch.on("legendClick",(function(t,n){if(t.disabled){switch(L=L.map((function(e){return e.disabled=!0,e})),t.disabled=!1,t.key){case"Grouped":i.stacked(!1);break;case"Stacked":i.stacked(!0)}E.stacked=i.stacked(),w.stateChange(E),y=i.stacked(),e.update()}})),w.on("changeState",(function(t){void 0!==t.disabled&&(c.forEach((function(e,n){e.disabled=t.disabled[n]})),E.disabled=t.disabled),void 0!==t.stacked&&(i.stacked(t.stacked),E.stacked=t.stacked,y=t.stacked),e.update()}))})),x.renderEnd("multibar horizontal chart immediate"),e}var n,r,i=t.models.multiBarHorizontal(),o=t.models.axis(),a=t.models.axis(),l=t.models.legend().height(30),s=t.models.legend().height(30),c=t.models.tooltip(),u={top:30,right:20,bottom:50,left:60},d=null,f=null,m=t.utils.defaultColor(),p=!0,g={},v=!0,h=!0,b=!0,y=!1,E=t.utils.state(),S=null,_=null,w=d3.dispatch("stateChange","changeState","renderEnd"),A=function(){return p?180:0},T=250;E.stacked=!1,i.stacked(y),o.orient("left").tickPadding(5).showMaxMin(!1).tickFormat((function(e){return e})),a.orient("bottom").tickFormat(d3.format(",.1f")),c.duration(0).valueFormatter((function(e,t){return a.tickFormat()(e,t)})).headerFormatter((function(e,t){return o.tickFormat()(e,t)})),s.updateState(!1);var I=function(e){return function(){return{active:e.map((function(e){return!e.disabled})),stacked:y}}},C=function(e){return function(t){void 0!==t.stacked&&(y=t.stacked),void 0!==t.active&&e.forEach((function(e,n){e.disabled=!t.active[n]}))}},x=t.utils.renderWatch(w,T);return i.dispatch.on("elementMouseover.tooltip",(function(t){t.value=e.x()(t.data),t.series={key:t.data.key,value:e.y()(t.data),color:t.color},c.data(t).hidden(!1)})),i.dispatch.on("elementMouseout.tooltip",(function(e){c.hidden(!0)})),i.dispatch.on("elementMousemove.tooltip",(function(e){c.position({top:d3.event.pageY,left:d3.event.pageX})()})),e.dispatch=w,e.multibar=i,e.legend=l,e.controls=s,e.xAxis=o,e.yAxis=a,e.state=E,e.tooltip=c,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return d},set:function(e){d=e}},height:{get:function(){return f},set:function(e){f=e}},showLegend:{get:function(){return v},set:function(e){v=e}},showControls:{get:function(){return p},set:function(e){p=e}},controlLabels:{get:function(){return g},set:function(e){g=e}},showXAxis:{get:function(){return h},set:function(e){h=e}},showYAxis:{get:function(){return b},set:function(e){b=e}},defaultState:{get:function(){return S},set:function(e){S=e}},noData:{get:function(){return _},set:function(e){_=e}},tooltips:{get:function(){return c.enabled()},set:function(e){t.deprecated("tooltips","use chart.tooltip.enabled() instead"),c.enabled(!!e)}},tooltipContent:{get:function(){return c.contentGenerator()},set:function(e){t.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),c.contentGenerator(e)}},margin:{get:function(){return u},set:function(e){u.top=void 0!==e.top?e.top:u.top,u.right=void 0!==e.right?e.right:u.right,u.bottom=void 0!==e.bottom?e.bottom:u.bottom,u.left=void 0!==e.left?e.left:u.left}},duration:{get:function(){return T},set:function(e){T=e,x.reset(T),i.duration(T),o.duration(T),a.duration(T)}},color:{get:function(){return m},set:function(e){m=t.utils.getColor(e),l.color(m)}},barColor:{get:function(){return i.barColor},set:function(e){i.barColor(e),l.color((function(e,t){return d3.rgb("#ccc").darker(1.5*t).toString()}))}}}),t.utils.inheritOptions(e,i),t.utils.initOptions(e),e},t.models.multiChart=function(){"use strict";function e(c){return c.each((function(c){function u(e){var t=2===c[e.seriesIndex].yAxis?T:A;e.value=e.point.x,e.series={value:e.point.y,color:e.point.color},C.duration(100).valueFormatter((function(e,n){return t.tickFormat()(e,n)})).data(e).position(e.pos).hidden(!1)}function d(e){var t=2===c[e.seriesIndex].yAxis?T:A;e.point.x=S.x()(e.point),e.point.y=S.y()(e.point),C.duration(100).valueFormatter((function(e,n){return t.tickFormat()(e,n)})).data(e).position(e.pos).hidden(!1)}function m(e){var t=2===c[e.data.series].yAxis?T:A;e.value=y.x()(e.data),e.series={value:y.y()(e.data),color:e.color},C.duration(0).valueFormatter((function(e,n){return t.tickFormat()(e,n)})).data(e).hidden(!1)}var x=d3.select(this);t.utils.initSVG(x),e.update=function(){x.transition().call(e)},e.container=this;var D=t.utils.availableWidth(a,x,i),M=t.utils.availableHeight(l,x,i),O=c.filter((function(e){return"line"==e.type&&1==e.yAxis})),R=c.filter((function(e){return"line"==e.type&&2==e.yAxis})),N=c.filter((function(e){return"bar"==e.type&&1==e.yAxis})),L=c.filter((function(e){return"bar"==e.type&&2==e.yAxis})),P=c.filter((function(e){return"area"==e.type&&1==e.yAxis})),k=c.filter((function(e){return"area"==e.type&&2==e.yAxis}));if(!(c&&c.length&&c.filter((function(e){return e.values.length})).length))return t.utils.noData(e,x),e;x.selectAll(".nv-noData").remove();var G=c.filter((function(e){return!e.disabled&&1==e.yAxis})).map((function(e){return e.values.map((function(e,t){return{x:e.x,y:e.y}}))})),F=c.filter((function(e){return!e.disabled&&2==e.yAxis})).map((function(e){return e.values.map((function(e,t){return{x:e.x,y:e.y}}))}));p.domain(d3.extent(d3.merge(G.concat(F)),(function(e){return e.x}))).range([0,D]);var U=x.selectAll("g.wrap.multiChart").data([c]),V=U.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");V.append("g").attr("class","nv-x nv-axis"),V.append("g").attr("class","nv-y1 nv-axis"),V.append("g").attr("class","nv-y2 nv-axis"),V.append("g").attr("class","lines1Wrap"),V.append("g").attr("class","lines2Wrap"),V.append("g").attr("class","bars1Wrap"),V.append("g").attr("class","bars2Wrap"),V.append("g").attr("class","stack1Wrap"),V.append("g").attr("class","stack2Wrap"),V.append("g").attr("class","legendWrap");var z=U.select("g"),B=c.map((function(e,t){return c[t].color||o(e,t)}));if(s){var $=I.align()?D/2:D,W=I.align()?$:0;I.width($),I.color(B),z.select(".legendWrap").datum(c.map((function(e){return e.originalKey=void 0===e.originalKey?e.key:e.originalKey,e.key=e.originalKey+(1==e.yAxis?"":" (right axis)"),e}))).call(I),i.top!=I.height()&&(i.top=I.height(),M=t.utils.availableHeight(l,x,i)),z.select(".legendWrap").attr("transform","translate("+W+","+-i.top+")")}h.width(D).height(M).interpolate(f).color(B.filter((function(e,t){return!c[t].disabled&&1==c[t].yAxis&&"line"==c[t].type}))),b.width(D).height(M).interpolate(f).color(B.filter((function(e,t){return!c[t].disabled&&2==c[t].yAxis&&"line"==c[t].type}))),y.width(D).height(M).color(B.filter((function(e,t){return!c[t].disabled&&1==c[t].yAxis&&"bar"==c[t].type}))),E.width(D).height(M).color(B.filter((function(e,t){return!c[t].disabled&&2==c[t].yAxis&&"bar"==c[t].type}))),S.width(D).height(M).color(B.filter((function(e,t){return!c[t].disabled&&1==c[t].yAxis&&"area"==c[t].type}))),_.width(D).height(M).color(B.filter((function(e,t){return!c[t].disabled&&2==c[t].yAxis&&"area"==c[t].type}))),z.attr("transform","translate("+i.left+","+i.top+")");var H=z.select(".lines1Wrap").datum(O.filter((function(e){return!e.disabled}))),j=z.select(".bars1Wrap").datum(N.filter((function(e){return!e.disabled}))),q=z.select(".stack1Wrap").datum(P.filter((function(e){return!e.disabled}))),Y=z.select(".lines2Wrap").datum(R.filter((function(e){return!e.disabled}))),K=z.select(".bars2Wrap").datum(L.filter((function(e){return!e.disabled}))),Q=z.select(".stack2Wrap").datum(k.filter((function(e){return!e.disabled}))),Z=P.length?P.map((function(e){return e.values})).reduce((function(e,t){return e.map((function(e,n){return{x:e.x,y:e.y+t[n].y}}))})).concat([{x:0,y:0}]):[],X=k.length?k.map((function(e){return e.values})).reduce((function(e,t){return e.map((function(e,n){return{x:e.x,y:e.y+t[n].y}}))})).concat([{x:0,y:0}]):[];g.domain(n||d3.extent(d3.merge(G).concat(Z),(function(e){return e.y}))).range([0,M]),v.domain(r||d3.extent(d3.merge(F).concat(X),(function(e){return e.y}))).range([0,M]),h.yDomain(g.domain()),y.yDomain(g.domain()),S.yDomain(g.domain()),b.yDomain(v.domain()),E.yDomain(v.domain()),_.yDomain(v.domain()),P.length&&d3.transition(q).call(S),k.length&&d3.transition(Q).call(_),N.length&&d3.transition(j).call(y),L.length&&d3.transition(K).call(E),O.length&&d3.transition(H).call(h),R.length&&d3.transition(Y).call(b),w._ticks(t.utils.calcTicksX(D/100,c)).tickSize(-M,0),z.select(".nv-x.nv-axis").attr("transform","translate(0,"+M+")"),d3.transition(z.select(".nv-x.nv-axis")).call(w),A._ticks(t.utils.calcTicksY(M/36,c)).tickSize(-D,0),d3.transition(z.select(".nv-y1.nv-axis")).call(A),T._ticks(t.utils.calcTicksY(M/36,c)).tickSize(-D,0),d3.transition(z.select(".nv-y2.nv-axis")).call(T),z.select(".nv-y1.nv-axis").classed("nv-disabled",!G.length).attr("transform","translate("+p.range()[0]+",0)"),z.select(".nv-y2.nv-axis").classed("nv-disabled",!F.length).attr("transform","translate("+p.range()[1]+",0)"),I.dispatch.on("stateChange",(function(t){e.update()})),h.dispatch.on("elementMouseover.tooltip",u),b.dispatch.on("elementMouseover.tooltip",u),h.dispatch.on("elementMouseout.tooltip",(function(e){C.hidden(!0)})),b.dispatch.on("elementMouseout.tooltip",(function(e){C.hidden(!0)})),S.dispatch.on("elementMouseover.tooltip",d),_.dispatch.on("elementMouseover.tooltip",d),S.dispatch.on("elementMouseout.tooltip",(function(e){C.hidden(!0)})),_.dispatch.on("elementMouseout.tooltip",(function(e){C.hidden(!0)})),y.dispatch.on("elementMouseover.tooltip",m),E.dispatch.on("elementMouseover.tooltip",m),y.dispatch.on("elementMouseout.tooltip",(function(e){C.hidden(!0)})),E.dispatch.on("elementMouseout.tooltip",(function(e){C.hidden(!0)})),y.dispatch.on("elementMousemove.tooltip",(function(e){C.position({top:d3.event.pageY,left:d3.event.pageX})()})),E.dispatch.on("elementMousemove.tooltip",(function(e){C.position({top:d3.event.pageY,left:d3.event.pageX})()}))})),e}var n,r,i={top:30,right:20,bottom:50,left:60},o=t.utils.defaultColor(),a=null,l=null,s=!0,c=null,u=function(e){return e.x},d=function(e){return e.y},f="monotone",m=!0,p=d3.scale.linear(),g=d3.scale.linear(),v=d3.scale.linear(),h=t.models.line().yScale(g),b=t.models.line().yScale(v),y=t.models.multiBar().stacked(!1).yScale(g),E=t.models.multiBar().stacked(!1).yScale(v),S=t.models.stackedArea().yScale(g),_=t.models.stackedArea().yScale(v),w=t.models.axis().scale(p).orient("bottom").tickPadding(5),A=t.models.axis().scale(g).orient("left"),T=t.models.axis().scale(v).orient("right"),I=t.models.legend().height(30),C=t.models.tooltip(),x=d3.dispatch();return e.dispatch=x,e.lines1=h,e.lines2=b,e.bars1=y,e.bars2=E,e.stack1=S,e.stack2=_,e.xAxis=w,e.yAxis1=A,e.yAxis2=T,e.tooltip=C,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return a},set:function(e){a=e}},height:{get:function(){return l},set:function(e){l=e}},showLegend:{get:function(){return s},set:function(e){s=e}},yDomain1:{get:function(){return n},set:function(e){n=e}},yDomain2:{get:function(){return r},set:function(e){r=e}},noData:{get:function(){return c},set:function(e){c=e}},interpolate:{get:function(){return f},set:function(e){f=e}},tooltips:{get:function(){return C.enabled()},set:function(e){t.deprecated("tooltips","use chart.tooltip.enabled() instead"),C.enabled(!!e)}},tooltipContent:{get:function(){return C.contentGenerator()},set:function(e){t.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),C.contentGenerator(e)}},margin:{get:function(){return i},set:function(e){i.top=void 0!==e.top?e.top:i.top,i.right=void 0!==e.right?e.right:i.right,i.bottom=void 0!==e.bottom?e.bottom:i.bottom,i.left=void 0!==e.left?e.left:i.left}},color:{get:function(){return o},set:function(e){o=t.utils.getColor(e)}},x:{get:function(){return u},set:function(e){u=e,h.x(e),b.x(e),y.x(e),E.x(e),S.x(e),_.x(e)}},y:{get:function(){return d},set:function(e){d=e,h.y(e),b.y(e),S.y(e),_.y(e),y.y(e),E.y(e)}},useVoronoi:{get:function(){return m},set:function(e){m=e,h.useVoronoi(e),b.useVoronoi(e),S.useVoronoi(e),_.useVoronoi(e)}}}),t.utils.initOptions(e),e},t.models.ohlcBar=function(){"use strict";function e(A){return A.each((function(e){u=d3.select(this);var A=t.utils.availableWidth(l,u,a),I=t.utils.availableHeight(s,u,a);t.utils.initSVG(u);var C=A/e[0].values.length*.9;d.domain(n||d3.extent(e[0].values.map(m).concat(y))),S?d.range(i||[.5*A/e[0].values.length,A*(e[0].values.length-.5)/e[0].values.length]):d.range(i||[5+C/2,A-C/2-5]),f.domain(r||[d3.min(e[0].values.map(b).concat(E)),d3.max(e[0].values.map(h).concat(E))]).range(o||[I,0]),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]+.01*f.domain()[0],f.domain()[1]-.01*f.domain()[1]]):f.domain([-1,1]));var x=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([e[0].values]),D=x.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),M=D.append("defs"),O=D.append("g"),R=x.select("g");O.append("g").attr("class","nv-ticks"),x.attr("transform","translate("+a.left+","+a.top+")"),u.on("click",(function(e,t){T.chartClick({data:e,index:t,pos:d3.event,id:c})})),M.append("clipPath").attr("id","nv-chart-clip-path-"+c).append("rect"),x.select("#nv-chart-clip-path-"+c+" rect").attr("width",A).attr("height",I),R.attr("clip-path",_?"url(#nv-chart-clip-path-"+c+")":"");var N=x.select(".nv-ticks").selectAll(".nv-tick").data((function(e){return e}));N.exit().remove(),N.enter().append("path").attr("class",(function(e,t,n){return(g(e,t)>v(e,t)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+t})).attr("d",(function(e,t){return"m0,0l0,"+(f(g(e,t))-f(h(e,t)))+"l"+-C/2+",0l"+C/2+",0l0,"+(f(b(e,t))-f(g(e,t)))+"l0,"+(f(v(e,t))-f(b(e,t)))+"l"+C/2+",0l"+-C/2+",0z"})).attr("transform",(function(e,t){return"translate("+d(m(e,t))+","+f(h(e,t))+")"})).attr("fill",(function(e,t){return w[0]})).attr("stroke",(function(e,t){return w[0]})).attr("x",0).attr("y",(function(e,t){return f(Math.max(0,p(e,t)))})).attr("height",(function(e,t){return Math.abs(f(p(e,t))-f(0))})),N.attr("class",(function(e,t,n){return(g(e,t)>v(e,t)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+t})),d3.transition(N).attr("transform",(function(e,t){return"translate("+d(m(e,t))+","+f(h(e,t))+")"})).attr("d",(function(t,n){var r=A/e[0].values.length*.9;return"m0,0l0,"+(f(g(t,n))-f(h(t,n)))+"l"+-r/2+",0l"+r/2+",0l0,"+(f(b(t,n))-f(g(t,n)))+"l0,"+(f(v(t,n))-f(b(t,n)))+"l"+r/2+",0l"+-r/2+",0z"}))})),e}var n,r,i,o,a={top:0,right:0,bottom:0,left:0},l=null,s=null,c=Math.floor(1e4*Math.random()),u=null,d=d3.scale.linear(),f=d3.scale.linear(),m=function(e){return e.x},p=function(e){return e.y},g=function(e){return e.open},v=function(e){return e.close},h=function(e){return e.high},b=function(e){return e.low},y=[],E=[],S=!1,_=!0,w=t.utils.defaultColor(),A=!1,T=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return e.highlightPoint=function(t,n){e.clearHighlights(),u.select(".nv-ohlcBar .nv-tick-0-"+t).classed("hover",n)},e.clearHighlights=function(){u.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},e.dispatch=T,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return l},set:function(e){l=e}},height:{get:function(){return s},set:function(e){s=e}},xScale:{get:function(){return d},set:function(e){d=e}},yScale:{get:function(){return f},set:function(e){f=e}},xDomain:{get:function(){return n},set:function(e){n=e}},yDomain:{get:function(){return r},set:function(e){r=e}},xRange:{get:function(){return i},set:function(e){i=e}},yRange:{get:function(){return o},set:function(e){o=e}},forceX:{get:function(){return y},set:function(e){y=e}},forceY:{get:function(){return E},set:function(e){E=e}},padData:{get:function(){return S},set:function(e){S=e}},clipEdge:{get:function(){return _},set:function(e){_=e}},id:{get:function(){return c},set:function(e){c=e}},interactive:{get:function(){return A},set:function(e){A=e}},x:{get:function(){return m},set:function(e){m=e}},y:{get:function(){return p},set:function(e){p=e}},open:{get:function(){return g()},set:function(e){g=e}},close:{get:function(){return v()},set:function(e){v=e}},high:{get:function(){return h},set:function(e){h=e}},low:{get:function(){return b},set:function(e){b=e}},margin:{get:function(){return a},set:function(e){a.top=null!=e.top?e.top:a.top,a.right=null!=e.right?e.right:a.right,a.bottom=null!=e.bottom?e.bottom:a.bottom,a.left=null!=e.left?e.left:a.left}},color:{get:function(){return w},set:function(e){w=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.parallelCoordinates=function(){"use strict";function e(g){return g.each((function(e){function g(e){return C(l.map((function(t){if(isNaN(e[t])||isNaN(parseFloat(e[t]))){var n=a[t].domain(),r=a[t].range(),i=n[0]-(n[1]-n[0])/9;if(O.indexOf(t)<0){var l=d3.scale.linear().domain([i,n[1]]).range([E-12,r[1]]);a[t].brush.y(l),O.push(t)}return[o(t),a[t](i)]}return O.length>0?(T.style("display","inline"),I.style("display","inline")):(T.style("display","none"),I.style("display","none")),[o(t),a[t](e[t])]})))}function v(){var e=l.filter((function(e){return!a[e].brush.empty()})),t=e.map((function(e){return a[e].brush.extent()}));u=[],e.forEach((function(e,n){u[n]={dimension:e,extent:t[n]}})),d=[],L.style("display",(function(n){var r=e.every((function(e,r){return!(!isNaN(n[e])||t[r][0]!=a[e].brush.y().domain()[0])||t[r][0]<=n[e]&&n[e]<=t[r][1]}));return r&&d.push(n),r?null:"none"})),p.brush({filters:u,active:d})}function h(e){var t=f[e];return null==t?o(e):t}var b=d3.select(this),y=t.utils.availableWidth(r,b,n),E=t.utils.availableHeight(i,b,n);t.utils.initSVG(b),d=e,o.rangePoints([0,y],1).domain(l);var S={};l.forEach((function(t){var n=d3.extent(e,(function(e){return+e[t]}));return S[t]=!1,void 0===n[0]&&(S[t]=!0,n[0]=0,n[1]=0),n[0]===n[1]&&(n[0]=n[0]-1,n[1]=n[1]+1),a[t]=d3.scale.linear().domain(n).range([.9*(E-12),0]),a[t].brush=d3.svg.brush().y(a[t]).on("brush",v),"name"!=t}));var _=b.selectAll("g.nv-wrap.nv-parallelCoordinates").data([e]),w=_.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates").append("g"),A=_.select("g");w.append("g").attr("class","nv-parallelCoordinates background"),w.append("g").attr("class","nv-parallelCoordinates foreground"),w.append("g").attr("class","nv-parallelCoordinates missingValuesline"),_.attr("transform","translate("+n.left+","+n.top+")");var T,I,C=d3.svg.line().interpolate("cardinal").tension(m),x=d3.svg.axis().orient("left"),D=d3.behavior.drag().on("dragstart",(function(e,t){f[e]=this.parentNode.__origin__=o(e),N.attr("visibility","hidden")})).on("drag",(function(e,t){f[e]=Math.min(y,Math.max(0,this.parentNode.__origin__+=d3.event.x)),L.attr("d",g),l.sort((function(e,t){return h(e)-h(t)})),o.domain(l),P.attr("transform",(function(e){return"translate("+h(e)+")"}))})).on("dragend",(function(e,t){delete this.parentNode.__origin__,delete f[e],d3.select(this.parentNode).attr("transform","translate("+o(e)+")"),L.attr("d",g),N.attr("d",g).attr("visibility",null)})),M=o.range()[1]-o.range()[0],O=[],R=[0+M/2,E-12,y-M/2,E-12];(T=_.select(".missingValuesline").selectAll("line").data([R])).enter().append("line"),T.exit().remove(),T.attr("x1",(function(e){return e[0]})).attr("y1",(function(e){return e[1]})).attr("x2",(function(e){return e[2]})).attr("y2",(function(e){return e[3]})),(I=_.select(".missingValuesline").selectAll("text").data(["undefined values"])).append("text").data(["undefined values"]),I.enter().append("text"),I.exit().remove(),I.attr("y",E).attr("x",y-92-M/2).text((function(e){return e}));var N=_.select(".background").selectAll("path").data(e);N.enter().append("path"),N.exit().remove(),N.attr("d",g);var L=_.select(".foreground").selectAll("path").data(e);L.enter().append("path"),L.exit().remove(),L.attr("d",g).attr("stroke",c),L.on("mouseover",(function(e,t){d3.select(this).classed("hover",!0),p.elementMouseover({label:e.name,data:e.data,index:t,pos:[d3.mouse(this.parentNode)[0],d3.mouse(this.parentNode)[1]]})})),L.on("mouseout",(function(e,t){d3.select(this).classed("hover",!1),p.elementMouseout({label:e.name,data:e.data,index:t})}));var P=A.selectAll(".dimension").data(l),k=P.enter().append("g").attr("class","nv-parallelCoordinates dimension");k.append("g").attr("class","nv-parallelCoordinates nv-axis"),k.append("g").attr("class","nv-parallelCoordinates-brush"),k.append("text").attr("class","nv-parallelCoordinates nv-label"),P.attr("transform",(function(e){return"translate("+o(e)+",0)"})),P.exit().remove(),P.select(".nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").text(String).on("mouseover",(function(e,t){p.elementMouseover({dim:e,pos:[d3.mouse(this.parentNode.parentNode)[0],d3.mouse(this.parentNode.parentNode)[1]]})})).on("mouseout",(function(e,t){p.elementMouseout({dim:e})})).call(D),P.select(".nv-axis").each((function(e,t){d3.select(this).call(x.scale(a[e]).tickFormat(d3.format(s[t])))})),P.select(".nv-parallelCoordinates-brush").each((function(e){d3.select(this).call(a[e].brush)})).selectAll("rect").attr("x",-8).attr("width",16)})),e}var n={top:30,right:0,bottom:10,left:0},r=null,i=null,o=d3.scale.ordinal(),a={},l=[],s=[],c=t.utils.defaultColor(),u=[],d=[],f=[],m=1,p=d3.dispatch("brush","elementMouseover","elementMouseout");return e.dispatch=p,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return r},set:function(e){r=e}},height:{get:function(){return i},set:function(e){i=e}},dimensionNames:{get:function(){return l},set:function(e){l=e}},dimensionFormats:{get:function(){return s},set:function(e){s=e}},lineTension:{get:function(){return m},set:function(e){m=e}},dimensions:{get:function(){return l},set:function(e){t.deprecated("dimensions","use dimensionNames instead"),l=e}},margin:{get:function(){return n},set:function(e){n.top=void 0!==e.top?e.top:n.top,n.right=void 0!==e.right?e.right:n.right,n.bottom=void 0!==e.bottom?e.bottom:n.bottom,n.left=void 0!==e.left?e.left:n.left}},color:{get:function(){return c},set:function(e){c=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.pie=function(){"use strict";function e(M){return D.reset(),M.each((function(e){var M=r-n.left-n.right,O=i-n.top-n.bottom,R=Math.min(M,O)/2,N=[],L=[];if(s=d3.select(this),0===T.length)for(var P=R-R/5,k=A*R,G=0;G<e[0].length;G++)N.push(P),L.push(k);else N=T.map((function(e){return(e.outer-e.outer/5)*R})),L=T.map((function(e){return(e.inner-e.inner/5)*R})),A=d3.min(T.map((function(e){return e.inner-e.inner/5})));t.utils.initSVG(s);var F=s.selectAll(".nv-wrap.nv-pie").data(e),U=F.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+l).append("g"),V=F.select("g"),z=U.append("g").attr("class","nv-pie");U.append("g").attr("class","nv-pieLabels"),F.attr("transform","translate("+n.left+","+n.top+")"),V.select(".nv-pie").attr("transform","translate("+M/2+","+O/2+")"),V.select(".nv-pieLabels").attr("transform","translate("+M/2+","+O/2+")"),s.on("click",(function(e,t){I.chartClick({data:e,index:t,pos:d3.event,id:l})})),C=[],x=[];for(G=0;G<e[0].length;G++){var B=d3.svg.arc().outerRadius(N[G]),$=d3.svg.arc().outerRadius(N[G]+5);!1!==E&&(B.startAngle(E),$.startAngle(E)),!1!==_&&(B.endAngle(_),$.endAngle(_)),g&&(B.innerRadius(L[G]),$.innerRadius(L[G])),B.cornerRadius&&w&&(B.cornerRadius(w),$.cornerRadius(w)),C.push(B),x.push($)}var W=d3.layout.pie().sort(null).value((function(e){return e.disabled?0:a(e)}));W.padAngle&&S&&W.padAngle(S),g&&v&&(z.append("text").attr("class","nv-pie-title"),F.select(".nv-pie-title").style("text-anchor","middle").text((function(e){return v})).style("font-size",Math.min(M,O)*A*2/(v.length+2)+"px").attr("dy","0.35em").attr("transform",(function(e,t){return"translate(0, "+b+")"})));var H=F.select(".nv-pie").selectAll(".nv-slice").data(W),j=F.select(".nv-pieLabels").selectAll(".nv-label").data(W);H.exit().remove(),j.exit().remove();var q=H.enter().append("g");if(q.attr("class","nv-slice"),q.on("mouseover",(function(e,t){d3.select(this).classed("hover",!0),h&&d3.select(this).select("path").transition().duration(70).attr("d",x[t]),I.elementMouseover({data:e.data,index:t,color:d3.select(this).style("fill")})})),q.on("mouseout",(function(e,t){d3.select(this).classed("hover",!1),h&&d3.select(this).select("path").transition().duration(50).attr("d",C[t]),I.elementMouseout({data:e.data,index:t})})),q.on("mousemove",(function(e,t){I.elementMousemove({data:e.data,index:t})})),q.on("click",(function(e,t){I.elementClick({data:e.data,index:t,color:d3.select(this).style("fill")})})),q.on("dblclick",(function(e,t){I.elementDblClick({data:e.data,index:t,color:d3.select(this).style("fill")})})),H.attr("fill",(function(e,t){return c(e.data,t)})),H.attr("stroke",(function(e,t){return c(e.data,t)})),q.append("path").each((function(e){this._current=e})),H.select("path").transition().attr("d",(function(e,t){return C[t](e)})).attrTween("d",(function(e,t){e.endAngle=isNaN(e.endAngle)?0:e.endAngle,e.startAngle=isNaN(e.startAngle)?0:e.startAngle,g||(e.innerRadius=0);var n=d3.interpolate(this._current,e);return this._current=n(0),function(e){return C[t](n(e))}})),d){var Y=[];for(G=0;G<e[0].length;G++)Y.push(C[G]),f?g&&(Y[G]=d3.svg.arc().outerRadius(C[G].outerRadius()),!1!==E&&Y[G].startAngle(E),!1!==_&&Y[G].endAngle(_)):g||Y[G].innerRadius(0);j.enter().append("g").classed("nv-label",!0).each((function(e,t){var n=d3.select(this);n.attr("transform",(function(e,t){if(y){e.outerRadius=N[t]+10,e.innerRadius=N[t]+15;var n=(e.startAngle+e.endAngle)/2*(180/Math.PI);return(e.startAngle+e.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+Y[t].centroid(e)+") rotate("+n+")"}return e.outerRadius=R+10,e.innerRadius=R+15,"translate("+Y[t].centroid(e)+")"})),n.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),n.append("text").style("text-anchor",y?(e.startAngle+e.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")}));var K={},Q=function(e){return 140*Math.floor(e[0]/140)+","+14*Math.floor(e[1]/14)};j.watchTransition(D,"pie labels").attr("transform",(function(e,t){if(y){e.outerRadius=N[t]+10,e.innerRadius=N[t]+15;var n=(e.startAngle+e.endAngle)/2*(180/Math.PI);return(e.startAngle+e.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+Y[t].centroid(e)+") rotate("+n+")"}e.outerRadius=R+10,e.innerRadius=R+15;var r=Y[t].centroid(e);if(e.value){var i=Q(r);K[i]&&(r[1]-=14),K[Q(r)]=!0}return"translate("+r+")"})),j.select(".nv-label text").style("text-anchor",(function(e,t){return y?(e.startAngle+e.endAngle)/2<Math.PI?"start":"end":"middle"})).text((function(e,t){var n=(e.endAngle-e.startAngle)/(2*Math.PI),r="";if(!e.value||n<p)return"";if("function"==typeof m)r=m(e,t,{key:o(e.data),value:a(e.data),percent:u(n)});else switch(m){case"key":r=o(e.data);break;case"value":r=u(a(e.data));break;case"percent":r=d3.format("%")(n)}return r}))}})),D.renderEnd("pie immediate"),e}var n={top:0,right:0,bottom:0,left:0},r=500,i=500,o=function(e){return e.x},a=function(e){return e.y},l=Math.floor(1e4*Math.random()),s=null,c=t.utils.defaultColor(),u=d3.format(",.2f"),d=!0,f=!1,m="key",p=.02,g=!1,v=!1,h=!0,b=0,y=!1,E=!1,S=!1,_=!1,w=0,A=.5,T=[],I=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),C=[],x=[],D=t.utils.renderWatch(I);return e.dispatch=I,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{arcsRadius:{get:function(){return T},set:function(e){T=e}},width:{get:function(){return r},set:function(e){r=e}},height:{get:function(){return i},set:function(e){i=e}},showLabels:{get:function(){return d},set:function(e){d=e}},title:{get:function(){return v},set:function(e){v=e}},titleOffset:{get:function(){return b},set:function(e){b=e}},labelThreshold:{get:function(){return p},set:function(e){p=e}},valueFormat:{get:function(){return u},set:function(e){u=e}},x:{get:function(){return o},set:function(e){o=e}},id:{get:function(){return l},set:function(e){l=e}},endAngle:{get:function(){return _},set:function(e){_=e}},startAngle:{get:function(){return E},set:function(e){E=e}},padAngle:{get:function(){return S},set:function(e){S=e}},cornerRadius:{get:function(){return w},set:function(e){w=e}},donutRatio:{get:function(){return A},set:function(e){A=e}},labelsOutside:{get:function(){return f},set:function(e){f=e}},labelSunbeamLayout:{get:function(){return y},set:function(e){y=e}},donut:{get:function(){return g},set:function(e){g=e}},growOnHover:{get:function(){return h},set:function(e){h=e}},pieLabelsOutside:{get:function(){return f},set:function(e){f=e,t.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return f},set:function(e){f=e,t.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return u},set:function(e){u=e,t.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return n},set:function(e){n.top=void 0!==e.top?e.top:n.top,n.right=void 0!==e.right?e.right:n.right,n.bottom=void 0!==e.bottom?e.bottom:n.bottom,n.left=void 0!==e.left?e.left:n.left}},y:{get:function(){return a},set:function(e){a=d3.functor(e)}},color:{get:function(){return c},set:function(e){c=t.utils.getColor(e)}},labelType:{get:function(){return m},set:function(e){m=e||"key"}}}),t.utils.initOptions(e),e},t.models.pieChart=function(){"use strict";function e(i){return v.reset(),v.models(n),i.each((function(i){var u=d3.select(this);t.utils.initSVG(u);var m,p=t.utils.availableWidth(a,u,o),v=t.utils.availableHeight(l,u,o);if(e.update=function(){u.transition().call(e)},e.container=this,d.setter(b(i),e.update).getter(h(i)).update(),d.disabled=i.map((function(e){return!!e.disabled})),!f)for(m in f={},d)d[m]instanceof Array?f[m]=d[m].slice(0):f[m]=d[m];if(!i||!i.length)return t.utils.noData(e,u),e;u.selectAll(".nv-noData").remove();var y=u.selectAll("g.nv-wrap.nv-pieChart").data([i]),E=y.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),S=y.select("g");if(E.append("g").attr("class","nv-pieWrap"),E.append("g").attr("class","nv-legendWrap"),s)if("top"===c)r.width(p).key(n.x()),y.select(".nv-legendWrap").datum(i).call(r),o.top!=r.height()&&(o.top=r.height(),v=t.utils.availableHeight(l,u,o)),y.select(".nv-legendWrap").attr("transform","translate(0,"+-o.top+")");else if("right"===c){var _=t.models.legend().width();p/2<_&&(_=p/2),r.height(v).key(n.x()),r.width(_),p-=r.width(),y.select(".nv-legendWrap").datum(i).call(r).attr("transform","translate("+p+",0)")}y.attr("transform","translate("+o.left+","+o.top+")"),n.width(p).height(v);var w=S.select(".nv-pieWrap").datum([i]);d3.transition(w).call(n),r.dispatch.on("stateChange",(function(t){for(var n in t)d[n]=t[n];g.stateChange(d),e.update()})),g.on("changeState",(function(t){void 0!==t.disabled&&(i.forEach((function(e,n){e.disabled=t.disabled[n]})),d.disabled=t.disabled),e.update()}))})),v.renderEnd("pieChart immediate"),e}var n=t.models.pie(),r=t.models.legend(),i=t.models.tooltip(),o={top:30,right:20,bottom:20,left:20},a=null,l=null,s=!0,c="top",u=t.utils.defaultColor(),d=t.utils.state(),f=null,m=null,p=250,g=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd");i.headerEnabled(!1).duration(0).valueFormatter((function(e,t){return n.valueFormat()(e,t)}));var v=t.utils.renderWatch(g),h=function(e){return function(){return{active:e.map((function(e){return!e.disabled}))}}},b=function(e){return function(t){void 0!==t.active&&e.forEach((function(e,n){e.disabled=!t.active[n]}))}};return n.dispatch.on("elementMouseover.tooltip",(function(t){t.series={key:e.x()(t.data),value:e.y()(t.data),color:t.color},i.data(t).hidden(!1)})),n.dispatch.on("elementMouseout.tooltip",(function(e){i.hidden(!0)})),n.dispatch.on("elementMousemove.tooltip",(function(e){i.position({top:d3.event.pageY,left:d3.event.pageX})()})),e.legend=r,e.dispatch=g,e.pie=n,e.tooltip=i,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{noData:{get:function(){return m},set:function(e){m=e}},showLegend:{get:function(){return s},set:function(e){s=e}},legendPosition:{get:function(){return c},set:function(e){c=e}},defaultState:{get:function(){return f},set:function(e){f=e}},tooltips:{get:function(){return i.enabled()},set:function(e){t.deprecated("tooltips","use chart.tooltip.enabled() instead"),i.enabled(!!e)}},tooltipContent:{get:function(){return i.contentGenerator()},set:function(e){t.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),i.contentGenerator(e)}},color:{get:function(){return u},set:function(e){u=e,r.color(u),n.color(u)}},duration:{get:function(){return p},set:function(e){p=e,v.reset(p)}},margin:{get:function(){return o},set:function(e){o.top=void 0!==e.top?e.top:o.top,o.right=void 0!==e.right?e.right:o.right,o.bottom=void 0!==e.bottom?e.bottom:o.bottom,o.left=void 0!==e.left?e.left:o.left}}}),t.utils.inheritOptions(e,n),t.utils.initOptions(e),e},t.models.scatter=function(){"use strict";function e(U){return z.reset(),U.each((function(e){d=d3.select(this);var U=t.utils.availableWidth(l,d,a),$=t.utils.availableHeight(s,d,a);t.utils.initSVG(d),e.forEach((function(e,t){e.values.forEach((function(e){e.series=t}))}));var W=M&&O&&L?[]:d3.merge(e.map((function(e){return e.values.map((function(e,t){return{x:g(e,t),y:v(e,t),size:h(e,t)}}))})));f.domain(M||d3.extent(W.map((function(e){return e.x})).concat(y))),A&&e[0]?f.range(R||[(U*T+U)/(2*e[0].values.length),U-U*(1+T)/(2*e[0].values.length)]):f.range(R||[0,U]),m.domain(O||d3.extent(W.map((function(e){return e.y})).concat(E))).range(N||[$,0]),p.domain(L||d3.extent(W.map((function(e){return e.size})).concat(S))).range(P||B),k=f.domain()[0]===f.domain()[1]||m.domain()[0]===m.domain()[1],f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]-.01*f.domain()[0],f.domain()[1]+.01*f.domain()[1]]):f.domain([-1,1])),m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]-.01*m.domain()[0],m.domain()[1]+.01*m.domain()[1]]):m.domain([-1,1])),isNaN(f.domain()[0])&&f.domain([-1,1]),isNaN(m.domain()[0])&&m.domain([-1,1]),n=n||f,r=r||m,i=i||p;var H=d.selectAll("g.nv-wrap.nv-scatter").data([e]),j=H.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+u),q=j.append("defs"),Y=j.append("g"),K=H.select("g");H.classed("nv-single-point",k),Y.append("g").attr("class","nv-groups"),Y.append("g").attr("class","nv-point-paths"),j.append("g").attr("class","nv-point-clips"),H.attr("transform","translate("+a.left+","+a.top+")"),q.append("clipPath").attr("id","nv-edge-clip-"+u).append("rect"),H.select("#nv-edge-clip-"+u+" rect").attr("width",U).attr("height",$>0?$:0),K.attr("clip-path",I?"url(#nv-edge-clip-"+u+")":""),V=!0;var Q=H.select(".nv-groups").selectAll(".nv-group").data((function(e){return e}),(function(e){return e.key}));Q.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),Q.exit().remove(),Q.attr("class",(function(e,t){return"nv-group nv-series-"+t})).classed("hover",(function(e){return e.hover})),Q.watchTransition(z,"scatter: groups").style("fill",(function(e,t){return c(e,t)})).style("stroke",(function(e,t){return c(e,t)})).style("stroke-opacity",1).style("fill-opacity",.5);var Z=Q.selectAll("path.nv-point").data((function(e){return e.values.map((function(e,t){return[e,t]})).filter((function(e,t){return w(e[0],t)}))}));Z.enter().append("path").style("fill",(function(e){return e.color})).style("stroke",(function(e){return e.color})).attr("transform",(function(e){return"translate("+n(g(e[0],e[1]))+","+r(v(e[0],e[1]))+")"})).attr("d",t.utils.symbol().type((function(e){return b(e[0])})).size((function(e){return p(h(e[0],e[1]))}))),Z.exit().remove(),Q.exit().selectAll("path.nv-point").watchTransition(z,"scatter exit").attr("transform",(function(e){return"translate("+f(g(e[0],e[1]))+","+m(v(e[0],e[1]))+")"})).remove(),Z.each((function(e){d3.select(this).classed("nv-point",!0).classed("nv-point-"+e[1],!0).classed("nv-noninteractive",!_).classed("hover",!1)})),Z.watchTransition(z,"scatter points").attr("transform",(function(e){return"translate("+f(g(e[0],e[1]))+","+m(v(e[0],e[1]))+")"})).attr("d",t.utils.symbol().type((function(e){return b(e[0])})).size((function(e){return p(h(e[0],e[1]))}))),clearTimeout(o),o=setTimeout((function(){if(V=!1,!_)return!1;if(!0===F){var t=d3.merge(e.map((function(e,t){return e.values.map((function(e,n){var r=g(e,n),i=v(e,n);return[f(r)+1e-4*Math.random(),m(i)+1e-4*Math.random(),t,n,e]})).filter((function(e,t){return w(e[4],t)}))})));if(0==t.length)return!1;t.length<3&&(t.push([f.range()[0]-20,m.range()[0]-20,null,null]),t.push([f.range()[1]+20,m.range()[1]+20,null,null]),t.push([f.range()[0]-20,m.range()[0]+20,null,null]),t.push([f.range()[1]+20,m.range()[1]-20,null,null]));var n=d3.geom.polygon([[-10,-10],[-10,s+10],[l+10,s+10],[l+10,-10]]),r=d3.geom.voronoi(t).map((function(e,r){return{data:n.clip(e),series:t[r][2],point:t[r][3]}}));H.select(".nv-point-paths").selectAll("path").remove();var i=H.select(".nv-point-paths").selectAll("path").data(r),o=i.enter().append("svg:path").attr("d",(function(e){return e&&e.data&&0!==e.data.length?"M"+e.data.join(",")+"Z":"M 0 0"})).attr("id",(function(e,t){return"nv-path-"+t})).attr("clip-path",(function(e,t){return"url(#nv-clip-"+t+")"}));x&&o.style("fill",d3.rgb(230,230,230)).style("fill-opacity",.4).style("stroke-opacity",1).style("stroke",d3.rgb(200,200,200)),C&&(H.select(".nv-point-clips").selectAll("clipPath").remove(),H.select(".nv-point-clips").selectAll("clipPath").data(t).enter().append("svg:clipPath").attr("id",(function(e,t){return"nv-clip-"+t})).append("svg:circle").attr("cx",(function(e){return e[0]})).attr("cy",(function(e){return e[1]})).attr("r",D));var u=function(t,n){if(V)return 0;var r=e[t.series];if(void 0!==r){var i=r.values[t.point];i.color=c(r,t.series),i.x=g(i),i.y=v(i);var o=d.node().getBoundingClientRect(),l=window.pageYOffset||document.documentElement.scrollTop,s=window.pageXOffset||document.documentElement.scrollLeft;n({point:i,series:r,pos:{left:f(g(i,t.point))+o.left+s+a.left+10,top:m(v(i,t.point))+o.top+l+a.top+10},seriesIndex:t.series,pointIndex:t.point})}};i.on("click",(function(e){u(e,G.elementClick)})).on("dblclick",(function(e){u(e,G.elementDblClick)})).on("mouseover",(function(e){u(e,G.elementMouseover)})).on("mouseout",(function(e,t){u(e,G.elementMouseout)}))}else H.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",(function(t,n){if(V||!e[t.series])return 0;var r=e[t.series],i=r.values[n];G.elementClick({point:i,series:r,pos:[f(g(i,n))+a.left,m(v(i,n))+a.top],seriesIndex:t.series,pointIndex:n})})).on("dblclick",(function(t,n){if(V||!e[t.series])return 0;var r=e[t.series],i=r.values[n];G.elementDblClick({point:i,series:r,pos:[f(g(i,n))+a.left,m(v(i,n))+a.top],seriesIndex:t.series,pointIndex:n})})).on("mouseover",(function(t,n){if(V||!e[t.series])return 0;var r=e[t.series],i=r.values[n];G.elementMouseover({point:i,series:r,pos:[f(g(i,n))+a.left,m(v(i,n))+a.top],seriesIndex:t.series,pointIndex:n,color:c(t,n)})})).on("mouseout",(function(t,n){if(V||!e[t.series])return 0;var r=e[t.series],i=r.values[n];G.elementMouseout({point:i,series:r,seriesIndex:t.series,pointIndex:n,color:c(t,n)})}))}),300),n=f.copy(),r=m.copy(),i=p.copy()})),z.renderEnd("scatter immediate"),e}var n,r,i,o,a={top:0,right:0,bottom:0,left:0},l=null,s=null,c=t.utils.defaultColor(),u=Math.floor(1e5*Math.random()),d=null,f=d3.scale.linear(),m=d3.scale.linear(),p=d3.scale.linear(),g=function(e){return e.x},v=function(e){return e.y},h=function(e){return e.size||1},b=function(e){return e.shape||"circle"},y=[],E=[],S=[],_=!0,w=function(e){return!e.notActive},A=!1,T=.1,I=!1,C=!0,x=!1,D=function(){return 25},M=null,O=null,R=null,N=null,L=null,P=null,k=!1,G=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),F=!0,U=250,V=!1,z=t.utils.renderWatch(G,U),B=[16,256];return e.dispatch=G,e.options=t.utils.optionsFunc.bind(e),e._calls=new function(){this.clearHighlights=function(){return t.dom.write((function(){d.selectAll(".nv-point.hover").classed("hover",!1)})),null},this.highlightPoint=function(e,n,r){t.dom.write((function(){d.select(" .nv-series-"+e+" .nv-point-"+n).classed("hover",r)}))}},G.on("elementMouseover.point",(function(t){_&&e._calls.highlightPoint(t.seriesIndex,t.pointIndex,!0)})),G.on("elementMouseout.point",(function(t){_&&e._calls.highlightPoint(t.seriesIndex,t.pointIndex,!1)})),e._options=Object.create({},{width:{get:function(){return l},set:function(e){l=e}},height:{get:function(){return s},set:function(e){s=e}},xScale:{get:function(){return f},set:function(e){f=e}},yScale:{get:function(){return m},set:function(e){m=e}},pointScale:{get:function(){return p},set:function(e){p=e}},xDomain:{get:function(){return M},set:function(e){M=e}},yDomain:{get:function(){return O},set:function(e){O=e}},pointDomain:{get:function(){return L},set:function(e){L=e}},xRange:{get:function(){return R},set:function(e){R=e}},yRange:{get:function(){return N},set:function(e){N=e}},pointRange:{get:function(){return P},set:function(e){P=e}},forceX:{get:function(){return y},set:function(e){y=e}},forceY:{get:function(){return E},set:function(e){E=e}},forcePoint:{get:function(){return S},set:function(e){S=e}},interactive:{get:function(){return _},set:function(e){_=e}},pointActive:{get:function(){return w},set:function(e){w=e}},padDataOuter:{get:function(){return T},set:function(e){T=e}},padData:{get:function(){return A},set:function(e){A=e}},clipEdge:{get:function(){return I},set:function(e){I=e}},clipVoronoi:{get:function(){return C},set:function(e){C=e}},clipRadius:{get:function(){return D},set:function(e){D=e}},showVoronoi:{get:function(){return x},set:function(e){x=e}},id:{get:function(){return u},set:function(e){u=e}},x:{get:function(){return g},set:function(e){g=d3.functor(e)}},y:{get:function(){return v},set:function(e){v=d3.functor(e)}},pointSize:{get:function(){return h},set:function(e){h=d3.functor(e)}},pointShape:{get:function(){return b},set:function(e){b=d3.functor(e)}},margin:{get:function(){return a},set:function(e){a.top=void 0!==e.top?e.top:a.top,a.right=void 0!==e.right?e.right:a.right,a.bottom=void 0!==e.bottom?e.bottom:a.bottom,a.left=void 0!==e.left?e.left:a.left}},duration:{get:function(){return U},set:function(e){U=e,z.reset(U)}},color:{get:function(){return c},set:function(e){c=t.utils.getColor(e)}},useVoronoi:{get:function(){return F},set:function(e){!1===(F=e)&&(C=!1)}}}),t.utils.initOptions(e),e},t.models.scatterChart=function(){"use strict";function e(T){return C.reset(),C.models(n),y&&C.models(r),E&&C.models(i),v&&C.models(a),h&&C.models(l),T.each((function(T){f=d3.select(this),t.utils.initSVG(f);var M,O=t.utils.availableWidth(u,f,c),R=t.utils.availableHeight(d,f,c);if(e.update=function(){0===I?f.call(e):f.transition().duration(I).call(e)},e.container=this,_.setter(D(T),e.update).getter(x(T)).update(),_.disabled=T.map((function(e){return!!e.disabled})),!w)for(M in w={},_)_[M]instanceof Array?w[M]=_[M].slice(0):w[M]=_[M];if(!(T&&T.length&&T.filter((function(e){return e.values.length})).length))return t.utils.noData(e,f),C.renderEnd("scatter immediate"),e;f.selectAll(".nv-noData").remove(),p=n.xScale(),g=n.yScale();var N=f.selectAll("g.nv-wrap.nv-scatterChart").data([T]),L=N.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+n.id()).append("g"),P=N.select("g");if(L.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),L.append("g").attr("class","nv-x nv-axis"),L.append("g").attr("class","nv-y nv-axis"),L.append("g").attr("class","nv-scatterWrap"),L.append("g").attr("class","nv-regressionLinesWrap"),L.append("g").attr("class","nv-distWrap"),L.append("g").attr("class","nv-legendWrap"),S&&P.select(".nv-y.nv-axis").attr("transform","translate("+O+",0)"),b){var k=O;o.width(k),N.select(".nv-legendWrap").datum(T).call(o),c.top!=o.height()&&(c.top=o.height(),R=t.utils.availableHeight(d,f,c)),N.select(".nv-legendWrap").attr("transform","translate(0,"+-c.top+")")}N.attr("transform","translate("+c.left+","+c.top+")"),n.width(O).height(R).color(T.map((function(e,t){return e.color=e.color||m(e,t),e.color})).filter((function(e,t){return!T[t].disabled}))),N.select(".nv-scatterWrap").datum(T.filter((function(e){return!e.disabled}))).call(n),N.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+n.id()+")");var G=N.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data((function(e){return e}));G.enter().append("g").attr("class","nv-regLines");var F=G.selectAll(".nv-regLine").data((function(e){return[e]}));F.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0),F.filter((function(e){return e.intercept&&e.slope})).watchTransition(C,"scatterPlusLineChart: regline").attr("x1",p.range()[0]).attr("x2",p.range()[1]).attr("y1",(function(e,t){return g(p.domain()[0]*e.slope+e.intercept)})).attr("y2",(function(e,t){return g(p.domain()[1]*e.slope+e.intercept)})).style("stroke",(function(e,t,n){return m(e,n)})).style("stroke-opacity",(function(e,t){return e.disabled||void 0===e.slope||void 0===e.intercept?0:1})),y&&(r.scale(p)._ticks(t.utils.calcTicksX(O/100,T)).tickSize(-R,0),P.select(".nv-x.nv-axis").attr("transform","translate(0,"+g.range()[0]+")").call(r)),E&&(i.scale(g)._ticks(t.utils.calcTicksY(R/36,T)).tickSize(-O,0),P.select(".nv-y.nv-axis").call(i)),v&&(a.getData(n.x()).scale(p).width(O).color(T.map((function(e,t){return e.color||m(e,t)})).filter((function(e,t){return!T[t].disabled}))),L.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),P.select(".nv-distributionX").attr("transform","translate(0,"+g.range()[0]+")").datum(T.filter((function(e){return!e.disabled}))).call(a)),h&&(l.getData(n.y()).scale(g).width(R).color(T.map((function(e,t){return e.color||m(e,t)})).filter((function(e,t){return!T[t].disabled}))),L.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),P.select(".nv-distributionY").attr("transform","translate("+(S?O:-l.size())+",0)").datum(T.filter((function(e){return!e.disabled}))).call(l)),o.dispatch.on("stateChange",(function(t){for(var n in t)_[n]=t[n];A.stateChange(_),e.update()})),A.on("changeState",(function(t){void 0!==t.disabled&&(T.forEach((function(e,n){e.disabled=t.disabled[n]})),_.disabled=t.disabled),e.update()})),n.dispatch.on("elementMouseout.tooltip",(function(e){s.hidden(!0),f.select(".nv-chart-"+n.id()+" .nv-series-"+e.seriesIndex+" .nv-distx-"+e.pointIndex).attr("y1",0),f.select(".nv-chart-"+n.id()+" .nv-series-"+e.seriesIndex+" .nv-disty-"+e.pointIndex).attr("x2",l.size())})),n.dispatch.on("elementMouseover.tooltip",(function(e){f.select(".nv-series-"+e.seriesIndex+" .nv-distx-"+e.pointIndex).attr("y1",e.pos.top-R-c.top),f.select(".nv-series-"+e.seriesIndex+" .nv-disty-"+e.pointIndex).attr("x2",e.pos.left+a.size()-c.left),s.position(e.pos).data(e).hidden(!1)})),p.copy(),g.copy()})),C.renderEnd("scatter with line immediate"),e}var n=t.models.scatter(),r=t.models.axis(),i=t.models.axis(),o=t.models.legend(),a=t.models.distribution(),l=t.models.distribution(),s=t.models.tooltip(),c={top:30,right:20,bottom:50,left:75},u=null,d=null,f=null,m=t.utils.defaultColor(),p=n.xScale(),g=n.yScale(),v=!1,h=!1,b=!0,y=!0,E=!0,S=!1,_=t.utils.state(),w=null,A=d3.dispatch("stateChange","changeState","renderEnd"),T=null,I=250;n.xScale(p).yScale(g),r.orient("bottom").tickPadding(10),i.orient(S?"right":"left").tickPadding(10),a.axis("x"),l.axis("y"),s.headerFormatter((function(e,t){return r.tickFormat()(e,t)})).valueFormatter((function(e,t){return i.tickFormat()(e,t)}));var C=t.utils.renderWatch(A,I),x=function(e){return function(){return{active:e.map((function(e){return!e.disabled}))}}},D=function(e){return function(t){void 0!==t.active&&e.forEach((function(e,n){e.disabled=!t.active[n]}))}};return e.dispatch=A,e.scatter=n,e.legend=o,e.xAxis=r,e.yAxis=i,e.distX=a,e.distY=l,e.tooltip=s,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return u},set:function(e){u=e}},height:{get:function(){return d},set:function(e){d=e}},container:{get:function(){return f},set:function(e){f=e}},showDistX:{get:function(){return v},set:function(e){v=e}},showDistY:{get:function(){return h},set:function(e){h=e}},showLegend:{get:function(){return b},set:function(e){b=e}},showXAxis:{get:function(){return y},set:function(e){y=e}},showYAxis:{get:function(){return E},set:function(e){E=e}},defaultState:{get:function(){return w},set:function(e){w=e}},noData:{get:function(){return T},set:function(e){T=e}},duration:{get:function(){return I},set:function(e){I=e}},tooltips:{get:function(){return s.enabled()},set:function(e){t.deprecated("tooltips","use chart.tooltip.enabled() instead"),s.enabled(!!e)}},tooltipContent:{get:function(){return s.contentGenerator()},set:function(e){t.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),s.contentGenerator(e)}},tooltipXContent:{get:function(){return s.contentGenerator()},set:function(e){t.deprecated("tooltipContent","This option is removed, put values into main tooltip.")}},tooltipYContent:{get:function(){return s.contentGenerator()},set:function(e){t.deprecated("tooltipContent","This option is removed, put values into main tooltip.")}},margin:{get:function(){return c},set:function(e){c.top=void 0!==e.top?e.top:c.top,c.right=void 0!==e.right?e.right:c.right,c.bottom=void 0!==e.bottom?e.bottom:c.bottom,c.left=void 0!==e.left?e.left:c.left}},rightAlignYAxis:{get:function(){return S},set:function(e){S=e,i.orient(e?"right":"left")}},color:{get:function(){return m},set:function(e){m=t.utils.getColor(e),o.color(m),a.color(m),l.color(m)}}}),t.utils.inheritOptions(e,n),t.utils.initOptions(e),e},t.models.sparkline=function(){"use strict";function e(u){return u.each((function(e){var u=l-a.left-a.right,v=s-a.top-a.bottom;c=d3.select(this),t.utils.initSVG(c),d.domain(n||d3.extent(e,m)).range(i||[0,u]),f.domain(r||d3.extent(e,p)).range(o||[v,0]);var h=c.selectAll("g.nv-wrap.nv-sparkline").data([e]);h.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline").append("g"),h.select("g"),h.attr("transform","translate("+a.left+","+a.top+")");var b=h.selectAll("path").data((function(e){return[e]}));b.enter().append("path"),b.exit().remove(),b.style("stroke",(function(e,t){return e.color||g(e,t)})).attr("d",d3.svg.line().x((function(e,t){return d(m(e,t))})).y((function(e,t){return f(p(e,t))})));var y=h.selectAll("circle.nv-point").data((function(e){function t(t){if(-1!=t){var n=e[t];return n.pointIndex=t,n}return null}var n=e.map((function(e,t){return p(e,t)})),r=t(n.lastIndexOf(f.domain()[1]));return[t(n.indexOf(f.domain()[0])),r,t(n.length-1)].filter((function(e){return null!=e}))}));y.enter().append("circle"),y.exit().remove(),y.attr("cx",(function(e,t){return d(m(e,e.pointIndex))})).attr("cy",(function(e,t){return f(p(e,e.pointIndex))})).attr("r",2).attr("class",(function(e,t){return m(e,e.pointIndex)==d.domain()[1]?"nv-point nv-currentValue":p(e,e.pointIndex)==f.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"}))})),e}var n,r,i,o,a={top:2,right:0,bottom:2,left:0},l=400,s=32,c=null,u=!0,d=d3.scale.linear(),f=d3.scale.linear(),m=function(e){return e.x},p=function(e){return e.y},g=t.utils.getColor(["#000"]);return e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return l},set:function(e){l=e}},height:{get:function(){return s},set:function(e){s=e}},xDomain:{get:function(){return n},set:function(e){n=e}},yDomain:{get:function(){return r},set:function(e){r=e}},xRange:{get:function(){return i},set:function(e){i=e}},yRange:{get:function(){return o},set:function(e){o=e}},xScale:{get:function(){return d},set:function(e){d=e}},yScale:{get:function(){return f},set:function(e){f=e}},animate:{get:function(){return u},set:function(e){u=e}},x:{get:function(){return m},set:function(e){m=d3.functor(e)}},y:{get:function(){return p},set:function(e){p=d3.functor(e)}},margin:{get:function(){return a},set:function(e){a.top=void 0!==e.top?e.top:a.top,a.right=void 0!==e.right?e.right:a.right,a.bottom=void 0!==e.bottom?e.bottom:a.bottom,a.left=void 0!==e.left?e.left:a.left}},color:{get:function(){return g},set:function(e){g=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.sparklinePlus=function(){"use strict";function e(g){return g.each((function(g){function v(){if(!c){var e=w.selectAll(".nv-hoverValue").data(s),t=e.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);e.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),e.attr("transform",(function(e){return"translate("+n(i.x()(g[e],e))+",0)"})).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),s.length&&(t.append("line").attr("x1",0).attr("y1",-o.top).attr("x2",0).attr("y2",y),t.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-o.top).attr("text-anchor","end").attr("dy",".9em"),w.select(".nv-hoverValue .nv-xValue").text(u(i.x()(g[s[0]],s[0]))),t.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-o.top).attr("text-anchor","start").attr("dy",".9em"),w.select(".nv-hoverValue .nv-yValue").text(d(i.y()(g[s[0]],s[0]))))}}var h=d3.select(this);t.utils.initSVG(h);var b=t.utils.availableWidth(a,h,o),y=t.utils.availableHeight(l,h,o);if(e.update=function(){h.call(e)},e.container=this,!g||!g.length)return t.utils.noData(e,h),e;h.selectAll(".nv-noData").remove();var E=i.y()(g[g.length-1],g.length-1);n=i.xScale(),r=i.yScale();var S=h.selectAll("g.nv-wrap.nv-sparklineplus").data([g]),_=S.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus").append("g"),w=S.select("g");_.append("g").attr("class","nv-sparklineWrap"),_.append("g").attr("class","nv-valueWrap"),_.append("g").attr("class","nv-hoverArea"),S.attr("transform","translate("+o.left+","+o.top+")");var A=w.select(".nv-sparklineWrap");if(i.width(b).height(y),A.call(i),f){var T=w.select(".nv-valueWrap").selectAll(".nv-currentValue").data([E]);T.enter().append("text").attr("class","nv-currentValue").attr("dx",p?-8:8).attr("dy",".9em").style("text-anchor",p?"end":"start"),T.attr("x",b+(p?o.right:0)).attr("y",m?function(e){return r(e)}:0).style("fill",i.color()(g[g.length-1],g.length-1)).text(d(E))}_.select(".nv-hoverArea").append("rect").on("mousemove",(function(){if(!c){var e=d3.mouse(this)[0]-o.left;s=[function(e,t){for(var n=Math.abs(i.x()(e[0],0)-t),r=0,o=0;o<e.length;o++)Math.abs(i.x()(e[o],o)-t)<n&&(n=Math.abs(i.x()(e[o],o)-t),r=o);return r}(g,Math.round(n.invert(e)))],v()}})).on("click",(function(){c=!c})).on("mouseout",(function(){s=[],v()})),w.select(".nv-hoverArea rect").attr("transform",(function(e){return"translate("+-o.left+","+-o.top+")"})).attr("width",b+o.left+o.right).attr("height",y+o.top)})),e}var n,r,i=t.models.sparkline(),o={top:15,right:100,bottom:10,left:50},a=null,l=null,s=[],c=!1,u=d3.format(",r"),d=d3.format(",.2f"),f=!0,m=!0,p=!1,g=null;return e.sparkline=i,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return a},set:function(e){a=e}},height:{get:function(){return l},set:function(e){l=e}},xTickFormat:{get:function(){return u},set:function(e){u=e}},yTickFormat:{get:function(){return d},set:function(e){d=e}},showLastValue:{get:function(){return f},set:function(e){f=e}},alignValue:{get:function(){return m},set:function(e){m=e}},rightAlignValue:{get:function(){return p},set:function(e){p=e}},noData:{get:function(){return g},set:function(e){g=e}},margin:{get:function(){return o},set:function(e){o.top=void 0!==e.top?e.top:o.top,o.right=void 0!==e.right?e.right:o.right,o.bottom=void 0!==e.bottom?e.bottom:o.bottom,o.left=void 0!==e.left?e.left:o.left}}}),t.utils.inheritOptions(e,i),t.utils.initOptions(e),e},t.models.stackedArea=function(){"use strict";function e(f){return E.reset(),E.models(h),f.each((function(f){var b=o-i.left-i.right,S=a-i.top-i.bottom;c=d3.select(this),t.utils.initSVG(c),n=h.xScale(),r=h.yScale();var _=f;f.forEach((function(e,t){e.seriesIndex=t,e.values=e.values.map((function(e,n){return e.index=n,e.seriesIndex=t,e}))}));var w=f.filter((function(e){return!e.disabled}));f=d3.layout.stack().order(p).offset(m).values((function(e){return e.values})).x(u).y(d).out((function(e,t,n){e.display={y:n,y0:t}}))(w);var A=c.selectAll("g.nv-wrap.nv-stackedarea").data([f]),T=A.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),I=T.append("defs"),C=T.append("g"),x=A.select("g");C.append("g").attr("class","nv-areaWrap"),C.append("g").attr("class","nv-scatterWrap"),A.attr("transform","translate("+i.left+","+i.top+")"),0==h.forceY().length&&h.forceY().push(0),h.width(b).height(S).x(u).y((function(e){return e.display.y+e.display.y0})).forceY([0]).color(f.map((function(e,t){return e.color||l(e,e.seriesIndex)}))),x.select(".nv-scatterWrap").datum(f).call(h),I.append("clipPath").attr("id","nv-edge-clip-"+s).append("rect"),A.select("#nv-edge-clip-"+s+" rect").attr("width",b).attr("height",S),x.attr("clip-path",v?"url(#nv-edge-clip-"+s+")":"");var D=d3.svg.area().x((function(e,t){return n(u(e,t))})).y0((function(e){return r(e.display.y0)})).y1((function(e){return r(e.display.y+e.display.y0)})).interpolate(g),M=d3.svg.area().x((function(e,t){return n(u(e,t))})).y0((function(e){return r(e.display.y0)})).y1((function(e){return r(e.display.y0)})),O=x.select(".nv-areaWrap").selectAll("path.nv-area").data((function(e){return e}));O.enter().append("path").attr("class",(function(e,t){return"nv-area nv-area-"+t})).attr("d",(function(e,t){return M(e.values,e.seriesIndex)})).on("mouseover",(function(e,t){d3.select(this).classed("hover",!0),y.areaMouseover({point:e,series:e.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:e.seriesIndex})})).on("mouseout",(function(e,t){d3.select(this).classed("hover",!1),y.areaMouseout({point:e,series:e.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:e.seriesIndex})})).on("click",(function(e,t){d3.select(this).classed("hover",!1),y.areaClick({point:e,series:e.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:e.seriesIndex})})),O.exit().remove(),O.style("fill",(function(e,t){return e.color||l(e,e.seriesIndex)})).style("stroke",(function(e,t){return e.color||l(e,e.seriesIndex)})),O.watchTransition(E,"stackedArea path").attr("d",(function(e,t){return D(e.values,t)})),h.dispatch.on("elementMouseover.area",(function(e){x.select(".nv-chart-"+s+" .nv-area-"+e.seriesIndex).classed("hover",!0)})),h.dispatch.on("elementMouseout.area",(function(e){x.select(".nv-chart-"+s+" .nv-area-"+e.seriesIndex).classed("hover",!1)})),e.d3_stackedOffset_stackPercent=function(e){var t,n,r,i=e.length,o=e[0].length,a=[];for(n=0;n<o;++n){for(t=0,r=0;t<_.length;t++)r+=d(_[t].values[n]);if(r)for(t=0;t<i;t++)e[t][n][1]/=r;else for(t=0;t<i;t++)e[t][n][1]=0}for(n=0;n<o;++n)a[n]=0;return a}})),E.renderEnd("stackedArea immediate"),e}var n,r,i={top:0,right:0,bottom:0,left:0},o=960,a=500,l=t.utils.defaultColor(),s=Math.floor(1e5*Math.random()),c=null,u=function(e){return e.x},d=function(e){return e.y},f="stack",m="zero",p="default",g="linear",v=!1,h=t.models.scatter(),b=250,y=d3.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");h.pointSize(2.2).pointDomain([2.2,2.2]);var E=t.utils.renderWatch(y,b);return e.dispatch=y,e.scatter=h,h.dispatch.on("elementClick",(function(){y.elementClick.apply(this,arguments)})),h.dispatch.on("elementMouseover",(function(){y.elementMouseover.apply(this,arguments)})),h.dispatch.on("elementMouseout",(function(){y.elementMouseout.apply(this,arguments)})),e.interpolate=function(t){return arguments.length?(g=t,e):g},e.duration=function(t){return arguments.length?(b=t,E.reset(b),h.duration(b),e):b},e.dispatch=y,e.scatter=h,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return o},set:function(e){o=e}},height:{get:function(){return a},set:function(e){a=e}},clipEdge:{get:function(){return v},set:function(e){v=e}},offset:{get:function(){return m},set:function(e){m=e}},order:{get:function(){return p},set:function(e){p=e}},interpolate:{get:function(){return g},set:function(e){g=e}},x:{get:function(){return u},set:function(e){u=d3.functor(e)}},y:{get:function(){return d},set:function(e){d=d3.functor(e)}},margin:{get:function(){return i},set:function(e){i.top=void 0!==e.top?e.top:i.top,i.right=void 0!==e.right?e.right:i.right,i.bottom=void 0!==e.bottom?e.bottom:i.bottom,i.left=void 0!==e.left?e.left:i.left}},color:{get:function(){return l},set:function(e){l=t.utils.getColor(e)}},style:{get:function(){return f},set:function(t){switch(f=t){case"stack":e.offset("zero"),e.order("default");break;case"stream":e.offset("wiggle"),e.order("inside-out");break;case"stream-center":e.offset("silhouette"),e.order("inside-out");break;case"expand":e.offset("expand"),e.order("default");break;case"stack_percent":e.offset(e.d3_stackedOffset_stackPercent),e.order("default")}}},duration:{get:function(){return b},set:function(e){b=e,E.reset(b),h.duration(b)}}}),t.utils.inheritOptions(e,h),t.utils.initOptions(e),e},t.models.stackedAreaChart=function(){"use strict";function e(u){return O.reset(),O.models(i),h&&O.models(o),b&&O.models(a),u.each((function(u){var w=d3.select(this),O=this;t.utils.initSVG(w);var P,k=t.utils.availableWidth(f,w,d),G=t.utils.availableHeight(m,w,d);if(e.update=function(){w.transition().duration(x).call(e)},e.container=this,S.setter(N(u),e.update).getter(R(u)).update(),S.disabled=u.map((function(e){return!!e.disabled})),!_)for(P in _={},S)S[P]instanceof Array?_[P]=S[P].slice(0):_[P]=S[P];if(!(u&&u.length&&u.filter((function(e){return e.values.length})).length))return t.utils.noData(e,w),e;w.selectAll(".nv-noData").remove(),n=i.xScale(),r=i.yScale();var F=w.selectAll("g.nv-wrap.nv-stackedAreaChart").data([u]),U=F.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),V=F.select("g");if(U.append("rect").style("opacity",0),U.append("g").attr("class","nv-x nv-axis"),U.append("g").attr("class","nv-y nv-axis"),U.append("g").attr("class","nv-stackedWrap"),U.append("g").attr("class","nv-legendWrap"),U.append("g").attr("class","nv-controlsWrap"),U.append("g").attr("class","nv-interactive"),V.select("rect").attr("width",k).attr("height",G),v){var z=g?k-T:k;l.width(z),V.select(".nv-legendWrap").datum(u).call(l),d.top!=l.height()&&(d.top=l.height(),G=t.utils.availableHeight(m,w,d)),V.select(".nv-legendWrap").attr("transform","translate("+(k-z)+","+-d.top+")")}if(g){var B=[{key:C.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=i.style(),style:"stack"},{key:C.stream||"Stream",metaKey:"Stream",disabled:"stream"!=i.style(),style:"stream"},{key:C.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=i.style(),style:"expand"},{key:C.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=i.style(),style:"stack_percent"}];T=I.length/3*260,B=B.filter((function(e){return-1!==I.indexOf(e.metaKey)})),s.width(T).color(["#444","#444","#444"]),V.select(".nv-controlsWrap").datum(B).call(s),d.top!=Math.max(s.height(),l.height())&&(d.top=Math.max(s.height(),l.height()),G=t.utils.availableHeight(m,w,d)),V.select(".nv-controlsWrap").attr("transform","translate(0,"+-d.top+")")}if(F.attr("transform","translate("+d.left+","+d.top+")"),y&&V.select(".nv-y.nv-axis").attr("transform","translate("+k+",0)"),E&&(c.width(k).height(G).margin({left:d.left,top:d.top}).svgContainer(w).xScale(n),F.select(".nv-interactive").call(c)),i.width(k).height(G),V.select(".nv-stackedWrap").datum(u).transition().call(i),h&&(o.scale(n)._ticks(t.utils.calcTicksX(k/100,u)).tickSize(-G,0),V.select(".nv-x.nv-axis").attr("transform","translate(0,"+G+")"),V.select(".nv-x.nv-axis").transition().duration(0).call(o)),b){var $;if($="wiggle"===i.offset()?0:t.utils.calcTicksY(G/36,u),a.scale(r)._ticks($).tickSize(-k,0),"expand"===i.style()||"stack_percent"===i.style()){var W=a.tickFormat();D&&W===L||(D=W),a.tickFormat(L)}else D&&(a.tickFormat(D),D=null);V.select(".nv-y.nv-axis").transition().duration(0).call(a)}i.dispatch.on("areaClick.toggle",(function(t){1===u.filter((function(e){return!e.disabled})).length?u.forEach((function(e){e.disabled=!1})):u.forEach((function(e,n){e.disabled=n!=t.seriesIndex})),S.disabled=u.map((function(e){return!!e.disabled})),A.stateChange(S),e.update()})),l.dispatch.on("stateChange",(function(t){for(var n in t)S[n]=t[n];A.stateChange(S),e.update()})),s.dispatch.on("legendClick",(function(t,n){t.disabled&&(B=B.map((function(e){return e.disabled=!0,e})),t.disabled=!1,i.style(t.style),S.style=i.style(),A.stateChange(S),e.update())})),c.dispatch.on("elementMousemove",(function(n){i.clearHighlights();var r,a,l,s=[];if(u.filter((function(e,t){return e.seriesIndex=t,!e.disabled})).forEach((function(o,c){a=t.interactiveBisect(o.values,n.pointXValue,e.x());var u=o.values[a];if(null!=e.y()(u,a)&&i.highlightPoint(c,a,!0),void 0!==u){void 0===r&&(r=u),void 0===l&&(l=e.xScale()(e.x()(u,a)));var d="expand"==i.style()?u.display.y:e.y()(u,a);s.push({key:o.key,value:d,color:p(o,o.seriesIndex),stackedValue:u.display})}})),s.reverse(),s.length>2){var f=e.yScale().invert(n.mouseY),m=null;s.forEach((function(e,t){f=Math.abs(f);var n=Math.abs(e.stackedValue.y0),r=Math.abs(e.stackedValue.y);f>=n&&f<=r+n&&(m=t)})),null!=m&&(s[m].highlight=!0)}var g=o.tickFormat()(e.x()(r,a)),v=c.tooltip.valueFormatter();"expand"===i.style()||"stack_percent"===i.style()?(M||(M=v),v=d3.format(".1%")):M&&(v=M,M=null),c.tooltip.position({left:l+d.left,top:n.mouseY+d.top}).chartContainer(O.parentNode).valueFormatter(v).data({value:g,series:s})(),c.renderGuideLine(l)})),c.dispatch.on("elementMouseout",(function(e){i.clearHighlights()})),A.on("changeState",(function(t){void 0!==t.disabled&&u.length===t.disabled.length&&(u.forEach((function(e,n){e.disabled=t.disabled[n]})),S.disabled=t.disabled),void 0!==t.style&&(i.style(t.style),t.style),e.update()}))})),O.renderEnd("stacked Area chart immediate"),e}var n,r,i=t.models.stackedArea(),o=t.models.axis(),a=t.models.axis(),l=t.models.legend(),s=t.models.legend(),c=t.interactiveGuideline(),u=t.models.tooltip(),d={top:30,right:25,bottom:50,left:60},f=null,m=null,p=t.utils.defaultColor(),g=!0,v=!0,h=!0,b=!0,y=!1,E=!1,S=t.utils.state(),_=null,w=null,A=d3.dispatch("stateChange","changeState","renderEnd"),T=250,I=["Stacked","Stream","Expanded"],C={},x=250;S.style=i.style(),o.orient("bottom").tickPadding(7),a.orient(y?"right":"left"),u.headerFormatter((function(e,t){return o.tickFormat()(e,t)})).valueFormatter((function(e,t){return a.tickFormat()(e,t)})),c.tooltip.headerFormatter((function(e,t){return o.tickFormat()(e,t)})).valueFormatter((function(e,t){return a.tickFormat()(e,t)}));var D=null,M=null;s.updateState(!1);var O=t.utils.renderWatch(A),R=(i.style(),function(e){return function(){return{active:e.map((function(e){return!e.disabled})),style:i.style()}}}),N=function(e){return function(t){void 0!==t.style&&t.style,void 0!==t.active&&e.forEach((function(e,n){e.disabled=!t.active[n]}))}},L=d3.format("%");return i.dispatch.on("elementMouseover.tooltip",(function(e){e.point.x=i.x()(e.point),e.point.y=i.y()(e.point),u.data(e).position(e.pos).hidden(!1)})),i.dispatch.on("elementMouseout.tooltip",(function(e){u.hidden(!0)})),e.dispatch=A,e.stacked=i,e.legend=l,e.controls=s,e.xAxis=o,e.yAxis=a,e.interactiveLayer=c,e.tooltip=u,e.dispatch=A,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return f},set:function(e){f=e}},height:{get:function(){return m},set:function(e){m=e}},showLegend:{get:function(){return v},set:function(e){v=e}},showXAxis:{get:function(){return h},set:function(e){h=e}},showYAxis:{get:function(){return b},set:function(e){b=e}},defaultState:{get:function(){return _},set:function(e){_=e}},noData:{get:function(){return w},set:function(e){w=e}},showControls:{get:function(){return g},set:function(e){g=e}},controlLabels:{get:function(){return C},set:function(e){C=e}},controlOptions:{get:function(){return I},set:function(e){I=e}},tooltips:{get:function(){return u.enabled()},set:function(e){t.deprecated("tooltips","use chart.tooltip.enabled() instead"),u.enabled(!!e)}},tooltipContent:{get:function(){return u.contentGenerator()},set:function(e){t.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),u.contentGenerator(e)}},margin:{get:function(){return d},set:function(e){d.top=void 0!==e.top?e.top:d.top,d.right=void 0!==e.right?e.right:d.right,d.bottom=void 0!==e.bottom?e.bottom:d.bottom,d.left=void 0!==e.left?e.left:d.left}},duration:{get:function(){return x},set:function(e){x=e,O.reset(x),i.duration(x),o.duration(x),a.duration(x)}},color:{get:function(){return p},set:function(e){p=t.utils.getColor(e),l.color(p),i.color(p)}},rightAlignYAxis:{get:function(){return y},set:function(e){y=e,a.orient(y?"right":"left")}},useInteractiveGuideline:{get:function(){return E},set:function(t){E=!!t,e.interactive(!t),e.useVoronoi(!t),i.scatter.interactive(!t)}}}),t.utils.inheritOptions(e,i),t.utils.initOptions(e),e},t.models.sunburst=function(){"use strict";function e(E){return y.reset(),E.each((function(e){function y(e){e.x0=e.x,e.dx0=e.dx}function E(e){var t=d3.interpolate(g.domain(),[e.x,e.x+e.dx]),n=d3.interpolate(v.domain(),[e.y,1]),r=d3.interpolate(v.range(),[e.y?20:0,A]);return function(e,i){return i?function(t){return b(e)}:function(i){return g.domain(t(i)),v.domain(n(i)).range(r(i)),b(e)}}}d=d3.select(this);var S,_=t.utils.availableWidth(a,d,o),w=t.utils.availableHeight(l,d,o),A=Math.min(_,w)/2;t.utils.initSVG(d);var T=d.selectAll(".nv-wrap.nv-sunburst").data(e),I=T.enter().append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+u).selectAll("nv-sunburst");T.attr("transform","translate("+_/2+","+w/2+")"),d.on("click",(function(e,t){p.chartClick({data:e,index:t,pos:d3.event,id:u})})),v.range([0,A]),n=n||e,i=e[0],h.value(c[s]||c.count),S=I.data(h.nodes).enter().append("path").attr("d",b).style("fill",(function(e){return f((e.children?e:e.parent).name)})).style("stroke","#FFF").on("click",(function(e){r!==n&&n!==e&&(r=n),n=e,S.transition().duration(m).attrTween("d",E(e))})).each(y).on("dblclick",(function(e){r.parent==e&&S.transition().duration(m).attrTween("d",E(i))})).each(y).on("mouseover",(function(e,t){d3.select(this).classed("hover",!0).style("opacity",.8),p.elementMouseover({data:e,color:d3.select(this).style("fill")})})).on("mouseout",(function(e,t){d3.select(this).classed("hover",!1).style("opacity",1),p.elementMouseout({data:e})})).on("mousemove",(function(e,t){p.elementMousemove({data:e})}))})),y.renderEnd("sunburst immediate"),e}var n,r,i,o={top:0,right:0,bottom:0,left:0},a=null,l=null,s="count",c={count:function(e){return 1},size:function(e){return e.size}},u=Math.floor(1e4*Math.random()),d=null,f=t.utils.defaultColor(),m=500,p=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),g=d3.scale.linear().range([0,2*Math.PI]),v=d3.scale.sqrt(),h=d3.layout.partition().sort(null).value((function(e){return 1})),b=d3.svg.arc().startAngle((function(e){return Math.max(0,Math.min(2*Math.PI,g(e.x)))})).endAngle((function(e){return Math.max(0,Math.min(2*Math.PI,g(e.x+e.dx)))})).innerRadius((function(e){return Math.max(0,v(e.y))})).outerRadius((function(e){return Math.max(0,v(e.y+e.dy))})),y=t.utils.renderWatch(p);return e.dispatch=p,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return a},set:function(e){a=e}},height:{get:function(){return l},set:function(e){l=e}},mode:{get:function(){return s},set:function(e){s=e}},id:{get:function(){return u},set:function(e){u=e}},duration:{get:function(){return m},set:function(e){m=e}},margin:{get:function(){return o},set:function(e){o.top=null!=e.top?e.top:o.top,o.right=null!=e.right?e.right:o.right,o.bottom=null!=e.bottom?e.bottom:o.bottom,o.left=null!=e.left?e.left:o.left}},color:{get:function(){return f},set:function(e){f=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.sunburstChart=function(){"use strict";function e(r){return f.reset(),f.models(n),r.each((function(r){var l=d3.select(this);t.utils.initSVG(l);var s=t.utils.availableWidth(o,l,i),c=t.utils.availableHeight(a,l,i);if(e.update=function(){0===u?l.call(e):l.transition().duration(u).call(e)},e.container=this,!r||!r.length)return t.utils.noData(e,l),e;l.selectAll(".nv-noData").remove();var d=l.selectAll("g.nv-wrap.nv-sunburstChart").data(r),f=d.enter().append("g").attr("class","nvd3 nv-wrap nv-sunburstChart").append("g"),m=d.select("g");f.append("g").attr("class","nv-sunburstWrap"),d.attr("transform","translate("+i.left+","+i.top+")"),n.width(s).height(c);var p=m.select(".nv-sunburstWrap").datum(r);d3.transition(p).call(n)})),f.renderEnd("sunburstChart immediate"),e}var n=t.models.sunburst(),r=t.models.tooltip(),i={top:30,right:20,bottom:20,left:20},o=null,a=null,l=t.utils.defaultColor(),s=(Math.round(1e5*Math.random()),null),c=null,u=250,d=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),f=t.utils.renderWatch(d);return r.headerEnabled(!1).duration(0).valueFormatter((function(e,t){return e})),n.dispatch.on("elementMouseover.tooltip",(function(e){e.series={key:e.data.name,value:e.data.size,color:e.color},r.data(e).hidden(!1)})),n.dispatch.on("elementMouseout.tooltip",(function(e){r.hidden(!0)})),n.dispatch.on("elementMousemove.tooltip",(function(e){r.position({top:d3.event.pageY,left:d3.event.pageX})()})),e.dispatch=d,e.sunburst=n,e.tooltip=r,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{noData:{get:function(){return c},set:function(e){c=e}},defaultState:{get:function(){return s},set:function(e){s=e}},color:{get:function(){return l},set:function(e){l=e,n.color(l)}},duration:{get:function(){return u},set:function(e){u=e,f.reset(u),n.duration(u)}},margin:{get:function(){return i},set:function(e){i.top=void 0!==e.top?e.top:i.top,i.right=void 0!==e.right?e.right:i.right,i.bottom=void 0!==e.bottom?e.bottom:i.bottom,i.left=void 0!==e.left?e.left:i.left}}}),t.utils.inheritOptions(e,n),t.utils.initOptions(e),e},t.version="1.8.1"}()},function(e,t,n){var r=n(685);"string"==typeof r&&(r=[[e.id,r,""]]),n(7)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(686);"string"==typeof r&&(r=[[e.id,r,""]]),n(7)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(687);"string"==typeof r&&(r=[[e.id,r,""]]),n(7)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(688);"string"==typeof r&&(r=[[e.id,r,""]]),n(7)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(689);"string"==typeof r&&(r=[[e.id,r,""]]),n(7)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(690);"string"==typeof r&&(r=[[e.id,r,""]]),n(7)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(691);"string"==typeof r&&(r=[[e.id,r,""]]),n(7)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(692);"string"==typeof r&&(r=[[e.id,r,""]]),n(7)(r,{}),r.locals&&(e.exports=r.locals)},,,,function(e,t,n){var r=n(697);"string"==typeof r&&(r=[[e.id,r,""]]),n(7)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(698);"string"==typeof r&&(r=[[e.id,r,""]]),n(7)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(699);"string"==typeof r&&(r=[[e.id,r,""]]),n(7)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(700);"string"==typeof r&&(r=[[e.id,r,""]]),n(7)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(701);"string"==typeof r&&(r=[[e.id,r,""]]),n(7)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(702);"string"==typeof r&&(r=[[e.id,r,""]]),n(7)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(703);"string"==typeof r&&(r=[[e.id,r,""]]),n(7)(r,{}),r.locals&&(e.exports=r.locals)},function(module,exports,__webpack_require__){var _=__webpack_require__(322);module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='\x3c!-- Copyright (c) 2015-2016, NVIDIA CORPORATION.  All rights reserved.\r\n\r\n * NVIDIA CORPORATION and its licensors retain all intellectual property\r\n * and proprietary rights in and to this software, related documentation\r\n * and any modifications thereto.  Any use, reproduction, disclosure or\r\n * distribution of this software and related documentation without an express\r\n * license agreement from NVIDIA CORPORATION is strictly prohibited.\r\n--\x3e\r\n\r\n<h3 class="nv-annotation-title font-size-sm md-accent foreground"><span>'+(null==(__t=title)?"":__t)+'</span></h3>\r\n<p class="nv-annotation-description font-size-xxs">'+(null==(__t=description)?"":__t)+"</p>";return __p}},function(e,t,n){e.exports=n(2)(210)},function(e,t,n){e.exports=n(2)(224)},function(e,t,n){e.exports=n(2)(229)},function(e,t,n){e.exports=n(2)(234)},function(e,t,n){e.exports=n(2)(267)},function(e,t,n){e.exports=n(2)(292)},function(e,t,n){e.exports=n(2)(336)},function(e,t,n){e.exports=n(2)(371)},function(e,t,n){e.exports=n(2)(376)},function(e,t,n){e.exports=n(2)(388)},function(e,t,n){e.exports=n(2)(391)},function(e,t,n){e.exports=n(2)(394)},function(e,t,n){e.exports=n(2)(397)},function(e,t,n){e.exports=n(2)(399)},function(e,t,n){e.exports=n(2)(419)}]);